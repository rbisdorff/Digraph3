

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta content="Documentation of the Digraph3 collection of python3 modules for algorithmic decision theory" name="description" />
<meta content="Algorithmic Decision Theory, Outranking Digraphs, MIS and kernels, Multiple Criteria Decision Aid, Bipolar-valued Epistemic Logic" name="keywords" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>1. Digraph3 Tutorials &mdash; Digraph3 3.14.2 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=4ae1632d" />
      <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=7774bffa"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="_static/copybutton.js?v=15d7cbb8"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="2. Technical Reference of the Digraph3 modules" href="techDoc.html" />
    <link rel="prev" title="Python resources for Algorithmic Decision Theory" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Digraph3
              <img src="_static/htmlLogo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">1. Digraph3 Tutorials</a><ul>
<li><a class="reference internal" href="#contents">1.1. Contents</a></li>
<li class="toctree-l2"><a class="reference internal" href="#working-with-digraphs-and-outranking-digraphs">1.2. Working with digraphs and outranking digraphs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#working-with-the-digraph3-software-resources">1.2.1. Working with the <em>Digraph3</em> software resources</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#purpose">1.2.1.1. Purpose</a></li>
<li class="toctree-l4"><a class="reference internal" href="#downloading-of-the-digraph3-resources">1.2.1.2. Downloading of the Digraph3 resources</a></li>
<li class="toctree-l4"><a class="reference internal" href="#starting-a-python3-terminal-session">1.2.1.3. Starting a Python3 terminal session</a></li>
<li class="toctree-l4"><a class="reference internal" href="#digraph-object-structure">1.2.1.4. <em>Digraph</em> object structure</a></li>
<li class="toctree-l4"><a class="reference internal" href="#permanent-storage">1.2.1.5. Permanent storage</a></li>
<li class="toctree-l4"><a class="reference internal" href="#inspecting-a-digraph-object">1.2.1.6. Inspecting a <em>Digraph</em> object</a></li>
<li class="toctree-l4"><a class="reference internal" href="#special-digraph-instances">1.2.1.7. Special <em>Digraph</em> instances</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#working-with-the-digraphs-module">1.2.2. Working with the <code class="xref py py-mod docutils literal notranslate"><span class="pre">digraphs</span></code> module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#random-digraphs">1.2.2.1. Random digraphs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#graphviz-drawings">1.2.2.2. Graphviz drawings</a></li>
<li class="toctree-l4"><a class="reference internal" href="#asymmetrical-and-symmetrical-parts">1.2.2.3. Asymmetrical and symmetrical parts</a></li>
<li class="toctree-l4"><a class="reference internal" href="#border-and-inner-parts">1.2.2.4. Border and inner parts</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fusion-by-epistemic-disjunction">1.2.2.5. Fusion by epistemic disjunction</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dual-converse-and-codual-digraphs">1.2.2.6. Dual, converse and codual digraphs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#symmetric-and-transitive-closures">1.2.2.7. Symmetric and transitive closures</a></li>
<li class="toctree-l4"><a class="reference internal" href="#strong-components">1.2.2.8. Strong components</a></li>
<li class="toctree-l4"><a class="reference internal" href="#csv-storage">1.2.2.9. CSV storage</a></li>
<li class="toctree-l4"><a class="reference internal" href="#complete-empty-and-indeterminate-digraphs">1.2.2.10. Complete, empty and indeterminate digraphs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#historical-notes">1.2.2.11. Historical notes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#working-with-the-outrankingdigraphs-module">1.2.3. Working with the <code class="xref py py-mod docutils literal notranslate"><span class="pre">outrankingDigraphs</span></code> module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#outranking-digraph-model">1.2.3.1. Outranking digraph model</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-bipolar-valued-outranking-digraph">1.2.3.2. The bipolar-valued outranking digraph</a></li>
<li class="toctree-l4"><a class="reference internal" href="#pairwise-comparisons">1.2.3.3. Pairwise comparisons</a></li>
<li class="toctree-l4"><a class="reference internal" href="#recoding-the-digraph-valuation">1.2.3.4. Recoding the digraph valuation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-strict-outranking-digraph">1.2.3.5. The strict outranking digraph</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id24">1.2.3.6. Historical Notes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#evaluation-and-decision-methods-and-tools">1.3. Evaluation and decision methods and tools</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#computing-a-best-choice-recommendation">1.3.1. Computing a best choice recommendation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#what-office-location-to-choose">1.3.1.1. What office location to choose ?</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-performance-tableau">1.3.1.2. The performance tableau</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-outranking-digraph">1.3.1.3. The outranking digraph</a></li>
<li class="toctree-l4"><a class="reference internal" href="#designing-a-best-choice-recommender-system">1.3.1.4. Designing a best choice recommender system</a></li>
<li class="toctree-l4"><a class="reference internal" href="#computing-the-first-choice-recommendation">1.3.1.5. Computing the first choice recommendation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#partially-ranking-the-outranking-digraph">1.3.1.6. Partially ranking the outranking digraph</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id48">1.3.1.7. Historical Notes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#how-to-create-a-new-performance-tableau-instance">1.3.2. How to create a new performance tableau instance</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#editing-a-template-file">1.3.2.1. Editing a template file</a></li>
<li class="toctree-l4"><a class="reference internal" href="#editing-the-decision-alternatives">1.3.2.2. Editing the decision alternatives</a></li>
<li class="toctree-l4"><a class="reference internal" href="#editing-the-decision-objectives">1.3.2.3. Editing the decision objectives</a></li>
<li class="toctree-l4"><a class="reference internal" href="#editing-the-family-of-performance-criteria">1.3.2.4. Editing the family of performance criteria</a></li>
<li class="toctree-l4"><a class="reference internal" href="#editing-the-performance-table">1.3.2.5. Editing the performance table</a></li>
<li class="toctree-l4"><a class="reference internal" href="#inspecting-the-template-outranking-relation">1.3.2.6. Inspecting the template outranking relation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ranking-the-template-peformance-tableau">1.3.2.7. Ranking the template peformance tableau</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#generating-random-performance-tableaux-with-the-randperftabs-module">1.3.3. Generating random performance tableaux with the <code class="xref py py-mod docutils literal notranslate"><span class="pre">randPerfTabs</span></code> module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#introduction">1.3.3.1. Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="#random-standard-performance-tableaux">1.3.3.2. Random standard performance tableaux</a></li>
<li class="toctree-l4"><a class="reference internal" href="#random-cost-benefit-performance-tableaux">1.3.3.3. Random Cost-Benefit performance tableaux</a></li>
<li class="toctree-l4"><a class="reference internal" href="#random-three-objectives-performance-tableaux">1.3.3.4. Random three objectives performance tableaux</a></li>
<li class="toctree-l4"><a class="reference internal" href="#random-academic-performance-tableaux">1.3.3.5. Random academic performance tableaux</a></li>
<li class="toctree-l4"><a class="reference internal" href="#random-linearly-ranked-performance-tableaux">1.3.3.6. Random linearly ranked performance tableaux</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#lineraly-ranking-with-multiple-incommensurable-criteria">1.3.4. Lineraly ranking with multiple incommensurable criteria</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#the-ranking-problem">1.3.4.1. The ranking problem</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-copeland-ranking">1.3.4.2. The <em>Copeland</em> ranking</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-polarised-bachet-ranking">1.3.4.3. The polarised <em>Bachet</em> ranking</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-netflows-ranking">1.3.4.4. The <em>NetFlows</em> ranking</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-valued-bachet-ranking">1.3.4.5. The valued <em>Bachet</em> ranking</a></li>
<li class="toctree-l4"><a class="reference internal" href="#optimal-kemeny-rankings">1.3.4.6. Optimal <em>Kemeny</em> rankings</a></li>
<li class="toctree-l4"><a class="reference internal" href="#optimal-slater-rankings">1.3.4.7. Optimal <em>Slater</em> rankings</a></li>
<li class="toctree-l4"><a class="reference internal" href="#kohler-s-ranking-by-choosing-rule">1.3.4.8. <em>Kohler</em>’s ranking-by-choosing rule</a></li>
<li class="toctree-l4"><a class="reference internal" href="#tideman-s-ranked-pairs-rule">1.3.4.9. <em>Tideman</em>’s ranked-pairs rule</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#on-partially-ranking-outranking-digraphs">1.3.5. On partially ranking outranking digraphs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#computing-a-ranking-consensus-from-several-linear-rankings">1.3.5.1. Computing a ranking consensus from several linear rankings</a></li>
<li class="toctree-l4"><a class="reference internal" href="#on-partially-ranking-with-the-bachet-rules">1.3.5.2. On partially ranking with the <em>Bachet</em> rules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#consensus-quality-of-the-partial-bachet-rankings">1.3.5.3. Consensus quality of the partial Bachet rankings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#rating-into-relative-performance-quantiles">1.3.6. Rating into relative performance quantiles</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#performance-quantile-sorting-on-a-single-criterion">1.3.6.1. Performance quantile sorting on a single criterion</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rating-by-sorting-into-relative-multicriteria-performance-quantiles">1.3.6.2. Rating-by-sorting into relative multicriteria performance quantiles</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rating-by-ranking-with-relative-quantile-limits">1.3.6.3. Rating-by-ranking with relative quantile limits</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#rating-with-learned-performance-quantile-norms">1.3.7. Rating with learned performance quantile norms</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id76">1.3.7.1. Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="#incremental-learning-of-historical-performance-quantiles">1.3.7.2. Incremental learning of historical performance quantiles</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rating-by-ranking-new-performances-with-quantile-norms">1.3.7.3. Rating-by-ranking new performances with quantile norms</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#computing-the-winner-of-an-election-with-the-votingprofiles-module">1.3.8. Computing the winner of an election with the <code class="xref py py-mod docutils literal notranslate"><span class="pre">votingProfiles</span></code> module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#linear-voting-profiles">1.3.8.1. Linear voting profiles</a></li>
<li class="toctree-l4"><a class="reference internal" href="#computing-the-winner">1.3.8.2. Computing the winner</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-condorcet-winner">1.3.8.3. The <em>Condorcet</em> winner</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cyclic-social-preferences">1.3.8.4. Cyclic social preferences</a></li>
<li class="toctree-l4"><a class="reference internal" href="#on-generating-realistic-random-linear-voting-profiles">1.3.8.5. On generating realistic random linear voting profiles</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#on-computing-fair-intergroup-pairings">1.3.9. On computing fair intergroup pairings</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#the-fair-intergroup-pairing-problem">1.3.9.1. The fair intergroup pairing problem</a></li>
<li class="toctree-l4"><a class="reference internal" href="#generating-the-set-of-potential-maximal-matchings">1.3.9.2. Generating the set of potential maximal matchings</a></li>
<li class="toctree-l4"><a class="reference internal" href="#measuring-the-fitness-of-a-matching-from-a-personal-perspective">1.3.9.3. Measuring the fitness of a matching from a personal perspective</a></li>
<li class="toctree-l4"><a class="reference internal" href="#computing-the-fairest-intergroup-pairing">1.3.9.4. Computing the fairest intergroup pairing</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fair-versus-stable-pairings">1.3.9.5. Fair versus stable pairings</a></li>
<li class="toctree-l4"><a class="reference internal" href="#relaxing-the-requirement-for-complete-linear-voting-profiles">1.3.9.6. Relaxing the requirement for complete linear voting profiles</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-copeland-scores-for-guiding-the-fairness-enhancement">1.3.9.7. Using Copeland scores for guiding the fairness enhancement</a></li>
<li class="toctree-l4"><a class="reference internal" href="#starting-the-fairness-enhancement-from-a-best-determined-copeland-matching">1.3.9.8. Starting the fairness enhancement from a best determined Copeland matching</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#on-computing-fair-intragroup-pairings">1.3.10. On computing fair intragroup pairings</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#the-fair-intragroup-pairing-problem">1.3.10.1. The fair intragroup pairing problem</a></li>
<li class="toctree-l4"><a class="reference internal" href="#generating-random-intragroup-bipolar-approval-voting-profiles">1.3.10.2. Generating random intragroup bipolar approval voting profiles</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-set-of-potential-intragroup-pairing-decisions">1.3.10.3. The set of potential ìntragroup pairing decisions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#computing-the-fairest-intragroup-pairing">1.3.10.4. Computing the fairest intragroup pairing</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fairness-enhancing-of-a-given-pairing-decision">1.3.10.5. Fairness enhancing of a given pairing decision</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#evaluation-and-decision-case-studies">1.4. Evaluation and decision case studies</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#alice-s-best-choice-a-selection-case-study-19">1.4.1. Alice’s best choice: A <em>selection</em> case study </a><ul>
<li class="toctree-l4"><a class="reference internal" href="#the-decision-problem">1.4.1.1. The decision problem</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id109">1.4.1.2. The performance tableau</a></li>
<li class="toctree-l4"><a class="reference internal" href="#building-a-best-choice-recommendation">1.4.1.3. Building a best choice recommendation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#robustness-analysis">1.4.1.4. Robustness analysis</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#the-best-academic-computer-science-depts-a-ranking-case-study">1.4.2. The best academic <em>Computer Science</em> Depts: a <em>ranking</em> case study</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#the-the-performance-tableau">1.4.2.1. The THE performance tableau</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ranking-with-multiple-incommensurable-criteria-of-ordinal-significance">1.4.2.2. Ranking with multiple incommensurable criteria of ordinal significance</a></li>
<li class="toctree-l4"><a class="reference internal" href="#how-to-judge-the-quality-of-a-ranking-result">1.4.2.3. How to judge the quality of a ranking result?</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#the-best-students-where-do-they-study-a-rating-case-study">1.4.3. The best students, where do they study? A <em>rating</em> case study</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id136">1.4.3.1. The performance tableau</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rating-by-ranking-with-lower-closed-quantile-limits">1.4.3.2. Rating-by-ranking with lower-closed quantile limits</a></li>
<li class="toctree-l4"><a class="reference internal" href="#inspecting-the-bipolar-valued-outranking-digraph">1.4.3.3. Inspecting the bipolar-valued outranking digraph</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rating-by-quantiles-sorting">1.4.3.4. Rating by quantiles sorting</a></li>
<li class="toctree-l4"><a class="reference internal" href="#to-conclude">1.4.3.5. To conclude</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#classmates-matching-an-intragroup-pairing-case-study">1.4.4. Classmates matching: An <em>intragroup pairing</em> case study</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#a-classmates-matching-problem">1.4.4.1. A classmates matching problem</a></li>
<li class="toctree-l4"><a class="reference internal" href="#computing-a-fair-pairing-solution">1.4.4.2. Computing a fair pairing solution</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-a-fairness-enhancing-solver">1.4.4.3. Using a fairness enhancing solver</a></li>
<li class="toctree-l4"><a class="reference internal" href="#guiding-the-choice-of-the-initial-matching">1.4.4.4. Guiding the choice of the initial matching</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#fairest-internship-matching-an-intergroup-pairing-case-study">1.4.5. Fairest internship matching: An <em>intergroup pairing</em> case study</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#a-graduate-internship-matching-problem">1.4.5.1. A graduate internship matching problem</a></li>
<li class="toctree-l4"><a class="reference internal" href="#computing-a-fair-matching">1.4.5.2. Computing a fair matching</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-a-fairness-enhancing-heuristic">1.4.5.3. Using a fairness enhancing heuristic</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-bipolar-approval-disapproval-voting-profiles">1.4.5.4. Using bipolar approval-disapproval voting profiles</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#exercises">1.4.6. Exercises</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#who-will-receive-the-best-student-award">1.4.6.1. Who will receive the best student award? (§)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#how-to-fairly-rank-movies">1.4.6.2. How to fairly rank movies (§)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#what-is-your-best-choice-recommendation">1.4.6.3. What is your best choice recommendation? (§)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#what-is-the-best-public-policy">1.4.6.4. What is the best public policy? (§§)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#a-fair-diploma-validation-decision">1.4.6.5. A fair diploma validation decision (§§§)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#working-with-big-outranking-digraphs">1.5. Working with big outranking digraphs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sparse-bipolar-valued-outranking-digraphs">1.5.1. Sparse bipolar-valued outranking digraphs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#the-sparse-pre-ranked-outranking-digraph-model">1.5.1.1. The sparse pre-ranked outranking digraph model</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ranking-pre-ranked-sparse-outranking-digraphs">1.5.1.2. Ranking pre-ranked sparse outranking digraphs</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#using-digraph3-multiprocessing-resources">1.5.2. Using Digraph3 multiprocessing resources</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#computing-with-multiple-threads-in-parallel">1.5.2.1. Computing with multiple threads in parallel</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-the-mpoutrankingdigraphs-module">1.5.2.2. Using the mpOutrankingDigraphs module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#setting-the-threading-parameters">1.5.2.3. Setting the Threading parameters</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#on-ranking-big-outranking-digraphs">1.5.3. On ranking big outranking digraphs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#c-compiled-python-modules">1.5.3.1. C-compiled Python modules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#big-data-performance-tableaux">1.5.3.2. Big Data performance tableaux</a></li>
<li class="toctree-l4"><a class="reference internal" href="#c-implemented-integer-valued-outranking-digraphs">1.5.3.3. C-implemented integer-valued outranking digraphs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-sparse-outranking-digraph-implementation">1.5.3.4. The sparse outranking digraph implementation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ranking-big-sets-of-decision-alternatives">1.5.3.5. Ranking big sets of decision alternatives</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#hpc-ranking-of-big-sparse-outranking-digraphs">1.6. HPC-Ranking of Big Sparse Outranking Digraphs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#on-a-common-2023-desktop-computer">1.6.1. On a common 2023 desktop computer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#on-the-hpc-platform-of-the-university-of-luxembourg-spring-2018">1.6.2. On the HPC platform of the University of Luxembourg (Spring 2018)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#on-the-meluxina-eurohpc-supercomputer-summer-2024-54">1.6.3. On the MeluXina EuroHPC supercomputer (Summer 2024) </a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#moving-on-to-undirected-graphs">1.7. Moving on to undirected graphs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#working-with-the-graphs-module">1.7.1. Working with the <code class="xref py py-mod docutils literal notranslate"><span class="pre">graphs</span></code> module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#structure-of-a-graph-object">1.7.1.1. Structure of a <code class="xref py py-class docutils literal notranslate"><span class="pre">Graph</span></code> object</a></li>
<li class="toctree-l4"><a class="reference internal" href="#q-coloring-of-a-graph">1.7.1.2. q-coloring of a graph</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mis-and-clique-enumeration">1.7.1.3. MIS and clique enumeration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#line-graphs-and-maximal-matchings">1.7.1.4. Line graphs and maximal matchings</a></li>
<li class="toctree-l4"><a class="reference internal" href="#grids-and-the-ising-model">1.7.1.5. Grids and the Ising model</a></li>
<li class="toctree-l4"><a class="reference internal" href="#simulating-metropolis-random-walks">1.7.1.6. Simulating Metropolis random walks</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#computing-the-non-isomorphic-miss-of-the-12-cycle-graph">1.7.2. Computing the non isomorphic MISs of the 12-cycle graph</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id181">1.7.2.1. Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="#computing-the-maximal-independent-sets-miss">1.7.2.2. Computing the maximal independent sets (MISs)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#computing-the-automorphism-group">1.7.2.3. Computing the automorphism group</a></li>
<li class="toctree-l4"><a class="reference internal" href="#computing-the-isomorphic-miss">1.7.2.4. Computing the isomorphic MISs</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#about-comparability-split-interval-and-permutation-graphs">1.7.3. About comparability, split, interval and permutation graphs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#a-multiply-perfect-graph">1.7.3.1. A multiply <em>perfect</em> graph</a></li>
<li class="toctree-l4"><a class="reference internal" href="#who-is-the-liar">1.7.3.2. Who is the liar ?</a></li>
<li class="toctree-l4"><a class="reference internal" href="#generating-permutation-graphs">1.7.3.3. Generating permutation graphs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#recognizing-permutation-graphs">1.7.3.4. Recognizing permutation graphs</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#on-tree-graphs-and-graph-forests">1.7.4. On tree graphs and graph forests</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#generating-random-tree-graphs">1.7.4.1. Generating random tree graphs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#recognizing-tree-graphs">1.7.4.2. Recognizing tree graphs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#spanning-trees-and-forests">1.7.4.3. Spanning trees and forests</a></li>
<li class="toctree-l4"><a class="reference internal" href="#maximum-determined-spanning-forests">1.7.4.4. Maximum determined spanning forests</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#appendices">1.8. Appendices</a><ul>
<li><a class="reference internal" href="#bibliography">1.8.1. Bibliography</a></li>
<li><a class="reference internal" href="#endnotes">1.8.2. Endnotes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="techDoc.html">2. Technical Reference of the Digraph3 modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="pearls.html">3. Pearls of bipolar-valued epistemic logic</a></li>
<li class="toctree-l1"><a class="reference internal" href="adtLectures.html">4. Algorithmic Decision Theory Lectures</a></li>
<li class="toctree-l1"><a class="reference internal" href="compStatLectures.html">5. Computational Statistics Lectures</a></li>
<li class="toctree-l1"><a class="reference internal" href="digraph3Archives.html">6. Digraph3 Archives</a></li>
<li class="toctree-l1"><a class="reference internal" href="errataList.html">7. Digraph3 Book Errata List</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Digraph3</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active"><span class="section-number">1. </span>Digraph3 Tutorials</li>

  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="index.html" class="btn btn-neutral float-left" title="Python resources for Algorithmic Decision Theory" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="techDoc.html" class="btn btn-neutral float-right" title="2. Technical Reference of the Digraph3 modules" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="digraph3-tutorials">
<span id="tutorials-label"></span><h1><span class="section-number">1. </span>Digraph3 Tutorials<a class="headerlink" href="#digraph3-tutorials" title="Link to this heading"></a></h1>
<dl class="field-list simple">
<dt class="field-odd">Author<span class="colon">:</span></dt>
<dd class="field-odd"><p>Raymond Bisdorff, Emeritus Professor of Applied Mathematics and Computer Science, University of Luxembourg</p>
</dd>
<dt class="field-even">Url<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://rbisdorff.github.io/">https://rbisdorff.github.io/</a></p>
</dd>
<dt class="field-odd">Version<span class="colon">:</span></dt>
<dd class="field-odd"><p>Python 3.14 (release: 3.14.2)</p>
</dd>
<dt class="field-even">PDF version<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="_static/digraph3Tutorial.pdf">5.9 MB</a></p>
</dd>
<dt class="field-odd">Copyright<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="_static/digraph3_copyright.html">R. Bisdorff</a> 2013-2025</p>
</dd>
</dl>
<dl class="field-list simple" id="tutorial-label">
<dt class="field-odd">New<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>A case study on <a class="reference internal" href="#internshipsmatching-tutorial-label"><span class="std std-ref">fairly matching students and internships</span></a></p></li>
<li><p>A case study on <a class="reference internal" href="#roommatesmatching-tutorial-label"><span class="std std-ref">matching classmates into partner pairs</span></a></p></li>
<li><p>A tutorial on <a class="reference internal" href="#partial-ranking-tutorial-label"><span class="std std-ref">extracting partial rankings</span></a> from a given outranking digraph</p></li>
<li><p>The <em>Bachet</em> ranking rules are illustrated in the tutorial on <a class="reference internal" href="#ranking-tutorial-label"><span class="std std-ref">ranking with multiple incommensurable criteria</span></a></p></li>
</ul>
</dd>
</dl>
<section id="contents">
<h2><span class="section-number">1.1. </span>Contents<a class="headerlink" href="#contents" title="Link to this heading"></a></h2>
<ul>
<li><p><a class="reference internal" href="#working-with-digraphs-label"><span class="std std-ref">Working with digraphs and outranking digraphs</span></a></p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#digraphs-tutorial-label"><span class="std std-ref">Introduction to the Digraph3 software resources</span></a></p></li>
<li><p><a class="reference internal" href="#digraph-tools-label"><span class="std std-ref">Working with the digraphs module</span></a></p></li>
<li><p><a class="reference internal" href="#outrankingdigraphs-tutorial-label"><span class="std std-ref">Working with the outrankingDigraphs module</span></a></p></li>
</ul>
</div></blockquote>
</li>
<li><p><a class="reference internal" href="#evaluation-decision-methods-label"><span class="std std-ref">Evaluation and decision models and tools</span></a></p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#rubis-tutorial-label"><span class="std std-ref">Computing a best choice recommendation</span></a></p></li>
<li><p><a class="reference internal" href="#new-performancetableau-tutorial-label"><span class="std std-ref">How to create a new performance tableau instance</span></a></p></li>
<li><p><a class="reference internal" href="#randomperformancetableau-tutorial-label"><span class="std std-ref">Generating random performance tableaux</span></a></p></li>
<li><p><a class="reference internal" href="#ranking-tutorial-label"><span class="std std-ref">Linearly ranking with multiple incommensurable criteria</span></a></p></li>
<li><p><a class="reference internal" href="#partial-ranking-tutorial-label"><span class="std std-ref">Partially ranking with multiple incommensurable criteria</span></a></p></li>
<li><p><a class="reference internal" href="#quantilesrating-tutorial-label"><span class="std std-ref">Rating into relative performance quantiles</span></a></p></li>
<li><p><a class="reference internal" href="#learnedrating-tutorial-label"><span class="std std-ref">Rating-by-ranking with learned performance quantile limits</span></a></p></li>
<li><p><a class="reference internal" href="#linearvoting-tutorial-label"><span class="std std-ref">Computing the winner of an election</span></a></p></li>
<li><p><a class="reference internal" href="#fair-intergroup-pairings-label"><span class="std std-ref">Computing fair intergroup pairings</span></a></p></li>
<li><p><a class="reference internal" href="#fair-intragroup-pairings-label"><span class="std std-ref">Computing fair intragroup pairings</span></a></p></li>
</ul>
</div></blockquote>
</li>
<li><p><a class="reference internal" href="#case-studies-label"><span class="std std-ref">Evaluation and decision case studies</span></a></p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#alice-tutorial-label"><span class="std std-ref">Alice’s best choice: A selection case study</span></a></p></li>
<li><p><a class="reference internal" href="#theranking-tutorial-label"><span class="std std-ref">The best academic Computer Science Depts: A ranking case study</span></a></p></li>
<li><p><a class="reference internal" href="#ratinguniversities-tutorial-label"><span class="std std-ref">The best students, where do they study? A rating case study</span></a></p></li>
<li><p><a class="reference internal" href="#internshipsmatching-tutorial-label"><span class="std std-ref">How to match students and internships? An intergroup pairing case study</span></a></p></li>
<li><p><a class="reference internal" href="#roommatesmatching-tutorial-label"><span class="std std-ref">How to fairly match classmates into partner pairs? An intragroup pairing case study</span></a></p></li>
<li><p><a class="reference internal" href="#exercises-label"><span class="std std-ref">Exercises</span></a></p></li>
</ul>
</div></blockquote>
</li>
<li><p><a class="reference internal" href="#bigdigraphs-tutorial-label"><span class="std std-ref">Working with big outranking digraphs</span></a></p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#sparseoutranking-tutorial-label"><span class="std std-ref">Sparse bipolar-valued outranking digraphs</span></a></p></li>
<li><p><a class="reference internal" href="#multiprocessing-tutorial-label"><span class="std std-ref">Using the Digraph3 multiprocessing resources</span></a></p></li>
<li><p><a class="reference internal" href="#hpc-tutorial-label"><span class="std std-ref">Ranking of big performance tableaux</span></a></p></li>
</ul>
</div></blockquote>
</li>
<li><p><a class="reference internal" href="#hpc-ranking-tutorial-label"><span class="std std-ref">HPC-Ranking of big sparse outranking digraphs</span></a></p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#hpc-commondesktop-tutorial-label"><span class="std std-ref">On a common 2023 desktop computer</span></a></p></li>
<li><p><a class="reference internal" href="#hpc-unilu-platform-tutorial-label"><span class="std std-ref">On the HPC plaform of the University of Luxembourg</span></a></p></li>
<li><p><a class="reference internal" href="#hpc-meluxina-tutorial-label"><span class="std std-ref">On the EuroHPC MeluXina supercomputer</span></a></p></li>
</ul>
</div></blockquote>
</li>
<li><p><a class="reference internal" href="#moving-to-graphs-label"><span class="std std-ref">Moving on to undirected graphs</span></a></p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#graphs-tutorial-label"><span class="std std-ref">Working with the graphs module</span></a></p></li>
<li><p><a class="reference internal" href="#isomorphicmis-tutorial-label"><span class="std std-ref">Computing the non isomorphic MISs of the 12-cycle graph</span></a></p></li>
<li><p><a class="reference internal" href="#permutation-tutorial-label"><span class="std std-ref">About comparability, split, interval and permutation graphs</span></a></p></li>
<li><p><a class="reference internal" href="#trees-tutorial-label"><span class="std std-ref">On tree graphs and graph forests</span></a></p></li>
</ul>
</div></blockquote>
</li>
</ul>
<dl class="simple">
<dt><strong>Appendices</strong></dt><dd><ul class="simple">
<li><p><a class="reference internal" href="#appendices-label"><span class="std std-ref">Bibliography</span></a></p></li>
<li><p><a class="reference internal" href="#endnotes-label"><span class="std std-ref">Endnotes</span></a></p></li>
</ul>
</dd>
</dl>
<p><strong>Abstract</strong>: The tutorials in this document describe the practical usage of our <em>Digraph3</em> Python3 software resources in the field of <em>Algorithmic Decision Theory</em> and more specifically in <strong>outranking</strong> based <em>Multiple Criteria Decision Aid</em> (MCDA). They mainly illustrate practical tools for a Master Course <a href="https://orbilu.uni.lu/handle/10993/37933" target="_blank">on Algorithmic Decision Theory</a> at the University of Luxembourg. The document contains first a set of tutorials introducing the main objects available in the Digraph3 collection of Python3 modules, like <strong>bipolar-valued digraphs</strong>, <strong>outranking digraphs</strong>, and <strong>multicriteria performance tableaux</strong>. The second and methodological set of tutorials is decision problem oriented and shows how to edit multicriteria performance tableaux, how to compute the potential <strong>winner(s)</strong> of an election, how to build a <strong>best choice recommendation</strong>, and how to <strong>rate</strong> or <strong>linearly rank</strong> with multiple incommensurable performance criteria. We finally discuss the <strong>fair intergroup</strong> and <strong>intragroup pairing</strong> problems. A third part presents three <strong>evaluation</strong> and <strong>decision case studies</strong>. A fourth and fifth part present tools for working with <strong>big outranking digraphs</strong>. The last part is devoted to <strong>undirected graphs</strong> with a tutorial on how to compute <strong>non isomorphic maximal independent sets</strong> (kernels) in the n-cycle graph. Special tutorials are finally introducing  <strong>perfect</strong> graphs, like <em>split</em>, <em>interval</em> and <em>permutation</em> graphs.</p>
</section>
<hr class="docutils" />
<section id="working-with-digraphs-and-outranking-digraphs">
<span id="working-with-digraphs-label"></span><h2><span class="section-number">1.2. </span>Working with digraphs and outranking digraphs<a class="headerlink" href="#working-with-digraphs-and-outranking-digraphs" title="Link to this heading"></a></h2>
<p>This first part of the tutorials introduces the Digraph3 software collection of Python programming resources.</p>
<nav class="contents local" id="id1">
<ul class="simple">
<li><p><a class="reference internal" href="#working-with-the-digraph3-software-resources" id="id298">Working with the <em>Digraph3</em> software resources</a></p></li>
<li><p><a class="reference internal" href="#working-with-the-digraphs-module" id="id299">Working with the <a class="reference internal" href="techDoc.html#module-digraphs" title="digraphs"><code class="xref py py-mod docutils literal notranslate"><span class="pre">digraphs</span></code></a> module</a></p></li>
<li><p><a class="reference internal" href="#working-with-the-outrankingdigraphs-module" id="id300">Working with the <a class="reference internal" href="techDoc.html#module-outrankingDigraphs" title="outrankingDigraphs"><code class="xref py py-mod docutils literal notranslate"><span class="pre">outrankingDigraphs</span></code></a> module</a></p></li>
</ul>
</nav>
<hr class="docutils" />
<section id="working-with-the-digraph3-software-resources">
<span id="digraphs-tutorial-label"></span><h3><a class="toc-backref" href="#id298" role="doc-backlink"><span class="section-number">1.2.1. </span>Working with the <em>Digraph3</em> software resources</a><a class="headerlink" href="#working-with-the-digraph3-software-resources" title="Link to this heading"></a></h3>
<nav class="contents local" id="id2">
<ul class="simple">
<li><p><a class="reference internal" href="#purpose" id="id301">Purpose</a></p></li>
<li><p><a class="reference internal" href="#downloading-of-the-digraph3-resources" id="id302">Downloading of the Digraph3 resources</a></p></li>
<li><p><a class="reference internal" href="#starting-a-python3-terminal-session" id="id303">Starting a Python3 terminal session</a></p></li>
<li><p><a class="reference internal" href="#digraph-object-structure" id="id304"><em>Digraph</em> object structure</a></p></li>
<li><p><a class="reference internal" href="#permanent-storage" id="id305">Permanent storage</a></p></li>
<li><p><a class="reference internal" href="#inspecting-a-digraph-object" id="id306">Inspecting a <em>Digraph</em> object</a></p></li>
<li><p><a class="reference internal" href="#special-digraph-instances" id="id307">Special <em>Digraph</em> instances</a></p></li>
</ul>
</nav>
<section id="purpose">
<h4><a class="toc-backref" href="#id301" role="doc-backlink"><span class="section-number">1.2.1.1. </span>Purpose</a><a class="headerlink" href="#purpose" title="Link to this heading"></a></h4>
<p>The basic idea of the Digraph3 Python resources is to make easy python interactive sessions or write short Python3 scripts for computing all kind of results from a bipolar-valued digraph or graph. These include such features as best-choice recommendations, linear rankings, performance ratings, fair pairings, etc. Most of the available computing resources are meant to illustrate a Master Course <a href="http://hdl.handle.net/10993/37933" target="_blank"> on Algorithmic Decision Theory</i></a>  given at the University of Luxembourg in the context of its <em>Master in Information and Computer Science</em> (MICS).</p>
<p>The Python development of these computing resources offers the advantage of an easy to write and maintain OOP source code as expected from a performing scripting language without loosing on efficiency in execution times compared to compiled languages such as C++ or Java.</p>
</section>
<section id="downloading-of-the-digraph3-resources">
<h4><a class="toc-backref" href="#id302" role="doc-backlink"><span class="section-number">1.2.1.2. </span>Downloading of the Digraph3 resources</a><a class="headerlink" href="#downloading-of-the-digraph3-resources" title="Link to this heading"></a></h4>
<p>Using the Digraph3 modules is easy. You only need to have installed on your system the <a class="reference external" href="https://www.python.org/doc/">Python</a> programming language of version 3.+ (readily available under Linux and Mac OS).</p>
<p>Several download options (easiest under Linux or Mac OS-X) are given.</p>
<ol class="arabic">
<li><p>(<em>Recommended</em>) With a browser access, download and extract the latest distribution zip archive from</p>
<p><a class="reference external" href="https://github.com/rbisdorff/Digraph3">https://github.com/rbisdorff/Digraph3</a>  or, from</p>
<p><a class="reference external" href="https://sourceforge.net/projects/digraph3">https://sourceforge.net/projects/digraph3</a></p>
</li>
<li><p>By using a git client either, cloning from github</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>...$<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/rbisdorff/Digraph3
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Or, from sourceforge.net</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>...$<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>https://git.code.sf.net/p/digraph3/code<span class="w"> </span>Digraph3
</pre></div>
</div>
<p>See the <a class="reference external" href="techDoc.html#installation">Installation section</a> in the Technical Reference.</p>
</section>
<section id="starting-a-python3-terminal-session">
<h4><a class="toc-backref" href="#id303" role="doc-backlink"><span class="section-number">1.2.1.3. </span>Starting a Python3 terminal session</a><a class="headerlink" href="#starting-a-python3-terminal-session" title="Link to this heading"></a></h4>
<p>You may start an interactive Python3 terminal session in the <em>Digraph3</em> directory.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="nv">$HOME</span>/.../Digraph3$<span class="w"> </span>python3
<span class="linenos">2</span>Python<span class="w"> </span><span class="m">3</span>.12.3<span class="w"> </span><span class="o">(</span>main,<span class="w"> </span>Aug<span class="w"> </span><span class="m">14</span><span class="w"> </span><span class="m">2025</span>,<span class="w"> </span><span class="m">17</span>:47:21<span class="o">)</span><span class="w"> </span><span class="o">[</span>GCC<span class="w"> </span><span class="m">13</span>.3.0<span class="o">]</span><span class="w"> </span>on<span class="w"> </span>linux
<span class="linenos">3</span>Type<span class="w"> </span><span class="s2">&quot;help&quot;</span>,<span class="w"> </span><span class="s2">&quot;copyright&quot;</span>,<span class="w"> </span><span class="s2">&quot;credits&quot;</span><span class="w"> </span>or<span class="w"> </span><span class="s2">&quot;license&quot;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>more<span class="w"> </span>information.
<span class="linenos">4</span>&gt;&gt;&gt;
</pre></div>
</div>
<p>For exploring the classes and methods provided by the <em>Digraph3</em> modules (see the <a class="reference external" href="techDoc.html">Reference manual</a>) enter the <em>Python3</em> commands following the session prompts marked with <code class="docutils literal notranslate"><span class="pre">&gt;&gt;&gt;</span></code> or <code class="docutils literal notranslate"><span class="pre">...</span></code> . The lines without the prompt are console output from the Python3 interpreter.</p>
<div class="literal-block-wrapper docutils container" id="digraphs">
<div class="code-block-caption"><span class="caption-number">Listing 1.1 </span><span class="caption-text">Generating a random digraph instance</span><a class="headerlink" href="#digraphs" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">randomDigraphs</span> <span class="kn">import</span> <span class="n">RandomDigraph</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">dg</span> <span class="o">=</span> <span class="n">RandomDigraph</span><span class="p">(</span><span class="n">order</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">arcProbability</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="mi">101</span><span class="p">)</span>
<span class="hll"><span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">dg</span>
</span><span class="linenos"> 4</span><span class="go"> *------- Digraph instance description ------*</span>
<span class="linenos"> 5</span><span class="go"> Instance class   : RandomDigraph</span>
<span class="linenos"> 6</span><span class="go"> Instance name    : randomDigraph</span>
<span class="linenos"> 7</span><span class="go"> Digraph Order      : 5</span>
<span class="linenos"> 8</span><span class="go"> Digraph Size       : 12</span>
<span class="linenos"> 9</span><span class="go"> Valuation domain : [-1.00; 1.00]</span>
<span class="linenos">10</span><span class="go"> Determinateness  : 100.000</span>
<span class="hll"><span class="linenos">11</span><span class="go"> Attributes       : [&#39;actions&#39;, &#39;valuationdomain&#39;, &#39;relation&#39;,</span>
</span><span class="hll"><span class="linenos">12</span><span class="go">                     &#39;order&#39;, &#39;name&#39;, &#39;gamma&#39;, &#39;notGamma&#39;,</span>
</span><span class="linenos">13</span><span class="go">                     &#39;seed&#39;, &#39;arcProbability&#39;, ]</span>
</pre></div>
</div>
</div>
<p>In <a class="reference internal" href="#digraphs"><span class="std std-numref">Listing 1.1</span></a> we import, for instance, from the <a class="reference internal" href="techDoc.html#module-randomDigraphs" title="randomDigraphs"><code class="xref py py-mod docutils literal notranslate"><span class="pre">randomDigraphs</span></code></a> module the <a class="reference internal" href="techDoc.html#randomDigraphs.RandomDigraph" title="randomDigraphs.RandomDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomDigraph</span></code></a> class in order to generate a random <em>digraph</em> object <em>dg</em> of order 5 - number of nodes called (decision) <em>actions</em> - and arc probability of 50%. We may directly inspect the content of python object <em>dg</em> (Line 3).</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>For convenience of redoing the computations, all python code-blocks show in the upper right corner a specific <strong>copy button</strong> which allows to both copy <em>only</em> code lines, i.e. lines starting with ‘&gt;&gt;&gt;’ or ‘…’, and stripping the console prompts. The copied code lines may hence be right away <em>pasted</em> into a Python console session. As of Python 3.13.+ it is necessary to switch in the python terminal console with the F3 function key into a console “<em>paste mode</em>” which allows pasting blocks of code. Press F3 key again to return to the regular prompt (see Python 3.13.+ Interactive Mode documentation).</p>
</div>
</div></blockquote>
</section>
<section id="digraph-object-structure">
<h4><a class="toc-backref" href="#id304" role="doc-backlink"><span class="section-number">1.2.1.4. </span><em>Digraph</em> object structure</a><a class="headerlink" href="#digraph-object-structure" title="Link to this heading"></a></h4>
<p>All <a class="reference internal" href="techDoc.html#digraphs.Digraph" title="digraphs.Digraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">Digraph</span></code></a> objects contain at least the following attributes (see <a class="reference internal" href="#digraphs"><span class="std std-numref">Listing 1.1</span></a> Lines 11-12):</p>
<ol class="arabic simple" start="0">
<li><p>A <strong>name</strong> attribute, holding usually the actual name of the stored instance that was used to create the instance;</p></li>
<li><p>A ordered dictionary of digraph nodes called <strong>actions</strong> (decision alternatives) with at least a ‘name’ attribute;</p></li>
<li><p>An <strong>order</strong> attribute containing the number of graph nodes (length of the actions dictionary) automatically added by the object constructor;</p></li>
<li><p>A logical characteristic <strong>valuationdomain</strong> dictionary with three decimal entries: the minimum (-1.0, means certainly false), the median (0.0, means missing information) and the maximum characteristic value (+1.0, means certainly true);</p></li>
<li><p>A double dictionary called <strong>relation</strong> and indexed by an oriented pair of actions (nodes) and carrying a decimal characteristic value in the range of the previous valuation domain;</p></li>
<li><p>Its associated <strong>gamma</strong> attribute, a dictionary containing the direct successors, respectively predecessors of each action, automatically added by the object constructor;</p></li>
<li><p>Its associated <strong>notGamma</strong> attribute, a dictionary containing the actions that are not direct successors respectively predecessors of each action, automatically added by the object constructor.</p></li>
</ol>
<p>See the technical documentation of the root <a class="reference internal" href="techDoc.html#digraphs.Digraph" title="digraphs.Digraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">digraphs.Digraph</span></code></a> class.</p>
</section>
<section id="permanent-storage">
<h4><a class="toc-backref" href="#id305" role="doc-backlink"><span class="section-number">1.2.1.5. </span>Permanent storage</a><a class="headerlink" href="#permanent-storage" title="Link to this heading"></a></h4>
<p>The <a class="reference internal" href="techDoc.html#digraphs.Digraph.save" title="digraphs.Digraph.save"><code class="xref py py-func docutils literal notranslate"><span class="pre">save()</span></code></a> method stores the digraph object <em>dg</em> in a file named ‘tutorialDigraph.py’,</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dg</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;tutorialDigraph&#39;</span><span class="p">)</span>
<span class="go"> *--- Saving digraph in file: &lt;tutorialDigraph.py&gt; ---*</span>
</pre></div>
</div>
<p>with the following content</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span> <span class="nn">decimal</span> <span class="kn">import</span> <span class="n">Decimal</span>
<span class="linenos"> 2</span><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">OrderedDict</span>
<span class="linenos"> 3</span><span class="n">actions</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">([</span>
<span class="linenos"> 4</span> <span class="p">(</span><span class="s1">&#39;a1&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;shortName&#39;</span><span class="p">:</span> <span class="s1">&#39;a1&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;random decision action&#39;</span><span class="p">}),</span>
<span class="linenos"> 5</span> <span class="p">(</span><span class="s1">&#39;a2&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;shortName&#39;</span><span class="p">:</span> <span class="s1">&#39;a2&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;random decision action&#39;</span><span class="p">}),</span>
<span class="linenos"> 6</span> <span class="p">(</span><span class="s1">&#39;a3&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;shortName&#39;</span><span class="p">:</span> <span class="s1">&#39;a3&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;random decision action&#39;</span><span class="p">}),</span>
<span class="linenos"> 7</span> <span class="p">(</span><span class="s1">&#39;a4&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;shortName&#39;</span><span class="p">:</span> <span class="s1">&#39;a4&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;random decision action&#39;</span><span class="p">}),</span>
<span class="linenos"> 8</span> <span class="p">(</span><span class="s1">&#39;a5&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;shortName&#39;</span><span class="p">:</span> <span class="s1">&#39;a5&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;random decision action&#39;</span><span class="p">}),</span>
<span class="linenos"> 9</span> <span class="p">])</span>
<span class="linenos">10</span><span class="n">valuationdomain</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;min&#39;</span><span class="p">:</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;-1.0&#39;</span><span class="p">),</span>
<span class="linenos">11</span>                   <span class="s1">&#39;med&#39;</span><span class="p">:</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0.0&#39;</span><span class="p">),</span>
<span class="linenos">12</span>                   <span class="s1">&#39;max&#39;</span><span class="p">:</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;1.0&#39;</span><span class="p">),</span>
<span class="linenos">13</span>                   <span class="s1">&#39;hasIntegerValuation&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="c1"># repr. format</span>
<span class="linenos">14</span>                   <span class="p">}</span>
<span class="linenos">15</span><span class="n">relation</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">16</span> <span class="s1">&#39;a1&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;a1&#39;</span><span class="p">:</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;-1.0&#39;</span><span class="p">),</span> <span class="s1">&#39;a2&#39;</span><span class="p">:</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;-1.0&#39;</span><span class="p">),</span>
<span class="linenos">17</span>        <span class="s1">&#39;a3&#39;</span><span class="p">:</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;1.0&#39;</span><span class="p">),</span> <span class="s1">&#39;a4&#39;</span><span class="p">:</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;-1.0&#39;</span><span class="p">),</span>
<span class="linenos">18</span>        <span class="s1">&#39;a5&#39;</span><span class="p">:</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;-1.0&#39;</span><span class="p">),},</span>
<span class="linenos">19</span> <span class="s1">&#39;a2&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;a1&#39;</span><span class="p">:</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;1.0&#39;</span><span class="p">),</span> <span class="s1">&#39;a2&#39;</span><span class="p">:</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;-1.0&#39;</span><span class="p">),</span>
<span class="linenos">20</span>        <span class="s1">&#39;a3&#39;</span><span class="p">:</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;-1.0&#39;</span><span class="p">),</span> <span class="s1">&#39;a4&#39;</span><span class="p">:</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;1.0&#39;</span><span class="p">),</span>
<span class="linenos">21</span>        <span class="s1">&#39;a5&#39;</span><span class="p">:</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;1.0&#39;</span><span class="p">),},</span>
<span class="linenos">22</span> <span class="s1">&#39;a3&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;a1&#39;</span><span class="p">:</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;1.0&#39;</span><span class="p">),</span> <span class="s1">&#39;a2&#39;</span><span class="p">:</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;-1.0&#39;</span><span class="p">),</span>
<span class="linenos">23</span>        <span class="s1">&#39;a3&#39;</span><span class="p">:</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;-1.0&#39;</span><span class="p">),</span> <span class="s1">&#39;a4&#39;</span><span class="p">:</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;1.0&#39;</span><span class="p">),</span>
<span class="linenos">24</span>        <span class="s1">&#39;a5&#39;</span><span class="p">:</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;-1.0&#39;</span><span class="p">),},</span>
<span class="linenos">25</span> <span class="s1">&#39;a4&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;a1&#39;</span><span class="p">:</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;1.0&#39;</span><span class="p">),</span> <span class="s1">&#39;a2&#39;</span><span class="p">:</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;1.0&#39;</span><span class="p">),</span>
<span class="linenos">26</span>        <span class="s1">&#39;a3&#39;</span><span class="p">:</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;1.0&#39;</span><span class="p">),</span> <span class="s1">&#39;a4&#39;</span><span class="p">:</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;-1.0&#39;</span><span class="p">),</span>
<span class="linenos">27</span>        <span class="s1">&#39;a5&#39;</span><span class="p">:</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;-1.0&#39;</span><span class="p">),},</span>
<span class="linenos">28</span> <span class="s1">&#39;a5&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;a1&#39;</span><span class="p">:</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;1.0&#39;</span><span class="p">),</span> <span class="s1">&#39;a2&#39;</span><span class="p">:</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;1.0&#39;</span><span class="p">),</span>
<span class="linenos">29</span>        <span class="s1">&#39;a3&#39;</span><span class="p">:</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;1.0&#39;</span><span class="p">),</span> <span class="s1">&#39;a4&#39;</span><span class="p">:</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;-1.0&#39;</span><span class="p">),</span>
<span class="linenos">30</span>        <span class="s1">&#39;a5&#39;</span><span class="p">:</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;-1.0&#39;</span><span class="p">),},</span>
<span class="linenos">31</span> <span class="p">}</span>
</pre></div>
</div>
</section>
<section id="inspecting-a-digraph-object">
<h4><a class="toc-backref" href="#id306" role="doc-backlink"><span class="section-number">1.2.1.6. </span>Inspecting a <em>Digraph</em> object</a><a class="headerlink" href="#inspecting-a-digraph-object" title="Link to this heading"></a></h4>
<p>We may reload (see <a class="reference internal" href="#tutorialdigraph"><span class="std std-numref">Listing 1.2</span></a>) the previously saved digraph object from the file named ‘tutorialDigraph.py’ with the <a class="reference internal" href="techDoc.html#digraphs.Digraph" title="digraphs.Digraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">Digraph</span></code></a> class constructor and different <em>show</em> methods (see <a class="reference internal" href="#tutorialdigraph"><span class="std std-numref">Listing 1.2</span></a> below) reveal us that <em>dg</em> is a <em>crisp</em>, <em>irreflexive</em>  and <em>connected</em> digraph of <em>order</em> five.</p>
<div class="literal-block-wrapper docutils container" id="tutorialdigraph">
<div class="code-block-caption"><span class="caption-number">Listing 1.2 </span><span class="caption-text">Random crisp digraph example</span><a class="headerlink" href="#tutorialdigraph" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">digraphs</span> <span class="kn">import</span> <span class="n">Digraph</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">dg</span> <span class="o">=</span> <span class="n">Digraph</span><span class="p">(</span><span class="s1">&#39;tutorialDigraph&#39;</span><span class="p">)</span>
<span class="hll"><span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">dg</span><span class="o">.</span><span class="n">showShort</span><span class="p">()</span>
</span><span class="linenos"> 4</span><span class="go"> *----- show short -------------*</span>
<span class="linenos"> 5</span><span class="go"> Digraph          : tutorialDigraph</span>
<span class="linenos"> 6</span><span class="go"> Actions          : OrderedDict([</span>
<span class="linenos"> 7</span><span class="go">  (&#39;a1&#39;, {&#39;shortName&#39;: &#39;a1&#39;, &#39;name&#39;: &#39;random decision action&#39;}),</span>
<span class="linenos"> 8</span><span class="go">  (&#39;a2&#39;, {&#39;shortName&#39;: &#39;a2&#39;, &#39;name&#39;: &#39;random decision action&#39;}),</span>
<span class="linenos"> 9</span><span class="go">  (&#39;a3&#39;, {&#39;shortName&#39;: &#39;a3&#39;, &#39;name&#39;: &#39;random decision action&#39;}),</span>
<span class="linenos">10</span><span class="go">  (&#39;a4&#39;, {&#39;shortName&#39;: &#39;a4&#39;, &#39;name&#39;: &#39;random decision action&#39;}),</span>
<span class="linenos">11</span><span class="go">  (&#39;a5&#39;, {&#39;shortName&#39;: &#39;a5&#39;, &#39;name&#39;: &#39;random decision action&#39;})</span>
<span class="linenos">12</span><span class="go">  ])</span>
<span class="linenos">13</span><span class="go"> Valuation domain : {</span>
<span class="linenos">14</span><span class="go">  &#39;min&#39;: Decimal(&#39;-1.0&#39;),</span>
<span class="linenos">15</span><span class="go">  &#39;max&#39;: Decimal(&#39;1.0&#39;),</span>
<span class="linenos">16</span><span class="go">  &#39;med&#39;: Decimal(&#39;0.0&#39;), &#39;hasIntegerValuation&#39;: True</span>
<span class="linenos">17</span><span class="go">  }</span>
<span class="hll"><span class="linenos">18</span><span class="gp">&gt;&gt;&gt; </span><span class="n">dg</span><span class="o">.</span><span class="n">showRelationTable</span><span class="p">()</span>
</span><span class="linenos">19</span><span class="go"> * ---- Relation Table -----</span>
<span class="linenos">20</span><span class="go">   S   |  &#39;a1&#39;  &#39;a2&#39;  &#39;a3&#39;  &#39;a4&#39;  &#39;a5&#39;</span>
<span class="linenos">21</span><span class="go"> ------|-------------------------------</span>
<span class="linenos">22</span><span class="go">  &#39;a1&#39; |   -1    -1     1    -1    -1</span>
<span class="linenos">23</span><span class="go">  &#39;a2&#39; |    1    -1    -1     1     1</span>
<span class="linenos">24</span><span class="go">  &#39;a3&#39; |    1    -1    -1     1    -1</span>
<span class="linenos">25</span><span class="go">  &#39;a4&#39; |    1     1     1    -1    -1</span>
<span class="linenos">26</span><span class="go">  &#39;a5&#39; |    1     1     1    -1    -1</span>
<span class="linenos">27</span><span class="go"> Valuation domain: [-1;+1]</span>
<span class="hll"><span class="linenos">28</span><span class="gp">&gt;&gt;&gt; </span><span class="n">dg</span><span class="o">.</span><span class="n">showComponents</span><span class="p">()</span>
</span><span class="linenos">29</span><span class="go"> *--- Connected Components ---*</span>
<span class="linenos">30</span><span class="go"> 1: [&#39;a1&#39;, &#39;a2&#39;, &#39;a3&#39;, &#39;a4&#39;, &#39;a5&#39;]</span>
<span class="hll"><span class="linenos">31</span><span class="gp">&gt;&gt;&gt; </span><span class="n">dg</span><span class="o">.</span><span class="n">showNeighborhoods</span><span class="p">()</span>
</span><span class="linenos">32</span><span class="go"> Neighborhoods:</span>
<span class="linenos">33</span><span class="go">   Gamma     :</span>
<span class="linenos">34</span><span class="go"> &#39;a1&#39;: in =&gt; {&#39;a2&#39;, &#39;a4&#39;, &#39;a3&#39;, &#39;a5&#39;}, out =&gt; {&#39;a3&#39;}</span>
<span class="linenos">35</span><span class="go"> &#39;a2&#39;: in =&gt; {&#39;a5&#39;, &#39;a4&#39;}, out =&gt; {&#39;a1&#39;, &#39;a4&#39;, &#39;a5&#39;}</span>
<span class="linenos">36</span><span class="go"> &#39;a3&#39;: in =&gt; {&#39;a1&#39;, &#39;a4&#39;, &#39;a5&#39;}, out =&gt; {&#39;a1&#39;, &#39;a4&#39;}</span>
<span class="linenos">37</span><span class="go"> &#39;a4&#39;: in =&gt; {&#39;a2&#39;, &#39;a3&#39;}, out =&gt; {&#39;a1&#39;, &#39;a3&#39;, &#39;a2&#39;}</span>
<span class="linenos">38</span><span class="go"> &#39;a5&#39;: in =&gt; {&#39;a2&#39;}, out =&gt; {&#39;a1&#39;, &#39;a3&#39;, &#39;a2&#39;}</span>
<span class="linenos">39</span><span class="go">   Not Gamma :</span>
<span class="linenos">40</span><span class="go"> &#39;a1&#39;: in =&gt; set(), out =&gt; {&#39;a2&#39;, &#39;a4&#39;, &#39;a5&#39;}</span>
<span class="linenos">41</span><span class="go"> &#39;a2&#39;: in =&gt; {&#39;a1&#39;, &#39;a3&#39;}, out =&gt; {&#39;a3&#39;}</span>
<span class="linenos">42</span><span class="go"> &#39;a3&#39;: in =&gt; {&#39;a2&#39;}, out =&gt; {&#39;a2&#39;, &#39;a5&#39;}</span>
<span class="linenos">43</span><span class="go"> &#39;a4&#39;: in =&gt; {&#39;a1&#39;, &#39;a5&#39;}, out =&gt; {&#39;a5&#39;}</span>
<span class="linenos">44</span><span class="go"> &#39;a5&#39;: in =&gt; {&#39;a1&#39;, &#39;a4&#39;, &#39;a3&#39;}, out =&gt; {&#39;a4&#39;}</span>
</pre></div>
</div>
</div>
<p>The <a class="reference internal" href="techDoc.html#digraphs.Digraph.exportGraphViz" title="digraphs.Digraph.exportGraphViz"><code class="xref py py-func docutils literal notranslate"><span class="pre">exportGraphViz()</span></code></a> method generates in
the current working directory a ‘tutorialDigraph.dot’ file and a
‘tutorialdigraph.png’ picture of the tutorial digraph <em>dg</em> (see <a class="reference internal" href="#tutorialdigraphfig"><span class="std std-numref">Fig. 1.1</span></a>), if the <a class="reference external" href="https://graphviz.org/">graphviz</a> tools are installed on your system <a class="footnote-reference brackets" href="#id208" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">dg</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">(</span><span class="s1">&#39;tutorialDigraph&#39;</span><span class="p">)</span>
<span class="linenos">2</span><span class="go"> *---- exporting a dot file do GraphViz tools ---------*</span>
<span class="linenos">3</span><span class="go"> Exporting to tutorialDigraph.dot</span>
<span class="linenos">4</span><span class="go"> dot -Grankdir=BT -Tpng tutorialDigraph.dot -o tutorialDigraph.png</span>
</pre></div>
</div>
<figure class="align-center" id="tutorialdigraphfig">
<a class="reference internal image-reference" href="_images/tutorialDigraph.png"><img alt="_images/tutorialDigraph.png" src="_images/tutorialDigraph.png" style="width: 300px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.1 </span><span class="caption-text">The tutorial crisp digraph</span><a class="headerlink" href="#tutorialdigraphfig" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Further methods are provided for inspecting this <a class="reference internal" href="techDoc.html#digraphs.Digraph" title="digraphs.Digraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">Digraph</span></code></a> object <em>dg</em> , like the following <a class="reference internal" href="techDoc.html#digraphs.Digraph.showStatistics" title="digraphs.Digraph.showStatistics"><code class="xref py py-func docutils literal notranslate"><span class="pre">showStatistics()</span></code></a> method.</p>
<div class="literal-block-wrapper docutils container" id="showstatistics">
<div class="code-block-caption"><span class="caption-number">Listing 1.3 </span><span class="caption-text">Inspecting a Digraph object</span><a class="headerlink" href="#showstatistics" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">dg</span><span class="o">.</span><span class="n">showStatistics</span><span class="p">()</span>
<span class="linenos"> 2</span><span class="go"> *----- general statistics -------------*</span>
<span class="linenos"> 3</span><span class="go"> for digraph              : &lt;tutorialDigraph.py&gt;</span>
<span class="linenos"> 4</span><span class="go"> order                    : 5 nodes</span>
<span class="hll"><span class="linenos"> 5</span><span class="go"> size                     : 12 arcs</span>
</span><span class="linenos"> 6</span><span class="go"> # indeterminate          : 0 arcs</span>
<span class="hll"><span class="linenos"> 7</span><span class="go"> determinateness (%)      : 100.0</span>
</span><span class="linenos"> 8</span><span class="go"> arc density              : 0.60</span>
<span class="linenos"> 9</span><span class="go"> double arc density       : 0.40</span>
<span class="linenos">10</span><span class="go"> single arc density       : 0.40</span>
<span class="linenos">11</span><span class="go"> absence density          : 0.20</span>
<span class="linenos">12</span><span class="go"> strict single arc density: 0.40</span>
<span class="linenos">13</span><span class="go"> strict absence density   : 0.20</span>
<span class="linenos">14</span><span class="go"> # components             : 1</span>
<span class="linenos">15</span><span class="go"> # strong components      : 1</span>
<span class="hll"><span class="linenos">16</span><span class="go"> transitivity degree (%)  : 60.0</span>
</span><span class="linenos">17</span><span class="go">                          : [0, 1, 2, 3, 4, 5]</span>
<span class="linenos">18</span><span class="go"> outdegrees distribution  : [0, 1, 1, 3, 0, 0]</span>
<span class="linenos">19</span><span class="go"> indegrees distribution   : [0, 1, 2, 1, 1, 0]</span>
<span class="linenos">20</span><span class="go"> mean outdegree           : 2.40</span>
<span class="linenos">21</span><span class="go"> mean indegree            : 2.40</span>
<span class="linenos">22</span><span class="go">                          : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span>
<span class="linenos">23</span><span class="go"> symmetric degrees dist.  : [0, 0, 0, 0, 1, 4, 0, 0, 0, 0, 0]</span>
<span class="linenos">24</span><span class="go"> mean symmetric degree    : 4.80</span>
<span class="linenos">25</span><span class="go"> outdegrees concentration index   : 0.1667</span>
<span class="linenos">26</span><span class="go"> indegrees concentration index    : 0.2333</span>
<span class="linenos">27</span><span class="go"> symdegrees concentration index   : 0.0333</span>
<span class="linenos">28</span><span class="go">                                  : [0, 1, 2, 3, 4, &#39;inf&#39;]</span>
<span class="linenos">29</span><span class="go"> neighbourhood depths distribution: [0, 1, 4, 0, 0, 0]</span>
<span class="linenos">30</span><span class="go"> mean neighbourhood depth         : 1.80</span>
<span class="linenos">31</span><span class="go"> digraph diameter                 : 2</span>
<span class="linenos">32</span><span class="go"> agglomeration distribution       :</span>
<span class="linenos">33</span><span class="go"> a1 : 58.33</span>
<span class="linenos">34</span><span class="go"> a2 : 33.33</span>
<span class="linenos">35</span><span class="go"> a3 : 33.33</span>
<span class="linenos">36</span><span class="go"> a4 : 50.00</span>
<span class="linenos">37</span><span class="go"> a5 : 50.00</span>
<span class="linenos">38</span><span class="go"> agglomeration coefficient        : 45.00</span>
</pre></div>
</div>
</div>
<p>These <em>show</em> methods usually rely upon corresponding <em>compute</em> methods, like the <a class="reference internal" href="techDoc.html#digraphs.Digraph.computeSize" title="digraphs.Digraph.computeSize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">computeSize()</span></code></a>, the <a class="reference internal" href="techDoc.html#digraphs.Digraph.computeDeterminateness" title="digraphs.Digraph.computeDeterminateness"><code class="xref py py-meth docutils literal notranslate"><span class="pre">computeDeterminateness()</span></code></a> or the <a class="reference internal" href="techDoc.html#digraphs.Digraph.computeTransitivityDegree" title="digraphs.Digraph.computeTransitivityDegree"><code class="xref py py-meth docutils literal notranslate"><span class="pre">computeTransitivityDegree()</span></code></a> method (see <a class="reference internal" href="#showstatistics"><span class="std std-numref">Listing 1.3</span></a> Line 5,7,16).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">dg</span><span class="o">.</span><span class="n">computeSize</span><span class="p">()</span>
<span class="linenos">2</span><span class="go"> 12</span>
<span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">dg</span><span class="o">.</span><span class="n">computeDeterminateness</span><span class="p">(</span><span class="n">InPercents</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos">4</span><span class="go"> Decimal(&#39;100.00&#39;)</span>
<span class="linenos">5</span><span class="gp">&gt;&gt;&gt; </span><span class="n">dg</span><span class="o">.</span><span class="n">computeTransitivityDegree</span><span class="p">(</span><span class="n">InPercents</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos">6</span><span class="go"> Decimal(&#39;60.00&#39;)</span>
</pre></div>
</div>
<p>Mind that <em>show</em> methods output their results in the Python console. We provide also some <em>showHTML</em> methods which output their results in a system browser’s window.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dg</span><span class="o">.</span><span class="n">showHTMLRelationMap</span><span class="p">(</span><span class="n">relationName</span><span class="o">=</span><span class="s1">&#39;r(x,y)&#39;</span><span class="p">,</span><span class="n">rankingRule</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="relationmap1">
<a class="reference internal image-reference" href="_images/relationMap1.png"><img alt="_images/relationMap1.png" src="_images/relationMap1.png" style="width: 350px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.2 </span><span class="caption-text">Browsing the relation map of the tutorial digraph</span><a class="headerlink" href="#relationmap1" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>In <a class="reference internal" href="#relationmap1"><span class="std std-numref">Fig. 1.2</span></a> we find confirmed again that our random digraph instance <em>dg</em>, is indeed a crisp, i.e. 100% determined digraph instance.</p>
</section>
<section id="special-digraph-instances">
<h4><a class="toc-backref" href="#id307" role="doc-backlink"><span class="section-number">1.2.1.7. </span>Special <em>Digraph</em> instances</a><a class="headerlink" href="#special-digraph-instances" title="Link to this heading"></a></h4>
<p>Some constructors for universal digraph instances, like the <a class="reference internal" href="techDoc.html#digraphs.CompleteDigraph" title="digraphs.CompleteDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">CompleteDigraph</span></code></a>, the <a class="reference internal" href="techDoc.html#digraphs.EmptyDigraph" title="digraphs.EmptyDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">EmptyDigraph</span></code></a> or the <em>circular oriented</em> <a class="reference internal" href="techDoc.html#digraphs.GridDigraph" title="digraphs.GridDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">GridDigraph</span></code></a> constructor, are readily available (see <a class="reference internal" href="#tutorialgrid"><span class="std std-numref">Fig. 1.3</span></a>).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">digraphs</span> <span class="kn">import</span> <span class="n">GridDigraph</span>
<span class="hll"><span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">grid</span> <span class="o">=</span> <span class="n">GridDigraph</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">m</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">hasMedianSplitOrientation</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">grid</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">(</span><span class="s1">&#39;tutorialGrid&#39;</span><span class="p">)</span>
<span class="linenos">4</span><span class="go"> *---- exporting a dot file for GraphViz tools ---------*</span>
<span class="linenos">5</span><span class="go"> Exporting to tutorialGrid.dot</span>
<span class="linenos">6</span><span class="go"> dot -Grankdir=BT -Tpng TutorialGrid.dot -o tutorialGrid.png</span>
</pre></div>
</div>
<figure class="align-center" id="tutorialgrid">
<a class="reference internal image-reference" href="_images/tutorialGrid.png"><img alt="_images/tutorialGrid.png" src="_images/tutorialGrid.png" style="width: 200px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.3 </span><span class="caption-text">The 5x5 grid graph median split oriented</span><a class="headerlink" href="#tutorialgrid" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>For more information about its resources, see the <a class="reference internal" href="techDoc.html#modules-organisation-label"><span class="std std-ref">technical documentation of the digraphs module</span></a>.</p>
<p>Back to <a class="reference internal" href="#tutorial-label"><span class="std std-ref">Content Table</span></a></p>
<hr class="docutils" />
</section>
</section>
<section id="working-with-the-digraphs-module">
<span id="digraph-tools-label"></span><h3><a class="toc-backref" href="#id299" role="doc-backlink"><span class="section-number">1.2.2. </span>Working with the <a class="reference internal" href="techDoc.html#module-digraphs" title="digraphs"><code class="xref py py-mod docutils literal notranslate"><span class="pre">digraphs</span></code></a> module</a><a class="headerlink" href="#working-with-the-digraphs-module" title="Link to this heading"></a></h3>
<nav class="contents local" id="id4">
<ul class="simple">
<li><p><a class="reference internal" href="#random-digraphs" id="id308">Random digraphs</a></p></li>
<li><p><a class="reference internal" href="#graphviz-drawings" id="id309">Graphviz drawings</a></p></li>
<li><p><a class="reference internal" href="#asymmetrical-and-symmetrical-parts" id="id310">Asymmetrical and symmetrical parts</a></p></li>
<li><p><a class="reference internal" href="#border-and-inner-parts" id="id311">Border and inner parts</a></p></li>
<li><p><a class="reference internal" href="#fusion-by-epistemic-disjunction" id="id312">Fusion by epistemic disjunction</a></p></li>
<li><p><a class="reference internal" href="#dual-converse-and-codual-digraphs" id="id313">Dual, converse and codual digraphs</a></p></li>
<li><p><a class="reference internal" href="#symmetric-and-transitive-closures" id="id314">Symmetric and transitive closures</a></p></li>
<li><p><a class="reference internal" href="#strong-components" id="id315">Strong components</a></p></li>
<li><p><a class="reference internal" href="#csv-storage" id="id316">CSV storage</a></p></li>
<li><p><a class="reference internal" href="#complete-empty-and-indeterminate-digraphs" id="id317">Complete, empty and indeterminate digraphs</a></p></li>
<li><p><a class="reference internal" href="#historical-notes" id="id318">Historical notes</a></p></li>
</ul>
</nav>
<p><strong>Abstract</strong>: The tutorial introduces bipolar-valued digraphs, the fundamental root type of all the specialised digraphs implemented in the <em>Digraph3</em> modules. With the help of a randomly valued digraph, we illustrate some basic digraph manipulation methods, like drawing the digraph, dividing the digraph into its asymmetric and symmetric parts, separating the border from the inner part, computing associated dual, converse and codual digraphs, and operating symmetric and transitive closures</p>
<hr class="docutils" />
<section id="random-digraphs">
<h4><a class="toc-backref" href="#id308" role="doc-backlink"><span class="section-number">1.2.2.1. </span>Random digraphs</a><a class="headerlink" href="#random-digraphs" title="Link to this heading"></a></h4>
<p>We are starting this tutorial with generating a uniformly random [-1.0; +1.0]-valued digraph of order 7, denoted <em>rdg</em> and modelling, for instance, a binary relation (<em>x S y</em>) defined on the set of nodes of <em>rdg</em>. For this purpose, the <em>Digraph3</em> collection contains a <a class="reference internal" href="techDoc.html#module-randomDigraphs" title="randomDigraphs"><code class="xref py py-mod docutils literal notranslate"><span class="pre">randomDigraphs</span></code></a> module providing a specific <a class="reference internal" href="techDoc.html#randomDigraphs.RandomValuationDigraph" title="randomDigraphs.RandomValuationDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomValuationDigraph</span></code></a> constructor.</p>
<div class="literal-block-wrapper docutils container" id="tutrandvaldigraph">
<div class="code-block-caption"><span class="caption-number">Listing 1.4 </span><span class="caption-text">Random bipolar-valued digraph instance</span><a class="headerlink" href="#tutrandvaldigraph" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">randomDigraphs</span> <span class="kn">import</span> <span class="n">RandomValuationDigraph</span>
<span class="hll"><span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rdg</span> <span class="o">=</span> <span class="n">RandomValuationDigraph</span><span class="p">(</span><span class="n">order</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span>
</span><span class="hll"><span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rdg</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;tutRandValDigraph&#39;</span><span class="p">)</span>
</span><span class="linenos"> 4</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">digraphs</span> <span class="kn">import</span> <span class="n">Digraph</span>
<span class="linenos"> 5</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rdg</span> <span class="o">=</span> <span class="n">Digraph</span><span class="p">(</span><span class="s1">&#39;tutRandValDigraph&#39;</span><span class="p">)</span>
<span class="linenos"> 6</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rdg</span>
<span class="linenos"> 7</span><span class="go"> *------- Digraph instance description ------*</span>
<span class="linenos"> 8</span><span class="go"> Instance class      : Digraph</span>
<span class="linenos"> 9</span><span class="go"> Instance name       : tutRandValDigraph</span>
<span class="linenos">10</span><span class="go"> Digraph Order       : 7</span>
<span class="linenos">11</span><span class="go"> Digraph Size        : 22</span>
<span class="linenos">12</span><span class="go"> Valuation domain    : [-1.00;1.00]</span>
<span class="hll"><span class="linenos">13</span><span class="go"> Determinateness (%) : 75.24</span>
</span><span class="linenos">14</span><span class="go"> Attributes          : [&#39;name&#39;, &#39;actions&#39;, &#39;order&#39;,</span>
<span class="linenos">15</span><span class="go">                        &#39;valuationdomain&#39;, &#39;relation&#39;,</span>
<span class="linenos">16</span><span class="go">                        &#39;gamma&#39;, &#39;notGamma&#39;]</span>
</pre></div>
</div>
</div>
<p>With the <a class="reference internal" href="techDoc.html#digraphs.Digraph.save" title="digraphs.Digraph.save"><code class="xref py py-func docutils literal notranslate"><span class="pre">save()</span></code></a> method (see <a class="reference internal" href="#tutrandvaldigraph"><span class="std std-numref">Listing 1.4</span></a> Line 3) we may keep a backup version for future use of <em>rdg</em> which will be stored in a file called <em>tutRandValDigraph.py</em> in the current working directory. The generic <a class="reference internal" href="techDoc.html#digraphs.Digraph" title="digraphs.Digraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">Digraph</span></code></a> class constructor may restore the <em>rdg</em> object from the stored file (Line 4). We may easily inspect the content of <em>rdg</em> (Lines 5). The digraph size 22 indicates the number of positively valued arcs. The valuation domain is uniformly distributed in the interval <img class="math" src="_images/math/30173f024d28e69ed5ab382b31bdc7cb1df97065.png" alt="[-1.0; 1.0]"/> and the mean absolute arc valuation is <img class="math" src="_images/math/518e1e09c9469d79355604b87255e0fb7fa9cc47.png" alt="(0.7524 \times 2)\, -\, 1.0 \;=\; 0.5048"/> (Line 12) .</p>
<p>All <a class="reference internal" href="techDoc.html#digraphs.Digraph" title="digraphs.Digraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">Digraph</span></code></a> objects contain at least the list of attributes shown here: a <strong>name</strong> (string), a dictionary of <strong>actions</strong> (digraph nodes), an <strong>order</strong> (integer) attribute containing the number of actions, a <strong>valuationdomain</strong> dictionary, a double dictionary <strong>relation</strong> representing the adjency table of the digraph relation, a <strong>gamma</strong> and a <strong>notGamma</strong> dictionary containing the direct neighbourhood of each action.</p>
<p>As mentioned previously, the <a class="reference internal" href="techDoc.html#digraphs.Digraph" title="digraphs.Digraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">Digraph</span></code></a> class provides some generic <em>show…</em> methods for exploring a given <em>Digraph</em> object, like the <a class="reference internal" href="techDoc.html#digraphs.Digraph.showShort" title="digraphs.Digraph.showShort"><code class="xref py py-meth docutils literal notranslate"><span class="pre">showShort()</span></code></a>, <a class="reference internal" href="techDoc.html#digraphs.Digraph.showAll" title="digraphs.Digraph.showAll"><code class="xref py py-meth docutils literal notranslate"><span class="pre">showAll()</span></code></a>, <a class="reference internal" href="techDoc.html#digraphs.Digraph.showRelationTable" title="digraphs.Digraph.showRelationTable"><code class="xref py py-meth docutils literal notranslate"><span class="pre">showRelationTable()</span></code></a> and the <a class="reference internal" href="techDoc.html#digraphs.Digraph.showNeighborhoods" title="digraphs.Digraph.showNeighborhoods"><code class="xref py py-meth docutils literal notranslate"><span class="pre">showNeighborhoods()</span></code></a> methods.</p>
<div class="literal-block-wrapper docutils container" id="tutrandvaldigraphshowall">
<div class="code-block-caption"><span class="caption-number">Listing 1.5 </span><span class="caption-text">Example of random valuation digraph</span><a class="headerlink" href="#tutrandvaldigraphshowall" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rdg</span><span class="o">.</span><span class="n">showAll</span><span class="p">()</span>
<span class="linenos"> 2</span><span class="go"> *----- show detail -------------*</span>
<span class="linenos"> 3</span><span class="go">  Digraph          : tutRandValDigraph</span>
<span class="linenos"> 4</span><span class="go"> *---- Actions ----*</span>
<span class="linenos"> 5</span><span class="go">  [&#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;]</span>
<span class="linenos"> 6</span><span class="go"> *---- Characteristic valuation domain ----*</span>
<span class="linenos"> 7</span><span class="go">  {&#39;med&#39;: Decimal(&#39;0.0&#39;), &#39;hasIntegerValuation&#39;: False,</span>
<span class="linenos"> 8</span><span class="go">   &#39;min&#39;: Decimal(&#39;-1.0&#39;), &#39;max&#39;: Decimal(&#39;1.0&#39;)}</span>
<span class="linenos"> 9</span><span class="go"> * ---- Relation Table -----</span>
<span class="linenos">10</span><span class="go"> r(xSy) |  &#39;1&#39;    &#39;2&#39;   &#39;3&#39;  &#39;4&#39;   &#39;5&#39;    &#39;6&#39;  &#39;7&#39;</span>
<span class="linenos">11</span><span class="go"> -------|-------------------------------------------</span>
<span class="hll"><span class="linenos">12</span><span class="go"> &#39;1&#39;    |  0.00 -0.48  0.70  0.86  0.30  0.38  0.44</span>
</span><span class="hll"><span class="linenos">13</span><span class="go"> &#39;2&#39;    | -0.22  0.00 -0.38  0.50  0.80 -0.54  0.02</span>
</span><span class="hll"><span class="linenos">14</span><span class="go"> &#39;3&#39;    | -0.42  0.08  0.00  0.70 -0.56  0.84 -1.00</span>
</span><span class="hll"><span class="linenos">15</span><span class="go"> &#39;4&#39;    |  0.44 -0.40 -0.62  0.00  0.04  0.66  0.76</span>
</span><span class="hll"><span class="linenos">16</span><span class="go"> &#39;5&#39;    |  0.32 -0.48 -0.46  0.64  0.00 -0.22 -0.52</span>
</span><span class="hll"><span class="linenos">17</span><span class="go"> &#39;6&#39;    | -0.84  0.00 -0.40 -0.96 -0.18  0.00 -0.22</span>
</span><span class="hll"><span class="linenos">18</span><span class="go"> &#39;7&#39;    |  0.88  0.72  0.82  0.52 -0.84  0.04  0.00</span>
</span><span class="linenos">19</span><span class="go"> *--- Connected Components ---*</span>
<span class="linenos">20</span><span class="go">  1: [&#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;]</span>
<span class="linenos">21</span><span class="go"> Neighborhoods:</span>
<span class="linenos">22</span><span class="go">  Gamma:</span>
<span class="linenos">23</span><span class="go">  &#39;1&#39;: in =&gt; {&#39;5&#39;, &#39;7&#39;, &#39;4&#39;}, out =&gt; {&#39;5&#39;, &#39;7&#39;, &#39;6&#39;, &#39;3&#39;, &#39;4&#39;}</span>
<span class="linenos">24</span><span class="go">  &#39;2&#39;: in =&gt; {&#39;7&#39;, &#39;3&#39;}, out =&gt; {&#39;5&#39;, &#39;7&#39;, &#39;4&#39;}</span>
<span class="linenos">25</span><span class="go">  &#39;3&#39;: in =&gt; {&#39;7&#39;, &#39;1&#39;}, out =&gt; {&#39;6&#39;, &#39;2&#39;, &#39;4&#39;}</span>
<span class="linenos">26</span><span class="go">  &#39;4&#39;: in =&gt; {&#39;5&#39;, &#39;7&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;}, out =&gt; {&#39;5&#39;, &#39;7&#39;, &#39;1&#39;, &#39;6&#39;}</span>
<span class="linenos">27</span><span class="go">  &#39;5&#39;: in =&gt; {&#39;1&#39;, &#39;2&#39;, &#39;4&#39;}, out =&gt; {&#39;1&#39;, &#39;4&#39;}</span>
<span class="linenos">28</span><span class="go">  &#39;6&#39;: in =&gt; {&#39;7&#39;, &#39;1&#39;, &#39;3&#39;, &#39;4&#39;}, out =&gt; set()</span>
<span class="linenos">29</span><span class="go">  &#39;7&#39;: in =&gt; {&#39;1&#39;, &#39;2&#39;, &#39;4&#39;}, out =&gt; {&#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;6&#39;}</span>
<span class="linenos">30</span><span class="go">  Not Gamma:</span>
<span class="linenos">31</span><span class="go">  &#39;1&#39;: in =&gt; {&#39;6&#39;, &#39;2&#39;, &#39;3&#39;}, out =&gt; {&#39;2&#39;}</span>
<span class="linenos">32</span><span class="go">  &#39;2&#39;: in =&gt; {&#39;5&#39;, &#39;1&#39;, &#39;4&#39;}, out =&gt; {&#39;1&#39;, &#39;6&#39;, &#39;3&#39;}</span>
<span class="linenos">33</span><span class="go">  &#39;3&#39;: in =&gt; {&#39;5&#39;, &#39;6&#39;, &#39;2&#39;, &#39;4&#39;}, out =&gt; {&#39;5&#39;, &#39;7&#39;, &#39;1&#39;}</span>
<span class="linenos">34</span><span class="go">  &#39;4&#39;: in =&gt; {&#39;6&#39;}, out =&gt; {&#39;2&#39;, &#39;3&#39;}</span>
<span class="linenos">35</span><span class="go">  &#39;5&#39;: in =&gt; {&#39;7&#39;, &#39;6&#39;, &#39;3&#39;}, out =&gt; {&#39;7&#39;, &#39;6&#39;, &#39;2&#39;, &#39;3&#39;}</span>
<span class="linenos">36</span><span class="go">  &#39;6&#39;: in =&gt; {&#39;5&#39;, &#39;2&#39;}, out =&gt; {&#39;5&#39;, &#39;7&#39;, &#39;1&#39;, &#39;3&#39;, &#39;4&#39;}</span>
<span class="linenos">37</span><span class="go">  &#39;7&#39;: in =&gt; {&#39;5&#39;, &#39;6&#39;, &#39;3&#39;}, out =&gt; {&#39;5&#39;}</span>
</pre></div>
</div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Mind that most Digraph class methods will ignore the <strong>reflexive</strong> links by considering that they are <strong>indeterminate</strong>, i.e. the characteristic value <img class="math" src="_images/math/9457c394c6a4d0d7d0c273d85cfb105b3139ab67.png" alt="r(x\,S\,x)"/> for all action <em>x</em> is set to the <em>median</em>, i.e. <em>indeterminate</em> value 0.0 in this case (see <a class="reference internal" href="#tutrandvaldigraphshowall"><span class="std std-numref">Listing 1.5</span></a> Lines 12-18 and <a class="reference internal" href="#bis-2004a" id="id5"><span>[BIS-2004a]</span></a>).</p>
</div>
</section>
<section id="graphviz-drawings">
<h4><a class="toc-backref" href="#id309" role="doc-backlink"><span class="section-number">1.2.2.2. </span>Graphviz drawings</a><a class="headerlink" href="#graphviz-drawings" title="Link to this heading"></a></h4>
<p>We may even get a better insight into the <a class="reference internal" href="techDoc.html#digraphs.Digraph" title="digraphs.Digraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">Digraph</span></code></a> object <em>rdg</em> by looking at a <a class="reference external" href="https://graphviz.org/">graphviz</a>  drawing <a class="footnote-reference brackets" href="#id208" id="id7" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a> .</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rdg</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">(</span><span class="s1">&#39;tutRandValDigraph&#39;</span><span class="p">)</span>
<span class="linenos">2</span><span class="go"> *---- exporting a dot file for GraphViz tools ---------*</span>
<span class="linenos">3</span><span class="go"> Exporting to tutRandValDigraph.dot</span>
<span class="linenos">4</span><span class="go"> dot -Grankdir=BT -Tpng tutRandValDigraph.dot -o tutRandValDigraph.png</span>
</pre></div>
</div>
<figure class="align-center" id="tutorialvaldigraph">
<a class="reference internal image-reference" href="_images/tutRandValDigraph.png"><img alt="_images/tutRandValDigraph.png" src="_images/tutRandValDigraph.png" style="width: 300px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.4 </span><span class="caption-text">The tutorial random valuation digraph</span><a class="headerlink" href="#tutorialvaldigraph" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Double links are drawn in bold black with an arrowhead at each end, whereas single asymmetrical links are drawn in black with an arrowhead showing the direction of the link. Notice the indeterminate relational situation (<img class="math" src="_images/math/2f1b05e066b9ac2f72940502a457f46271d5f8f0.png" alt="r(6\,S\,2) = 0.00"/>) observed between nodes ‘6’ and ‘2’. The corresponding link is marked in gray with an open arrowhead in the drawing (see <a class="reference internal" href="#tutorialvaldigraph"><span class="std std-numref">Fig. 1.4</span></a>).</p>
</section>
<section id="asymmetrical-and-symmetrical-parts">
<h4><a class="toc-backref" href="#id310" role="doc-backlink"><span class="section-number">1.2.2.3. </span>Asymmetrical and symmetrical parts</a><a class="headerlink" href="#asymmetrical-and-symmetrical-parts" title="Link to this heading"></a></h4>
<p>We may now extract both the <em>symmetrical</em> as well as the <em>asymmetrical</em> part of digraph <em>dg</em> with the help of two corresponding constructors (see <a class="reference internal" href="#asymsymparts"><span class="std std-numref">Fig. 1.5</span></a>).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">digraphs</span> <span class="kn">import</span> <span class="n">AsymmetricPartialDigraph</span><span class="p">,</span>
<span class="linenos">2</span><span class="gp">... </span>                     <span class="n">SymmetricPartialDigraph</span>
<span class="linenos">3</span>
<span class="linenos">4</span><span class="gp">&gt;&gt;&gt; </span><span class="n">asymDg</span> <span class="o">=</span> <span class="n">AsymmetricPartialDigraph</span><span class="p">(</span><span class="n">rdg</span><span class="p">)</span>
<span class="linenos">5</span><span class="gp">&gt;&gt;&gt; </span><span class="n">asymDg</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">()</span>
<span class="linenos">6</span><span class="gp">&gt;&gt;&gt; </span><span class="n">symDg</span> <span class="o">=</span> <span class="n">SymmetricPartialDigraph</span><span class="p">(</span><span class="n">rdg</span><span class="p">)</span>
<span class="linenos">7</span><span class="gp">&gt;&gt;&gt; </span><span class="n">symDg</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-center" id="asymsymparts">
<a class="reference internal image-reference" href="_images/asymSymParts.png"><img alt="_images/asymSymParts.png" src="_images/asymSymParts.png" style="width: 600px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.5 </span><span class="caption-text">Asymmetrical and symmetrical parts of the tutorial random valuation digraph</span><a class="headerlink" href="#asymsymparts" title="Link to this image"></a></p>
</figcaption>
</figure>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The constructor of the partial objects <em>asymDg</em> and <em>symDg</em> puts to the indeterminate characteristic value all <em>not-asymmetrical</em>, respectively <em>not-symmetrical</em> links between nodes (see <a class="reference internal" href="#asymsymparts"><span class="std std-numref">Fig. 1.5</span></a>).</p>
</div>
<p>Here below, for illustration the source code of the <em>relation</em> constructor of the <a class="reference internal" href="techDoc.html#digraphs.AsymmetricPartialDigraph" title="digraphs.AsymmetricPartialDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsymmetricPartialDigraph</span></code></a> class.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span> <span class="k">def</span> <span class="nf">_constructRelation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 2</span>     <span class="n">actions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">actions</span>
<span class="linenos"> 3</span>     <span class="n">Min</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">valuationdomain</span><span class="p">[</span><span class="s1">&#39;min&#39;</span><span class="p">]</span>
<span class="linenos"> 4</span>     <span class="n">Max</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">valuationdomain</span><span class="p">[</span><span class="s1">&#39;max&#39;</span><span class="p">]</span>
<span class="linenos"> 5</span>     <span class="n">Med</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">valuationdomain</span><span class="p">[</span><span class="s1">&#39;med&#39;</span><span class="p">]</span>
<span class="linenos"> 6</span>     <span class="n">relationIn</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">relation</span>
<span class="linenos"> 7</span>     <span class="n">relationOut</span> <span class="o">=</span> <span class="p">{}</span>
<span class="linenos"> 8</span>     <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">actions</span><span class="p">:</span>
<span class="linenos"> 9</span>         <span class="n">relationOut</span><span class="p">[</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
<span class="linenos">10</span>         <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">actions</span><span class="p">:</span>
<span class="linenos">11</span>             <span class="k">if</span> <span class="n">a</span> <span class="o">!=</span> <span class="n">b</span><span class="p">:</span>
<span class="linenos">12</span>                 <span class="k">if</span> <span class="n">relationIn</span><span class="p">[</span><span class="n">a</span><span class="p">][</span><span class="n">b</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">Med</span> <span class="ow">and</span> <span class="n">relationIn</span><span class="p">[</span><span class="n">b</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">Med</span><span class="p">:</span>
<span class="linenos">13</span>                     <span class="n">relationOut</span><span class="p">[</span><span class="n">a</span><span class="p">][</span><span class="n">b</span><span class="p">]</span> <span class="o">=</span> <span class="n">relationIn</span><span class="p">[</span><span class="n">a</span><span class="p">][</span><span class="n">b</span><span class="p">]</span>
<span class="linenos">14</span>                 <span class="k">elif</span> <span class="n">relationIn</span><span class="p">[</span><span class="n">a</span><span class="p">][</span><span class="n">b</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">Med</span> <span class="ow">and</span> <span class="n">relationIn</span><span class="p">[</span><span class="n">b</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">Med</span><span class="p">:</span>
<span class="linenos">15</span>                     <span class="n">relationOut</span><span class="p">[</span><span class="n">a</span><span class="p">][</span><span class="n">b</span><span class="p">]</span> <span class="o">=</span> <span class="n">relationIn</span><span class="p">[</span><span class="n">a</span><span class="p">][</span><span class="n">b</span><span class="p">]</span>
<span class="linenos">16</span>                 <span class="k">else</span><span class="p">:</span>
<span class="linenos">17</span>                     <span class="n">relationOut</span><span class="p">[</span><span class="n">a</span><span class="p">][</span><span class="n">b</span><span class="p">]</span> <span class="o">=</span> <span class="n">Med</span>
<span class="linenos">18</span>             <span class="k">else</span><span class="p">:</span>
<span class="linenos">19</span>                 <span class="n">relationOut</span><span class="p">[</span><span class="n">a</span><span class="p">][</span><span class="n">b</span><span class="p">]</span> <span class="o">=</span> <span class="n">Med</span>
<span class="linenos">20</span>     <span class="k">return</span> <span class="n">relationOut</span>
</pre></div>
</div>
</section>
<section id="border-and-inner-parts">
<h4><a class="toc-backref" href="#id311" role="doc-backlink"><span class="section-number">1.2.2.4. </span>Border and inner parts</a><a class="headerlink" href="#border-and-inner-parts" title="Link to this heading"></a></h4>
<p>We may also extract the border -the part of a digraph induced by the union of its initial and terminal prekernels (see tutorial <a class="reference internal" href="pearls.html#kernel-tutorial-label"><span class="std std-ref">On computing digraph kernels</span></a>)-  as well as, the inner part -the <em>complement</em> of the border- with the help of two corresponding class constructors: <a class="reference internal" href="techDoc.html#digraphs.GraphBorder" title="digraphs.GraphBorder"><code class="xref py py-class docutils literal notranslate"><span class="pre">GraphBorder</span></code></a> and <a class="reference internal" href="techDoc.html#digraphs.GraphInner" title="digraphs.GraphInner"><code class="xref py py-class docutils literal notranslate"><span class="pre">GraphInner</span></code></a> (see <a class="reference internal" href="#borderinnerpart"><span class="std std-numref">Listing 1.6</span></a>).</p>
<p>Let us illustrate these parts on a linear ordering obtained from the tutorial random valuation digraph <em>rdg</em>  with the <a class="reference internal" href="#netflows-ranking-label"><span class="std std-ref">NetFlows ranking rule</span></a> (see <a class="reference internal" href="#borderinnerpart"><span class="std std-numref">Listing 1.6</span></a> Line 2-3).</p>
<div class="literal-block-wrapper docutils container" id="borderinnerpart">
<div class="code-block-caption"><span class="caption-number">Listing 1.6 </span><span class="caption-text">Border and inner part of a linear order</span><a class="headerlink" href="#borderinnerpart" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">digraphs</span> <span class="kn">import</span> <span class="n">GraphBorder</span><span class="p">,</span> <span class="n">GraphInner</span>
<span class="hll"><span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">linearOrders</span> <span class="kn">import</span> <span class="n">NetFlowsOrder</span>
</span><span class="hll"><span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">nf</span> <span class="o">=</span> <span class="n">NetFlowsOrder</span><span class="p">(</span><span class="n">rdg</span><span class="p">)</span>
</span><span class="linenos">4</span><span class="gp">&gt;&gt;&gt; </span><span class="n">nf</span><span class="o">.</span><span class="n">netFlowsOrder</span>
<span class="linenos">5</span><span class="go"> [&#39;6&#39;, &#39;4&#39;, &#39;5&#39;, &#39;3&#39;, &#39;2&#39;, &#39;1&#39;, &#39;7&#39;]</span>
<span class="linenos">6</span><span class="gp">&gt;&gt;&gt; </span><span class="n">bnf</span> <span class="o">=</span> <span class="n">GraphBorder</span><span class="p">(</span><span class="n">nf</span><span class="p">)</span>
<span class="linenos">7</span><span class="gp">&gt;&gt;&gt; </span><span class="n">bnf</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">(</span><span class="n">worstChoice</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;6&#39;</span><span class="p">],</span><span class="n">bestChoice</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;7&#39;</span><span class="p">])</span>
<span class="linenos">8</span><span class="gp">&gt;&gt;&gt; </span><span class="n">inf</span> <span class="o">=</span> <span class="n">GraphInner</span><span class="p">(</span><span class="n">nf</span><span class="p">)</span>
<span class="linenos">9</span><span class="gp">&gt;&gt;&gt; </span><span class="n">inf</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">(</span><span class="n">worstChoice</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;6&#39;</span><span class="p">],</span><span class="n">bestChoice</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;7&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<figure class="align-center" id="graphborderandinner1">
<a class="reference internal image-reference" href="_images/graphBorderAndInner1.png"><img alt="_images/graphBorderAndInner1.png" src="_images/graphBorderAndInner1.png" style="width: 600px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.6 </span><span class="caption-text"><em>Border</em> and <em>inner</em> part of a linear order oriented by <em>terminal</em> and <em>initial</em> kernels</span><a class="headerlink" href="#graphborderandinner1" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>We may orient the graphviz drawings in <a class="reference internal" href="#graphborderandinner1"><span class="std std-numref">Fig. 1.6</span></a> with the terminal node 6 (<em>worstChoice</em> parameter) and initial node 7 (<em>bestChoice</em> parameter), see <a class="reference internal" href="#borderinnerpart"><span class="std std-numref">Listing 1.6</span></a> Lines 7 and 9).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The constructor of the partial digraphs <em>bnf</em> and <em>inf</em>  (see <a class="reference internal" href="#borderinnerpart"><span class="std std-numref">Listing 1.6</span></a> Lines 3 and 6) puts to the <em>indeterminate</em> characteristic value all links <em>not</em> in the <em>border</em>, respectively <em>not</em> in the <em>inner</em> part (see <a class="reference internal" href="#graphborderandinner"><span class="std std-numref">Fig. 1.7</span></a>).</p>
</div>
<p>Being much <em>denser</em> than a linear order, the actual inner part of our tutorial random valuation digraph <em>dg</em> is reduced to a single arc between nodes 3 and 4 (see <a class="reference internal" href="#graphborderandinner"><span class="std std-numref">Fig. 1.7</span></a>).</p>
<figure class="align-center" id="graphborderandinner">
<a class="reference internal image-reference" href="_images/graphBorderAndInner.png"><img alt="_images/graphBorderAndInner.png" src="_images/graphBorderAndInner.png" style="width: 600px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.7 </span><span class="caption-text">Border and inner part of the tutorial random valuation digraph <em>rdg</em></span><a class="headerlink" href="#graphborderandinner" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Indeed, a <em>complete</em> digraph on the limit has no inner part –privacy!– at all as all its arcs appear in the border. Notice that <em>empty</em> and <em>indeterminate</em> digraphs admit both, an empty border and an empty inner part. When in general a given digraph –like an oriented chordless cycle– does not admit any initial or terminal prekernels, its border part will be empty and its inner part will contain all its arcs. The digraph’s relation is <em>closed</em> on itself and shows indeed no laterality <a class="footnote-reference brackets" href="#id271" id="id8" role="doc-noteref"><span class="fn-bracket">[</span>65<span class="fn-bracket">]</span></a>.</p>
</section>
<section id="fusion-by-epistemic-disjunction">
<span id="epistemic-fusion-label"></span><h4><a class="toc-backref" href="#id312" role="doc-backlink"><span class="section-number">1.2.2.5. </span>Fusion by epistemic disjunction</a><a class="headerlink" href="#fusion-by-epistemic-disjunction" title="Link to this heading"></a></h4>
<p>We may recover object <em>rdg</em> from both partial objects <em>asymDg</em> and <em>symDg</em>, or as well from the border <em>bg</em> and the inner part <em>ig</em>, with a <strong>bipolar fusion</strong> constructor, also called <strong>epistemic disjunction</strong>, available via the <a class="reference internal" href="techDoc.html#digraphs.FusionDigraph" title="digraphs.FusionDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">FusionDigraph</span></code></a> class (see <a class="reference internal" href="#tutrandvaldigraph"><span class="std std-numref">Listing 1.4</span></a> Lines 12- 21).</p>
<div class="literal-block-wrapper docutils container" id="epistemicfusion">
<div class="code-block-caption"><span class="caption-number">Listing 1.7 </span><span class="caption-text">Epistemic fusion of partial diagraphs</span><a class="headerlink" href="#epistemicfusion" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">digraphs</span> <span class="kn">import</span> <span class="n">FusionDigraph</span>
<span class="hll"><span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fusDg</span> <span class="o">=</span> <span class="n">FusionDigraph</span><span class="p">(</span><span class="n">asymDg</span><span class="p">,</span><span class="n">symDg</span><span class="p">,</span><span class="n">operator</span><span class="o">=</span><span class="s1">&#39;o-max&#39;</span><span class="p">)</span>
</span><span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># fusDg = FusionDigraph(bg,ig,operator=&#39;o-max&#39;)</span>
<span class="linenos"> 4</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fusDg</span><span class="o">.</span><span class="n">showRelationTable</span><span class="p">()</span>
<span class="linenos"> 5</span><span class="go"> * ---- Relation Table -----</span>
<span class="linenos"> 6</span><span class="go"> r(xSy) |  &#39;1&#39;    &#39;2&#39;   &#39;3&#39;  &#39;4&#39;   &#39;5&#39;    &#39;6&#39;  &#39;7&#39;</span>
<span class="linenos"> 7</span><span class="go"> -------|------------------------------------------</span>
<span class="linenos"> 8</span><span class="go"> &#39;1&#39;    |  0.00 -0.48  0.70  0.86  0.30  0.38  0.44</span>
<span class="linenos"> 9</span><span class="go"> &#39;2&#39;    | -0.22  0.00 -0.38  0.50  0.80 -0.54  0.02</span>
<span class="linenos">10</span><span class="go"> &#39;3&#39;    | -0.42  0.08  0.00  0.70 -0.56  0.84 -1.00</span>
<span class="linenos">11</span><span class="go"> &#39;4&#39;    |  0.44 -0.40 -0.62  0.00  0.04  0.66  0.76</span>
<span class="linenos">12</span><span class="go"> &#39;5&#39;    |  0.32 -0.48 -0.46  0.64  0.00 -0.22 -0.52</span>
<span class="linenos">13</span><span class="go"> &#39;6&#39;    | -0.84  0.00 -0.40 -0.96 -0.18  0.00 -0.22</span>
<span class="linenos">14</span><span class="go"> &#39;7&#39;    |  0.88  0.72  0.82  0.52 -0.84  0.04  0.00</span>
</pre></div>
</div>
</div>
<p>The <a class="reference internal" href="#epistemic-fusion-label"><span class="std std-ref">epistemic fusion</span></a> operator <strong>o-max</strong> (see <a class="reference internal" href="#epistemicfusion"><span class="std std-numref">Listing 1.7</span></a> Line 2) works as follows.</p>
<p>Let <em>r</em> and <em>r’</em> characterise two bipolar-valued epistemic situations.</p>
<blockquote>
<div><ul class="simple">
<li><p>o-max(<em>r</em>, <em>r’</em> ) = max(<em>r</em>, <em>r’</em> ) when both <em>r</em> and <em>r’</em> are more or less valid or indeterminate;</p></li>
<li><p>o-max(<em>r</em>, <em>r’</em> ) = min(<em>r</em>, <em>r’</em> ) when both <em>r</em> and <em>r’</em> are more or less invalid or indeterminate;</p></li>
<li><p>o-max(<em>r</em>, <em>r’</em> ) = <em>indeterminate</em> otherwise.</p></li>
</ul>
</div></blockquote>
</section>
<section id="dual-converse-and-codual-digraphs">
<span id="codual-transform-label"></span><h4><a class="toc-backref" href="#id313" role="doc-backlink"><span class="section-number">1.2.2.6. </span>Dual, converse and codual digraphs</a><a class="headerlink" href="#dual-converse-and-codual-digraphs" title="Link to this heading"></a></h4>
<p>We may as readily compute the <strong>dual</strong> (negated relation <a class="footnote-reference brackets" href="#id218" id="id9" role="doc-noteref"><span class="fn-bracket">[</span>14<span class="fn-bracket">]</span></a>), the <strong>converse</strong> (transposed relation) and the <strong>codual</strong> (transposed and negated relation) of the digraph instance <em>rdg</em>.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">digraphs</span> <span class="kn">import</span> <span class="n">DualDigraph</span><span class="p">,</span> <span class="n">ConverseDigraph</span><span class="p">,</span> <span class="n">CoDualDigraph</span>
<span class="hll"><span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">ddg</span> <span class="o">=</span> <span class="n">DualDigraph</span><span class="p">(</span><span class="n">rdg</span><span class="p">)</span>
</span><span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">ddg</span><span class="o">.</span><span class="n">showRelationTable</span><span class="p">()</span>
<span class="linenos"> 4</span><span class="go"> -r(xSy) |  &#39;1&#39;    &#39;2&#39;   &#39;3&#39;  &#39;4&#39;   &#39;5&#39;    &#39;6&#39;  &#39;7&#39;</span>
<span class="linenos"> 5</span><span class="go"> --------|------------------------------------------</span>
<span class="linenos"> 6</span><span class="go"> &#39;1 &#39;    |  0.00  0.48 -0.70 -0.86 -0.30 -0.38 -0.44</span>
<span class="linenos"> 7</span><span class="go"> &#39;2&#39;     |  0.22  0.00  0.38 -0.50  0.80  0.54 -0.02</span>
<span class="linenos"> 8</span><span class="go"> &#39;3&#39;     |  0.42  0.08  0.00 -0.70  0.56 -0.84  1.00</span>
<span class="linenos"> 9</span><span class="go"> &#39;4&#39;     | -0.44  0.40  0.62  0.00 -0.04 -0.66 -0.76</span>
<span class="linenos">10</span><span class="go"> &#39;5&#39;     | -0.32  0.48  0.46 -0.64  0.00  0.22  0.52</span>
<span class="linenos">11</span><span class="go"> &#39;6&#39;     |  0.84  0.00  0.40  0.96  0.18  0.00  0.22</span>
<span class="linenos">12</span><span class="go"> &#39;7&#39;     |  0.88 -0.72 -0.82 -0.52  0.84 -0.04  0.00</span>
<span class="hll"><span class="linenos">13</span><span class="gp">&gt;&gt;&gt; </span><span class="n">cdg</span> <span class="o">=</span> <span class="n">ConverseDigraph</span><span class="p">(</span><span class="n">rdg</span><span class="p">)</span>
</span><span class="linenos">14</span><span class="gp">&gt;&gt;&gt; </span><span class="n">cdg</span><span class="o">.</span><span class="n">showRelationTable</span><span class="p">()</span>
<span class="linenos">15</span><span class="go"> * ---- Relation Table -----</span>
<span class="linenos">16</span><span class="go">  r(ySx) |  &#39;1&#39;    &#39;2&#39;   &#39;3&#39;   &#39;4&#39;   &#39;5&#39;   &#39;6&#39;   &#39;7&#39;</span>
<span class="linenos">17</span><span class="go"> --------|------------------------------------------</span>
<span class="linenos">18</span><span class="go"> &#39;1&#39;     |  0.00 -0.22 -0.42  0.44  0.32 -0.84  0.88</span>
<span class="linenos">19</span><span class="go"> &#39;2&#39;     | -0.48  0.00  0.08 -0.40 -0.48  0.00  0.72</span>
<span class="linenos">20</span><span class="go"> &#39;3&#39;     |  0.70 -0.38  0.00 -0.62 -0.46 -0.40  0.82</span>
<span class="linenos">21</span><span class="go"> &#39;4&#39;     |  0.86  0.50  0.70  0.00  0.64 -0.96  0.52</span>
<span class="linenos">22</span><span class="go"> &#39;5&#39;     |  0.30  0.80 -0.56  0.04  0.00 -0.18 -0.84</span>
<span class="linenos">23</span><span class="go"> &#39;6&#39;     |  0.38 -0.54  0.84  0.66 -0.22  0.00  0.04</span>
<span class="linenos">24</span><span class="go"> &#39;7&#39;     |  0.44  0.02 -1.00  0.76 -0.52 -0.22  0.00</span>
<span class="hll"><span class="linenos">25</span><span class="gp">&gt;&gt;&gt; </span><span class="n">cddg</span> <span class="o">=</span> <span class="n">CoDualDigraph</span><span class="p">(</span><span class="n">rdg</span><span class="p">)</span>
</span><span class="linenos">26</span><span class="gp">&gt;&gt;&gt; </span><span class="n">cddg</span><span class="o">.</span><span class="n">showRelationTable</span><span class="p">()</span>
<span class="linenos">27</span><span class="go"> * ---- Relation Table -----</span>
<span class="linenos">28</span><span class="go"> -r(ySx) |  &#39;1&#39;    &#39;2&#39;   &#39;3&#39;   &#39;4&#39;   &#39;5&#39;   &#39;6&#39;   &#39;7&#39;</span>
<span class="linenos">29</span><span class="go"> --------|------------------------------------------</span>
<span class="linenos">30</span><span class="go"> &#39;1&#39;     |  0.00  0.22  0.42 -0.44 -0.32  0.84 -0.88</span>
<span class="linenos">31</span><span class="go"> &#39;2&#39;     |  0.48  0.00 -0.08  0.40  0.48  0.00 -0.72</span>
<span class="linenos">32</span><span class="go"> &#39;3&#39;     | -0.70  0.38  0.00  0.62  0.46  0.40 -0.82</span>
<span class="linenos">33</span><span class="go"> &#39;4&#39;     | -0.86 -0.50 -0.70  0.00 -0.64  0.96 -0.52</span>
<span class="linenos">34</span><span class="go"> &#39;5&#39;     | -0.30 -0.80  0.56 -0.04  0.00  0.18  0.84</span>
<span class="linenos">35</span><span class="go"> &#39;6&#39;     | -0.38  0.54 -0.84 -0.66  0.22  0.00 -0.04</span>
<span class="linenos">36</span><span class="go"> &#39;7&#39;     | -0.44 -0.02  1.00 -0.76  0.52  0.22  0.00</span>
</pre></div>
</div>
<p>Computing the <em>dual</em>, respectively the <em>converse</em>, may also be done with prefixing the <em>__neg__</em> (-) or the <em>__invert__</em> (~) operator. The <em>codual</em> of a Digraph object may, hence, as well be computed with a <strong>composition</strong> (in either order) of both operations.</p>
<div class="literal-block-wrapper docutils container" id="infixoperators">
<div class="code-block-caption"><span class="caption-number">Listing 1.8 </span><span class="caption-text">Computing the <em>dual</em>, the <em>converse</em> and the <em>codual</em> of a digraph</span><a class="headerlink" href="#infixoperators" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">ddg</span> <span class="o">=</span> <span class="o">-</span><span class="n">rdg</span>   <span class="c1"># dual of rdg</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">cdg</span> <span class="o">=</span> <span class="o">~</span><span class="n">rdg</span>   <span class="c1"># converse of rdg</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">cddg</span> <span class="o">=</span> <span class="o">~</span><span class="p">(</span><span class="o">-</span><span class="n">rdg</span><span class="p">)</span> <span class="c1"># = -(~rdg) codual of rdg</span>
<span class="linenos"> 4</span><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="o">-</span><span class="p">(</span><span class="o">~</span><span class="n">rdg</span><span class="p">))</span><span class="o">.</span><span class="n">showRelationTable</span><span class="p">()</span>
<span class="linenos"> 5</span><span class="go"> * ---- Relation Table -----</span>
<span class="linenos"> 6</span><span class="go"> -r(ySx) |  &#39;1&#39;    &#39;2&#39;   &#39;3&#39;   &#39;4&#39;   &#39;5&#39;   &#39;6&#39;   &#39;7&#39;</span>
<span class="linenos"> 7</span><span class="go"> --------|------------------------------------------</span>
<span class="linenos"> 8</span><span class="go"> &#39;1&#39;     |  0.00  0.22  0.42 -0.44 -0.32  0.84 -0.88</span>
<span class="linenos"> 9</span><span class="go"> &#39;2&#39;     |  0.48  0.00 -0.08  0.40  0.48  0.00 -0.72</span>
<span class="linenos">10</span><span class="go"> &#39;3&#39;     | -0.70  0.38  0.00  0.62  0.46  0.40 -0.82</span>
<span class="linenos">11</span><span class="go"> &#39;4&#39;     | -0.86 -0.50 -0.70  0.00 -0.64  0.96 -0.52</span>
<span class="linenos">12</span><span class="go"> &#39;5&#39;     | -0.30 -0.80  0.56 -0.04  0.00  0.18  0.84</span>
<span class="linenos">13</span><span class="go"> &#39;6&#39;     | -0.38  0.54 -0.84 -0.66  0.22  0.00 -0.04</span>
<span class="linenos">14</span><span class="go"> &#39;7&#39;     | -0.44 -0.02  1.00 -0.76  0.52  0.22  0.00</span>
</pre></div>
</div>
</div>
</section>
<section id="symmetric-and-transitive-closures">
<h4><a class="toc-backref" href="#id314" role="doc-backlink"><span class="section-number">1.2.2.7. </span>Symmetric and transitive closures</a><a class="headerlink" href="#symmetric-and-transitive-closures" title="Link to this heading"></a></h4>
<p>Symmetric and transitive closures, by default in-location constructors, are also available (see <a class="reference internal" href="#strongcomponents"><span class="std std-numref">Fig. 1.8</span></a>). Note that it is a good idea, before going ahead with these in-site operations, who irreversibly modify the original <em>rdg</em> object, to previously make a backup version of <em>rdg</em>. The simplest storage method, always provided by the generic <a class="reference internal" href="techDoc.html#digraphs.Digraph.save" title="digraphs.Digraph.save"><code class="xref py py-func docutils literal notranslate"><span class="pre">save()</span></code></a>, writes out in a named file the python content of the Digraph object in string representation.</p>
<div class="literal-block-wrapper docutils container" id="transitiveclosure">
<div class="code-block-caption"><span class="caption-number">Listing 1.9 </span><span class="caption-text">Symmetric and transitive in-site closures</span><a class="headerlink" href="#transitiveclosure" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rdg</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;tutRandValDigraph&#39;</span><span class="p">)</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rdg</span><span class="o">.</span><span class="n">closeSymmetric</span><span class="p">(</span><span class="n">InSite</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rdg</span><span class="o">.</span><span class="n">closeTransitive</span><span class="p">(</span><span class="n">InSite</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos">4</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rdg</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">(</span><span class="s1">&#39;strongComponents&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<figure class="align-center" id="strongcomponents">
<a class="reference internal image-reference" href="_images/strongComponents.png"><img alt="_images/strongComponents.png" src="_images/strongComponents.png" style="width: 300px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.8 </span><span class="caption-text">Symmetric and transitive in-site closures</span><a class="headerlink" href="#strongcomponents" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>The <a class="reference internal" href="techDoc.html#digraphs.Digraph.closeSymmetric" title="digraphs.Digraph.closeSymmetric"><code class="xref py py-meth docutils literal notranslate"><span class="pre">closeSymmetric()</span></code></a> method (see <a class="reference internal" href="#transitiveclosure"><span class="std std-numref">Listing 1.9</span></a> Line 2), of complexity <img class="math" src="_images/math/0d46836ff354f180306676ded9ebb233e0b01f5b.png" alt="\mathcal{O}(n^2)"/> where <em>n</em> denotes the digraph’s order, changes, on the one hand, all single pairwise links it may detect into double links by operating a disjunction of the pairwise relations. On the other hand, the <a class="reference internal" href="techDoc.html#digraphs.Digraph.closeTransitive" title="digraphs.Digraph.closeTransitive"><code class="xref py py-meth docutils literal notranslate"><span class="pre">closeTransitive()</span></code></a> method (see <a class="reference internal" href="#transitiveclosure"><span class="std std-numref">Listing 1.9</span></a> Line 3), implements the <em>Roy-Warshall</em> transitive closure algorithm of complexity <img class="math" src="_images/math/cbe7f1bf4cfffe31e0c2c8dd79afba3b5a481789.png" alt="\mathcal{O}(n^3)"/>. (<a class="footnote-reference brackets" href="#id221" id="id10" role="doc-noteref"><span class="fn-bracket">[</span>17<span class="fn-bracket">]</span></a>)</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The same <a class="reference internal" href="techDoc.html#digraphs.Digraph.closeTransitive" title="digraphs.Digraph.closeTransitive"><code class="xref py py-meth docutils literal notranslate"><span class="pre">closeTransitive()</span></code></a> method with a <em>Reverse = True</em> flag may be readily used for eliminating all transitive arcs from a transitive digraph instance. We make usage of this feature when drawing <em>Hasse diagrams</em> of <a class="reference internal" href="techDoc.html#transitiveDigraphs.TransitiveDigraph" title="transitiveDigraphs.TransitiveDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">TransitiveDigraph</span></code></a> objects.</p>
</div>
</section>
<section id="strong-components">
<h4><a class="toc-backref" href="#id315" role="doc-backlink"><span class="section-number">1.2.2.8. </span>Strong components</a><a class="headerlink" href="#strong-components" title="Link to this heading"></a></h4>
<p>As the original digraph <em>rdg</em> was connected (see above the result of the <a class="reference internal" href="techDoc.html#digraphs.Digraph.showShort" title="digraphs.Digraph.showShort"><code class="xref py py-meth docutils literal notranslate"><span class="pre">showShort()</span></code></a> command), both the symmetric and the transitive closures operated together, will necessarily produce a single strong component, i.e. a <strong>complete</strong> digraph. We may sometimes wish to collapse all strong components in a given digraph and construct the so <em>collapsed</em> digraph. Using the <a class="reference internal" href="techDoc.html#digraphs.StrongComponentsCollapsedDigraph" title="digraphs.StrongComponentsCollapsedDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">StrongComponentsCollapsedDigraph</span></code></a> constructor here will render a single hyper-node gathering all the original nodes (see Line 7 below).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">digraphs</span> <span class="kn">import</span> <span class="n">StrongComponentsCollapsedDigraph</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span> <span class="o">=</span> <span class="n">StrongComponentsCollapsedDigraph</span><span class="p">(</span><span class="n">dg</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span><span class="o">.</span><span class="n">showAll</span><span class="p">()</span>
<span class="linenos"> 4</span><span class="go"> *----- show detail -----*</span>
<span class="linenos"> 5</span><span class="go"> Digraph          : tutRandValDigraph_Scc</span>
<span class="linenos"> 6</span><span class="go"> *---- Actions ----*</span>
<span class="hll"><span class="linenos"> 7</span><span class="go"> [&#39;_7_1_2_6_5_3_4_&#39;]</span>
</span><span class="linenos"> 8</span><span class="go"> * ---- Relation Table -----</span>
<span class="linenos"> 9</span><span class="go">   S     |  &#39;Scc_1&#39;</span>
<span class="linenos">10</span><span class="go">  -------|---------</span>
<span class="linenos">11</span><span class="go"> &#39;Scc_1&#39; |  0.00</span>
<span class="linenos">12</span><span class="go"> short        content</span>
<span class="linenos">13</span><span class="go"> Scc_1        _7_1_2_6_5_3_4_</span>
<span class="linenos">14</span><span class="go"> Neighborhoods:</span>
<span class="linenos">15</span><span class="go">   Gamma     :</span>
<span class="linenos">16</span><span class="go"> &#39;frozenset({&#39;7&#39;, &#39;1&#39;, &#39;2&#39;, &#39;6&#39;, &#39;5&#39;, &#39;3&#39;, &#39;4&#39;})&#39;: in =&gt; set(), out =&gt; set()</span>
<span class="linenos">17</span><span class="go">   Not Gamma :</span>
<span class="linenos">18</span><span class="go"> &#39;frozenset({&#39;7&#39;, &#39;1&#39;, &#39;2&#39;, &#39;6&#39;, &#39;5&#39;, &#39;3&#39;, &#39;4&#39;})&#39;: in =&gt; set(), out =&gt; set()</span>
</pre></div>
</div>
</section>
<section id="csv-storage">
<h4><a class="toc-backref" href="#id316" role="doc-backlink"><span class="section-number">1.2.2.9. </span>CSV storage</a><a class="headerlink" href="#csv-storage" title="Link to this heading"></a></h4>
<p>Sometimes it is required to exchange the graph valuation data in CSV format with a statistical package like <a class="reference external" href="https://www.r-project.org/">R</a>. For this purpose it is possible to export the digraph data into a CSV file. The valuation domain is hereby normalized by default to the range [-1,1] and the diagonal put by default to the minimal value -1.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rdg</span> <span class="o">=</span> <span class="n">Digraph</span><span class="p">(</span><span class="s1">&#39;tutRandValDigraph&#39;</span><span class="p">)</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rdg</span><span class="o">.</span><span class="n">saveCSV</span><span class="p">(</span><span class="s1">&#39;tutRandValDigraph&#39;</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="go"> # content of file tutRandValDigraph.csv</span>
<span class="linenos"> 4</span><span class="go"> &quot;d&quot;,&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;,&quot;7&quot;</span>
<span class="linenos"> 5</span><span class="go"> &quot;1&quot;,-1.0,0.48,-0.7,-0.86,-0.3,-0.38,-0.44</span>
<span class="linenos"> 6</span><span class="go"> &quot;2&quot;,0.22,-1.0,0.38,-0.5,-0.8,0.54,-0.02</span>
<span class="linenos"> 7</span><span class="go"> &quot;3&quot;,0.42,-0.08,-1.0,-0.7,0.56,-0.84,1.0</span>
<span class="linenos"> 8</span><span class="go"> &quot;4&quot;,-0.44,0.4,0.62,-1.0,-0.04,-0.66,-0.76</span>
<span class="linenos"> 9</span><span class="go"> &quot;5&quot;,-0.32,0.48,0.46,-0.64,-1.0,0.22,0.52</span>
<span class="linenos">10</span><span class="go"> &quot;6&quot;,0.84,0.0,0.4,0.96,0.18,-1.0,0.22</span>
<span class="linenos">11</span><span class="go"> &quot;7&quot;,-0.88,-0.72,-0.82,-0.52,0.84,-0.04,-1.0</span>
</pre></div>
</div>
<p>It is possible to reload a Digraph instance from its previously saved CSV file content.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">digraphs</span> <span class="kn">import</span> <span class="n">CSVDigraph</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rdgcsv</span> <span class="o">=</span> <span class="n">CSVDigraph</span><span class="p">(</span><span class="s1">&#39;tutRandValDigraph&#39;</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rdgcsv</span><span class="o">.</span><span class="n">showRelationTable</span><span class="p">(</span><span class="n">ReflexiveTerms</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="linenos"> 4</span><span class="go"> * ---- Relation Table -----</span>
<span class="linenos"> 5</span><span class="go"> r(xSy) |   &#39;1&#39;   &#39;2&#39;   &#39;3&#39;   &#39;4&#39;   &#39;5&#39;   &#39;6&#39;   &#39;7&#39;</span>
<span class="linenos"> 6</span><span class="go"> -------|------------------------------------------------------------</span>
<span class="linenos"> 7</span><span class="go"> &#39;1&#39;    |   -   -0.48  0.70  0.86  0.30  0.38  0.44</span>
<span class="linenos"> 8</span><span class="go"> &#39;2&#39;    | -0.22   -   -0.38  0.50  0.80 -0.54  0.02</span>
<span class="linenos"> 9</span><span class="go"> &#39;3&#39;    | -0.42  0.08   -    0.70 -0.56  0.84 -1.00</span>
<span class="linenos">10</span><span class="go"> &#39;4&#39;    |  0.44 -0.40 -0.62   -    0.04  0.66  0.76</span>
<span class="linenos">11</span><span class="go"> &#39;5&#39;    |  0.32 -0.48 -0.46  0.64   -   -0.22 -0.52</span>
<span class="linenos">12</span><span class="go"> &#39;6&#39;    | -0.84  0.00 -0.40 -0.96 -0.18   -   -0.22</span>
<span class="linenos">13</span><span class="go"> &#39;7&#39;    |  0.88  0.72  0.82  0.52 -0.84  0.04   -</span>
</pre></div>
</div>
<p>It is as well possible to show a colored version of the valued relation table in a system browser window tab (see <a class="reference internal" href="#htmltutorialdigraph"><span class="std std-numref">Fig. 1.9</span></a>).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rdgcsv</span><span class="o">.</span><span class="n">showHTMLRelationTable</span><span class="p">(</span><span class="n">tableTitle</span><span class="o">=</span><span class="s2">&quot;Tutorial random digraph&quot;</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="htmltutorialdigraph">
<a class="reference internal image-reference" href="_images/htmlTutorialDigraph.png"><img alt="_images/htmlTutorialDigraph.png" src="_images/htmlTutorialDigraph.png" style="width: 400px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.9 </span><span class="caption-text">The valued relation table shown in a browser window</span><a class="headerlink" href="#htmltutorialdigraph" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Positive arcs are shown in <em>green</em> and negative arcs in <em>red</em>. Indeterminate -zero-valued- links, like the reflexive diagonal ones or the link between node <em>6</em> and node <em>2</em>, are shown in <em>gray</em>.</p>
</section>
<section id="complete-empty-and-indeterminate-digraphs">
<h4><a class="toc-backref" href="#id317" role="doc-backlink"><span class="section-number">1.2.2.10. </span>Complete, empty and indeterminate digraphs</a><a class="headerlink" href="#complete-empty-and-indeterminate-digraphs" title="Link to this heading"></a></h4>
<p>Let us finally mention some special universal classes of digraphs that are readily available in the <a class="reference internal" href="techDoc.html#module-digraphs" title="digraphs"><code class="xref py py-mod docutils literal notranslate"><span class="pre">digraphs</span></code></a> module, like the <a class="reference internal" href="techDoc.html#digraphs.CompleteDigraph" title="digraphs.CompleteDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">CompleteDigraph</span></code></a>, the <a class="reference internal" href="techDoc.html#digraphs.EmptyDigraph" title="digraphs.EmptyDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">EmptyDigraph</span></code></a> and the <a class="reference internal" href="techDoc.html#digraphs.IndeterminateDigraph" title="digraphs.IndeterminateDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">IndeterminateDigraph</span></code></a> classes, which put all characteristic values respectively to the <em>maximum</em>, the <em>minimum</em> or the median <em>indeterminate</em> characteristic value.</p>
<div class="literal-block-wrapper docutils container" id="completeempty">
<div class="code-block-caption"><span class="caption-number">Listing 1.10 </span><span class="caption-text">Complete, empty and indeterminate digraphs</span><a class="headerlink" href="#completeempty" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">digraphs</span> <span class="kn">import</span> <span class="n">CompleteDigraph</span><span class="p">,</span><span class="n">EmptyDigraph</span><span class="p">,</span><span class="n">IndeterminateDigraph</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">e</span> <span class="o">=</span> <span class="n">EmptyDigraph</span><span class="p">(</span><span class="n">order</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">e</span><span class="o">.</span><span class="n">showRelationTable</span><span class="p">()</span>
<span class="linenos"> 4</span><span class="go"> * ---- Relation Table -----</span>
<span class="linenos"> 5</span><span class="go">   S   |    &#39;1&#39;    &#39;2&#39;    &#39;3&#39;    &#39;4&#39;    &#39;5&#39;</span>
<span class="linenos"> 6</span><span class="go"> ---- -|-----------------------------------</span>
<span class="linenos"> 7</span><span class="go"> &#39;1&#39;   |  -1.00  -1.00  -1.00  -1.00  -1.00</span>
<span class="linenos"> 8</span><span class="go"> &#39;2&#39;   |  -1.00  -1.00  -1.00  -1.00  -1.00</span>
<span class="linenos"> 9</span><span class="go"> &#39;3&#39;   |  -1.00  -1.00  -1.00  -1.00  -1.00</span>
<span class="linenos">10</span><span class="go"> &#39;4&#39;   |  -1.00  -1.00  -1.00  -1.00  -1.00</span>
<span class="linenos">11</span><span class="go"> &#39;5&#39;   |  -1.00  -1.00  -1.00  -1.00  -1.00</span>
<span class="linenos">12</span><span class="go"> &gt;&gt;&gt; e.showNeighborhoods()</span>
<span class="linenos">13</span><span class="go"> Neighborhoods:</span>
<span class="linenos">14</span><span class="go">   Gamma     :</span>
<span class="linenos">15</span><span class="go"> &#39;1&#39;: in =&gt; set(), out =&gt; set()</span>
<span class="linenos">16</span><span class="go"> &#39;2&#39;: in =&gt; set(), out =&gt; set()</span>
<span class="linenos">17</span><span class="go"> &#39;5&#39;: in =&gt; set(), out =&gt; set()</span>
<span class="linenos">18</span><span class="go"> &#39;3&#39;: in =&gt; set(), out =&gt; set()</span>
<span class="linenos">19</span><span class="go"> &#39;4&#39;: in =&gt; set(), out =&gt; set()</span>
<span class="hll"><span class="linenos">20</span><span class="go">   Not Gamma :</span>
</span><span class="hll"><span class="linenos">21</span><span class="go"> &#39;1&#39;: in =&gt; {&#39;2&#39;, &#39;4&#39;, &#39;5&#39;, &#39;3&#39;}, out =&gt; {&#39;2&#39;, &#39;4&#39;, &#39;5&#39;, &#39;3&#39;}</span>
</span><span class="hll"><span class="linenos">22</span><span class="go"> &#39;2&#39;: in =&gt; {&#39;1&#39;, &#39;4&#39;, &#39;5&#39;, &#39;3&#39;}, out =&gt; {&#39;1&#39;, &#39;4&#39;, &#39;5&#39;, &#39;3&#39;}</span>
</span><span class="hll"><span class="linenos">23</span><span class="go"> &#39;5&#39;: in =&gt; {&#39;1&#39;, &#39;2&#39;, &#39;4&#39;, &#39;3&#39;}, out =&gt; {&#39;1&#39;, &#39;2&#39;, &#39;4&#39;, &#39;3&#39;}</span>
</span><span class="hll"><span class="linenos">24</span><span class="go"> &#39;3&#39;: in =&gt; {&#39;1&#39;, &#39;2&#39;, &#39;4&#39;, &#39;5&#39;}, out =&gt; {&#39;1&#39;, &#39;2&#39;, &#39;4&#39;, &#39;5&#39;}</span>
</span><span class="hll"><span class="linenos">25</span><span class="go"> &#39;4&#39;: in =&gt; {&#39;1&#39;, &#39;2&#39;, &#39;5&#39;, &#39;3&#39;}, out =&gt; {&#39;1&#39;, &#39;2&#39;, &#39;5&#39;, &#39;3&#39;}</span>
</span><span class="linenos">26</span><span class="gp">&gt;&gt;&gt; </span><span class="n">i</span> <span class="o">=</span> <span class="n">IndeterminateDigraph</span><span class="p">()</span>
<span class="linenos">27</span><span class="go"> * ---- Relation Table -----</span>
<span class="linenos">28</span><span class="go">   S   |   &#39;1&#39;   &#39;2&#39;   &#39;3&#39;   &#39;4&#39;   &#39;5&#39;</span>
<span class="linenos">29</span><span class="go"> ------|------------------------------</span>
<span class="linenos">30</span><span class="go"> &#39;1&#39;   |  0.00  0.00  0.00  0.00  0.00</span>
<span class="linenos">31</span><span class="go"> &#39;2&#39;   |  0.00  0.00  0.00  0.00  0.00</span>
<span class="linenos">32</span><span class="go"> &#39;3&#39;   |  0.00  0.00  0.00  0.00  0.00</span>
<span class="linenos">33</span><span class="go"> &#39;4&#39;   |  0.00  0.00  0.00  0.00  0.00</span>
<span class="linenos">34</span><span class="go"> &#39;5&#39;   |  0.00  0.00  0.00  0.00  0.00</span>
<span class="linenos">35</span><span class="gp">&gt;&gt;&gt; </span><span class="n">i</span><span class="o">.</span><span class="n">showNeighborhoods</span><span class="p">()</span>
<span class="linenos">36</span><span class="go"> Neighborhoods:</span>
<span class="linenos">37</span><span class="go">   Gamma     :</span>
<span class="linenos">38</span><span class="go"> &#39;1&#39;: in =&gt; set(), out =&gt; set()</span>
<span class="linenos">39</span><span class="go"> &#39;2&#39;: in =&gt; set(), out =&gt; set()</span>
<span class="linenos">40</span><span class="go"> &#39;5&#39;: in =&gt; set(), out =&gt; set()</span>
<span class="linenos">41</span><span class="go"> &#39;3&#39;: in =&gt; set(), out =&gt; set()</span>
<span class="linenos">42</span><span class="go"> &#39;4&#39;: in =&gt; set(), out =&gt; set()</span>
<span class="hll"><span class="linenos">43</span><span class="go">   Not Gamma :</span>
</span><span class="hll"><span class="linenos">44</span><span class="go"> &#39;1&#39;: in =&gt; set(), out =&gt; set()</span>
</span><span class="hll"><span class="linenos">45</span><span class="go"> &#39;2&#39;: in =&gt; set(), out =&gt; set()</span>
</span><span class="hll"><span class="linenos">46</span><span class="go"> &#39;5&#39;: in =&gt; set(), out =&gt; set()</span>
</span><span class="hll"><span class="linenos">47</span><span class="go"> &#39;3&#39;: in =&gt; set(), out =&gt; set()</span>
</span><span class="hll"><span class="linenos">48</span><span class="go"> &#39;4&#39;: in =&gt; set(), out =&gt; set()</span>
</span></pre></div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Mind the subtle difference between the neighborhoods of an <strong>empty</strong> and the neighborhoods of an <strong>indeterminate</strong> digraph instance. In the first kind, the neighborhoods are known to be completely <em>empty</em>  (see <a class="reference internal" href="#completeempty"><span class="std std-numref">Listing 1.10</span></a> Lines 20-25) whereas, in the latter, <em>nothing is known</em> about the actual neighborhoods of the nodes  (see <a class="reference internal" href="#completeempty"><span class="std std-numref">Listing 1.10</span></a> Lines 43-48). These two cases illustrate why in the case of <strong>bipolar-valued</strong> digraphs, we may need both a <em>gamma</em> <strong>and</strong> a <em>notGamma</em> attribute.</p>
</div>
</section>
<section id="historical-notes">
<h4><a class="toc-backref" href="#id318" role="doc-backlink"><span class="section-number">1.2.2.11. </span>Historical notes</a><a class="headerlink" href="#historical-notes" title="Link to this heading"></a></h4>
<p>It was <em>Denis Bouyssou</em> who first suggested us end of the nineties, when we started to work in Prolog on the computation of fuzzy digraph kernels with finite domain constraint solvers, that the 50% criteria significance majority is a very special value that has to be carefully taken into account. The converging solution vectors of the fixpoint kernel equations furthermore confirmed this special status of the 50% majority (see <a class="reference internal" href="pearls.html#bipolar-valued-kernels-tutorial-label"><span class="std std-ref">Computing bipolar-valued kernel membership characteristic vectors</span></a>). These early insights led to the seminal articles on bipolar-valued epistemic logic where we introduced split truth/falseness semantics for a multi-valued logical processing of fuzzy preference modelling (<a class="reference internal" href="#bis-2000" id="id11"><span>[BIS-2000]</span></a> and <a class="reference internal" href="#bis-2004a" id="id12"><span>[BIS-2004a]</span></a>). The characteristic valuation domain remained however the classical fuzzy [0.0;1.0] valuation domain.</p>
<p>It is only in 2004, when we succeeded in assessing the stability of the outranking digraph when solely ordinal criteria significance weights are given, that it became clear and evident for us that the characteristic valuation domain had to be shifted to a [-1.0;+1.0]-valued domain (see <a class="reference internal" href="pearls.html#ordinalcorrelation-tutorial-label"><span class="std std-ref">Ordinal correlation equals bipolar-valued relational equivalence</span></a> and <a class="reference internal" href="#bis-2004b" id="id13"><span>[BIS-2004b]</span></a>). In this bipolar valuation, the 50% majority threshold corresponds now to the median 0.0 value, characterising with the correct zero value an epistemic indeterminateness -no knowledge- situation. Furthermore, identifying truth and falseness directly by the sign of the characteristic value revealed itself to be very efficient not only from a computational point of view, but also from scientific and semiotic perspectives. A positive (resp. negative) characteristic value now attest a logically valid (resp. invalid) statement and a negative affirmation now means a positive refutation and vice versa. Furthermore, the median zero value gives way to efficiently handling partial objects -like the border or the assymetric part of a digraph- and, even more important from a practical decision making point of view, any missing data.</p>
<p>The bipolar [-1.0;+1.0]-valued characteristic domain opened so the way to important new operations and concepts, like the disjunctive epistemic fusion operation seen before which confers the outranking digraph a logically sound and epistemically correct definition (<a class="reference internal" href="#bis-2013" id="id14"><span>[BIS-2013]</span></a>). <em>Kendall</em>’s ordinal correlation index could be extended to a bipolar-valued relational equivalence index between digraphs (see <a class="reference internal" href="pearls.html#ordinalcorrelation-tutorial-label"><span class="std std-ref">Ordinal correlation equals bipolar-valued relational equivalence</span></a> and <a class="reference internal" href="#bis-2012" id="id15"><span>[BIS-2012]</span></a>). Making usage of the bipolar-valued <em>Gaussian</em> error function (<em>erf</em>) naturally led to defining a bipolar-valued likelihood function, where a positive, resp. negative, value gives the likelihood of an affirmation, resp. a refutation.</p>
<p>Back to <a class="reference internal" href="#tutorial-label"><span class="std std-ref">Content Table</span></a></p>
<hr class="docutils" />
</section>
</section>
<section id="working-with-the-outrankingdigraphs-module">
<span id="outrankingdigraphs-tutorial-label"></span><h3><a class="toc-backref" href="#id300" role="doc-backlink"><span class="section-number">1.2.3. </span>Working with the <a class="reference internal" href="techDoc.html#module-outrankingDigraphs" title="outrankingDigraphs"><code class="xref py py-mod docutils literal notranslate"><span class="pre">outrankingDigraphs</span></code></a> module</a><a class="headerlink" href="#working-with-the-outrankingdigraphs-module" title="Link to this heading"></a></h3>
<nav class="contents local" id="id16">
<ul class="simple">
<li><p><a class="reference internal" href="#outranking-digraph-model" id="id319">Outranking digraph model</a></p></li>
<li><p><a class="reference internal" href="#the-bipolar-valued-outranking-digraph" id="id320">The bipolar-valued outranking digraph</a></p></li>
<li><p><a class="reference internal" href="#pairwise-comparisons" id="id321">Pairwise comparisons</a></p></li>
<li><p><a class="reference internal" href="#recoding-the-digraph-valuation" id="id322">Recoding the digraph valuation</a></p></li>
<li><p><a class="reference internal" href="#the-strict-outranking-digraph" id="id323">The strict outranking digraph</a></p></li>
<li><p><a class="reference internal" href="#id24" id="id324">Historical Notes</a></p></li>
</ul>
</nav>
<p><strong>Abstract</strong>: In this chapter, we introduce the main formal object of this book, namely the bipolar-valued outranking digraph. With a randomly generated multiple-criteria performance tableau, we construct the corresponding bipolar-valued outranking relation from pairwise comparisons. The resulting bipolar-valued outranking characteristics may be recoded. Finally, the codual outranking digraph gives us the associated strict outranking relation.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>The technical documentation of the <a class="reference internal" href="techDoc.html#outrankingdigraphs-label"><span class="std std-ref">outrankingDigraphs module</span></a>.</p>
</div>
<hr class="docutils" />
<section id="outranking-digraph-model">
<h4><a class="toc-backref" href="#id319" role="doc-backlink"><span class="section-number">1.2.3.1. </span>Outranking digraph model</a><a class="headerlink" href="#outranking-digraph-model" title="Link to this heading"></a></h4>
<blockquote class="epigraph">
<div><p>“<em>The rule for the combination of independent concurrent arguments takes a very simple form when expressed in terms of the intensity of belief … It is this: Take the sum of all the feelings of belief which would be produced separately by all the arguments pro, subtract from that the similar sum for arguments con, and the remainder is the feeling of belief which ought to have the whole. This is a proceeding which men often resort to, under the name of balancing reasons.</em>” – C.S. Peirce, The probability of induction (1878)</p>
</div></blockquote>
<p>In this <em>Digraph3</em> module, the <a class="reference internal" href="techDoc.html#outrankingDigraphs.BipolarOutrankingDigraph" title="outrankingDigraphs.BipolarOutrankingDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">BipolarOutrankingDigraph</span></code></a> class from the <a class="reference internal" href="techDoc.html#module-outrankingDigraphs" title="outrankingDigraphs"><code class="xref py py-mod docutils literal notranslate"><span class="pre">outrankingDigraphs</span></code></a> module provides our standard <strong>outranking digraph</strong> constructor. Such an instance represents a <strong>hybrid</strong> object of both, the <a class="reference internal" href="techDoc.html#perfTabs.PerformanceTableau" title="perfTabs.PerformanceTableau"><code class="xref py py-class docutils literal notranslate"><span class="pre">PerformanceTableau</span></code></a> type and the <a class="reference internal" href="techDoc.html#outrankingDigraphs.OutrankingDigraph" title="outrankingDigraphs.OutrankingDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">OutrankingDigraph</span></code></a> type. A given object consists hence in:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>an ordered dictionary of decision <strong>actions</strong> describing the potential decision actions or alternatives with ‘name’ and ‘comment’ attributes,</p></li>
<li><p>a possibly empty ordered dictionary of decision <strong>objectives</strong> with ‘name’ and ‘comment attributes, describing the multiple preference dimensions involved in the decision problem,</p></li>
<li><p>a dictionary of performance <strong>criteria</strong> describing <em>preferentially independent</em> and <em>non-redundant</em> decimal-valued functions used for measuring the performance of each potential decision action with respect to a decision objective,</p></li>
<li><p>a double dictionary <strong>evaluation</strong> gathering performance grades for each decision action or alternative on each criterion function.</p></li>
<li><p>the digraph <strong>valuationdomain</strong>, a dictionary with three entries: the <em>minimum</em> (-1.0, certainly outranked), the <em>median</em> (0.0, indeterminate) and the <em>maximum</em> characteristic value (+1.0, certainly outranking),</p></li>
<li><p>the outranking <strong>relation</strong> : a double dictionary defined on the Cartesian product of the set of decision alternatives capturing the credibility of the pairwise <em>outranking situation</em> computed on the basis of the performance differences observed between couples of decision alternatives on the given family of criteria functions.</p></li>
</ol>
</div></blockquote>
<p>Let us construct, for instance, a random bipolar-valued outranking digraph with seven decision actions denotes <em>a1</em>, <em>a2</em>, …, <em>a7</em>. We need therefore to first generate a corresponding random performance tableaux (see below).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">outrankingDigraphs</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span> <span class="o">=</span> <span class="n">RandomPerformanceTableau</span><span class="p">(</span><span class="n">numberOfActions</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span>
<span class="linenos"> 3</span><span class="gp">... </span>                              <span class="n">seed</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span>
<span class="linenos"> 6</span><span class="go">*------- PerformanceTableau instance description ------*</span>
<span class="linenos"> 7</span><span class="go"> Instance class     : RandomPerformanceTableau</span>
<span class="linenos"> 8</span><span class="go"> Seed               : 100</span>
<span class="linenos"> 9</span><span class="go"> Instance name      : randomperftab</span>
<span class="linenos">10</span><span class="go"> # Actions          : 7</span>
<span class="linenos">11</span><span class="go"> # Criteria         : 7</span>
<span class="linenos">12</span><span class="go"> NaN proportion (%) : 6.1</span>
<span class="linenos">13</span><span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span><span class="o">.</span><span class="n">showActions</span><span class="p">()</span>
<span class="linenos">14</span><span class="go">    *----- show digraphs actions --------------*</span>
<span class="linenos">15</span><span class="go">    key:  a1</span>
<span class="linenos">16</span><span class="go">    name:       action #1</span>
<span class="linenos">17</span><span class="go">    comment:    RandomPerformanceTableau() generated.</span>
<span class="linenos">18</span><span class="go">    key:  a2</span>
<span class="linenos">19</span><span class="go">    name:       action #2</span>
<span class="linenos">20</span><span class="go">    comment:    RandomPerformanceTableau() generated.</span>
<span class="linenos">21</span><span class="go">    ...</span>
<span class="linenos">22</span><span class="go">    ...</span>
<span class="linenos">23</span><span class="go">    key:  a7</span>
<span class="linenos">24</span><span class="go">    name:       action #7</span>
<span class="linenos">25</span><span class="go">    comment:    RandomPerformanceTableau() generated.</span>
</pre></div>
</div>
<p>In this example we consider furthermore a family of seven <strong>equisignificant cardinal criteria functions</strong> <em>g1</em>, <em>g2</em>, …, <em>g7</em>, measuring the performance of each alternative on a rational scale from 0.0 (worst) to 100.00 (best). In order to capture the grading procedure’s potential uncertainty and imprecision, each criterion function <em>g1</em> to <em>g7</em> admits three performance <strong>discrimination thresholds</strong> of 2.5, 5.0 and 80 pts for warranting respectively any indifference, preference or considerable performance difference situation.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span><span class="o">.</span><span class="n">showCriteria</span><span class="p">()</span>
<span class="linenos"> 2</span><span class="go"> *----  criteria -----*</span>
<span class="linenos"> 3</span><span class="go"> g1 &#39;RandomPerformanceTableau() instance&#39;</span>
<span class="linenos"> 4</span><span class="go">   Scale = [0.0, 100.0]</span>
<span class="linenos"> 5</span><span class="go">   Weight = 1.0</span>
<span class="hll"><span class="linenos"> 6</span><span class="go">   Threshold ind : 2.50 + 0.00x ; percentile: 4.76</span>
</span><span class="hll"><span class="linenos"> 7</span><span class="go">   Threshold pref : 5.00 + 0.00x ; percentile: 9.52</span>
</span><span class="hll"><span class="linenos"> 8</span><span class="go">   Threshold veto : 80.00 + 0.00x ; percentile: 95.24</span>
</span><span class="linenos"> 9</span><span class="go"> g2 &#39;RandomPerformanceTableau() instance&#39;</span>
<span class="linenos">10</span><span class="go">   Scale = [0.0, 100.0]</span>
<span class="linenos">11</span><span class="go">   Weight = 1.0</span>
<span class="linenos">12</span><span class="go">   Threshold ind : 2.50 + 0.00x ; percentile: 6.67</span>
<span class="linenos">13</span><span class="go">   Threshold pref : 5.00 + 0.00x ; percentile: 6.67</span>
<span class="linenos">14</span><span class="go">   Threshold veto : 80.00 + 0.00x ; percentile: 100.00</span>
<span class="linenos">15</span><span class="go"> ...</span>
<span class="linenos">16</span><span class="go"> ...</span>
<span class="linenos">17</span><span class="go"> g7 &#39;RandomPerformanceTableau() instance&#39;</span>
<span class="linenos">18</span><span class="go">   Scale = [0.0, 100.0]</span>
<span class="linenos">19</span><span class="go">   Weight = 1.0</span>
<span class="linenos">20</span><span class="go">   Threshold ind : 2.50 + 0.00x ; percentile: 0.00</span>
<span class="linenos">21</span><span class="go">   Threshold pref : 5.00 + 0.00x ; percentile: 4.76</span>
<span class="linenos">22</span><span class="go">   Threshold veto : 80.00 + 0.00x ; percentile: 100.00</span>
</pre></div>
</div>
<p>On criteria function <em>g1</em> (see Lines 6-8 above) we observe, for instance, about 5% of <strong>indifference</strong>, about 90% of <strong>preference</strong> and about 5% of <strong>considerable</strong> performance difference situations. The individual performance evaluation of all decision alternative on each criterion are gathered in a <em>performance tableau</em>.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span><span class="o">.</span><span class="n">showPerformanceTableau</span><span class="p">(</span><span class="n">Transposed</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">ndigits</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="linenos"> 2</span><span class="go"> *----  performance tableau -----*</span>
<span class="linenos"> 3</span><span class="go">  criteria |  weights | &#39;a1&#39;  &#39;a2&#39;  &#39;a3&#39;  &#39;a4&#39;  &#39;a5&#39;  &#39;a6&#39;  &#39;a7&#39;</span>
<span class="linenos"> 4</span><span class="go">  ---------|----------|-----------------------------------------</span>
<span class="linenos"> 5</span><span class="go">   &#39;g1&#39;    |    1     | 15.2  44.5  57.9  58.0  24.2  29.1  96.6</span>
<span class="hll"><span class="linenos"> 6</span><span class="go">   &#39;g2&#39;    |    1     | 82.3  43.9   NA   35.8  29.1  34.8  62.2</span>
</span><span class="linenos"> 7</span><span class="go">   &#39;g3&#39;    |    1     | 44.2  19.1  27.7  41.5  22.4  21.5  56.9</span>
<span class="linenos"> 8</span><span class="go">   &#39;g4&#39;    |    1     | 46.4  16.2  21.5  51.2  77.0  39.4  32.1</span>
<span class="linenos"> 9</span><span class="go">   &#39;g5&#39;    |    1     | 47.7  14.8  79.7  67.5   NA   90.7  80.2</span>
<span class="linenos">10</span><span class="go">   &#39;g6&#39;    |    1     | 69.6  45.5  22.0  33.8  31.8   NA   48.8</span>
<span class="linenos">11</span><span class="go">   &#39;g7&#39;    |    1     | 82.9  41.7  12.8  21.9  75.7  15.4   6.0</span>
</pre></div>
</div>
<p>It is noteworthy to mention the three <strong>missing data</strong> (<em>NA</em>) cases: action <em>a3</em> is missing, for instance, a grade on criterion <em>g2</em> (see Line 6 above).</p>
</section>
<section id="the-bipolar-valued-outranking-digraph">
<h4><a class="toc-backref" href="#id320" role="doc-backlink"><span class="section-number">1.2.3.2. </span>The bipolar-valued outranking digraph</a><a class="headerlink" href="#the-bipolar-valued-outranking-digraph" title="Link to this heading"></a></h4>
<p>Given the previous random performance tableau <em>pt</em>, the <a class="reference internal" href="techDoc.html#outrankingDigraphs.BipolarOutrankingDigraph" title="outrankingDigraphs.BipolarOutrankingDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">BipolarOutrankingDigraph</span></code></a> constructor computes the corresponding <strong>bipolar-valued outranking digraph</strong>.</p>
<div class="literal-block-wrapper docutils container" id="tutoutrankingdigraph">
<div class="code-block-caption"><span class="caption-number">Listing 1.11 </span><span class="caption-text">Example of random bipolar-valued outranking digraph</span><a class="headerlink" href="#tutoutrankingdigraph" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">odg</span> <span class="o">=</span> <span class="n">BipolarOutrankingDigraph</span><span class="p">(</span><span class="n">pt</span><span class="p">)</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">odg</span>
<span class="linenos"> 3</span><span class="go"> *------- Object instance description ------*</span>
<span class="linenos"> 4</span><span class="go">  Instance class       : BipolarOutrankingDigraph</span>
<span class="linenos"> 5</span><span class="go">  Instance name        : rel_randomperftab</span>
<span class="linenos"> 6</span><span class="go">  # Actions            : 7</span>
<span class="linenos"> 7</span><span class="go">  # Criteria           : 7</span>
<span class="hll"><span class="linenos"> 8</span><span class="go">  Size                 : 20</span>
</span><span class="hll"><span class="linenos"> 9</span><span class="go">  Determinateness (%)  : 63.27</span>
</span><span class="linenos">10</span><span class="go">  Valuation domain     : [-1.00;1.00]</span>
<span class="linenos">11</span><span class="go">  Attributes           : [</span>
<span class="linenos">12</span><span class="go">     &#39;name&#39;, &#39;actions&#39;,</span>
<span class="linenos">13</span><span class="go">     &#39;criteria&#39;, &#39;evaluation&#39;, &#39;NA&#39;,</span>
<span class="linenos">14</span><span class="go">     &#39;valuationdomain&#39;, &#39;relation&#39;,</span>
<span class="linenos">15</span><span class="go">     &#39;order&#39;, &#39;gamma&#39;, &#39;notGamma&#39;, ...</span>
<span class="linenos">16</span><span class="go">     ]</span>
</pre></div>
</div>
</div>
<p>The resulting digraph contains 20 positive (valid) outranking relations. And, the mean majority criteria significance support of all the pairwise outranking situations is 63.3% (see <a class="reference internal" href="#tutoutrankingdigraph"><span class="std std-numref">Listing 1.11</span></a> Lines 8-9). We may inspect the complete [-1.0,+1.0]-valued adjacency table as follows.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">odg</span><span class="o">.</span><span class="n">showRelationTable</span><span class="p">()</span>
<span class="linenos"> 2</span><span class="go"> * ---- Relation Table -----</span>
<span class="linenos"> 3</span><span class="go">  r(x,y)|  &#39;a1&#39;   &#39;a2&#39;   &#39;a3&#39;   &#39;a4&#39;   &#39;a5&#39;   &#39;a6&#39;   &#39;a7&#39;</span>
<span class="linenos"> 4</span><span class="go">  ------|-------------------------------------------------</span>
<span class="linenos"> 5</span><span class="go">   &#39;a1&#39; | +1.00  +0.71  +0.29  +0.29  +0.29  +0.29  +0.00</span>
<span class="linenos"> 6</span><span class="go">   &#39;a2&#39; | -0.71  +1.00  -0.29  -0.14  +0.14  +0.29  -0.57</span>
<span class="linenos"> 7</span><span class="go">   &#39;a3&#39; | -0.29  +0.29  +1.00  -0.29  -0.14  +0.00  -0.29</span>
<span class="linenos"> 8</span><span class="go">   &#39;a4&#39; | +0.00  +0.14  +0.57  +1.00  +0.29  +0.57  -0.43</span>
<span class="linenos"> 9</span><span class="go">   &#39;a5&#39; | -0.29  +0.00  +0.14  +0.00  +1.00  +0.29  -0.29</span>
<span class="linenos">10</span><span class="go">   &#39;a6&#39; | -0.29  +0.00  +0.14  -0.29  +0.14  +1.00  +0.00</span>
<span class="linenos">11</span><span class="go">   &#39;a7&#39; | +0.00  +0.71  +0.57  +0.43  +0.29  +0.00  +1.00</span>
<span class="linenos">12</span><span class="go">    Valuation domain: [-1.0; 1.0]</span>
</pre></div>
</div>
<p>Considering the given performance tableau <em>pt</em>, the <a class="reference internal" href="techDoc.html#outrankingDigraphs.BipolarOutrankingDigraph" title="outrankingDigraphs.BipolarOutrankingDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">BipolarOutrankingDigraph</span></code></a> class constructor computes the characteristic value <img class="math" src="_images/math/f18d234c59781e8536941081ff17262a63942516.png" alt="r(x \, \succsim \, y)"/> of a <strong>pairwise outranking</strong> relation “<img class="math" src="_images/math/2d20655ed2efabc9f2858a80c1ad5ab625383ef8.png" alt="x\, \succsim \,y"/>” (see <a class="reference internal" href="#bis-2013" id="id17"><span>[BIS-2013]</span></a>, <a class="reference internal" href="#adt-l7" id="id18"><span>[ADT-L7]</span></a>) in a default <em>normalised</em> <strong>valuation domain</strong> [-1.0,+1.0] with the <em>median value</em> 0.0 acting as <strong>indeterminate</strong> characteristic value. The semantics of <img class="math" src="_images/math/ede6448daf833098e623e5d87dbf47a5862d6098.png" alt="r(x\, \succsim \, y)"/> are the following.</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>When <img class="math" src="_images/math/c83772b5c0705bdfd32e16545f2cb1070cbabe71.png" alt="r(x \, \succsim \, y) &gt; 0.0"/>, it is more <em>True</em> than <em>False</em> that <em>x</em> <strong>outranks</strong> <em>y</em>, i.e. alternative <em>x</em> is at least as well performing than alternative <em>y</em> on a weighted majority of criteria <strong>and</strong> there is no considerable negative performance difference observed in disfavour of <em>x</em>,</p></li>
<li><p>When <img class="math" src="_images/math/8d685e304b2c9af94c6c59260a33700db7af15f3.png" alt="r(x \, \succsim \,y) &lt; 0.0"/>, it is more <em>False</em> than <em>True</em> that <em>x</em> <strong>outranks</strong> <em>y</em>, i.e. alternative <em>x</em> is <strong>not</strong> at least as well performing on a weighted majority of criteria than alternative <em>y</em> <strong>and</strong> there is no considerable positive performance difference observed in favour of <em>x</em>,</p></li>
<li><p>When <img class="math" src="_images/math/0a5163553463c368ca6da5408ee5dd54eef27cb8.png" alt="r(x \, \succsim \,y) = 0.0"/>, it is <strong>indeterminate</strong> whether <em>x</em> outranks <em>y</em> or not.</p></li>
</ol>
</div></blockquote>
</section>
<section id="pairwise-comparisons">
<h4><a class="toc-backref" href="#id321" role="doc-backlink"><span class="section-number">1.2.3.3. </span>Pairwise comparisons</a><a class="headerlink" href="#pairwise-comparisons" title="Link to this heading"></a></h4>
<p>From above given semantics, we may consider (see Line 5 above) that <em>a1</em> outranks <em>a2</em> <img class="math" src="_images/math/bf3984b6282100ab0a9c6b686513427b839bd5f1.png" alt="\big( r( a_{1} \, \succsim \, a_{2}) &gt; 0.0 \big)"/>, but not <em>a7</em> <img class="math" src="_images/math/d96e95ebc7c70e953bdbd8e39231c67d1823504c.png" alt="\big(r(a_{1} \, \succsim \, a_{7}) = 0.0 \big)"/>. In order to comprehend the characteristic values shown in the relation table above, we may furthermore inspect the details of the pairwise multiple criteria comparison between alternatives <em>a1</em> and <em>a2</em>.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">odg</span><span class="o">.</span><span class="n">showPairwiseComparison</span><span class="p">(</span><span class="s1">&#39;a1&#39;</span><span class="p">,</span><span class="s1">&#39;a2&#39;</span><span class="p">)</span>
<span class="linenos"> 2</span><span class="go"> *------------  pairwise comparison ----*</span>
<span class="linenos"> 3</span><span class="go">  Comparing actions : (a1, a2)</span>
<span class="linenos"> 4</span><span class="go">  crit. wght.  g(x)  g(y)    diff    | ind   pref    r()</span>
<span class="linenos"> 5</span><span class="go">  -------------------------------     --------------------</span>
<span class="linenos"> 6</span><span class="go">   g1   1.00  15.17  44.51  -29.34   | 2.50  5.00   -1.00</span>
<span class="linenos"> 7</span><span class="go">   g2   1.00  82.29  43.90  +38.39   | 2.50  5.00   +1.00</span>
<span class="linenos"> 8</span><span class="go">   g3   1.00  44.23  19.10  +25.13   | 2.50  5.00   +1.00</span>
<span class="linenos"> 9</span><span class="go">   g4   1.00  46.37  16.22  +30.15   | 2.50  5.00   +1.00</span>
<span class="linenos">10</span><span class="go">   g5   1.00  47.67  14.81  +32.86   | 2.50  5.00   +1.00</span>
<span class="linenos">11</span><span class="go">   g6   1.00  69.62  45.49  +24.13   | 2.50  5.00   +1.00</span>
<span class="linenos">12</span><span class="go">   g7   1.00  82.88  41.66  +41.22   | 2.50  5.00   +1.00</span>
<span class="linenos">13</span><span class="go">  ----------------------------------------</span>
<span class="linenos">14</span><span class="go">  Valuation in range: -7.00 to +7.00; r(x,y): +5/7 = +0.71</span>
</pre></div>
</div>
<p>The outranking characteristic value <img class="math" src="_images/math/07c5962ee88b15732c9488e8f13c33bd4ce26c22.png" alt="r(a_1 \succsim a_2)"/> represents the <strong>majority margin</strong> resulting from the difference between the weights of the criteria in favor and the weights of the criteria in disfavor of the statement that alternative <em>a1</em> is at least as well performing as alternative <em>a2</em>. No considerable performance difference being observed above, no outranking polarisation is triggered in this pairwise comparison. Such a situation is, however, observed for instance when we pairwise compare the performances of alternatives <em>a1</em> and <em>a7</em>.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">odg</span><span class="o">.</span><span class="n">showPairwiseComparison</span><span class="p">(</span><span class="s1">&#39;a1&#39;</span><span class="p">,</span><span class="s1">&#39;a7&#39;</span><span class="p">)</span>
<span class="linenos"> 2</span><span class="go"> *------------  pairwise comparison ----*</span>
<span class="linenos"> 3</span><span class="go">  Comparing actions : (a1, a7)</span>
<span class="linenos"> 4</span><span class="go">  crit. wght.  g(x)  g(y)    diff  | ind   pref    r()  |  v     veto</span>
<span class="linenos"> 5</span><span class="go">   -------------------------------   ------------------   -----------</span>
<span class="hll"><span class="linenos"> 6</span><span class="go">   g1   1.00  15.17  96.58  -81.41 | 2.50  5.00   -1.00 | 80.00 -1.00</span>
</span><span class="linenos"> 7</span><span class="go">   g2   1.00  82.29  62.22  +20.07 | 2.50  5.00   +1.00 |</span>
<span class="linenos"> 8</span><span class="go">   g3   1.00  44.23  56.90  -12.67 | 2.50  5.00   -1.00 |</span>
<span class="linenos"> 9</span><span class="go">   g4   1.00  46.37  32.06  +14.31 | 2.50  5.00   +1.00 |</span>
<span class="linenos">10</span><span class="go">   g5   1.00  47.67  80.16  -32.49 | 2.50  5.00   -1.00 |</span>
<span class="linenos">11</span><span class="go">   g6   1.00  69.62  48.80  +20.82 | 2.50  5.00   +1.00 |</span>
<span class="linenos">12</span><span class="go">   g7   1.00  82.88   6.05  +76.83 | 2.50  5.00   +1.00 |</span>
<span class="linenos">13</span><span class="go">          ----------------------------------------</span>
<span class="linenos">14</span><span class="go">  Valuation in range: -7.00 to +7.00; r(x,y)= +1/7 =&gt; 0.0</span>
</pre></div>
</div>
<p>This time, we observe a 57.1% majority of criteria significance [(1/7 + 1)/2 = 0.571] warranting an <em>as well as performing</em> situation. Yet, we also observe a considerable negative performance difference on criterion <em>g1</em> (see first row in the relation table above). Both contradictory facts trigger eventually an <strong>indeterminate</strong> outranking situation <a class="reference internal" href="#bis-2013" id="id19"><span>[BIS-2013]</span></a>.</p>
</section>
<section id="recoding-the-digraph-valuation">
<h4><a class="toc-backref" href="#id322" role="doc-backlink"><span class="section-number">1.2.3.4. </span>Recoding the digraph valuation</a><a class="headerlink" href="#recoding-the-digraph-valuation" title="Link to this heading"></a></h4>
<p>All outranking digraphs, being of root type <a class="reference internal" href="techDoc.html#digraphs.Digraph" title="digraphs.Digraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">Digraph</span></code></a>, inherit the methods available under this latter class. The characteristic valuation domain of a digraph may, for instance,  be recoded with the <code class="xref py py-func docutils literal notranslate"><span class="pre">recodeValutaion()</span></code> method below to the <em>integer</em> range [-7,+7], i.e. plus or minus the global significance of the family of criteria considered in this example instance.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">odg</span><span class="o">.</span><span class="n">recodeValuation</span><span class="p">(</span><span class="o">-</span><span class="mi">7</span><span class="p">,</span><span class="o">+</span><span class="mi">7</span><span class="p">)</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">odg</span><span class="o">.</span><span class="n">valuationdomain</span><span class="p">[</span><span class="s1">&#39;hasIntegerValuation&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">Digraph</span><span class="o">.</span><span class="n">showRelationTable</span><span class="p">(</span><span class="n">odg</span><span class="p">,</span><span class="n">ReflexiveTerms</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos"> 4</span><span class="go"> * ---- Relation Table -----</span>
<span class="linenos"> 5</span><span class="go">  r(x,y)  |  &#39;a1&#39;  &#39;a2&#39;  &#39;a3&#39;  &#39;a4&#39;  &#39;a5&#39;  &#39;a6&#39;  &#39;a7&#39;</span>
<span class="linenos"> 6</span><span class="go"> ---------|------------------------------------------</span>
<span class="linenos"> 7</span><span class="go">   &#39;a1&#39;   |    0    +5    +2    +2    +2    +2     0</span>
<span class="linenos"> 8</span><span class="go">   &#39;a2&#39;   |   -5     0    -1    -1    +1    +2    -4</span>
<span class="linenos"> 9</span><span class="go">   &#39;a3&#39;   |   -1    +2     0    -1    -1     0    -1</span>
<span class="linenos">10</span><span class="go">   &#39;a4&#39;   |    0    +1    +4     0    +2    +4    -3</span>
<span class="linenos">11</span><span class="go">   &#39;a5&#39;   |   -1     0    +1     0     0    +2    -1</span>
<span class="linenos">12</span><span class="go">   &#39;a6&#39;   |   -1     0    +1    -1    +1     0     0</span>
<span class="linenos">13</span><span class="go">   &#39;a7&#39;   |    0    +5    +4    +3    +2     0     0</span>
<span class="linenos">14</span><span class="go"> Valuation domain: [-7;+7]</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Notice that the reflexive self comparison characteristic <img class="math" src="_images/math/2df20ad8d0ebe9d89d37f3356bbcdee16aba4e26.png" alt="r(x \, \succsim \, x)"/> is set above by default to the median indeterminate valuation value 0; the reflexive terms of binary relation being generally ignored in most of the <em>Digraph3</em> resources.</p>
</div>
</section>
<section id="the-strict-outranking-digraph">
<span id="codual-digraph-label"></span><h4><a class="toc-backref" href="#id323" role="doc-backlink"><span class="section-number">1.2.3.5. </span>The strict outranking digraph</a><a class="headerlink" href="#the-strict-outranking-digraph" title="Link to this heading"></a></h4>
<p>Bipolar-valued outranking digraphs are <strong>strongly complete</strong>, i.e. <em>complete</em> from a <em>relational</em> as well as from an <em>epistemic</em> perspective:</p>
<blockquote>
<div><p><img class="math" src="_images/math/9f2e2e0443bafdffafb1ec1181de7dc8c151928d.png" alt="r(x \succsim y) + r(y \succsim x) \geq 0.0"/>.</p>
</div></blockquote>
<p>They furthermore verify the <strong>coduality</strong> principle: the <strong>converse</strong> (the <em>inverse</em> ~) of the <strong>dual</strong> <a class="footnote-reference brackets" href="#id218" id="id20" role="doc-noteref"><span class="fn-bracket">[</span>14<span class="fn-bracket">]</span></a> (the <em>negation</em> - ) correspond to their asymmetrical <strong>strict outranking</strong> part:</p>
<blockquote>
<div><p><img class="math" src="_images/math/7eb44ae1018a0fc45ffd96d836162fcdfc9e2be6.png" alt="\sim\big(-r(y \succsim x)\big) \;=\; \sim\big(r(y \not \succsim x)\big) \;=\; r(x \succnsim y)"/>.</p>
</div></blockquote>
<p>From both properties follows straightway that codual, i.e. <em>strict</em>, outranking digraphs are <strong>strongly asymmetrical</strong>:</p>
<blockquote>
<div><p><img class="math" src="_images/math/9c26c87594ec75645be8aaafded41936aab56501.png" alt="r(x \succnsim y) + r(y \succnsim x) \leq 0.0"/></p>
</div></blockquote>
<p>See the advanced topic on <a class="reference internal" href="pearls.html#sufficiency-tutorial-label"><span class="std std-ref">characterizing bipolar-valued outranking digraphs</span></a>, <a class="reference internal" href="#bis-2013" id="id21"><span>[BIS-2013]</span></a>, <a class="reference internal" href="#adt-l7" id="id22"><span>[ADT-L7]</span></a> .</p>
<p>We may visualize the <strong>codual</strong> outranking digraph <em>cdodg</em> with a graphviz drawing <a class="footnote-reference brackets" href="#id208" id="id23" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">cdodg</span> <span class="o">=</span> <span class="o">~</span><span class="p">(</span><span class="o">-</span><span class="n">odg</span><span class="p">)</span> <span class="c1"># == -(~odg) == codual transform</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">cdodg</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">(</span><span class="s1">&#39;codualOdg&#39;</span><span class="p">)</span>
<span class="linenos">3</span><span class="go"> *---- exporting a dot file for GraphViz tools ---------*</span>
<span class="linenos">4</span><span class="go"> Exporting to codualOdg.dot</span>
<span class="linenos">5</span><span class="go"> dot -Grankdir=BT -Tpng codualOdg.dot -o codualOdg.png</span>
</pre></div>
</div>
<figure class="align-center" id="id276">
<a class="reference internal image-reference" href="_images/codualOdg.png"><img alt="_images/codualOdg.png" src="_images/codualOdg.png" style="width: 300px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.10 </span><span class="caption-text">The strict (codual) outranking digraph</span><a class="headerlink" href="#id276" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>It becomes readily clear now from the picture above that both alternatives <em>a1</em>  and <em>a7</em> are <em>not outranked</em> by any other alternatives. Hence, <em>a1</em>  and <em>a7</em> appear as <a class="reference internal" href="#linearvoting-tutorial-label"><span class="std std-ref">weak Condorcet winners</span></a> and may be recommended as potential <em>best decision actions</em> in a selection decision problem.</p>
<p>Many more tools for exploiting bipolar-valued outranking digraphs are available in the <em>Digraph3</em> resources (see the technical documentation of the <a class="reference internal" href="techDoc.html#outrankingdigraphs-label"><span class="std std-ref">outrankingDigraphs module</span></a> and the <a class="reference internal" href="techDoc.html#perftabs-label"><span class="std std-ref">perfTabs module</span></a>).</p>
</section>
<section id="id24">
<h4><a class="toc-backref" href="#id324" role="doc-backlink"><span class="section-number">1.2.3.6. </span>Historical Notes</a><a class="headerlink" href="#id24" title="Link to this heading"></a></h4>
<p>The seminal work on outranking digraphs goes back to the seventies and eighties when <em>Bernard Roy</em> joined the just starting <em>University Paris-Dauphine</em> and founded there the <em>Laboratoire d’Analyse et de Modélisation de Systèmes pour l’Aide à la Décision</em> (LAMSADE). The LAMSADE became the major site in the development of the outranking approach to multiple-criteria decision aiding (<a class="reference internal" href="#roy-1991" id="id25"><span>[ROY-1991]</span></a>).</p>
<p>The ongoing success of the original <em>outranking</em> concept stems indeed from the fact that it is rooted in a sound pragmatism. The multiple-criteria performance tableau object, necessarily associated with a given outranking digraph, is indeed convincingly objective and meaningful (<a class="reference internal" href="#roy-1993" id="id26"><span>[ROY-1993]</span></a>). And, ideas from social choice theory gave initially the insight that a pairwise voting mechanism à la <em>Condorcet</em> could provide an order-statistical tool for aggregating a set of preference points of view into what <em>Marc Barbut</em> called the <em>central Condorcet</em> point of view (<a class="reference internal" href="#con-1785" id="id27"><span>[CON-1785]</span></a> and <a class="reference internal" href="#bar-1980" id="id28"><span>[BAR-1980]</span></a>); in fact the median of the multiple preference points of view, at minimal absolute <em>Kendall</em>’s ordinal correlation distance from all individual points of view (see <a class="reference internal" href="pearls.html#ordinalcorrelation-tutorial-label"><span class="std std-ref">Ordinal correlation equals bipolar-valued relational equivalence</span></a>).</p>
<p>Considering thus each performance criterion as a subset of unanimous voters and balancing the votes in favour against considerable counter-performances in disfavour gave eventually rise to the concept of <em>outranking situation</em>, a distinctive feature of the Multiple-Criteria Decision Aiding approach (<a class="reference internal" href="#roy-1991" id="id29"><span>[ROY-1991]</span></a>).  A modern definition would be: an alternative <em>x</em> is said to <em>outrank</em> alternative <em>y</em> when – a <em>significant majority</em> of criteria confirm that alternative <em>x</em> has to be considered as <em>at least as well evaluated as</em> an alternative <em>y</em> (the <em>concordance</em> argument); and – no discordant criterion opens to significant doubt the validity of the previous confirmation by revealing a considerable counter-performance of alternative <em>x</em> compared to <em>y</em> (the <em>discordance</em> argument).</p>
<p>If the concordance argument was always well received, the discordance argument however, very confused in the beginning (<a class="reference internal" href="#roy-1966" id="id30"><span>[ROY-1966]</span></a>, <a class="reference internal" href="#bis-2009" id="id31"><span>[BIS-2009]</span></a>), could only be handled in an epistemically correct and logically sound way by using a bipolar-valued epistemic logic (<a class="reference internal" href="#bis-2013" id="id32"><span>[BIS-2013]</span></a>). The outranking situation had consequently to receive an explicit <em>negative</em> definition: An alternative <em>x</em> is said to <em>do not outrank</em> an alternative <em>y</em> when – a <em>significant majority</em> of criteria confirm that alternative <em>x</em> has to be considered as <em>not at least as well evaluated as</em> alternative <em>y</em>; and – no discordant criterion opens to significant doubt the validity of the previous confirmation by revealing a considerable <em>better</em> performance of alternative <em>x</em> compared to <em>y</em>.</p>
<p>Furthermore, the initial conjunctive aggregation of the concordance and discordance arguments had to be replaced by a disjunctive epistemic fusion operation, polarising in a logically sound and epistemically correct way the concordance with the discordance argument. This way, bipolar-valued outranking  digraphs gained two very useful properties from a measure theoretical perspective. They are <em>strongly complete</em>; incomparability situations are no longer attested by the absence of positive outranking relations, but instead by epistemic indeterminateness. And, they verify the <em>coduality principle</em>: the negation of the epistemic ‘<em>at least as well evaluated as</em>’ situation corresponds formally to the strict converse epistemic ‘<em>less well evaluated than</em>’ situation.</p>
<p>Back to <a class="reference internal" href="#tutorial-label"><span class="std std-ref">Content Table</span></a></p>
<hr class="docutils" />
</section>
</section>
</section>
<section id="evaluation-and-decision-methods-and-tools">
<span id="evaluation-decision-methods-label"></span><h2><span class="section-number">1.3. </span>Evaluation and decision methods and tools<a class="headerlink" href="#evaluation-and-decision-methods-and-tools" title="Link to this heading"></a></h2>
<p>This is the methodological part of the tutorials.</p>
<nav class="contents local" id="id33">
<ul class="simple">
<li><p><a class="reference internal" href="#computing-a-best-choice-recommendation" id="id325">Computing a best choice recommendation</a></p></li>
<li><p><a class="reference internal" href="#how-to-create-a-new-performance-tableau-instance" id="id326">How to create a new performance tableau instance</a></p></li>
<li><p><a class="reference internal" href="#generating-random-performance-tableaux-with-the-randperftabs-module" id="id327">Generating random performance tableaux with the <code class="xref py py-mod docutils literal notranslate"><span class="pre">randPerfTabs</span></code> module</a></p></li>
<li><p><a class="reference internal" href="#lineraly-ranking-with-multiple-incommensurable-criteria" id="id328">Lineraly ranking with multiple incommensurable criteria</a></p></li>
<li><p><a class="reference internal" href="#on-partially-ranking-outranking-digraphs" id="id329">On partially ranking outranking digraphs</a></p></li>
<li><p><a class="reference internal" href="#rating-into-relative-performance-quantiles" id="id330">Rating into relative performance quantiles</a></p></li>
<li><p><a class="reference internal" href="#rating-with-learned-performance-quantile-norms" id="id331">Rating with learned performance quantile norms</a></p></li>
<li><p><a class="reference internal" href="#computing-the-winner-of-an-election-with-the-votingprofiles-module" id="id332">Computing the winner of an election with the <a class="reference internal" href="techDoc.html#module-votingProfiles" title="votingProfiles"><code class="xref py py-mod docutils literal notranslate"><span class="pre">votingProfiles</span></code></a> module</a></p></li>
<li><p><a class="reference internal" href="#on-computing-fair-intergroup-pairings" id="id333">On computing fair intergroup pairings</a></p></li>
<li><p><a class="reference internal" href="#on-computing-fair-intragroup-pairings" id="id334">On computing fair intragroup pairings</a></p></li>
</ul>
</nav>
<hr class="docutils" />
<section id="computing-a-best-choice-recommendation">
<span id="rubis-tutorial-label"></span><h3><a class="toc-backref" href="#id325" role="doc-backlink"><span class="section-number">1.3.1. </span>Computing a best choice recommendation</a><a class="headerlink" href="#computing-a-best-choice-recommendation" title="Link to this heading"></a></h3>
<blockquote class="epigraph">
<div><p>“<em>… L’objectif des recherches était de mettre au point une méthode de résolution … qui soit facile à utiliser, qui nécessite des hypotèses simples, aussi peu nombreuses et peu contestables que possible et qui puisse répondre aux besoins…</em>” <a class="footnote-reference brackets" href="#id268" id="id34" role="doc-noteref"><span class="fn-bracket">[</span>63<span class="fn-bracket">]</span></a> – B. Roy et al. (1966)</p>
</div></blockquote>
<p>This tutorial presents the <em>RUBIS</em> best choice recommender system <a class="reference internal" href="#bis-2008" id="id35"><span>[BIS-2008]</span></a>. Our approach is illustrated with a best office location selection problem. We show how to explore the given performance tableau and compute the corresponding bipolar-valued outranking digraph. After introducing the pragmatic principles that gouvern the <em>RUBIS</em> recommeder algorithm, we present some tools for computing a first choice recommendation.</p>
<nav class="contents local" id="id36">
<ul class="simple">
<li><p><a class="reference internal" href="#what-office-location-to-choose" id="id335">What office location to choose ?</a></p></li>
<li><p><a class="reference internal" href="#the-performance-tableau" id="id336">The performance tableau</a></p></li>
<li><p><a class="reference internal" href="#the-outranking-digraph" id="id337">The outranking digraph</a></p></li>
<li><p><a class="reference internal" href="#designing-a-best-choice-recommender-system" id="id338">Designing a best choice recommender system</a></p></li>
<li><p><a class="reference internal" href="#computing-the-first-choice-recommendation" id="id339">Computing the first choice recommendation</a></p></li>
<li><p><a class="reference internal" href="#partially-ranking-the-outranking-digraph" id="id340">Partially ranking the outranking digraph</a></p></li>
<li><p><a class="reference internal" href="#id48" id="id341">Historical Notes</a></p></li>
</ul>
</nav>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Lecture 7 notes from the MICS Algorithmic Decision Theory course: <a class="reference internal" href="#adt-l7" id="id37"><span>[ADT-L7]</span></a>.</p>
</div>
<section id="what-office-location-to-choose">
<h4><a class="toc-backref" href="#id335" role="doc-backlink"><span class="section-number">1.3.1.1. </span>What office location to choose ?</a><a class="headerlink" href="#what-office-location-to-choose" title="Link to this heading"></a></h4>
<p>A SME, specialized in printing and copy services, has to move into new offices, and its CEO has gathered seven <strong>potential office locations</strong> (see <a class="reference internal" href="#newoffsites"><span class="std std-numref">Table 1.1</span></a>).</p>
<table class="docutils align-default" id="newoffsites">
<caption><span class="caption-number">Table 1.1 </span><span class="caption-text">The potential new office locations</span><a class="headerlink" href="#newoffsites" title="Link to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>ID</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Address</p></th>
<th class="head"><p>Comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>A</p></td>
<td><p>Ave</p></td>
<td><p>Avenue de la liberté</p></td>
<td><p>High standing city center</p></td>
</tr>
<tr class="row-odd"><td><p>B</p></td>
<td><p>Bon</p></td>
<td><p>Bonnevoie</p></td>
<td><p>Industrial environment</p></td>
</tr>
<tr class="row-even"><td><p>C</p></td>
<td><p>Ces</p></td>
<td><p>Cessange</p></td>
<td><p>Residential suburb location</p></td>
</tr>
<tr class="row-odd"><td><p>D</p></td>
<td><p>Dom</p></td>
<td><p>Dommeldange</p></td>
<td><p>Industrial suburb environment</p></td>
</tr>
<tr class="row-even"><td><p>E</p></td>
<td><p>Bel</p></td>
<td><p>Esch-Belval</p></td>
<td><p>New and ambitious urbanization far from the city</p></td>
</tr>
<tr class="row-odd"><td><p>F</p></td>
<td><p>Fen</p></td>
<td><p>Fentange</p></td>
<td><p>Out in the countryside</p></td>
</tr>
<tr class="row-even"><td><p>G</p></td>
<td><p>Gar</p></td>
<td><p>Avenue de la Gare</p></td>
<td><p>Main city shopping street</p></td>
</tr>
</tbody>
</table>
<p>Three <strong>decision objectives</strong> are guiding the CEO’s choice:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p><em>minimize</em> the yearly costs induced by the moving,</p></li>
<li><p><em>maximize</em> the future turnover of the SME,</p></li>
<li><p><em>maximize</em> the new working conditions.</p></li>
</ol>
</div></blockquote>
<p>The decision consequences to take into account for evaluating the potential new office locations with respect to each of the three objectives are modelled by the following <strong>coherent family of criteria</strong> <a class="footnote-reference brackets" href="#id230" id="id38" role="doc-noteref"><span class="fn-bracket">[</span>26<span class="fn-bracket">]</span></a>.</p>
<table class="docutils align-default" id="offcrit">
<caption><span class="caption-number">Table 1.2 </span><span class="caption-text">The coherent family of performance criteria</span><a class="headerlink" href="#offcrit" title="Link to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Objective</p></th>
<th class="head"><p>ID</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Yearly costs</p></td>
<td><p>C</p></td>
<td><p>Costs</p></td>
<td><p>Annual rent, charges, and cleaning</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>Future turnover</p></td>
<td><p>St</p></td>
<td><p>Standing</p></td>
<td><p>Image and presentation</p></td>
</tr>
<tr class="row-odd"><td><p>Future turnover</p></td>
<td><p>V</p></td>
<td><p>Visibility</p></td>
<td><p>Circulation of potential customers</p></td>
</tr>
<tr class="row-even"><td><p>Future turnover</p></td>
<td><p>Pr</p></td>
<td><p>Proximity</p></td>
<td><p>Distance from town center</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>Working conditions</p></td>
<td><p>W</p></td>
<td><p>Space</p></td>
<td><p>Working space</p></td>
</tr>
<tr class="row-odd"><td><p>Working conditions</p></td>
<td><p>Cf</p></td>
<td><p>Comfort</p></td>
<td><p>Quality of office equipment</p></td>
</tr>
<tr class="row-even"><td><p>Working conditions</p></td>
<td><p>P</p></td>
<td><p>Parking</p></td>
<td><p>Available parking facilities</p></td>
</tr>
</tbody>
</table>
<p>The evaluation of the seven potential locations on each criterion are gathered in the following <strong>performance tableau</strong>.</p>
<table class="docutils align-default" id="offperftab">
<caption><span class="caption-number">Table 1.3 </span><span class="caption-text">Performance evaluations of the potential office locations</span><a class="headerlink" href="#offperftab" title="Link to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Criterion</p></th>
<th class="head"><p>weight</p></th>
<th class="head"><p>A</p></th>
<th class="head"><p>B</p></th>
<th class="head"><p>C</p></th>
<th class="head"><p>D</p></th>
<th class="head"><p>E</p></th>
<th class="head"><p>F</p></th>
<th class="head"><p>G</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Costs</p></td>
<td><p>45.0</p></td>
<td><p>35.0K€</p></td>
<td><p>17.8K€</p></td>
<td><p>6.7K€</p></td>
<td><p>14.1K€</p></td>
<td><p>34.8K€</p></td>
<td><p>18.6K€</p></td>
<td><p>12.0K€</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>Proximity</p></td>
<td><p>32.0</p></td>
<td><p>100</p></td>
<td><p>20</p></td>
<td><p>80</p></td>
<td><p>70</p></td>
<td><p>40</p></td>
<td><p>0</p></td>
<td><p>60</p></td>
</tr>
<tr class="row-odd"><td><p>Visibility</p></td>
<td><p>26.0</p></td>
<td><p>60</p></td>
<td><p>80</p></td>
<td><p>70</p></td>
<td><p>50</p></td>
<td><p>60</p></td>
<td><p>0</p></td>
<td><p>100</p></td>
</tr>
<tr class="row-even"><td><p>Standing</p></td>
<td><p>23.0</p></td>
<td><p>100</p></td>
<td><p>10</p></td>
<td><p>0</p></td>
<td><p>30</p></td>
<td><p>90</p></td>
<td><p>70</p></td>
<td><p>20</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>Work. space</p></td>
<td><p>10.0</p></td>
<td><p>75</p></td>
<td><p>30</p></td>
<td><p>0</p></td>
<td><p>55</p></td>
<td><p>100</p></td>
<td><p>0</p></td>
<td><p>50</p></td>
</tr>
<tr class="row-odd"><td><p>Work. comf.</p></td>
<td><p>6.0</p></td>
<td><p>0</p></td>
<td><p>100</p></td>
<td><p>10</p></td>
<td><p>30</p></td>
<td><p>60</p></td>
<td><p>80</p></td>
<td><p>50</p></td>
</tr>
<tr class="row-even"><td><p>Parking</p></td>
<td><p>3.0</p></td>
<td><p>90</p></td>
<td><p>30</p></td>
<td><p>100</p></td>
<td><p>90</p></td>
<td><p>70</p></td>
<td><p>0</p></td>
<td><p>80</p></td>
</tr>
</tbody>
</table>
<p>Except the <em>Costs</em> criterion, all other criteria admit for grading a qualitative satisfaction scale from 0% (worst) to 100% (best). We may thus notice in <a class="reference internal" href="#offperftab"><span class="std std-numref">Table 1.3</span></a> that location <em>A</em> (<em>Ave</em>) is the most expensive, but also 100% satisfying the <em>Proximity</em> as well as the  <em>Standing</em> criterion. Whereas the locations <em>C</em> (<em>Ces</em>) is the cheapest one; providing however no satisfaction at all on both the <em>Standing</em> and the <em>Working Space</em> criteria.</p>
<p>In <a class="reference internal" href="#offperftab"><span class="std std-numref">Table 1.3</span></a> we may also see that the <em>Costs</em> criterion admits the highest significance (45.0), followed by the <em>Future turnover</em> criteria (32.0 + 26.0 + 23.0 = 81.0), The <em>Working conditions</em> criteria are the less significant (10.0 + 6.0, + 3.0 = 19.0). It follows that the CEO considers <em>maximizing the future turnover</em> the most important objective (81.0), followed by the <em>minizing yearly Costs</em> objective (45.0), and less important, the <em>maximizing working conditions</em> objective (19.0).</p>
<p>Concerning yearly costs, we suppose that the CEO is indifferent up to a performance difference of 1000€, and he actually prefers a location if there is at least a positive difference of 2500€. The grades observed on the six qualitative criteria (measured in percentages of satisfaction) are very subjective and rather imprecise. The CEO is hence indifferent up to a satisfaction difference of 10%, and he claims a significant preference when the satisfaction difference is at least of 20%.  Furthermore, a satisfaction difference of 80% represents for him a <em>considerably large</em> performance difference, triggering an outranking <em>polarisation</em> the case given (see <a class="reference internal" href="#bis-2013" id="id39"><span>[BIS-2013]</span></a>).</p>
</section>
<section id="the-performance-tableau">
<h4><a class="toc-backref" href="#id336" role="doc-backlink"><span class="section-number">1.3.1.2. </span>The performance tableau</a><a class="headerlink" href="#the-performance-tableau" title="Link to this heading"></a></h4>
<p>A Python encoded  performance tableau is available for downloading here <a class="reference external" href="_static/officeChoice.py">officeChoice.py</a>.</p>
<blockquote>
<div></div></blockquote>
<p>We may inspect the performance tableau data with the computing resources provided by the <a class="reference internal" href="techDoc.html#perftabs-label"><span class="std std-ref">perfTabs module</span></a>.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">perfTabs</span> <span class="kn">import</span> <span class="n">PerformanceTableau</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">PerformanceTableau</span><span class="p">(</span><span class="s1">&#39;officeChoice&#39;</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span>
<span class="linenos"> 4</span><span class="go"> *------- PerformanceTableau instance description ------*</span>
<span class="linenos"> 5</span><span class="go">  Instance class     : PerformanceTableau</span>
<span class="linenos"> 6</span><span class="go">  Instance name      : officeChoice</span>
<span class="linenos"> 7</span><span class="go">  Actions            : 7</span>
<span class="linenos"> 8</span><span class="go">  Objectives         : 3</span>
<span class="linenos"> 9</span><span class="go">  Criteria           : 7</span>
<span class="linenos">10</span><span class="go">  NaN proportion (%) : 0.0</span>
<span class="linenos">11</span><span class="go">  Attributes         : [&#39;name&#39;, &#39;actions&#39;, &#39;objectives&#39;,</span>
<span class="linenos">12</span><span class="go">                        &#39;criteria&#39;, &#39;weightPreorder&#39;,</span>
<span class="linenos">13</span><span class="go">                        &#39;NA&#39;, &#39;evaluation&#39;]</span>
<span class="linenos">14</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">showPerformanceTableau</span><span class="p">()</span>
<span class="linenos">15</span><span class="go"> *----  performance tableau -----*</span>
<span class="linenos">16</span><span class="go">   Criteria |  &#39;C&#39;        &#39;Cf&#39;    &#39;P&#39;   &#39;Pr&#39;     &#39;St&#39;     &#39;V&#39;     &#39;W&#39;</span>
<span class="linenos">17</span><span class="go">   Weights  |  45.00      6.00    3.00  32.00    23.00   26.00   10.00</span>
<span class="linenos">18</span><span class="go">   ---------|---------------------------------------------------------</span>
<span class="linenos">19</span><span class="go">    &#39;Ave&#39;   | -35000.00   0.00   90.00  100.00  100.00   60.00   75.00</span>
<span class="linenos">20</span><span class="go">    &#39;Bon&#39;   | -17800.00 100.00   30.00   20.00   10.00   80.00   30.00</span>
<span class="linenos">21</span><span class="go">    &#39;Ces&#39;   |  -6700.00  10.00  100.00   80.00    0.00   70.00    0.00</span>
<span class="linenos">22</span><span class="go">    &#39;Dom&#39;   | -14100.00  30.00   90.00   70.00   30.00   50.00   55.00</span>
<span class="linenos">23</span><span class="go">    &#39;Bel&#39;   | -34800.00  60.00   70.00   40.00   90.00   60.00  100.00</span>
<span class="linenos">24</span><span class="go">    &#39;Fen&#39;   | -18600.00  80.00    0.00    0.00   70.00    0.00    0.00</span>
<span class="linenos">25</span><span class="go">    &#39;Gar&#39;   | -12000.00  50.00   80.00   60.00   20.00  100.00   50.00</span>
</pre></div>
</div>
<p>We thus recover all the input data. To measure the actual preference discrimination we observe on each criterion, we may use the <a class="reference internal" href="techDoc.html#perfTabs.PerformanceTableau.showCriteria" title="perfTabs.PerformanceTableau.showCriteria"><code class="xref py py-func docutils literal notranslate"><span class="pre">showCriteria()</span></code></a> method.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">showCriteria</span><span class="p">(</span><span class="n">IntegerWeights</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos"> 2</span><span class="go"> *----  criteria -----*</span>
<span class="linenos"> 3</span><span class="go"> C &#39;Costs&#39;</span>
<span class="linenos"> 4</span><span class="go"> Scale = (Decimal(&#39;0.00&#39;), Decimal(&#39;50000.00&#39;))</span>
<span class="linenos"> 5</span><span class="go"> Weight = 45</span>
<span class="linenos"> 6</span><span class="go"> Threshold ind : 1000.00 + 0.00x ;  percentile:  9.5</span>
<span class="linenos"> 7</span><span class="go"> Threshold pref : 2500.00 + 0.00x ; percentile: 14.3</span>
<span class="linenos"> 8</span><span class="go"> Cf &#39;Comfort&#39;</span>
<span class="linenos"> 9</span><span class="go"> Scale = (Decimal(&#39;0.00&#39;), Decimal(&#39;100.00&#39;))</span>
<span class="linenos">10</span><span class="go"> Weight = 6</span>
<span class="linenos">11</span><span class="go"> Threshold ind : 10.00 + 0.00x ;  percentile:   9.5</span>
<span class="linenos">12</span><span class="go"> Threshold pref : 20.00 + 0.00x ; percentile:  28.6</span>
<span class="linenos">13</span><span class="go"> Threshold veto : 80.00 + 0.00x ; percentile:  90.5</span>
<span class="linenos">14</span><span class="go"> ...</span>
</pre></div>
</div>
<p>On the <em>Costs</em> criterion, 9.5% of the performance differences are considered insignificant and 14.3% below the preference discrimination threshold (lines 6-7). On the qualitative <em>Working Comfort</em> criterion, we observe again 9.5% of insignificant performance differences (line 11). Due to the imprecision in the subjective grading, we notice here 28.6% of performance differences below the preference discrimination threshold (Line 12). Furthermore, 100.0 - 90.5 = 9.5% of the performance differences are judged <em>considerably large</em> (Line 13); 80% and more of satisfaction differences triggering in fact an outranking polarisation. Same information is available for all the other criteria.</p>
<p>A colorful comparison of all the performances is shown on <a class="reference internal" href="#officechoiceheatmap"><span class="std std-numref">Fig. 1.11</span></a> by the <strong>heatmap</strong> statistics, illustrating the respective quantile class of each performance. As the set of potential alternatives is tiny, we choose here a classification into performance quintiles.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">showHTMLPerformanceHeatmap</span><span class="p">(</span><span class="n">colorLevels</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
<span class="gp">... </span>                             <span class="n">rankingRule</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="officechoiceheatmap">
<a class="reference internal image-reference" href="_images/officeChoiceHeatmap.png"><img alt="_images/officeChoiceHeatmap.png" src="_images/officeChoiceHeatmap.png" style="width: 500px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.11 </span><span class="caption-text">Unranked heatmap of the location choice performance tableau</span><a class="headerlink" href="#officechoiceheatmap" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Location <em>A</em> (<em>Ave</em>) shows extreme and contradictory performances: highest <em>Costs</em> and no <em>Working Comfort</em> on one hand, and total satisfaction with respect to <em>Standing</em>, <em>Proximity</em> and <em>Parking facilities</em> on the other hand. Similar, but opposite, situation is given for location <em>C</em> (<em>Ces</em>): unsatisfactory <em>Working Space</em>, no <em>Standing</em> and no <em>Working Comfort</em> on the one hand, and lowest <em>Costs</em>, best <em>Proximity</em> and <em>Parking facilities</em> on the other hand. Contrary to these contradictory alternatives, we observe two appealing compromise decision alternatives: locations <em>D</em> (<em>Dom</em>) and <em>G</em> (<em>Gar</em>). Finally, location <em>F</em> (<em>Fen</em>) is clearly the less satisfactory alternative of all.</p>
<p>In view of <a class="reference internal" href="#officechoiceheatmap"><span class="std std-numref">Fig. 1.11</span></a>, what is now the office location we may recommend to the CEO as <strong>best choice</strong> ?</p>
</section>
<section id="the-outranking-digraph">
<h4><a class="toc-backref" href="#id337" role="doc-backlink"><span class="section-number">1.3.1.3. </span>The outranking digraph</a><a class="headerlink" href="#the-outranking-digraph" title="Link to this heading"></a></h4>
<p>To help the CEO choosing the best office location, we are going to compute pairwise outrankings (see <a class="reference internal" href="#bis-2013" id="id40"><span>[BIS-2013]</span></a>) on the set of potential locations. For two locations <em>x</em> and <em>y</em>, the situation “<em>x</em> outranks <em>y</em>”, denoted <img class="math" src="_images/math/60001cbf53d24e495d92be8f9f55d08b2c86e362.png" alt="(x \succsim y)"/>, is given when there is:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>a <strong>significant majority</strong> of criteria concordantly supporting that location <em>x</em> is <em>at least as well evaluated as</em> location <em>y</em>, and</p></li>
<li><p><strong>no considerable</strong> counter-performance observed on any discordant criterion.</p></li>
</ol>
</div></blockquote>
<p>The credibility of each pairwise outranking situation (see <a class="reference internal" href="#bis-2013" id="id41"><span>[BIS-2013]</span></a>), denoted <img class="math" src="_images/math/bdaafcd4d24eb3ad63ff8748325475a2e2e7f1c2.png" alt="r(x \succsim y)"/>, is by default measured in a bipolar significance valuation [-1.00, 1.00], where <strong>positive</strong> terms <img class="math" src="_images/math/a04401c428164fb726f24616ad647e08c41b4a8c.png" alt="r(x \succsim y) &gt; 0.0"/> indicate a <strong>validated</strong>, and <strong>negative</strong> terms <img class="math" src="_images/math/3eb34e8d3b88de9afbf79857455c1dfdb48e4e2e.png" alt="r(x \succsim y) &lt; 0.0"/> indicate a <strong>non-validated</strong> outrankings; whereas the <strong>median</strong> value <img class="math" src="_images/math/151a383b50222fdc56ab57780fadf2f6a3fd1488.png" alt="r(x \succsim  y) = 0.0"/> represents an <strong>indeterminate</strong> situation (see <a class="reference internal" href="#bis-2004a" id="id42"><span>[BIS-2004a]</span></a>).</p>
<p>For computing such a bipolar-valued outranking digraph from the given performance tableau <em>t</em>, we use the <a class="reference internal" href="techDoc.html#outrankingDigraphs.BipolarOutrankingDigraph" title="outrankingDigraphs.BipolarOutrankingDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">BipolarOutrankingDigraph</span></code></a> class constructor from the <a class="reference internal" href="techDoc.html#outrankingdigraphs-label"><span class="std std-ref">outrankingDigraphs module</span></a>. The <a class="reference internal" href="techDoc.html#digraphs.Digraph.showHTMLRelationTable" title="digraphs.Digraph.showHTMLRelationTable"><code class="xref py py-class docutils literal notranslate"><span class="pre">showHTMLRelationTable</span></code></a> method shows below the resulting bipolar-valued adjacency matrix in a system browser window (see <a class="reference internal" href="#officechoiceoutranking"><span class="std std-numref">Fig. 1.12</span></a>).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">outrankingDigraphs</span> <span class="kn">import</span> <span class="n">BipolarOutrankingDigraph</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">BipolarOutrankingDigraph</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">showHTMLRelationTable</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-center" id="officechoiceoutranking">
<a class="reference internal image-reference" href="_images/officeChoiceOutranking.png"><img alt="_images/officeChoiceOutranking.png" src="_images/officeChoiceOutranking.png" style="width: 400px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.12 </span><span class="caption-text">The office choice outranking digraph</span><a class="headerlink" href="#officechoiceoutranking" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>In <a class="reference internal" href="#officechoiceoutranking"><span class="std std-numref">Fig. 1.12</span></a> we may notice that Alternative <em>D</em> is <strong>positively outranking</strong> all other potential office locations. <em>D</em> is hence a <em>Condorcet winner</em>. Yet, alternatives <em>A</em> (the most expensive) and <em>C</em> (the cheapest) are <em>not</em> outranked by any other locations; they are in fact <strong>weak</strong> <em>Condorcet winners</em>.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">computeCondorcetWinners</span><span class="p">()</span>
<span class="linenos">2</span><span class="go"> [&#39;D&#39;]</span>
<span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">computeWeakCondorcetWinners</span><span class="p">()</span>
<span class="linenos">4</span><span class="go"> [&#39;A&#39;, &#39;C&#39;, &#39;D&#39;]</span>
</pre></div>
</div>
<p>For two locations <em>x</em> and <em>y</em>, the situation “<em>x</em> strictly outranks <em>y</em>”, denoted <img class="math" src="_images/math/3feafe58a9ed71aa3051dc5f55b6b17772c0726b.png" alt="(x \succnsim y)"/>, is given when <em>x</em> outranks <em>y</em> and <em>y</em> does not outrank <em>y</em>. From theory, we know that outranking digraphs are <em>strongly complete</em>, i.e. for all <em>x</em> and <em>y</em> in <em>X</em>, <img class="math" src="_images/math/9f2e2e0443bafdffafb1ec1181de7dc8c151928d.png" alt="r(x \succsim y) + r(y \succsim x) \geq 0.0"/>. And they verify the <em>coduality principle</em>: <img class="math" src="_images/math/be58a8585f9253dd93cd2372c5aa0a913b896044.png" alt="r(x \not\succsim y) = r(y \succnsim x)"/> (see <a class="reference internal" href="pearls.html#sufficiency-tutorial-label"><span class="std std-ref">On characterizing bipolar-valued outranking digraphs</span></a> and <a class="reference internal" href="#bis-2013" id="id43"><span>[BIS-2013]</span></a>).</p>
<p>We may hence compute a strict outranking digraph <em>gcd</em> with the <em>codual transform</em>, i.e. the <em>converse of the negation</em> (see Line 1 below) of digraph <em>g</em> (see tutorial on <a class="reference internal" href="#outrankingdigraphs-tutorial-label"><span class="std std-ref">Working with the outrankingDigraphs module</span></a>).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">gcd</span> <span class="o">=</span> <span class="o">~</span><span class="p">(</span><span class="o">-</span><span class="n">g</span><span class="p">)</span> <span class="c1"># codual transform</span>
</span><span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">gcd</span>
<span class="linenos"> 3</span><span class="go">*------- Object instance description ------*</span>
<span class="linenos"> 4</span><span class="go">Instance class       : BipolarOutrankingDigraph</span>
<span class="linenos"> 5</span><span class="go">Instance name        : converse-dual-rel_officeChoice</span>
<span class="linenos"> 6</span><span class="go">Actions              : 7</span>
<span class="linenos"> 7</span><span class="go">Criteria             : 7</span>
<span class="hll"><span class="linenos"> 8</span><span class="go">Size                 : 10</span>
</span><span class="linenos"> 9</span><span class="go">Determinateness (%)  : 71.43</span>
<span class="linenos">10</span><span class="go">Valuation domain     : [-1.00;1.00]</span>
<span class="linenos">11</span><span class="go">Attributes           : [&#39;actions&#39;, &#39;ndigits&#39;, &#39;valuationdomain&#39;,</span>
<span class="linenos">12</span><span class="go">                        &#39;objectives&#39;, &#39;criteria&#39;, &#39;evaluation&#39;,</span>
<span class="linenos">13</span><span class="go">                        &#39;NA&#39;, &#39;order&#39;, &#39;gamma&#39;, &#39;notGamma&#39;,</span>
<span class="linenos">14</span><span class="go">                        &#39;name&#39;, &#39;relation&#39;]</span>
</pre></div>
</div>
<p>We observe in the resulting strict outranking digraph <em>gcd</em> 10 valid strict outranking situations (see Line 8) on which we are going to focus our search for a best choice recommendation.</p>
</section>
<section id="designing-a-best-choice-recommender-system">
<h4><a class="toc-backref" href="#id338" role="doc-backlink"><span class="section-number">1.3.1.4. </span>Designing a best choice recommender system</a><a class="headerlink" href="#designing-a-best-choice-recommender-system" title="Link to this heading"></a></h4>
<p>Solving a best-choice problem consists traditionally in finding <em>the</em> unique best decision alternative. We adopt here instead a modern <strong>recommender system</strong> approach which shows a non empty subset of decision alternatives which contains by construction the potential best alternative(s).</p>
<p>The five <em>pragmatic principles</em> for computing such a <em>best choice recommendation</em> (BCR) are the following</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>P1</strong>: <em>Elimination for well motivated reasons</em> (<strong>external stability</strong>); each eliminated alternative has to be strictly outranked by at least one alternative in the BCR.</p></li>
<li><p><strong>P2</strong>: <em>Minimal size</em>; the BCR must be as limited in cardinality as possible.</p></li>
<li><p><strong>P3</strong>: <em>Efficient and informative</em> (<strong>internal stability</strong>); The BCR must not contain a self-contained sub-recommendation.</p></li>
<li><p><strong>P4</strong>: <em>Effectively better</em>; the BCR must not be ambiguous in the sense that it may not be both a first choice as well as a last choice recommendation.</p></li>
<li><p><strong>P5</strong>: <em>Maximally determined</em>; the BCR is, of all potential best-choice recommendations, the most determined one in the sense of the epistemic characteristics of the bipolar-valued outranking relation.</p></li>
</ul>
</div></blockquote>
<p>Let <em>X</em> be the set of potential decision alternatives. Let <em>Y</em> be a non empty subset of <em>X</em>, called a <em>choice</em> in the strict outranking digraph <img class="math" src="_images/math/a2d3358e3c31427e7bd178eb3625b3331ea0ad4a.png" alt="G(X,r(\succnsim))"/>. We can now qualify a BCR <em>Y</em> in following terms:</p>
<blockquote>
<div><ul class="simple">
<li><p><em>Y</em> is called strictly <em>outranking</em> (resp. <em>outranked</em>) when for all not selected alternative <em>x</em> there exists an alternative <em>y</em> in <em>X</em> retained such that <img class="math" src="_images/math/9d2ed448200e3b37c4283eed2dfc131162b44c17.png" alt="r(y \succnsim x) &gt; 0.0"/> (resp. <img class="math" src="_images/math/b7aa7f33b6a811fb80f4daaa0815a8951e056d90.png" alt="r(x \succnsim y) &gt; 0.0"/>). Such a choice verifies the external stability (principle <strong>P1</strong>).</p></li>
<li><p><em>Y</em> is called <em>weakly independent</em> when for all <em>x</em> not equal <em>y</em> in <em>Y</em> we observe <img class="math" src="_images/math/4a6863deaf552d6f883882513c7885976ddaeb03.png" alt="r(x \succnsim y) \leq 0.0"/>. Such a choice verifies the internal stability (principle <strong>P3</strong>).</p></li>
<li><p><em>Y</em> is conjointly a strictly <em>outranking</em> (resp. <em>outranked</em>) <strong>and</strong> <em>weakly independent</em> choice. Such a choice is called an <em>initial</em> (resp. <em>terminal</em>) <em>prekernel</em> (see the tutorial on <a class="reference internal" href="pearls.html#kernel-tutorial-label"><span class="std std-ref">computing digraph kernels</span></a>). The initial prekernel now verifies principles <strong>P1</strong>, <strong>P2</strong>, <strong>P3</strong> and <strong>P4</strong>.</p></li>
<li><p>To finally verify principle <strong>P5</strong>, we recommend among all potential initial prekernels, a *most determined* one, i.e. a strictly <em>outranking</em> and <em>weakly independent</em> choice supported by the highest criteria significance. And in this most determined initial prekernel we eventually retain the alternative(s) that are included with highest criteria significance (see the tutorial on <a class="reference internal" href="pearls.html#bipolar-valued-kernels-tutorial-label"><span class="std std-ref">Computing bipolar-valued kernel membership characteristic vectors</span></a>).</p></li>
</ul>
</div></blockquote>
<p>Mind that a given strict outranking digraph may not always admit prekernels. This is the case when the digraph contains chordless circuits of odd length. Luckily, our strict outranking digraph <em>gcd</em> here does not show any chordless outranking circuits; a fact we can check with the <a class="reference internal" href="techDoc.html#digraphs.Digraph.showChordlessCircuits" title="digraphs.Digraph.showChordlessCircuits"><code class="xref py py-meth docutils literal notranslate"><span class="pre">showChordlessCircuits()</span></code></a> method.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">gcd</span><span class="o">.</span><span class="n">showChordlessCircuits</span><span class="p">()</span>
<span class="linenos">2</span><span class="go"> No circuits observed in this digraph.</span>
</pre></div>
</div>
<p>When observing chordless odd outranking circuits, we need to break them open with the <a class="reference internal" href="techDoc.html#digraphs.BrokenCocsDigraph" title="digraphs.BrokenCocsDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">digraphs.BrokenCocsDigraph</span></code></a> class at their weakest link, before enumerating the prekernels.</p>
<p>We are ready now for building a first choice recommendation.</p>
</section>
<section id="computing-the-first-choice-recommendation">
<h4><a class="toc-backref" href="#id339" role="doc-backlink"><span class="section-number">1.3.1.5. </span>Computing the first choice recommendation</a><a class="headerlink" href="#computing-the-first-choice-recommendation" title="Link to this heading"></a></h4>
<p>Following the previously stated pragmatic principles, potential first choice recommendations are determined by the initial prekernels –<em>weakly independent</em> and <em>strictly outranking</em> choices– of the strict outranking digraph (see the tutorial on <a class="reference internal" href="pearls.html#kernel-tutorial-label"><span class="std std-ref">computing digraph kernels</span></a>). Any detected chordless odd outranking circuits are by default broken up (see <a class="reference internal" href="#bis-2008" id="id44"><span>[BIS-2008]</span></a>).</p>
<div class="literal-block-wrapper docutils container" id="strictbestchoice">
<div class="code-block-caption"><span class="caption-number">Listing 1.12 </span><span class="caption-text">Computing the first choice recommendation</span><a class="headerlink" href="#strictbestchoice" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">showFirstChoiceRecommendation</span><span class="p">(</span><span class="n">ChoiceVector</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span class="linenos"> 2</span><span class="go"> * --- First and last choice recommendation(s) ---*</span>
<span class="linenos"> 3</span><span class="go">  (in decreasing order of determinateness)</span>
<span class="linenos"> 4</span><span class="go"> Credibility domain: [-1.00,1.00]</span>
<span class="linenos"> 5</span><span class="go"> === &gt;&gt; potential first choice(s)</span>
<span class="hll"><span class="linenos"> 6</span><span class="go"> * choice              : [&#39;A&#39;, &#39;C&#39;, &#39;D&#39;]</span>
</span><span class="linenos"> 7</span><span class="go">   independence        : 0.00</span>
<span class="linenos"> 8</span><span class="go">   dominance           : 0.10</span>
<span class="linenos"> 9</span><span class="go">   absorbency          : 0.00</span>
<span class="linenos">10</span><span class="go">   covering (%)        : 41.67</span>
<span class="linenos">11</span><span class="go">   determinateness (%) : 50.59</span>
<span class="hll"><span class="linenos">12</span><span class="go">   - characteristic vector = { &#39;D&#39;: 0.02, &#39;G&#39;: 0.00, &#39;C&#39;: 0.00,</span>
</span><span class="hll"><span class="linenos">13</span><span class="go">                               &#39;A&#39;: 0.00, &#39;F&#39;: -0.02, &#39;E&#39;: -0.02,</span>
</span><span class="hll"><span class="linenos">14</span><span class="go">                               &#39;B&#39;: -0.02, }</span>
</span><span class="linenos">15</span><span class="go"> === &gt;&gt; potential last choice(s)</span>
<span class="hll"><span class="linenos">16</span><span class="go"> * choice              : [&#39;A&#39;, &#39;F&#39;]</span>
</span><span class="linenos">17</span><span class="go">   independence        : 0.00</span>
<span class="linenos">18</span><span class="go">   dominance           : -0.52</span>
<span class="linenos">19</span><span class="go">   absorbency          : 1.00</span>
<span class="linenos">20</span><span class="go">   covered (%)         : 50.00</span>
<span class="linenos">21</span><span class="go">   determinateness (%) : 50.00</span>
<span class="linenos">22</span><span class="go">   - characteristic vector = { &#39;G&#39;: 0.00, &#39;F&#39;: 0.00, &#39;E&#39;: 0.00,</span>
<span class="linenos">23</span><span class="go">                               &#39;D&#39;: 0.00, &#39;C&#39;: 0.00, &#39;B&#39;: 0.00,</span>
<span class="linenos">24</span><span class="go">                               &#39;A&#39;: 0.00, }</span>
</pre></div>
</div>
</div>
<p>It is interesting to notice in <a class="reference internal" href="#strictbestchoice"><span class="std std-numref">Listing 1.12</span></a> (Line 6) that the <strong>first choice recommendation</strong> consists actually in the set of weak Condorcet winners: ‘A’, ‘C’ and ‘D’. In the corresponding characteristic vector (see Lines 12-14), representing the bipolar credibility degree with which each alternative may indeed be considered a first choice candidate (see <a class="reference internal" href="#bis-2006a" id="id45"><span>[BIS-2006a]</span></a>, <a class="reference internal" href="#bis-2006b" id="id46"><span>[BIS-2006b]</span></a>), we find confirmed that alternative <em>D</em> is the only positively validated one, whereas both extreme alternatives - <em>A</em> (the most expensive) and <em>C</em> (the cheapest) - stay in an <em>indeterminate</em> situation. They <strong>may be or not be</strong> potential first choice candidates besides <em>D</em>. Notice furthermore that location <em>G</em> is not included in the initial prekernel, yet, shows nevertheless an indeterminate situation with respect to <em>being or not being</em> a potential first choice candidate. Alternatives <em>B</em>, <em>E</em> and <em>F</em> are <em>negatively</em> included, i.e. <em>positively excluded</em> from this first choice recommendation. We may furthermore notice in Line 16 that both alternatives <em>A</em> and <em>F</em> are reported as potential <em>strict outranked</em> choices, hence as potential <strong>last choice candidates</strong> . The ambiguous first-ranked and last-ranked position of alternative <em>A</em> indicates its global incomparability status as shown in <a class="reference internal" href="#bestofficechoice"><span class="std std-numref">Fig. 1.13</span></a>.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">gcd</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">(</span><span class="n">fileName</span><span class="o">=</span><span class="s1">&#39;bestChoiceChoice&#39;</span><span class="p">,</span>
<span class="linenos">2</span><span class="gp">... </span>                   <span class="n">firstChoice</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;C&#39;</span><span class="p">,</span><span class="s1">&#39;D&#39;</span><span class="p">],</span>
<span class="linenos">3</span><span class="gp">... </span>                   <span class="n">lastChoice</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;F&#39;</span><span class="p">])</span>
<span class="linenos">4</span><span class="go"> *---- exporting a dot file for GraphViz tools ---------*</span>
<span class="linenos">5</span><span class="go">  Exporting to bestOfficeChoice.dot</span>
<span class="linenos">6</span><span class="go">  dot -Grankdir=BT -Tpng bestOfficeChoice.dot -o bestOfficeChoice.png</span>
</pre></div>
</div>
<figure class="align-center" id="bestofficechoice">
<a class="reference internal image-reference" href="_images/bestOfficeChoice.png"><img alt="_images/bestOfficeChoice.png" src="_images/bestOfficeChoice.png" style="width: 250px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.13 </span><span class="caption-text">Best office choice recommendation from strict outranking digraph</span><a class="headerlink" href="#bestofficechoice" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>To comprehend the indeterminate situation of location <em>G</em>, let us now compare the performances of alternatives <em>D</em> and <em>G</em> in a
pairwise perspective (see below). With the given preference discrimination thresholds, we notice that alternative <em>G</em> is actually <strong>certainly</strong> <em>at least as good as</em> alternative <em>D</em>:  <img class="math" src="_images/math/d310d1a6f31c24112d31189eb77f02fd783facde.png" alt="r(G \succsim D) = +145/145 = +1.0"/> and alternative <em>D</em> is also positively, but less credibly, <em>at least as good as</em> alternative <em>G</em>:  <img class="math" src="_images/math/9d8a6400ec99741d4c844bb5c0a241758b7eebb5.png" alt="r(D \succsim G) = +36/145 = +0.25"/> (see Line 14 below).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">showPairwiseComparison</span><span class="p">(</span><span class="s1">&#39;G&#39;</span><span class="p">,</span><span class="s1">&#39;D&#39;</span><span class="p">)</span>
<span class="linenos"> 2</span><span class="go"> *------------  pairwise comparison ----*</span>
<span class="linenos"> 3</span><span class="go"> Comparing actions : (G, D)</span>
<span class="linenos"> 4</span><span class="go"> crit. wght.  g(x)      g(y)    diff.  |   ind     pref    (G,D)/(D,G)   |</span>
<span class="linenos"> 5</span><span class="go"> =========================================================================</span>
<span class="linenos"> 6</span><span class="go"> C   45.00 -12000.00 -14100.00 +2100.00 | 1000.00 2500.00  +45.00/+0.00  |</span>
<span class="linenos"> 7</span><span class="go"> Cf   6.00     50.00     30.00   +20.00 |   10.00   20.00   +6.00/-6.00  |</span>
<span class="linenos"> 8</span><span class="go"> P    3.00     80.00     90.00   -10.00 |   10.00   20.00   +3.00/+3.00  |</span>
<span class="linenos"> 9</span><span class="go"> Pr  32.00     60.00     70.00   -10.00 |   10.00   20.00  +32.00/+32.00 |</span>
<span class="linenos">10</span><span class="go"> St  23.00     20.00     30.00   -10.00 |   10.00   20.00  +23.00/+23.00 |</span>
<span class="linenos">11</span><span class="go"> V   26.00    100.00     50.00   +50.00 |   10.00   20.00  +26.00/-26.00 |</span>
<span class="linenos">12</span><span class="go"> W   10.00     50.00     55.00    -5.00 |   10.00   20.00  +10.00/+10.00 |</span>
<span class="linenos">13</span><span class="go"> =========================================================================</span>
<span class="hll"><span class="linenos">14</span><span class="go"> Valuation in range: [-145.00;+145.00]; global concordance: +145.00/+36.00</span>
</span></pre></div>
</div>
<p>Yet, we must as well notice that the cheapest alternative <em>C</em> is in fact <strong>strictly outranking</strong> alternative <em>G</em>:  <img class="math" src="_images/math/98653da7d2be2b1fa121bede995ef28d45280ce0.png" alt="r(C \succsim G) = +15/145 &gt; 0.0"/>, and <img class="math" src="_images/math/9dea3fbd43dd55cd4fc9d03180c759832e4138ae.png" alt="r(G \succsim C) = -15/145 &lt; 0.0"/> (see Line 14 below).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">showPairwiseComparison</span><span class="p">(</span><span class="s1">&#39;C&#39;</span><span class="p">,</span><span class="s1">&#39;G&#39;</span><span class="p">)</span>
<span class="linenos"> 2</span><span class="go"> *------------  pairwise comparison ----*</span>
<span class="linenos"> 3</span><span class="go"> Comparing actions : (C, G)/(G, C)</span>
<span class="linenos"> 4</span><span class="go"> crit. wght.   g(x)     g(y)      diff.  |   ind.   pref.    (C,G)/(G,C)  |</span>
<span class="linenos"> 5</span><span class="go"> ==========================================================================</span>
<span class="linenos"> 6</span><span class="go"> C    45.00 -6700.00 -12000.00  +5300.00 | 1000.00 2500.00  +45.00/-45.00 |</span>
<span class="linenos"> 7</span><span class="go"> Cf    6.00    10.00     50.00    -40.00 |   10.00   20.00   -6.00/ +6.00 |</span>
<span class="linenos"> 8</span><span class="go"> P     3.00   100.00     80.00    +20.00 |   10.00   20.00   +3.00/ -3.00 |</span>
<span class="linenos"> 9</span><span class="go"> Pr   32.00    80.00     60.00    +20.00 |   10.00   20.00  +32.00/-32.00 |</span>
<span class="linenos">10</span><span class="go"> St   23.00     0.00     20.00    -20.00 |   10.00   20.00  -23.00/+23.00 |</span>
<span class="linenos">11</span><span class="go"> V    26.00    70.00    100.00    -30.00 |   10.00   20.00  -26.00/+26.00 |</span>
<span class="linenos">12</span><span class="go"> W    10.00     0.00     50.00    -50.00 |   10.00   20.00  -10.00/+10.00 |</span>
<span class="linenos">13</span><span class="go"> =========================================================================</span>
<span class="hll"><span class="linenos">14</span><span class="go"> Valuation in range: -145.00 to +145.00; global concordance: +15.00/-15.00</span>
</span></pre></div>
</div>
<p>Following pragmatic principle <strong>P3</strong> –the required internal stability stating that a BCR should not contain a sub-recommendation– alternative <em>G</em> is hence dropped from our first-ranked list of alternatives. Yet, the credibility level of this outranking situation is not very high: 15/145 = 0.104 (55.2% significance majority). Considering a potential imprecise knowledge of the different criteria significance weights, it appears opportune to compute in <a class="reference internal" href="#confidentofficechoice"><span class="std std-numref">Listing 1.13</span></a> below a 90% confident outranking digraph (see the advanced topic on <a class="reference internal" href="pearls.html#bipolar-valued-likelihood-tutorial-label"><span class="std std-ref">computing confident outrankings with uncertain criteria significance weights</span></a>).</p>
<div class="literal-block-wrapper docutils container" id="confidentofficechoice">
<div class="code-block-caption"><span class="caption-number">Listing 1.13 </span><span class="caption-text">Computing a 90% confident first choice recommendation</span><a class="headerlink" href="#confidentofficechoice" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">cg</span> <span class="o">=</span> <span class="n">ConfidentBipolarOutrankingDigraph</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="n">confidence</span><span class="o">=</span><span class="mf">90.0</span><span class="p">)</span>
</span><span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">cg</span>
<span class="linenos"> 3</span><span class="go"> *------- Object instance description ------*</span>
<span class="linenos"> 4</span><span class="go">  Instance class       : ConfidentBipolarOutrankingDigraph</span>
<span class="linenos"> 5</span><span class="go">  Instance name        : rel_officeChoice_CLT</span>
<span class="linenos"> 6</span><span class="go">  Actions              : 7</span>
<span class="linenos"> 7</span><span class="go">  Criteria             : 7</span>
<span class="linenos"> 8</span><span class="go">  Size                 : 16</span>
<span class="hll"><span class="linenos"> 9</span><span class="go">  Uncertainty model    : triangular(a=0,b=2w)</span>
</span><span class="linenos">10</span><span class="go">  Likelihood domain    : [-1.0;+1.0]</span>
<span class="linenos">11</span><span class="go">  Confidence level     : 0.80 (90.0%)</span>
<span class="hll"><span class="linenos">12</span><span class="go">  Confident credibility: &gt; abs(0.104) (55.2%)</span>
</span><span class="linenos">13</span><span class="go">  Determinateness (%)  : 70.67</span>
<span class="linenos">14</span><span class="go">  Valuation domain     : [-1.00;1.00]</span>
<span class="linenos">15</span><span class="gp">&gt;&gt;&gt; </span><span class="n">cg</span><span class="o">.</span><span class="n">showFirstChoiceRecommendation</span><span class="p">()</span>
<span class="linenos">16</span><span class="go"> ***********************</span>
<span class="linenos">17</span><span class="go">  First choice recommendation(s) (BCR)</span>
<span class="linenos">18</span><span class="go">  (in decreasing order of determinateness)</span>
<span class="linenos">19</span><span class="go">  Credibility domain: [-1.00,1.00]</span>
<span class="linenos">20</span><span class="go">  === &gt;&gt; potential first choice(s)</span>
<span class="hll"><span class="linenos">21</span><span class="go">  * choice              : [&#39;A&#39;, &#39;C&#39;, &#39;D&#39;, &#39;G&#39;]</span>
</span><span class="linenos">22</span><span class="go">    independence        : 0.00</span>
<span class="linenos">23</span><span class="go">    dominance           : 0.42</span>
<span class="linenos">24</span><span class="go">    absorbency          : 0.00</span>
<span class="linenos">25</span><span class="go">    covering (%)        : 50.00</span>
<span class="linenos">26</span><span class="go">    determinateness (%) : 50.00</span>
<span class="hll"><span class="linenos">27</span><span class="go">  - most credible action(s) = { }</span>
</span><span class="linenos">28</span><span class="go">  === &gt;&gt; potential last choice(s)</span>
<span class="linenos">29</span><span class="go">  * choice              : [&#39;A&#39;, &#39;B&#39;, &#39;F&#39;]</span>
<span class="linenos">30</span><span class="go">    independence        : 0.00</span>
<span class="linenos">31</span><span class="go">    dominance           : 0.00</span>
<span class="linenos">32</span><span class="go">    absorbency          : 1.00</span>
<span class="linenos">33</span><span class="go">    covered (%)         : 50.00</span>
<span class="linenos">34</span><span class="go">    determinateness (%) : 50.00</span>
<span class="linenos">35</span><span class="go">  - most credible action(s) = { }</span>
</pre></div>
</div>
</div>
<p>The <a class="reference internal" href="techDoc.html#outrankingDigraphs.ConfidentBipolarOutrankingDigraph" title="outrankingDigraphs.ConfidentBipolarOutrankingDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConfidentBipolarOutrankingDigraph</span></code></a> class constructor assumes here that the criteria significance weights are in fact <em>triangular random variates</em> in the range 0 to 2 times the given significance weights (Line 9). With this working hypothesis, we obtain a 90% confident outranking digraph <em>cg</em> where three outranking situations with a credibility in the range [-15/145; +15/145] are put to <em>indeterminate</em> (Line 8). The pairwise outranking situations between location <em>C</em> and location <em>G</em> are for instance not 90% confident and the first choice recommendation now includes consequently this latter location as a further potential best choice candidate (Line 21). Notice by the way that location ‘D’ is no more a <em>Condorcet winner</em> as the alternative is not 90% confidently outranking location <em>C</em> (Line 27).</p>
<p>To get a further interesting insight in the overall outranking situation, we finally make usage of the new <a class="reference internal" href="techDoc.html#transitiveDigraphs.PartialBachetRanking" title="transitiveDigraphs.PartialBachetRanking"><code class="xref py py-class docutils literal notranslate"><span class="pre">PartialBachetRanking</span></code></a> class imported from the <a class="reference internal" href="techDoc.html#module-transitiveDigraphs" title="transitiveDigraphs"><code class="xref py py-mod docutils literal notranslate"><span class="pre">transitiveDigraphs</span></code></a> module, for computing a <strong>partial ranking</strong> of all the potential office locations (see the advanced topic on <a class="reference internal" href="#partial-ranking-tutorial-label"><span class="std std-ref">partially ranking strategies</span></a>).</p>
</section>
<section id="partially-ranking-the-outranking-digraph">
<h4><a class="toc-backref" href="#id340" role="doc-backlink"><span class="section-number">1.3.1.6. </span>Partially ranking the outranking digraph</a><a class="headerlink" href="#partially-ranking-the-outranking-digraph" title="Link to this heading"></a></h4>
<p>In <a class="reference internal" href="#bachetranking0"><span class="std std-numref">Listing 1.14</span></a> Line 2, we operate the <a class="reference internal" href="#epistemic-fusion-label"><span class="std std-ref">epistemic disjunctive fusion</span></a> of the five best correlated linear rankings obtained from 200 random <a class="reference internal" href="pearls.html#bachet-tutorial-label"><span class="std std-ref">Bachet rankings</span></a> (see Lines 4-8). In the resulting transitive partial outranking relation, alternatives <em>A</em>, <em>C</em>, <em>D</em> as well as <em>G</em> appear all ranked before <em>B</em> and <em>E</em>, whereas alternative <em>F</em> appears always last-ranked (see Lines 11 and 14).</p>
<div class="literal-block-wrapper docutils container" id="bachetranking0">
<div class="code-block-caption"><span class="caption-number">Listing 1.14 </span><span class="caption-text">Partially ranking the location alternatives</span><a class="headerlink" href="#bachetranking0" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">transitiveDigraphs</span> <span class="kn">import</span> <span class="n">PartialBachetRanking</span>
<span class="hll"><span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">pbr</span> <span class="o">=</span> <span class="n">PartialBachetRanking</span><span class="p">(</span><span class="n">g</span><span class="p">,</span><span class="n">randomized</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span><span class="n">maxNbrOfRankings</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</span><span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">pbr</span><span class="o">.</span><span class="n">bachetRankings</span>
<span class="hll"><span class="linenos"> 4</span><span class="go"> [(0.816, [&#39;G&#39;, &#39;D&#39;, &#39;A&#39;, &#39;C&#39;, &#39;B&#39;, &#39;E&#39;, &#39;F&#39;]),</span>
</span><span class="hll"><span class="linenos"> 5</span><span class="go">  (0.788, [&#39;G&#39;, &#39;D&#39;, &#39;E&#39;, &#39;B&#39;, &#39;A&#39;, &#39;C&#39;, &#39;F&#39;]),</span>
</span><span class="hll"><span class="linenos"> 6</span><span class="go">  (0.778, [&#39;A&#39;, &#39;D&#39;, &#39;C&#39;, &#39;G&#39;, &#39;E&#39;, &#39;B&#39;, &#39;F&#39;]),</span>
</span><span class="hll"><span class="linenos"> 7</span><span class="go">  (0.758, [&#39;D&#39;, &#39;A&#39;, &#39;C&#39;, &#39;G&#39;, &#39;E&#39;, &#39;B&#39;, &#39;F&#39;]),</span>
</span><span class="hll"><span class="linenos"> 8</span><span class="go">  (0.756, [&#39;G&#39;, &#39;C&#39;, &#39;D&#39;, &#39;A&#39;, &#39;E&#39;, &#39;B&#39;, &#39;F&#39;])]</span>
</span><span class="linenos"> 9</span><span class="gp">&gt;&gt;&gt; </span><span class="n">pbr</span><span class="o">.</span><span class="n">showTransitiveDigraph</span><span class="p">()</span>
<span class="linenos">10</span><span class="go"> Ranking by Choosing and Rejecting</span>
<span class="hll"><span class="linenos">11</span><span class="go"> 1st ranked [&#39;A&#39;, &#39;C&#39;, &#39;D&#39;, &#39;G&#39;]</span>
</span><span class="linenos">12</span><span class="go">    2nd ranked [&#39;B&#39;, &#39;E&#39;]</span>
<span class="linenos">13</span><span class="go">    2nd last ranked [&#39;B&#39;, &#39;E&#39;]</span>
<span class="hll"><span class="linenos">14</span><span class="go"> 1st last ranked [&#39;F&#39;]</span>
</span><span class="linenos">15</span><span class="gp">&gt;&gt;&gt; </span><span class="n">pbr</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">(</span><span class="s1">&#39;officeChoiceRanking&#39;</span><span class="p">,</span><span class="n">ArrowHeads</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos">16</span><span class="go"> *---- exporting a dot file for GraphViz tools ---------*</span>
<span class="linenos">17</span><span class="go"> Exporting to officeChoiceRanking.dot</span>
<span class="linenos">18</span><span class="go"> dot -Grankdir=TB -Tpng officeChoiceRanking.dot -o officeChoiceRanking.png</span>
</pre></div>
</div>
</div>
<figure class="align-center" id="officechoiceranking">
<a class="reference internal image-reference" href="_images/officeChoiceRanking.png"><img alt="_images/officeChoiceRanking.png" src="_images/officeChoiceRanking.png" style="width: 300px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.14 </span><span class="caption-text">Partially ranking the outranking digraph</span><a class="headerlink" href="#officechoiceranking" title="Link to this image"></a></p>
</figcaption>
</figure>
<p><a class="reference internal" href="#officechoiceranking"><span class="std std-numref">Fig. 1.14</span></a> makes hence again clearly apparent the important fact that the most expensive location <em>A</em> and the cheapest location <em>C</em>, both,  appear incomparable with all the other alternatives except the last-ranked location <em>F</em>. With the <a class="reference internal" href="techDoc.html#transitiveDigraphs.PartialBachetRanking.computePartialOutrankingConsensusQuality" title="transitiveDigraphs.PartialBachetRanking.computePartialOutrankingConsensusQuality"><code class="xref py py-meth docutils literal notranslate"><span class="pre">computePartialOutrankingConsensusQuality()</span></code></a> method, we may check in <a class="reference internal" href="#partialbachetranking1"><span class="std std-numref">Listing 1.15</span></a> the consensus quality of this partial ranking with respect to the marginal criterion rankings.</p>
<div class="literal-block-wrapper docutils container" id="partialbachetranking1">
<div class="code-block-caption"><span class="caption-number">Listing 1.15 </span><span class="caption-text">Consensus quality of the partial Bachet ranking</span><a class="headerlink" href="#partialbachetranking1" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">pbr</span><span class="o">.</span><span class="n">computePartialOutrankingConsensusQuality</span><span class="p">(</span><span class="n">Comments</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span class="linenos"> 2</span><span class="go"> Consensus quality of partial ranking:</span>
<span class="linenos"> 3</span><span class="go"> Criterion (weight)    : ordinal correlation</span>
<span class="linenos"> 4</span><span class="go"> ---------------------------------------</span>
<span class="hll"><span class="linenos"> 5</span><span class="go">  Proximity (0.221)    : +1.000</span>
</span><span class="linenos"> 6</span><span class="go">  Parking (0.021)      : +0.900</span>
<span class="hll"><span class="linenos"> 7</span><span class="go">  Visibility (0.179)   : +0.700</span>
</span><span class="hll"><span class="linenos"> 8</span><span class="go">  Costs (0.310)        : +0.500</span>
</span><span class="linenos"> 9</span><span class="go">  Working Space (0.069): +0.500</span>
<span class="hll"><span class="linenos">10</span><span class="go">  Standing (0.159)     : -0.300</span>
</span><span class="hll"><span class="linenos">11</span><span class="go">  Comfort (0.041)      : -0.700</span>
</span><span class="linenos">12</span><span class="go"> Summary:</span>
<span class="hll"><span class="linenos">13</span><span class="go">  Weighted mean marginal correlation (a) : +0.478</span>
</span><span class="linenos">14</span><span class="go">  Standard deviation (b)                 : +0.476</span>
<span class="linenos">15</span><span class="go">  Partial ranking fairness (a)-(b)       : +0.002</span>
</pre></div>
</div>
</div>
<p>The partial <em>Bachet</em> ranking is a 100% consistent with the <em>Proximity</em> criterion, 85% consistent with <em>Visibility</em> and 75% consistent with the <em>Costs</em> criterion. These three criteria are the most significant ones (see Lines 5 aand 7). The least considered criteria are the <em>Standing</em> and even more the <em>Comfort</em> criterion. The partial <em>Bachet</em> ranking is indeed  only 35% consistent with the <em>Standing</em> and only 15% consistent with the latter one (see Lines 10-11). The mean weighted marginal ordinal correlation index (+0.478, Line 13) over all the criteria shows eventually a partial ranking consensus supported by a nearly 75% significance majority.</p>
<p>We may finally use the best, with the outranking digraph <em>g</em> correlated (+0.816), <em>Bachet</em> ranking [‘G’, ‘D’, ‘A’, ‘C’, ‘B’, ‘E’, ‘F’]  for showing in <a class="reference internal" href="#rankedofficechoiceheatmap"><span class="std std-numref">Fig. 1.15</span></a> a from best to worst ranked performance heatmap of all the potential office locations.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">showHTMLPerformanceHeatmap</span><span class="p">(</span><span class="n">actionsList</span><span class="o">=</span><span class="n">pbr</span><span class="o">.</span><span class="n">bachetRankings</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span>
<span class="go">   ...                              Correlations=True)</span>
</pre></div>
</div>
<figure class="align-center" id="rankedofficechoiceheatmap">
<a class="reference internal image-reference" href="_images/rankedOfficeChoiceHeatmap.png"><img alt="_images/rankedOfficeChoiceHeatmap.png" src="_images/rankedOfficeChoiceHeatmap.png" style="width: 400px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.15 </span><span class="caption-text">The ranked performance heatmap of the potential office locations</span><a class="headerlink" href="#rankedofficechoiceheatmap" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>In view of <a class="reference internal" href="#rankedofficechoiceheatmap"><span class="std std-numref">Fig. 1.15</span></a>, office locations <em>G</em> or <em>D</em> make up convincing best choice recommendations with an apparent slight advantage for location <em>G</em>. Notice that both alternatives <em>A</em> and <em>C</em>, with their highly contrasted performance profiles, appear ranked in the midfield. Indeed, as they don’t compare well, they may neither be first nor last ranked. This is why, when such largely incomparable or extreme alternatives are observed, linear rankings may fail to deliver adequate first-choice recommendations. Notice finally in the <em>tau</em> row above similar marginal ordinal correlation indexes as observed before in <a class="reference internal" href="#partialbachetranking1"><span class="std std-numref">Listing 1.15</span></a> Lines 5-11.</p>
<p>The <a class="reference internal" href="techDoc.html#digraphs.Digraph" title="digraphs.Digraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">digraphs.Digraph</span></code></a> class now readily provides the <a class="reference internal" href="techDoc.html#digraphs.Digraph.showBachetChoiceRecommendation" title="digraphs.Digraph.showBachetChoiceRecommendation"><code class="xref py py-meth docutils literal notranslate"><span class="pre">showBachetChoiceRecommendation()</span></code></a> method for directly showing the first and last choices obtained from the previous  partial <em>Bachet</em> ranking result accessible in the <em>g.pbr</em> attribute (see <a class="reference internal" href="#partialbachetranking10"><span class="std std-numref">Listing 1.16</span></a> Line 1).</p>
<div class="literal-block-wrapper docutils container" id="partialbachetranking10">
<div class="code-block-caption"><span class="caption-number">Listing 1.16 </span><span class="caption-text">Bachet choice recommendation</span><a class="headerlink" href="#partialbachetranking10" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">showBachetChoiceRecommendation</span><span class="p">(</span><span class="n">randomized</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</span><span class="linenos"> 2</span><span class="go"> *---- Bachet Choice Recommendations ----*</span>
<span class="linenos"> 3</span><span class="go"> Ranking by recursively first and last choosing</span>
<span class="linenos"> 4</span><span class="go">  1st ranked [&#39;A&#39;, &#39;C&#39;, &#39;D&#39;, &#39;G&#39;]</span>
<span class="linenos"> 5</span><span class="go">    2nd ranked [&#39;B&#39;, &#39;E&#39;]</span>
<span class="linenos"> 6</span><span class="go">    2nd last ranked [&#39;B&#39;, &#39;E&#39;]</span>
<span class="linenos"> 7</span><span class="go">  1st last ranked [&#39;F&#39;]</span>
<span class="linenos"> 8</span><span class="go"> Quality of partial Bachet ranking</span>
<span class="hll"><span class="linenos"> 9</span><span class="go">  Crisp ordinal correlation  : +1.000</span>
</span><span class="linenos">10</span><span class="go">  Epistemic determination    : +0.337</span>
<span class="linenos">11</span><span class="go">  Bipolar-valued equivalence : +0.337</span>
<span class="linenos">12</span><span class="go"> Execution time: 0.207 seconds</span>
<span class="hll"><span class="linenos">13</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">pbr</span>
</span><span class="linenos">14</span><span class="go"> *------- Digraph instance description ------*</span>
<span class="linenos">15</span><span class="go">  Instance class      : PartialBachetRanking</span>
<span class="linenos">16</span><span class="go">  Instance name       : converse-dual-rel_officeChoice_wk</span>
<span class="linenos">17</span><span class="go">  Digraph Order       : 7</span>
<span class="linenos">18</span><span class="go">  Digraph Size        : 10</span>
<span class="linenos">19</span><span class="go">  Valuation domain    : [-1.00;1.00]</span>
<span class="linenos">20</span><span class="go">  Determinateness (%) : 73.81</span>
<span class="linenos">21</span><span class="go">  Attributes          : [&#39;actions&#39;, &#39;ndigits&#39;, &#39;valuationdomain&#39;,</span>
<span class="linenos">22</span><span class="go">                         &#39;objectives&#39;, &#39;criteria&#39;, &#39;evaluation&#39;, &#39;NA&#39;,</span>
<span class="linenos">23</span><span class="go">                         &#39;order&#39;, &#39;runTimes&#39;, &#39;nbrThreads&#39;, &#39;startMethod&#39;,</span>
<span class="linenos">24</span><span class="go">                         &#39;gamma&#39;, &#39;notGamma&#39;, &#39;name&#39;, &#39;relation&#39;,</span>
<span class="linenos">25</span><span class="go">                         &#39;rankings&#39;, &#39;bachetRankings&#39;, &#39;randomized&#39;,</span>
<span class="linenos">26</span><span class="go">                         &#39;seed&#39;, &#39;maxNbrOfRankings&#39;, &#39;Polarised&#39;,</span>
<span class="linenos">27</span><span class="go">                         &#39;partialBachetCorrelation&#39;, &#39;rankingByChoosing&#39;]</span>
</pre></div>
</div>
</div>
<p>Due to the <strong>Condorcet consistency</strong> of the polarised <em>Bachet</em> ranking rule, the partial ranking digraph <em>g.pbr</em> represents here faithfully an actual transitive and asymmetrical part of the given outranking digraph <em>g</em> (see Line 13 and <a class="reference internal" href="pearls.html#bachet-tutorial-label"><span class="std std-ref">Applications of bipolar-valued base 3 encoded Bachet numbers</span></a>).</p>
<p>Our first choice recommendations eventually  appear essentially depending on the very importance the CEO is attaching to each one of his three decision objectives. In the setting here, where he considers that <em>maximizing the future turnover</em> is the most important objective (81/145 = 0.56) followed by <em>minimizing the Costs</em> (45/145 = 0.31) and, less important, <em>maximizing the working conditions</em> (19/145 = 0.13), compromise locations <em>G</em> as well as <em>D</em> become the potential first choices candidates. However, if minimizing the <em>Costs</em> does not play much a role, it would perhaps be better to recommend the most advantageous location <em>A</em>; or if, on the contrary, the <em>Costs</em> objective does matter a lot, recommending the cheapest alternative <em>C</em> could definitely become the more convincing first choice recommendation.</p>
<p>It might be worth, as an <strong>exercise</strong>, to modify the criteria significance weights in the ‘officeChoice.py’ data file <a class="footnote-reference brackets" href="#id270" id="id47" role="doc-noteref"><span class="fn-bracket">[</span>64<span class="fn-bracket">]</span></a> in such a way that</p>
<blockquote>
<div><ul class="simple">
<li><p>all three decision objectives are considered <em>equally important</em>, and</p></li>
<li><p>all criteria under an objective are considered <em>equi-significant</em>.</p></li>
</ul>
</div></blockquote>
<p>What will become the best choice recommendation under this working hypothesis?</p>
<p>The next tutorial shows how to create or edit a performance tableau.</p>
</section>
<section id="id48">
<h4><a class="toc-backref" href="#id341" role="doc-backlink"><span class="section-number">1.3.1.7. </span>Historical Notes</a><a class="headerlink" href="#id48" title="Link to this heading"></a></h4>
<p>The seminal article by <em>Bernard Roy</em> et al. about the outranking based best choice selection procedure called <em>ELECTRE</em> dates from 1966 and was actively promoted thereafter by the LAMSADE <a class="footnote-reference brackets" href="#id266" id="id49" role="doc-noteref"><span class="fn-bracket">[</span>61<span class="fn-bracket">]</span></a>, <em>Roy</em>’s research laboratory at the newly founded University Paris 9 Dauphine (<a class="reference internal" href="#roy-1966" id="id50"><span>[ROY-1966]</span></a>). Our critical perspective on this seminal text may be consulted in <a class="reference internal" href="#bis-2009" id="id51"><span>[BIS-2009]</span></a>. Revolutionary for that time was the idea to solve this classical decision problem not by looking for <strong>the best</strong> decision alternative, but <strong>recommending</strong>, with the help of the <strong>kernel</strong> of the outranking digraph, a <em>subset</em> of potential best choice candidates.</p>
<p>The originally proposed meticulous illustrative performance tableau may be modelled at present by the following performance tableau data stored under the name <em>roy66.py</em> in the <em>examples</em> directory of the Digraph3 resources.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Criteria</p></th>
<th class="head" colspan="6"><p>Actions’ performance grades</p></th>
<th class="head"><p>Grading</p></th>
<th class="head"><p>Veto</p></th>
</tr>
<tr class="row-even"><th class="head"><p>Ident.</p></th>
<th class="head"><p>weight</p></th>
<th class="head"><p>a1</p></th>
<th class="head"><p>a2</p></th>
<th class="head"><p>a3</p></th>
<th class="head"><p>a4</p></th>
<th class="head"><p>a5</p></th>
<th class="head"><p>a6</p></th>
<th class="head"><p>Scale</p></th>
<th class="head"><p>Threshold</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>g1</p></td>
<td><p>3</p></td>
<td><p>2</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>4</p></td>
<td><p>4</p></td>
<td><p>4</p></td>
<td><p>0-4</p></td>
<td><p>2.5</p></td>
</tr>
<tr class="row-even"><td><p>g2</p></td>
<td><p>3</p></td>
<td><p>4</p></td>
<td><p>1</p></td>
<td><p>2</p></td>
<td><p>1</p></td>
<td><p>2</p></td>
<td><p>2</p></td>
<td><p>0-4</p></td>
<td><p>2.5</p></td>
</tr>
<tr class="row-odd"><td><p>g3</p></td>
<td><p>3</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
<td><p>2</p></td>
<td><p>3</p></td>
<td><p>4</p></td>
<td><p>0-4</p></td>
<td><p>2.5</p></td>
</tr>
<tr class="row-even"><td><p>g4</p></td>
<td><p>1</p></td>
<td><p>2</p></td>
<td><p>4</p></td>
<td><p>4</p></td>
<td><p>2</p></td>
<td><p>2</p></td>
<td><p>3</p></td>
<td><p>0-4</p></td>
<td><p>2.5</p></td>
</tr>
<tr class="row-odd"><td><p>g5</p></td>
<td><p>1</p></td>
<td><p>4</p></td>
<td><p>2</p></td>
<td><p>1</p></td>
<td><p>2</p></td>
<td><p>3</p></td>
<td><p>3</p></td>
<td><p>0-4</p></td>
<td><p>2.5</p></td>
</tr>
</tbody>
</table>
<p>Underlining the fact that the <em>ELECTRE</em> method takes into account solely ordinal performance grades, the originally proposed actions’ grades were of ordinal linguistic nature: <em>bad</em>, <em>weak</em>, <em>average</em>, <em>good</em> and <em>excellent</em>. They have here arbitrarily been recoded as 0, 1, 2, 3 and 4. To show the usefulness of taking conjointly into account <em>concordance</em> <strong>and</strong> <em>discordance</em> arguments, an effective <strong>veto discrimination threshold</strong> of 2.5 is proposed, implying the polarisation of the outranking statements when the difference between two grades on a performance criterion is greater than two linguistic levels.</p>
<p>In <a class="reference internal" href="#roy66v1a"><span class="std std-numref">Listing 1.17</span></a> below we compute the corresponding outranking digraph <em>g</em>  (Lines 2-3).</p>
<div class="literal-block-wrapper docutils container" id="roy66v1a">
<div class="code-block-caption"><span class="caption-number">Listing 1.17 </span><span class="caption-text">The original ELECTRE best choice problem</span><a class="headerlink" href="#roy66v1a" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">outrankingDigraphs</span> <span class="kn">import</span> <span class="o">*</span>
<span class="hll"><span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span> <span class="o">=</span> <span class="n">PerformanceTableau</span><span class="p">(</span><span class="s1">&#39;roy66&#39;</span><span class="p">)</span>
</span><span class="hll"><span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">BipolarOutrankingDigraph</span><span class="p">(</span><span class="n">pt</span><span class="p">)</span>
</span><span class="linenos">4</span><span class="gp">&gt;&gt;&gt; </span><span class="n">ranking</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">computeNetFlowsRanking</span><span class="p">()</span>
<span class="linenos">5</span><span class="gp">&gt;&gt;&gt; </span><span class="n">ranking</span>
<span class="hll"><span class="linenos">6</span><span class="go"> [&#39;a6&#39;, &#39;a5&#39;, &#39;a1&#39;, &#39;a4&#39;, &#39;a2&#39;, &#39;a3&#39;]</span>
</span><span class="hll"><span class="linenos">7</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">showHTMLRelationTable</span><span class="p">(</span><span class="n">actionsList</span><span class="o">=</span><span class="n">ranking</span><span class="p">)</span>
</span><span class="hll"><span class="linenos">8</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">showHTMLPerformanceHeatmap</span><span class="p">(</span><span class="n">colorLevels</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">actionsList</span><span class="o">=</span><span class="n">ranking</span><span class="p">)</span>
</span></pre></div>
</div>
</div>
<p>Using the <em>NetFlows</em> ranking: <em>a6</em> &gt; <em>a5</em> &gt; <em>a1</em> &gt; <em>a4</em> &gt; <em>a2</em> &gt; <em>a3</em> (Lines 6 and 7) we show in <a class="reference internal" href="#roy66v1figures"><span class="std std-numref">Fig. 1.16</span></a> below the corresponding <strong>valued adjacency matrix</strong>. The bipolar-valued outranking relation makes apparent that only the pair (<em>a1</em>, <em>a4</em>) shows in fact mutual <strong>vetoed outrankings</strong> statements. All other polarisations are certainly confirming either a <em>valid</em> (<strong>+1.0</strong>) or an invalid (<strong>-1.0</strong>) pairwise outranking situation. One may furthermore notice that alternatives <em>a5</em> and <em>a6</em> are indifferent <em>Condorcet</em> winners, i.e. they outrank both all other alternatives. And, alternatives <em>a2</em> and <em>a3</em> are indifferent <em>Condorcet</em> losers, i.e. they are outranked by all the other alternatives.</p>
<p>Using again the same <em>NetFlows</em> ranking: <em>a6</em> &gt; <em>a5</em> &gt; <em>a1</em> &gt; <em>a4</em> &gt; <em>a2</em> &gt; <em>a3</em> (Line 9), we show in <a class="reference internal" href="#roy66v1figures"><span class="std std-numref">Fig. 1.16</span></a> below also the corresponding very convincing <strong>performance heatmap</strong>.</p>
<figure class="align-center" id="roy66v1figures">
<a class="reference internal image-reference" href="_images/roy66V1Figures.png"><img alt="_images/roy66V1Figures.png" src="_images/roy66V1Figures.png" style="width: 550px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.16 </span><span class="caption-text">Solving the seminal best choice recommendation problem</span><a class="headerlink" href="#roy66v1figures" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Finally, in <a class="reference internal" href="#roy66v1b"><span class="std std-numref">Listing 1.18</span></a>, our <em>Rubis</em> best choice recommendation confirms, with the help of the initial and terminal kernels of the corresponding strict outranking digraph (Lines 1,7 and 16), that alternatives <em>a6</em> and <em>a5</em> are potential first choice candidates and alternatives  <em>a3</em> and <em>a2</em> are potential last choice candidates. The <em>graphviz</em> drawing of the strict outranking digraph, oriented by the initial and terminal kernels, shows its transitive structure (see <a class="reference internal" href="#roy66v1figures"><span class="std std-numref">Fig. 1.16</span></a>).</p>
<div class="literal-block-wrapper docutils container" id="roy66v1b">
<div class="code-block-caption"><span class="caption-number">Listing 1.18 </span><span class="caption-text">The Rubis choice recommendation</span><a class="headerlink" href="#roy66v1b" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">showRubisBestChoiceRecommendation</span><span class="p">(</span><span class="n">CoDual</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span class="linenos"> 2</span><span class="go"> Rubis choice recommendation</span>
<span class="linenos"> 3</span><span class="go"> ***********************</span>
<span class="linenos"> 4</span><span class="go">  First choice recommendation(s) (BCR)</span>
<span class="linenos"> 5</span><span class="go">  Credibility domain: [-1.00,1.00]</span>
<span class="linenos"> 6</span><span class="go">  === &gt;&gt; potential first choice(s)</span>
<span class="hll"><span class="linenos"> 7</span><span class="go">  * choice              : [&#39;a5&#39;, &#39;a6&#39;]</span>
</span><span class="linenos"> 8</span><span class="go">    independence        : 0.27</span>
<span class="linenos"> 9</span><span class="go">    dominance           : 0.45</span>
<span class="linenos">10</span><span class="go">    absorbency          : -1.00</span>
<span class="linenos">11</span><span class="go">    covering (%)        : 100.00</span>
<span class="linenos">12</span><span class="go">    determinateness (%) : 89.39</span>
<span class="hll"><span class="linenos">13</span><span class="go">    - first choice credibilities = { &#39;a6&#39;: 1.00, &#39;a5&#39;: 0.27,</span>
</span><span class="hll"><span class="linenos">14</span><span class="go">         &#39;a4&#39;: -0.45, &#39;a3&#39;: -1.00, &#39;a2&#39;: -1.00, &#39;a1&#39;: -1.00,  }</span>
</span><span class="linenos">15</span><span class="go">  === &gt;&gt; potential last choice(s)</span>
<span class="hll"><span class="linenos">16</span><span class="go">  * choice              : [&#39;a2&#39;, &#39;a3&#39;]</span>
</span><span class="linenos">17</span><span class="go">    independence        : 0.27</span>
<span class="linenos">18</span><span class="go">    dominance           : -1.00</span>
<span class="linenos">19</span><span class="go">    absorbency          : 1.00</span>
<span class="linenos">20</span><span class="go">    covered (%)         : 100.00</span>
<span class="linenos">21</span><span class="go">    determinateness (%) : 71.21</span>
<span class="hll"><span class="linenos">22</span><span class="go">    - last choice credibilities = { &#39;a3&#39;: 0.45, &#39;a2&#39;: 0.27,</span>
</span><span class="hll"><span class="linenos">23</span><span class="go">          &#39;a6&#39;: -0.45, &#39;a5&#39;: -0.45, &#39;a4&#39;: -0.45, &#39;a1&#39;: -0.45, }</span>
</span><span class="hll"><span class="linenos">24</span><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="o">~</span><span class="p">(</span><span class="o">-</span><span class="n">g</span><span class="p">))</span><span class="o">.</span><span class="n">isTransitive</span><span class="p">()</span>
</span><span class="hll"><span class="linenos">25</span><span class="go"> True</span>
</span><span class="hll"><span class="linenos">26</span><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="o">~</span><span class="p">(</span><span class="o">-</span><span class="n">g</span><span class="p">))</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">(</span><span class="s1">&#39;roy66&#39;</span><span class="p">,</span><span class="n">firstChoice</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a6&#39;</span><span class="p">,</span><span class="s1">&#39;a5&#39;</span><span class="p">],</span>
</span><span class="hll"><span class="linenos">27</span><span class="gp">... </span>                       <span class="n">lastChoice</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a2&#39;</span><span class="p">,</span><span class="s1">&#39;a3&#39;</span><span class="p">])</span>
</span><span class="linenos">28</span><span class="go"> *---- exporting a dot file for GraphViz tools ---------*</span>
<span class="linenos">29</span><span class="go">  Exporting to roy66V1.dot</span>
<span class="linenos">30</span><span class="go">  dot -Grankdir=BT -Tpng roy66.dot -o roy66.png</span>
</pre></div>
</div>
</div>
<p>Following now a seminar presentation in 2005 at the LAMSADE, where the author promoted this usage of the strict outranking kernels as suitable candidates for delivering choice recommendations <a class="reference internal" href="#bis-2005" id="id52"><span>[BIS-2005]</span></a>, a critical discussion started about the methodological requirement for a convincing best choice recommendation to be <em>internally stable</em> (pragmatic principle <strong>P3</strong>). <em>Denis Bouyssou</em> illustrated his doubts with the potential outranking digraph shown in <a class="reference internal" href="#bouyssou2005"><span class="std std-numref">Fig. 1.17</span></a>.</p>
<figure class="align-center" id="bouyssou2005">
<a class="reference internal image-reference" href="_images/bouyssou2005.png"><img alt="_images/bouyssou2005.png" src="_images/bouyssou2005.png" style="width: 250px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.17 </span><span class="caption-text">The internal stability of a best choice recommendation in question</span><a class="headerlink" href="#bouyssou2005" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>His commentary was the following: The only initial kernel of this digraph is the choice {<em>a</em>, <em>d</em>}. Yet, it is an ambiguous recommendation, as this choice is conjointly an <em>initial</em> –<strong>outranking</strong>– and <em>terminal</em> –<strong>outranked</strong>– <em>kernel</em>. If the instability of the best choice recommendation is, however, not considered a problem then the choice {<em>a</em>, <em>b</em>} shows the most convincing strict outranking quality and could be recommended in priority as best choice candidates. Adding alternative <em>d</em> to the set of potential best choice candidates is not convincing as there exists in the given digraph the node <em>b</em>, which is better evaluated than <em>d</em>. The argument that the incomparability between <em>a</em> and <em>d</em> should favour <em>d</em> as potential best choice is interesting but another hypothesis could be that <em>b</em> perhaps outranks <em>a</em>. In this latter case, it seams clear that the actual best choice recommendation should be reduced to node <em>b</em>, unless one disposes of other information, like a performance tableau and/or the actual computation method of the outranking situations. In any case, one has to be very clear about the available information when judging a best choice procedure.</p>
<p>It became thereafter obvious for us all that both the lack of a specific performance tableau as well as the lack of a precisely defined algorithm for computing valid outranking situations do not allow to judge if a given digraph does indeed model a potential outranking relation. In our present bipolar-valued epistemic approach, a valid outranking digraph instance, following from a given performance tableau and the disjunctive epistemic fusion construction of the outranking relation, will necessarily verify the <a class="reference internal" href="pearls.html#sufficiency-tutorial-label"><span class="std std-ref">strong completeness condition and the coduality principle</span></a>. As a consequence, incomparability situations are now modelled by <em>epistemic indeterminateness</em> and not by the actual absence of a reciprocal outranking relation.</p>
<p>The digraph put forward by <em>Bouyssou</em> in the October 2005 discussion is not strongly complete –node <em>a</em> is not outranking node <em>d</em> and vice versa– and does hence not represent, in our present sense, a valid outranking digraph instance. Yet, it may be a partial tournament and as such it could be a strict outranking digraph, i.e. the asymmetrical part –the codual– of a valid outranking digraph. In this case, nodes <em>a</em> and <em>d</em> –the kernel of the strict outranking digraph– would actually positively outrank each other and, hence, represent both indifferently the natural best choice candidates. However, in this not strict outranking digraph, node <em>a</em> becomes also the unique <em>Condorcet</em> winner –positively outranking all other nodes– and gives hence the evident unique best choice recommendation.</p>
<p>Only after 2013, when the strong completeness and the coduality properties of the outranking digraph were discovered, became it obvious that the initial prekernels of the strict outranking digraph, coupled with the solution of the corresponding kernel equation system, could in fact deliver convincing best choice recommendations (see <a class="reference internal" href="#bis-2013" id="id53"><span>[BIS-2013]</span></a>). Yet, <em>Bouyssou</em> and the critical audience of the 2005 seminar would be satisfied to see their doubts somehow confirmed by the solution of the office location choice problem shown previously. Indeed, the initial prekernel {<em>A</em>, <em>C</em>, <em>D</em>} of the corresponding strict outranking digraph does not retain location <em>G</em> –as it is actually strictly outranked by location <em>C</em> – and proposes solely location <em>D</em> as credible best choice candidate. This latter location appears however certainly outranked by location <em>G</em>. Keeping location <em>G</em> in an indeterminate situation with being or not being a potential best choice candidate in the solution of the corresponding kernel equation system shows that the resulting bipolar-valued choice vector may be an essential complement of information. Showing solely an initial prekernel appears hence not necessarily sufficient for determining the actual best choice alternative(s). Similarly, questioning the confidence of outranking statements showing, the case given, weak positive credibilities, may result in a more convincing first-choice recommendation.</p>
<p>But it is the new <a class="reference internal" href="#partial-ranking-tutorial-label"><span class="std std-ref">Bachet partial ranking rule</span></a> that allows nowadays to compute a partial transitive tournament, very close in a bipolar-valued  ordinal correlation sense to the actual transitive part of the given strict outranking digraph, that definitely supports our kernels based recommending approach. The unique initial and terminal kernels of such a transitive asymmetric digraph, easily found via a topological sort algorithm, may indeed deliver more effectively convincing first and/or last choice recommendations.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="#alice-tutorial-label"><span class="std std-ref">Alice’s best choice: A selection case study</span></a></p></li>
<li><p>Lecture 7 notes from the MICS Algorithmic Decision Theory course: <a class="reference internal" href="#adt-l7" id="id54"><span>[ADT-L7]</span></a>.</p></li>
</ul>
</div>
<p>Back to <a class="reference internal" href="#tutorial-label"><span class="std std-ref">Content Table</span></a></p>
<hr class="docutils" />
</section>
</section>
<section id="how-to-create-a-new-performance-tableau-instance">
<span id="new-performancetableau-tutorial-label"></span><h3><a class="toc-backref" href="#id326" role="doc-backlink"><span class="section-number">1.3.2. </span>How to create a new performance tableau instance</a><a class="headerlink" href="#how-to-create-a-new-performance-tableau-instance" title="Link to this heading"></a></h3>
<nav class="contents local" id="id55">
<ul class="simple">
<li><p><a class="reference internal" href="#editing-a-template-file" id="id342">Editing a template file</a></p></li>
<li><p><a class="reference internal" href="#editing-the-decision-alternatives" id="id343">Editing the decision alternatives</a></p></li>
<li><p><a class="reference internal" href="#editing-the-decision-objectives" id="id344">Editing the decision objectives</a></p></li>
<li><p><a class="reference internal" href="#editing-the-family-of-performance-criteria" id="id345">Editing the family of performance criteria</a></p></li>
<li><p><a class="reference internal" href="#editing-the-performance-table" id="id346">Editing the performance table</a></p></li>
<li><p><a class="reference internal" href="#inspecting-the-template-outranking-relation" id="id347">Inspecting the template outranking relation</a></p></li>
<li><p><a class="reference internal" href="#ranking-the-template-peformance-tableau" id="id348">Ranking the template peformance tableau</a></p></li>
</ul>
</nav>
<p>In this tutorial we illustrate a way of creating a new <a class="reference internal" href="techDoc.html#perfTabs.PerformanceTableau" title="perfTabs.PerformanceTableau"><code class="xref py py-class docutils literal notranslate"><span class="pre">PerformanceTableau</span></code></a> instance by editing a template with 5 decision alternatives, 3 decision objectives and 6 performance criteria.</p>
<section id="editing-a-template-file">
<h4><a class="toc-backref" href="#id342" role="doc-backlink"><span class="section-number">1.3.2.1. </span>Editing a template file</a><a class="headerlink" href="#editing-a-template-file" title="Link to this heading"></a></h4>
<p>For this purpose we provide the following <a class="reference external" href="_static/perfTab_Template.py">perfTab_Template.py</a> file in the <em>examples</em> directory of the <strong>Digraph3</strong> resources.</p>
<div class="literal-block-wrapper docutils container" id="perftabtemplate">
<div class="code-block-caption"><span class="caption-number">Listing 1.19 </span><span class="caption-text">PerformanceTableau object template</span><a class="headerlink" href="#perftabtemplate" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1">#########################################################</span>
<span class="linenos"> 2</span><span class="c1"># Digraph3 documentation</span>
<span class="linenos"> 3</span><span class="c1"># Template for creating a new PerformanceTableau instance</span>
<span class="linenos"> 4</span><span class="c1"># (C) R. Bisdorff Mar 2021</span>
<span class="linenos"> 5</span><span class="c1"># Digraph3/examples/perfTab_Template.py</span>
<span class="linenos"> 6</span><span class="c1">##########################################################</span>
<span class="linenos"> 7</span><span class="kn">from</span> <span class="nn">decimal</span> <span class="kn">import</span> <span class="n">Decimal</span>
<span class="linenos"> 8</span><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">OrderedDict</span>
<span class="linenos"> 9</span><span class="c1">#####</span>
<span class="linenos">10</span><span class="c1"># edit the decision actions</span>
<span class="linenos">11</span><span class="c1"># avoid special characters, like &#39;_&#39;, &#39;/&#39; or &#39;:&#39;,</span>
<span class="linenos">12</span><span class="c1"># in action identifiers and short names</span>
<span class="hll"><span class="linenos">13</span><span class="n">actions</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">([</span>
</span><span class="linenos">14</span> <span class="p">(</span><span class="s1">&#39;a1&#39;</span><span class="p">,</span> <span class="p">{</span>
<span class="linenos">15</span>  <span class="s1">&#39;shortName&#39;</span><span class="p">:</span> <span class="s1">&#39;action1&#39;</span><span class="p">,</span>
<span class="linenos">16</span>  <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;decision alternative a1&#39;</span><span class="p">,</span>
<span class="linenos">17</span>  <span class="s1">&#39;comment&#39;</span><span class="p">:</span> <span class="s1">&#39;some specific features of this alternative&#39;</span><span class="p">,</span>
<span class="linenos">18</span>   <span class="p">}),</span>
<span class="linenos">19</span>  <span class="o">...</span>
<span class="linenos">20</span>  <span class="o">...</span>
<span class="linenos">21</span><span class="p">])</span>
<span class="linenos">22</span><span class="c1">#####</span>
<span class="linenos">23</span><span class="c1"># edit the decision objectives</span>
<span class="linenos">24</span><span class="c1"># adjust the list of performance criteria</span>
<span class="linenos">25</span><span class="c1"># and the total weight (sum of the criteria weights)</span>
<span class="linenos">26</span><span class="c1"># per objective</span>
<span class="hll"><span class="linenos">27</span><span class="n">objectives</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">([</span>
</span><span class="linenos">28</span> <span class="p">(</span><span class="s1">&#39;obj1&#39;</span><span class="p">,</span> <span class="p">{</span>
<span class="linenos">29</span>  <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;decision objective obj1&#39;</span><span class="p">,</span>
<span class="linenos">30</span>  <span class="s1">&#39;comment&#39;</span><span class="p">:</span> <span class="s2">&quot;some specific features of this objective&quot;</span><span class="p">,</span>
<span class="linenos">31</span>  <span class="s1">&#39;criteria&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;g1&#39;</span><span class="p">,</span> <span class="s1">&#39;g2&#39;</span><span class="p">],</span>
<span class="linenos">32</span>  <span class="s1">&#39;weight&#39;</span><span class="p">:</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;6&#39;</span><span class="p">),</span>
<span class="linenos">33</span>  <span class="p">}),</span>
<span class="linenos">34</span>  <span class="o">...</span>
<span class="linenos">35</span>  <span class="o">...</span>
<span class="linenos">36</span> <span class="p">])</span>
<span class="linenos">37</span><span class="c1">#####</span>
<span class="linenos">38</span><span class="c1"># edit the performance criteria</span>
<span class="linenos">39</span><span class="c1"># adjust the objective reference</span>
<span class="linenos">40</span><span class="c1"># Left Decimal of a threshold = constant part and</span>
<span class="linenos">41</span><span class="c1">#  right Decimal = proportional part of the threshold</span>
<span class="hll"><span class="linenos">42</span><span class="n">criteria</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">([</span>
</span><span class="linenos">43</span> <span class="p">(</span><span class="s1">&#39;g1&#39;</span><span class="p">,</span> <span class="p">{</span>
<span class="linenos">44</span>  <span class="s1">&#39;shortName&#39;</span><span class="p">:</span> <span class="s1">&#39;crit1&#39;</span><span class="p">,</span>
<span class="linenos">45</span>  <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s2">&quot;performance criteria 1&quot;</span><span class="p">,</span>
<span class="linenos">46</span>  <span class="s1">&#39;objective&#39;</span><span class="p">:</span> <span class="s1">&#39;obj1&#39;</span><span class="p">,</span>
<span class="linenos">47</span>  <span class="s1">&#39;preferenceDirection&#39;</span><span class="p">:</span> <span class="s1">&#39;max&#39;</span><span class="p">,</span>
<span class="linenos">48</span>  <span class="s1">&#39;comment&#39;</span><span class="p">:</span> <span class="s1">&#39;measurement scale type and unit&#39;</span><span class="p">,</span>
<span class="linenos">49</span>  <span class="s1">&#39;scale&#39;</span><span class="p">:</span> <span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0.0&#39;</span><span class="p">),</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;100.0&#39;</span><span class="p">),</span>
<span class="linenos">50</span>  <span class="s1">&#39;thresholds&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;ind&#39;</span><span class="p">:</span>  <span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;2.50&#39;</span><span class="p">),</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0.0&#39;</span><span class="p">)),</span>
<span class="linenos">51</span>                 <span class="s1">&#39;pref&#39;</span><span class="p">:</span> <span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;5.00&#39;</span><span class="p">),</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0.0&#39;</span><span class="p">)),</span>
<span class="linenos">52</span>                 <span class="s1">&#39;veto&#39;</span><span class="p">:</span> <span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;60.00&#39;</span><span class="p">),</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0.0&#39;</span><span class="p">))</span>
<span class="linenos">53</span>                <span class="p">},</span>
<span class="linenos">54</span>  <span class="s1">&#39;weight&#39;</span><span class="p">:</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">),</span>
<span class="linenos">55</span>  <span class="p">}),</span>
<span class="linenos">56</span>  <span class="o">...</span>
<span class="linenos">57</span>  <span class="o">...</span>
<span class="linenos">58</span> <span class="p">])</span>
<span class="linenos">59</span><span class="c1">#####</span>
<span class="linenos">60</span><span class="c1"># default missing data symbol = -999</span>
<span class="hll"><span class="linenos">61</span><span class="n">NA</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;-999&#39;</span><span class="p">)</span>
</span><span class="linenos">62</span><span class="c1">#####</span>
<span class="linenos">63</span><span class="c1"># edit the performance evaluations</span>
<span class="linenos">64</span><span class="c1"># criteria to be minimized take negative grades</span>
<span class="hll"><span class="linenos">65</span><span class="n">evaluation</span> <span class="o">=</span> <span class="p">{</span>
</span><span class="linenos">66</span> <span class="s1">&#39;g1&#39;</span><span class="p">:</span> <span class="p">{</span>
<span class="linenos">67</span>    <span class="s1">&#39;a1&#39;</span><span class="p">:</span><span class="n">Decimal</span><span class="p">(</span><span class="s2">&quot;41.0&quot;</span><span class="p">),</span>
<span class="linenos">68</span>    <span class="s1">&#39;a2&#39;</span><span class="p">:</span><span class="n">Decimal</span><span class="p">(</span><span class="s2">&quot;100.0&quot;</span><span class="p">),</span>
<span class="linenos">69</span>    <span class="s1">&#39;a3&#39;</span><span class="p">:</span><span class="n">Decimal</span><span class="p">(</span><span class="s2">&quot;63.0&quot;</span><span class="p">),</span>
<span class="linenos">70</span>    <span class="s1">&#39;a4&#39;</span><span class="p">:</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;23.0&#39;</span><span class="p">),</span>
<span class="linenos">71</span>    <span class="s1">&#39;a5&#39;</span><span class="p">:</span> <span class="n">NA</span><span class="p">,</span>
<span class="linenos">72</span>   <span class="p">},</span>
<span class="linenos">73</span> <span class="c1"># g2 is of ordinal type and scale 0-10</span>
<span class="linenos">74</span> <span class="s1">&#39;g2&#39;</span><span class="p">:</span> <span class="p">{</span>
<span class="linenos">75</span>    <span class="s1">&#39;a1&#39;</span><span class="p">:</span><span class="n">Decimal</span><span class="p">(</span><span class="s2">&quot;4&quot;</span><span class="p">),</span>
<span class="linenos">76</span>    <span class="s1">&#39;a2&#39;</span><span class="p">:</span><span class="n">Decimal</span><span class="p">(</span><span class="s2">&quot;10&quot;</span><span class="p">),</span>
<span class="linenos">77</span>    <span class="s1">&#39;a3&#39;</span><span class="p">:</span><span class="n">Decimal</span><span class="p">(</span><span class="s2">&quot;6&quot;</span><span class="p">),</span>
<span class="linenos">78</span>    <span class="s1">&#39;a4&#39;</span><span class="p">:</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">),</span>
<span class="linenos">79</span>    <span class="s1">&#39;a5&#39;</span><span class="p">:</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;9&#39;</span><span class="p">),</span>
<span class="linenos">80</span>   <span class="p">},</span>
<span class="linenos">81</span> <span class="c1"># g3 has preferenceDirection = &#39;min&#39;</span>
<span class="linenos">82</span> <span class="s1">&#39;g3&#39;</span><span class="p">:</span> <span class="p">{</span>
<span class="linenos">83</span>    <span class="s1">&#39;a1&#39;</span><span class="p">:</span><span class="n">Decimal</span><span class="p">(</span><span class="s2">&quot;-52.2&quot;</span><span class="p">),</span>
<span class="linenos">84</span>    <span class="s1">&#39;a2&#39;</span><span class="p">:</span><span class="n">NA</span><span class="p">,</span>
<span class="linenos">85</span>    <span class="s1">&#39;a3&#39;</span><span class="p">:</span><span class="n">Decimal</span><span class="p">(</span><span class="s2">&quot;-47.3&quot;</span><span class="p">),</span>
<span class="linenos">86</span>    <span class="s1">&#39;a4&#39;</span><span class="p">:</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;-35.7&#39;</span><span class="p">),</span>
<span class="linenos">87</span>    <span class="s1">&#39;a5&#39;</span><span class="p">:</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;-68.00&#39;</span><span class="p">),</span>
<span class="linenos">88</span>   <span class="p">},</span>
<span class="linenos">89</span> <span class="o">...</span>
<span class="linenos">90</span> <span class="o">...</span>
<span class="linenos">91</span> <span class="p">}</span>
<span class="linenos">92</span><span class="c1">####################</span>
</pre></div>
</div>
</div>
<p>The template file, shown in <a class="reference internal" href="#perftabtemplate"><span class="std std-numref">Listing 1.19</span></a>, contains first the instructions to import the required <em>Decimal</em> and <em>OrderedDict</em> classes (see Lines 7-8). Four main sections are following: the potential decision <strong>actions</strong>, the decision <strong>objectives</strong>, the performance <strong>criteria</strong>, and finally the performance <strong>evaluation</strong>.</p>
</section>
<section id="editing-the-decision-alternatives">
<h4><a class="toc-backref" href="#id343" role="doc-backlink"><span class="section-number">1.3.2.2. </span>Editing the decision alternatives</a><a class="headerlink" href="#editing-the-decision-alternatives" title="Link to this heading"></a></h4>
<p>Decision alternatives are stored in attribute <strong>actions</strong> under the <em>OrderedDict</em> format (see the <a class="reference external" href="https://docs.python.org/3/library/collections.html">OrderedDict</a> description in the Python documentation).</p>
<p>Required attributes of each decision alternative, besides the object <strong>identifier</strong>,  are: <strong>shortName</strong>, <strong>name</strong> and <strong>comment</strong> (see Lines 15-17). The <em>shortName</em> attribute is essentially used when showing the performance tableau or the performance heatmap in a browser view.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Mind that graphviz drawings require digraph actions’ (nodes) identifier strings without any special characters like <cite>_</cite> or <cite>/</cite>.</p>
</div>
<p>Decision actions descriptions are stored in the order of which they appear in the stored instance file. The <cite>OrderedDict</cite> object keeps this given order when iterating over the decision alternatives.</p>
<p>The random performance tableau models presented in the previous tutorial use the <em>actions</em> attribute for storing special features of the decision alternatives. The <em>Cost-Benefit</em> model, for instance, uses a <strong>type</strong> attribute for distinguishing between <em>advantageous</em>, <em>neutral</em> and <em>cheap</em> alternatives. The <em>3-Objectives</em> model keeps a detailed record of the performance profile per decision objective and the corresponding random generators per performance criteria (see Lines 7- below).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Random3ObjectivesPerformanceTableau</span><span class="p">()</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">actions</span>
<span class="linenos"> 3</span><span class="go"> OrderedDict([</span>
<span class="linenos"> 4</span><span class="go">  (&#39;p01&#39;, {&#39;shortName&#39;: &#39;p01&#39;,</span>
<span class="linenos"> 5</span><span class="go">           &#39;name&#39;: &#39;action p01 Eco~ Soc- Env+&#39;,</span>
<span class="linenos"> 6</span><span class="go">           &#39;comment&#39;: &#39;random public policy&#39;,</span>
<span class="linenos"> 7</span><span class="go">           &#39;Eco&#39;: &#39;fair&#39;,</span>
<span class="linenos"> 8</span><span class="go">           &#39;Soc&#39;: &#39;weak&#39;,</span>
<span class="linenos"> 9</span><span class="go">           &#39;Env&#39;: &#39;good&#39;,</span>
<span class="linenos">10</span><span class="go">           &#39;profile&#39;: {&#39;Eco&#39;:&#39;fair&#39;,</span>
<span class="linenos">11</span><span class="go">                       &#39;Soc&#39;:&#39;weak&#39;,</span>
<span class="linenos">12</span><span class="go">                       &#39;Env&#39;:&#39;good&#39;}</span>
<span class="linenos">13</span><span class="go">           &#39;generators&#39;: {&#39;ec01&#39;: (&#39;triangular&#39;, 50.0, 0.5),</span>
<span class="linenos">14</span><span class="go">                          &#39;so02&#39;: (&#39;triangular&#39;, 30.0, 0.5),</span>
<span class="linenos">15</span><span class="go">                          &#39;en03&#39;: (&#39;triangular&#39;, 70.0, 0.5),</span>
<span class="linenos">16</span><span class="go">                          ...</span>
<span class="linenos">17</span><span class="go">                          },</span>
<span class="linenos">18</span><span class="go">           }</span>
<span class="linenos">19</span><span class="go">      ),</span>
<span class="linenos">20</span><span class="go">   ...</span>
<span class="linenos">21</span><span class="go">   ])</span>
</pre></div>
</div>
<p>The second section of the template file concerns the decision <em>objectives</em>.</p>
</section>
<section id="editing-the-decision-objectives">
<h4><a class="toc-backref" href="#id344" role="doc-backlink"><span class="section-number">1.3.2.3. </span>Editing the decision objectives</a><a class="headerlink" href="#editing-the-decision-objectives" title="Link to this heading"></a></h4>
<p>The minimal required attributes (see <a class="reference internal" href="#perftabtemplate"><span class="std std-numref">Listing 1.19</span></a> Lines 27-33) of the ordered decision <strong>objectives</strong> dictionary, besides the individual objective identifiers, are <strong>name</strong>, <strong>comment</strong>, <strong>criteria</strong> (the list of significant performance criteria) and <strong>weight</strong> (the importance of the decision objective). The latter attribute contains the sum of the <em>significance</em> weights of the objective’s criteria list.</p>
<p>The <strong>objectives</strong> attribute is methodologically useful for specifying the performance criteria significance in building decision recommendations. Mostly, we assume indeed that decision objectives are all equally important and the performance criteria are equi-significant per objective. This is, for instance, the default setting in the random <em>3-Objectives</em> performance tableau model.</p>
<div class="literal-block-wrapper docutils container" id="objectives">
<div class="code-block-caption"><span class="caption-number">Listing 1.20 </span><span class="caption-text">Example of decision objectives’ description</span><a class="headerlink" href="#objectives" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Random3ObjectivesPerformanceTableau</span><span class="p">()</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">objectives</span>
<span class="linenos"> 3</span><span class="go"> OrderedDict([</span>
<span class="linenos"> 4</span><span class="go">  (&#39;Eco&#39;,</span>
<span class="linenos"> 5</span><span class="go">   {&#39;name&#39;: &#39;Economical aspect&#39;,</span>
<span class="linenos"> 6</span><span class="go">    &#39;comment&#39;: &#39;Random3ObjectivesPerformanceTableau generated&#39;,</span>
<span class="linenos"> 7</span><span class="go">    &#39;criteria&#39;: [&#39;ec01&#39;, &#39;ec06&#39;, &#39;ec09&#39;],</span>
<span class="linenos"> 8</span><span class="go">    &#39;weight&#39;: Decimal(&#39;48&#39;)}),</span>
<span class="linenos"> 9</span><span class="go">  (&#39;Soc&#39;,</span>
<span class="linenos">10</span><span class="go">   {&#39;name&#39;: &#39;Societal aspect&#39;,</span>
<span class="linenos">11</span><span class="go">    &#39;comment&#39;: &#39;Random3ObjectivesPerformanceTableau generated&#39;,</span>
<span class="linenos">12</span><span class="go">    &#39;criteria&#39;: [&#39;so02&#39;, &#39;so12&#39;],</span>
<span class="linenos">13</span><span class="go">    &#39;weight&#39;: Decimal(&#39;48&#39;)}),</span>
<span class="linenos">14</span><span class="go">  (&#39;Env&#39;,</span>
<span class="linenos">15</span><span class="go">   {&#39;name&#39;: &#39;Environmental aspect&#39;,</span>
<span class="linenos">16</span><span class="go">    &#39;comment&#39;: &#39;Random3ObjectivesPerformanceTableau generated&#39;,</span>
<span class="linenos">17</span><span class="go">    &#39;criteria&#39;: [&#39;en03&#39;, &#39;en04&#39;, &#39;en05&#39;, &#39;en07&#39;,</span>
<span class="linenos">18</span><span class="go">                 &#39;en08&#39;, &#39;en10&#39;, &#39;en11&#39;, &#39;en13&#39;],</span>
<span class="linenos">19</span><span class="go">    &#39;weight&#39;: Decimal(&#39;48&#39;)})</span>
<span class="linenos">20</span><span class="go"> ])</span>
</pre></div>
</div>
</div>
<p>The importance weight sums up to 48 for each one of the three example decision objectives shown in <a class="reference internal" href="#objectives"><span class="std std-numref">Listing 1.20</span></a> (Lines 8,13 and 19), so that the significance of each one of the 3 economic criteria is set to 16, of both societal criteria is set to 24, and of each one of the 8 environmental criteria is set to 8.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Mind that the <strong>objectives</strong> attribute is always present in a <em>PerformanceTableau</em> object instance, even when empty. In this case, we consider that each performance criterion canonically represents in fact its own decision objective. The criterion significance equals in this case the corresponding decision objective’s importance weight.</p>
</div>
<p>The third section of the template file concerns now the <em>performance criteria</em>.</p>
</section>
<section id="editing-the-family-of-performance-criteria">
<h4><a class="toc-backref" href="#id345" role="doc-backlink"><span class="section-number">1.3.2.4. </span>Editing the family of performance criteria</a><a class="headerlink" href="#editing-the-family-of-performance-criteria" title="Link to this heading"></a></h4>
<p>In order to assess how well each potential decision alternative is satisfying a given decision objective, we need <em>performance criteria</em>, i.e. decimal-valued grading functions gathered in an ordered <strong>criteria</strong> dictionary. The required attributes (see <a class="reference internal" href="#criteriondescription"><span class="std std-numref">Listing 1.21</span></a>), besides the criteria identifiers, are the usual <strong>shortName</strong>, <strong>name</strong> and <strong>comment</strong>. Specific for a criterion are furthermore the <strong>objective</strong> reference, the significance <strong>weight</strong>, the grading <strong>scale</strong> (minimum and  maximum performance values), the <strong>preferenceDirection</strong> (‘max’ or ‘min’) and the performance discrimination <strong>thresholds</strong>.</p>
<div class="literal-block-wrapper docutils container" id="criteriondescription">
<div class="code-block-caption"><span class="caption-number">Listing 1.21 </span><span class="caption-text">Example of performance criteria description</span><a class="headerlink" href="#criteriondescription" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="n">criteria</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">([</span>
<span class="linenos"> 2</span> <span class="p">(</span><span class="s1">&#39;g1&#39;</span><span class="p">,</span> <span class="p">{</span>
<span class="linenos"> 3</span>  <span class="s1">&#39;shortName&#39;</span><span class="p">:</span> <span class="s1">&#39;crit1&#39;</span><span class="p">,</span>
<span class="linenos"> 4</span>  <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s2">&quot;performance criteria 1&quot;</span><span class="p">,</span>
<span class="linenos"> 5</span>  <span class="s1">&#39;comment&#39;</span><span class="p">:</span> <span class="s1">&#39;measurement scale type and unit&#39;</span><span class="p">,</span>
<span class="linenos"> 6</span>  <span class="s1">&#39;objective&#39;</span><span class="p">:</span> <span class="s1">&#39;obj1&#39;</span><span class="p">,</span>
<span class="linenos"> 7</span>  <span class="s1">&#39;weight&#39;</span><span class="p">:</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">),</span>
<span class="linenos"> 8</span>  <span class="s1">&#39;scale&#39;</span><span class="p">:</span> <span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0.0&#39;</span><span class="p">),</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;100.0&#39;</span><span class="p">),</span>
<span class="linenos"> 9</span>  <span class="s1">&#39;preferenceDirection&#39;</span><span class="p">:</span> <span class="s1">&#39;max&#39;</span><span class="p">,</span>
<span class="linenos">10</span>  <span class="s1">&#39;thresholds&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;ind&#39;</span><span class="p">:</span>  <span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;2.50&#39;</span><span class="p">),</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0.0&#39;</span><span class="p">)),</span>
<span class="linenos">11</span>                 <span class="s1">&#39;pref&#39;</span><span class="p">:</span> <span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;5.00&#39;</span><span class="p">),</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0.0&#39;</span><span class="p">)),</span>
<span class="linenos">12</span>                 <span class="s1">&#39;veto&#39;</span><span class="p">:</span> <span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;60.00&#39;</span><span class="p">),</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0.0&#39;</span><span class="p">))</span>
<span class="linenos">13</span>                <span class="p">},</span>
<span class="linenos">14</span>  <span class="p">}),</span>
<span class="linenos">15</span> <span class="o">...</span>
<span class="linenos">16</span> <span class="o">...</span><span class="p">])</span>
</pre></div>
</div>
</div>
<p>In our bipolar-valued outranking approach, all performance criteria implement <em>decimal-valued</em> grading functions, where preferences are either <em>increasing</em> or <em>decreasing</em> with measured performances.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In order to model a <strong>coherent</strong> performance tableau, the decision criteria must satisfy two methodological requirements:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p><strong>Independance</strong>: Each decision criterion implements a grading that is <em>functionally independent</em> of the grading of the other decision criteria, i.e. the performance measured on one of the criteria does not <em>constrain</em> the performance measured on any other criterion.</p></li>
<li><p><strong>Non redundancy</strong>: Each performance criterion is only <em>significant</em> for a <em>single</em> decision objective.</p></li>
</ol>
</div></blockquote>
</div>
<p>In order to take into account any, usually <em>unavoidable</em>, <strong>imprecision</strong> of the performance grading procedures, we may specify three performance <strong>discrimination thresholds</strong>: an <strong>indifference</strong> (‘ind’), a <strong>preference</strong> (‘pref’) and a <strong>considerable performance difference</strong> (‘veto’) threshold (see <a class="reference internal" href="#criteriondescription"><span class="std std-numref">Listing 1.21</span></a> Lines 10-12). The left decimal number of a threshold description tuple indicates a <em>constant part</em>, whereas the right decimal number indicates a proportional part.</p>
<p>On the template performance criterion <em>g1</em>, shown in <a class="reference internal" href="#criteriondescription"><span class="std std-numref">Listing 1.21</span></a>, we observe for instance a grading scale from 0.0 to 100.0 with a constant <em>indifference</em> threshold of 2.5, a constant <em>preference</em> threshold of 5.0, and a constant <em>considerable performance difference</em> threshold of 60.0. The latter theshold  will trigger, the case given, a <em>polarisation</em> of the outranking statement <a class="reference internal" href="#bis-2013" id="id56"><span>[BIS-2013]</span></a> .</p>
<p>In a random <em>Cost-Benefit</em> performance tableau model we may obtain by default the following content.</p>
<div class="literal-block-wrapper docutils container" id="costscriterion">
<div class="code-block-caption"><span class="caption-number">Listing 1.22 </span><span class="caption-text">Example of cardinal Costs criterion</span><a class="headerlink" href="#costscriterion" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">tcb</span> <span class="o">=</span> <span class="n">RandomCBPerformanceTableau</span><span class="p">()</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">tcb</span><span class="o">.</span><span class="n">showObjectives</span><span class="p">()</span>
<span class="linenos"> 3</span><span class="go"> *------ decision objectives -------&quot;</span>
<span class="linenos"> 4</span><span class="go">  C: Costs</span>
<span class="linenos"> 5</span><span class="go">   c1 random cardinal cost criterion 6</span>
<span class="linenos"> 6</span><span class="go">  Total weight: 6.00 (1 criteria)</span>
<span class="linenos"> 7</span><span class="go"> ...</span>
<span class="linenos"> 8</span><span class="go"> ...</span>
<span class="linenos"> 9</span><span class="gp">&gt;&gt;&gt; </span><span class="n">tcb</span><span class="o">.</span><span class="n">criteria</span>
<span class="linenos">10</span><span class="go"> OrderedDict([</span>
<span class="linenos">11</span><span class="go">  (&#39;c1&#39;, {&#39;preferenceDirection&#39;: &#39;min&#39;,</span>
<span class="linenos">12</span><span class="go">          &#39;scaleType&#39;: &#39;cardinal&#39;,</span>
<span class="linenos">13</span><span class="go">          &#39;objective&#39;: &#39;C&#39;,</span>
<span class="linenos">14</span><span class="go">          &#39;shortName&#39;: &#39;c1&#39;,</span>
<span class="linenos">15</span><span class="go">          &#39;name&#39;: &#39;random cardinal cost criterion&#39;,</span>
<span class="linenos">16</span><span class="go">          &#39;scale&#39;: (0.0, 100.0),</span>
<span class="linenos">17</span><span class="go">          &#39;weight&#39;: Decimal(&#39;6&#39;),</span>
<span class="linenos">18</span><span class="go">          &#39;randomMode&#39;: [&#39;triangular&#39;, 50.0, 0.5],</span>
<span class="linenos">19</span><span class="go">          &#39;comment&#39;: &#39;Evaluation generator: triangular law ...&#39;,</span>
<span class="linenos">20</span><span class="go">          &#39;thresholds&#39;:</span>
<span class="linenos">21</span><span class="go">           OrderedDict([</span>
<span class="linenos">22</span><span class="go">            (&#39;ind&#39;, (Decimal(&#39;1.49&#39;), Decimal(&#39;0&#39;))),</span>
<span class="linenos">23</span><span class="go">            (&#39;pref&#39;, (Decimal(&#39;3.7&#39;), Decimal(&#39;0&#39;))),</span>
<span class="linenos">24</span><span class="go">            (&#39;veto&#39;, (Decimal(&#39;67.71&#39;), Decimal(&#39;0&#39;)))</span>
<span class="linenos">25</span><span class="go">            ])</span>
<span class="linenos">26</span><span class="go">          }</span>
<span class="linenos">27</span><span class="go">   ...</span>
<span class="linenos">28</span><span class="go">   ...</span>
<span class="linenos">29</span><span class="go">   ])</span>
</pre></div>
</div>
</div>
<p>Criterion <em>c1</em> appears here (see <a class="reference internal" href="#costscriterion"><span class="std std-numref">Listing 1.22</span></a>) to be a cardinal criterion to be minimized and significant for the <em>Costs</em> (<em>C</em>) decision objective. We may use the <a class="reference internal" href="techDoc.html#perfTabs.PerformanceTableau.showCriteria" title="perfTabs.PerformanceTableau.showCriteria"><code class="xref py py-meth docutils literal notranslate"><span class="pre">showCriteria()</span></code></a> method for printing the corresponding performance discrimination thresholds.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">tcb</span><span class="o">.</span><span class="n">showCriteria</span><span class="p">(</span><span class="n">IntegerWeights</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos">2</span><span class="go"> *----  criteria -----*</span>
<span class="linenos">3</span><span class="go">  c1 &#39;Costs/random cardinal cost criterion&#39;</span>
<span class="linenos">4</span><span class="go">   Scale = (0.0, 100.0)</span>
<span class="linenos">5</span><span class="go">   Weight = 6</span>
<span class="linenos">6</span><span class="go">   Threshold ind : 1.49 + 0.00x ; percentile: 5.13</span>
<span class="linenos">7</span><span class="go">   Threshold pref : 3.70 + 0.00x ; percentile: 10.26</span>
<span class="linenos">8</span><span class="go">   Threshold veto : 67.71 + 0.00x ; percentile: 96.15</span>
</pre></div>
</div>
<p>The <em>indifference</em> threshold on this criterion amounts to a constant value of 1.49 (Line 6 above). More or less 5% of the observed performance differences on this criterion appear hence to be <strong>insignificant</strong>. Similarly, with a preference threshold of 3.70, about 90% of the observed performance differences are preferentially <strong>significant</strong> (Line 7). Furthermore, 100.0 - 96.15 = 3.85% of the observed performance differences appear to be <strong>considerable</strong> (Line 8) and will trigger a <em>polarisation</em> of the corresponding outranking statements.</p>
<p>After the performance criteria description, we are ready for recording the actual <em>performance table</em>.</p>
</section>
<section id="editing-the-performance-table">
<h4><a class="toc-backref" href="#id346" role="doc-backlink"><span class="section-number">1.3.2.5. </span>Editing the performance table</a><a class="headerlink" href="#editing-the-performance-table" title="Link to this heading"></a></h4>
<p>The individual grades of each decision alternative on each decision criterion are recorded in a double <em>criterion</em> x <em>action</em> dictionary called <strong>evaluation</strong> (see <a class="reference internal" href="#evaluationdescription"><span class="std std-numref">Listing 1.23</span></a>). As we may encounter missing data cases, we previously define a <em>missing data</em> symbol <strong>NA</strong> which is set here to a value disjoint from all the measurement scales, by default <em>Decimal(‘-999’)</em> (Line 2).</p>
<div class="literal-block-wrapper docutils container" id="evaluationdescription">
<div class="code-block-caption"><span class="caption-number">Listing 1.23 </span><span class="caption-text">Editing performance grades</span><a class="headerlink" href="#evaluationdescription" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1">#----------</span>
<span class="linenos"> 2</span><span class="n">NA</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;-999&#39;</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="c1">#----------</span>
<span class="linenos"> 4</span><span class="n">evaluation</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 5</span> <span class="s1">&#39;g1&#39;</span><span class="p">:</span> <span class="p">{</span>
<span class="linenos"> 6</span>    <span class="s1">&#39;a1&#39;</span><span class="p">:</span><span class="n">Decimal</span><span class="p">(</span><span class="s2">&quot;41.0&quot;</span><span class="p">),</span>
<span class="linenos"> 7</span>    <span class="s1">&#39;a2&#39;</span><span class="p">:</span><span class="n">Decimal</span><span class="p">(</span><span class="s2">&quot;100.0&quot;</span><span class="p">),</span>
<span class="linenos"> 8</span>    <span class="s1">&#39;a3&#39;</span><span class="p">:</span><span class="n">Decimal</span><span class="p">(</span><span class="s2">&quot;63.0&quot;</span><span class="p">),</span>
<span class="linenos"> 9</span>    <span class="s1">&#39;a4&#39;</span><span class="p">:</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;23.0&#39;</span><span class="p">),</span>
<span class="linenos">10</span>    <span class="s1">&#39;a5&#39;</span><span class="p">:</span> <span class="n">NA</span><span class="p">,</span>  <span class="c1"># missing data</span>
<span class="linenos">11</span>   <span class="p">},</span>
<span class="linenos">12</span>  <span class="o">...</span>
<span class="linenos">13</span>  <span class="o">...</span>
<span class="linenos">14</span> <span class="c1"># g3 has preferenceDirection = &#39;min&#39;</span>
<span class="linenos">15</span> <span class="s1">&#39;g3&#39;</span><span class="p">:</span> <span class="p">{</span>
<span class="linenos">16</span>    <span class="s1">&#39;a1&#39;</span><span class="p">:</span><span class="n">Decimal</span><span class="p">(</span><span class="s2">&quot;-52.2&quot;</span><span class="p">),</span> <span class="c1"># negative grades</span>
<span class="linenos">17</span>    <span class="s1">&#39;a2&#39;</span><span class="p">:</span><span class="n">NA</span><span class="p">,</span>
<span class="linenos">18</span>    <span class="s1">&#39;a3&#39;</span><span class="p">:</span><span class="n">Decimal</span><span class="p">(</span><span class="s2">&quot;-47.3&quot;</span><span class="p">),</span>
<span class="linenos">19</span>    <span class="s1">&#39;a4&#39;</span><span class="p">:</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;-35.7&#39;</span><span class="p">),</span>
<span class="linenos">20</span>    <span class="s1">&#39;a5&#39;</span><span class="p">:</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;-68.00&#39;</span><span class="p">),</span>
<span class="linenos">21</span>   <span class="p">},</span>
<span class="linenos">22</span> <span class="o">...</span>
<span class="linenos">23</span> <span class="o">...</span>
<span class="linenos">24</span> <span class="p">}</span>
</pre></div>
</div>
</div>
<p>Notice in <a class="reference internal" href="#evaluationdescription"><span class="std std-numref">Listing 1.23</span></a> (Lines 16- ) that on a criterion with <em>preferenceDirection</em> = ‘<strong>min</strong>’ all performance grades are recorded as <strong>negative</strong> values.</p>
<p>We may now inspect the eventually recorded complete template performance table.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">perfTabs</span> <span class="kn">import</span> <span class="n">PerformanceTableau</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">PerformanceTableau</span><span class="p">(</span><span class="s1">&#39;perfTab_Template&#39;</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">showPerformanceTableau</span><span class="p">(</span><span class="n">ndigits</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="linenos"> 4</span><span class="go"> *----  performance tableau -----*</span>
<span class="linenos"> 5</span><span class="go">  Criteria  |  &#39;g1&#39;   &#39;g2&#39;  &#39;g3&#39;  &#39;g4&#39;   &#39;g5&#39;   &#39;g6&#39;</span>
<span class="linenos"> 6</span><span class="go">  Actions   |    3      3     6     2      2      2</span>
<span class="linenos"> 7</span><span class="go">   ---------|-----------------------------------------</span>
<span class="linenos"> 8</span><span class="go">  &#39;action1&#39; |  41.0   4.0  -52.2  71.0   63.0   22.5</span>
<span class="linenos"> 9</span><span class="go">  &#39;action2&#39; | 100.0  10.0    NA   89.0   30.7   75.0</span>
<span class="linenos">10</span><span class="go">  &#39;action3&#39; |  63.0   6.0  -47.3  55.4   63.5    NA</span>
<span class="linenos">11</span><span class="go">  &#39;action4&#39; |  23.0   2.0  -35.7  83.5   37.5   54.9</span>
<span class="linenos">12</span><span class="go">  &#39;action5&#39; |   NA    9.0  -68.0  10.0   88.0   75.0</span>
</pre></div>
</div>
<p>We may furthermore compute the associated outranking digraph and check if we observe any polarised outranking situtations.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">outrankingDigraphs</span> <span class="kn">import</span> <span class="n">BipolarOutrankingDigraph</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">BipolarOutrankingDigraph</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">showPolarisations</span><span class="p">()</span>
<span class="linenos"> 4</span><span class="go"> *----  Negative polarisations ----*</span>
<span class="linenos"> 5</span><span class="go">  number of negative polarisations : 1</span>
<span class="linenos"> 6</span><span class="go">  1: r(a4 &gt;= a2) = -0.44</span>
<span class="linenos"> 7</span><span class="go">  criterion: g1</span>
<span class="linenos"> 8</span><span class="go">  Considerable performance difference : -77.00</span>
<span class="linenos"> 9</span><span class="go">  Veto discrimination threshold       : -60.00</span>
<span class="linenos">10</span><span class="go">  Polarisation: r(a4 &gt;= a2) = -0.44 ==&gt; -1.00</span>
<span class="linenos">11</span><span class="go"> *----  Positive polarisations ----*</span>
<span class="linenos">12</span><span class="go">  number of positive polarisations: 1</span>
<span class="linenos">13</span><span class="go">  1: r(a2 &gt;= a4) = 0.56</span>
<span class="linenos">14</span><span class="go">  criterion: g1</span>
<span class="linenos">15</span><span class="go">  Considerable performance difference : 77.00</span>
<span class="linenos">16</span><span class="go">  Counter-veto threshold              : 60.00</span>
<span class="linenos">17</span><span class="go">  Polarisation: r(a2 &gt;= a4) = 0.56 ==&gt; +1.00</span>
</pre></div>
</div>
<p>Indeed, due to the considerable performance difference (77.00) oberved on performance criterion <em>g1</em>, alternative <em>a2</em> <strong>for sure</strong> <em>outranks</em> alternative <em>a4</em>, respectively <em>a4</em> <strong>for sure</strong> <em>does not outrank</em> <em>a2</em>.</p>
</section>
<section id="inspecting-the-template-outranking-relation">
<h4><a class="toc-backref" href="#id347" role="doc-backlink"><span class="section-number">1.3.2.6. </span>Inspecting the template outranking relation</a><a class="headerlink" href="#inspecting-the-template-outranking-relation" title="Link to this heading"></a></h4>
<p>Let us have a look at the outranking relation table.</p>
<div class="literal-block-wrapper docutils container" id="templaterelation">
<div class="code-block-caption"><span class="caption-number">Listing 1.24 </span><span class="caption-text">The template outranking relation</span><a class="headerlink" href="#templaterelation" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">showRelationTable</span><span class="p">()</span>
<span class="linenos">2</span><span class="go"> * ---- Relation Table -----</span>
<span class="linenos">3</span><span class="go">    r   |  &#39;a1&#39;   &#39;a2&#39;   &#39;a3&#39;   &#39;a4&#39;   &#39;a5&#39;</span>
<span class="linenos">4</span><span class="go">   -----|-----------------------------------</span>
<span class="linenos">5</span><span class="go">   &#39;a1&#39; | +1.00  -0.44  -0.22  -0.11  +0.06</span>
<span class="linenos">6</span><span class="go">   &#39;a2&#39; | +0.44  +1.00  +0.33  +1.00  +0.28</span>
<span class="linenos">7</span><span class="go">   &#39;a3&#39; | +0.67  -0.33  +1.00  +0.00  +0.17</span>
<span class="linenos">8</span><span class="go">   &#39;a4&#39; | +0.11  -1.00  +0.00  +1.00  +0.06</span>
<span class="linenos">9</span><span class="go">   &#39;a5&#39; | -0.06  -0.06  -0.17  -0.06  +1.00</span>
</pre></div>
</div>
</div>
<p>We may notice in the outranking relation table above (see <a class="reference internal" href="#templaterelation"><span class="std std-numref">Listing 1.24</span></a>) that decision alternative <em>a2</em> positively <strong>outranks</strong> all the other four alternatives  (Line 6). Similarly, alternative <em>a5</em> is positively <strong>outranked</strong> by all the other alternatives (see Line 9). We may orient this way the <em>graphviz</em> drawing of the template outranking digraph.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">(</span><span class="n">fileName</span><span class="o">=</span> <span class="s1">&#39;template&#39;</span><span class="p">,</span>
<span class="gp">... </span>                 <span class="n">firstChoice</span> <span class="o">=</span><span class="p">[</span><span class="s1">&#39;a2&#39;</span><span class="p">],</span>
<span class="gp">... </span>                 <span class="n">lastChoice</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a5&#39;</span><span class="p">])</span>
<span class="go"> *---- exporting a dot file for GraphViz tools ---------*</span>
<span class="go">  Exporting to template.dot</span>
<span class="go">  dot -Grankdir=BT -Tpng template.dot -o template.png</span>
</pre></div>
</div>
<figure class="align-center" id="templatedrawing">
<a class="reference internal image-reference" href="_images/template.png"><img alt="_images/template.png" src="_images/template.png" style="width: 200px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.18 </span><span class="caption-text">The template outranking digraph</span><a class="headerlink" href="#templatedrawing" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>In <a class="reference internal" href="#templatedrawing"><span class="std std-numref">Fig. 1.18</span></a> we may notice that the template outranking digraph models in fact a <strong>partial order</strong> on the five potential decision alternatives. Alternatives <em>action3</em> (‘a3’ ) and <em>action4</em> (‘a4’) appear actually <strong>incomparable</strong>. In <a class="reference internal" href="#templaterelation"><span class="std std-numref">Listing 1.24</span></a>  their pairwise outranking chracteritics show indeed the <strong>indeterminate</strong> value 0.00 (Lines 7-8). We may check their pairwise comparison as follows.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">showPairwiseComparison</span><span class="p">(</span><span class="s1">&#39;a3&#39;</span><span class="p">,</span><span class="s1">&#39;a4&#39;</span><span class="p">)</span>
<span class="linenos"> 2</span><span class="go"> *------------  pairwise comparison ----*</span>
<span class="linenos"> 3</span><span class="go"> Comparing actions : (a3, a4)</span>
<span class="linenos"> 4</span><span class="go">  crit. wght.  g(x)   g(y)   diff    | ind   pref   r()  |</span>
<span class="linenos"> 5</span><span class="go">  -------------------------------     -------------------</span>
<span class="linenos"> 6</span><span class="go">  g1   3.00  63.00   23.00  +40.00   | 2.50  5.00  +3.00 |</span>
<span class="linenos"> 7</span><span class="go">  g2   3.00   6.00    2.00   +4.00   | 0.00  1.00  +3.00 |</span>
<span class="linenos"> 8</span><span class="go">  g3   6.00 -47.30  -35.70  -11.60   | 0.00 10.00  -6.00 |</span>
<span class="linenos"> 9</span><span class="go">  g4   2.00  55.40   83.50  -28.10   | 2.09  4.18  -2.00 |</span>
<span class="linenos">10</span><span class="go">  g5   2.00  63.50   37.50  +26.00   | 0.00 10.00  +2.00 |</span>
<span class="linenos">11</span><span class="go">  g6   NA    54.90</span>
<span class="linenos">12</span><span class="go">  Outranking characteristic value:   r(a3 &gt;= a4) = +0.00</span>
<span class="linenos">13</span><span class="go">  Valuation in range: -18.00 to +18.00</span>
</pre></div>
</div>
<p>The incomparability situation between ‘a3’ and ‘a4’ results here from a perfect balancing of positive (+8) and negative (-8) criteria significance weights.</p>
</section>
<section id="ranking-the-template-peformance-tableau">
<h4><a class="toc-backref" href="#id348" role="doc-backlink"><span class="section-number">1.3.2.7. </span>Ranking the template peformance tableau</a><a class="headerlink" href="#ranking-the-template-peformance-tableau" title="Link to this heading"></a></h4>
<p>We may eventually rank the five decision alternatives with a heatmap browser view following the <em>Copeland</em> ranking rule which consistently reproduces the partial outranking order shown in <a class="reference internal" href="#templatedrawing"><span class="std std-numref">Fig. 1.18</span></a>.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">showHTMLPerformanceHeatmap</span><span class="p">(</span><span class="n">ndigits</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">colorLevels</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
<span class="gp">... </span>   <span class="n">Correlations</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">rankingRule</span><span class="o">=</span><span class="s1">&#39;Copeland&#39;</span><span class="p">,</span>
<span class="gp">... </span>   <span class="n">pageTitle</span><span class="o">=</span><span class="s1">&#39;Heatmap of the template performance tableau&#39;</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/templateHeatmapCop.png"><img alt="_images/templateHeatmapCop.png" class="align-center" src="_images/templateHeatmapCop.png" style="width: 600px;" />
</a>
<p>Due to a 11 against 7 <strong>plurality tyranny</strong> effect, the <em>Copeland</em> ranking rule, essentially based on crisp majority outranking counts, puts here alternative <em>action5</em> (<em>a5</em>) last, despite its excellent grades observed on criteria <em>g2</em>, <em>g5</em> and <em>g6</em>. A slightly <strong>fairer</strong> ranking result may be obtained with the <em>NetFlows</em> ranking rule.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">showHTMLPerformanceHeatmap</span><span class="p">(</span><span class="n">ndigits</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">colorLevels</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
<span class="gp">... </span>   <span class="n">Correlations</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">rankingRule</span><span class="o">=</span><span class="s1">&#39;NetFlows&#39;</span><span class="p">,</span>
<span class="gp">... </span>   <span class="n">pageTitle</span><span class="o">=</span><span class="s1">&#39;Heatmap of the template performance tableau&#39;</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/templateHeatmapNF.png"><img alt="_images/templateHeatmapNF.png" class="align-center" src="_images/templateHeatmapNF.png" style="width: 600px;" />
</a>
<p>It might be opportune to furthermore study the robustness of the apparent outranking situations when assuming only <em>ordinal</em> or <em>uncertain</em> criteria significance weights. If interested in mainly objectively <em>unopposed</em> (multipartisan) outranking situations, one might also try the <code class="xref py py-class docutils literal notranslate"><span class="pre">UnOpposedOutrankingDigraph</span></code> constructor. (see the <a class="reference internal" href="pearls.html#advanced-topics-label"><span class="std std-ref">advanced topics of the Digraph3 documentation</span></a>).</p>
<p>Back to <a class="reference internal" href="#tutorial-label"><span class="std std-ref">Content Table</span></a></p>
<hr class="docutils" />
</section>
</section>
<section id="generating-random-performance-tableaux-with-the-randperftabs-module">
<span id="randomperformancetableau-tutorial-label"></span><h3><a class="toc-backref" href="#id327" role="doc-backlink"><span class="section-number">1.3.3. </span>Generating random performance tableaux with the <code class="xref py py-mod docutils literal notranslate"><span class="pre">randPerfTabs</span></code> module</a><a class="headerlink" href="#generating-random-performance-tableaux-with-the-randperftabs-module" title="Link to this heading"></a></h3>
<nav class="contents local" id="id57">
<ul class="simple">
<li><p><a class="reference internal" href="#introduction" id="id349">Introduction</a></p></li>
<li><p><a class="reference internal" href="#random-standard-performance-tableaux" id="id350">Random standard performance tableaux</a></p></li>
<li><p><a class="reference internal" href="#random-cost-benefit-performance-tableaux" id="id351">Random Cost-Benefit performance tableaux</a></p></li>
<li><p><a class="reference internal" href="#random-three-objectives-performance-tableaux" id="id352">Random three objectives performance tableaux</a></p></li>
<li><p><a class="reference internal" href="#random-academic-performance-tableaux" id="id353">Random academic performance tableaux</a></p></li>
<li><p><a class="reference internal" href="#random-linearly-ranked-performance-tableaux" id="id354">Random linearly ranked performance tableaux</a></p></li>
</ul>
</nav>
<section id="introduction">
<h4><a class="toc-backref" href="#id349" role="doc-backlink"><span class="section-number">1.3.3.1. </span>Introduction</a><a class="headerlink" href="#introduction" title="Link to this heading"></a></h4>
<p>The <a class="reference internal" href="techDoc.html#module-randomPerfTabs" title="randomPerfTabs"><code class="xref py py-mod docutils literal notranslate"><span class="pre">randomPerfTabs</span></code></a> module provides several constructors for generating random performance tableaux models of different kind, mainly for the purpose of testing implemented methods and tools presented and discussed in the Algorithmic Decision Theory course at the University of Luxembourg. This tutorial concerns the most useful models.</p>
<p>The simplest model, called <strong>RandomPerformanceTableau</strong>, generates
a set of <em>n</em> decision actions, a set of <em>m</em> real-valued
performance criteria, ranging by default from 0.0 to 100.0,
associated with default discrimination thresholds: 2.5 (ind.),
5.0 (pref.) and 60.0 (veto). The generated performances are
Beta(2.2) distributed on each measurement scale.</p>
<p>One of the most useful models, called
<strong>RandomCBPerformanceTableau</strong>, proposes a performance tableau
involving two decision objectives,
named <em>Costs</em> (to be minimized) respectively <em>Benefits</em> (to be
maximized); its purpose being to generate more or less
contradictory performances on these two, usually conflicting,
objectives. <em>Low costs</em> will randomly be coupled with <em>low
benefits</em>, whereas <em>high costs</em> will randomly be coupled
with high benefits.</p>
<p>Many public policy decision problems involve three often
conflicting decision objectives taking into account <em>economical</em>,
<em>societal</em> as well as <em>environmental</em> aspects. For this type of
performance tableau model, we provide a specific model,
called <strong>Random3ObjectivesPerformanceTableau</strong>.</p>
<p>Deciding which students, based on the grades obtained in a
number of examinations, validate or not their academic studies,
is the common decision practice of universities and academies.
To thouroughly study these kind of decision problems,
we provide a corresponding performance tableau model, called
<strong>RandomAcademicPerformanceTableau</strong>, which gathers grades
obtained by a given number of students in a given number of
weighted courses.</p>
<p>In order to study aggregation of election results (see the tutorial on
<a class="reference internal" href="#linearvoting-tutorial-label"><span class="std std-ref">Computing the winner of an election with the votingProfiles module</span></a>) in the context
of bipolar-valued outranking digraphs, we provide furthermore a
specific performance tableau model called <strong>RandomRankPerformanceTableau</strong>
which provides ranks (linearly ordered performances without ties) of a given number of election candidates (decision actions) for a given number of weighted voters (performance criteria).</p>
</section>
<section id="random-standard-performance-tableaux">
<h4><a class="toc-backref" href="#id350" role="doc-backlink"><span class="section-number">1.3.3.2. </span>Random standard performance tableaux</a><a class="headerlink" href="#random-standard-performance-tableaux" title="Link to this heading"></a></h4>
<p>The <a class="reference internal" href="techDoc.html#randomPerfTabs.RandomPerformanceTableau" title="randomPerfTabs.RandomPerformanceTableau"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomPerformanceTableau</span></code></a> class, the simplest of the kind, specializes the generic <a class="reference internal" href="techDoc.html#perfTabs.PerformanceTableau" title="perfTabs.PerformanceTableau"><code class="xref py py-class docutils literal notranslate"><span class="pre">PerformanceTableau</span></code></a> class, and takes the following parameters.</p>
<blockquote>
<div><ul>
<li><p>numberOfActions := nbr of decision actions.</p></li>
<li><p>numberOfCriteria := number performance criteria.</p></li>
<li><p>weightDistribution := ‘random’ (default) | ‘fixed’ | ‘equisignificant’:</p>
<blockquote>
<div><div class="line-block">
<div class="line">If ‘random’, weights are uniformly selected randomly</div>
<div class="line">from the given weight scale;</div>
<div class="line">If ‘fixed’, the weightScale must provided a corresponding weights</div>
<div class="line">distribution;</div>
<div class="line">If ‘equisignificant’, all criterion weights are put to unity.</div>
</div>
</div></blockquote>
</li>
<li><p>weightScale := [Min,Max] (default =(1,numberOfCriteria).</p></li>
<li><p>IntegerWeights := True (default) | False (normalized to proportions of 1.0).</p></li>
<li><p>commonScale := [a,b]; common performance measuring scales (default = [0.0,100.0])</p></li>
<li><p>commonThresholds := [(q0,q1),(p0,p1),(v0,v1)]; common indifference(q), preference (p) and considerable performance difference discrimination thresholds. For each threshold type <em>x</em> in <em>{q,p,v}</em>, the float x0 value represents a constant percentage of the common scale and the float x1 value a proportional value of the actual performance measure. Default values are [(2.5.0,0.0),(5.0,0.0),(60.0,0,0)].</p></li>
<li><p>commonMode := common random distribution of random performance measurements (default = (‘beta’,None,(2,2)) ):</p>
<blockquote>
<div><div class="line-block">
<div class="line">(‘uniform’,None,None), uniformly distributed float values on the given common scales’ range [Min,Max].</div>
<div class="line">(‘normal’,*mu*,*sigma*), truncated Gaussian distribution, by default <em>mu</em> = (<em>b-a</em>)/2 and <em>sigma</em> = (<em>b-a</em>)/4.</div>
<div class="line">(‘triangular’,*mode*,*repartition*), generalized triangular distribution with a probability repartition parameter specifying the probability mass accumulated until the mode value. By default, <em>mode</em> = (<em>b-a</em>)/2 and <em>repartition</em> = 0.5.</div>
<div class="line">(‘beta’,None,(alpha,beta)), a beta generator with default alpha=2 and beta=2 parameters.</div>
</div>
</div></blockquote>
</li>
<li><p>valueDigits := &lt;integer&gt;, precision of performance measurements (2 decimal digits by default).</p></li>
<li><p>missingDataProbability := 0 &lt;= float &lt;= 1.0 ; probability of missing performance evaluation on a criterion for an alternative (default 0.025).</p></li>
<li><p>NA := &lt;Decimal&gt; (default = -999); missing data symbol.</p></li>
</ul>
</div></blockquote>
<p>Code example.</p>
<div class="literal-block-wrapper docutils container" id="randomperformancetableau">
<div class="code-block-caption"><span class="caption-number">Listing 1.25 </span><span class="caption-text">Generating a random performance tableau</span><a class="headerlink" href="#randomperformancetableau" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">randomPerfTabs</span> <span class="kn">import</span> <span class="n">RandomPerformanceTableau</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">RandomPerformanceTableau</span><span class="p">(</span><span class="n">numberOfActions</span><span class="o">=</span><span class="mi">21</span><span class="p">,</span><span class="n">numberOfCriteria</span><span class="o">=</span><span class="mi">13</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">actions</span>
<span class="linenos"> 4</span><span class="go">     {&#39;a01&#39;: {&#39;comment&#39;: &#39;RandomPerformanceTableau() generated.&#39;,</span>
<span class="linenos"> 5</span><span class="go">             &#39;name&#39;: &#39;random decision action&#39;},</span>
<span class="linenos"> 6</span><span class="go">      &#39;a02&#39;: { ... },</span>
<span class="linenos"> 7</span><span class="go">      ...</span>
<span class="linenos"> 8</span><span class="go">     }</span>
<span class="linenos"> 9</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">criteria</span>
<span class="linenos">10</span><span class="go">     {&#39;g01&#39;: {&#39;thresholds&#39;: {&#39;ind&#39; : (Decimal(&#39;10.0&#39;), Decimal(&#39;0.0&#39;)),</span>
<span class="linenos">11</span><span class="go">                            &#39;veto&#39;: (Decimal(&#39;80.0&#39;), Decimal(&#39;0.0&#39;)),</span>
<span class="linenos">12</span><span class="go">                            &#39;pref&#39;: (Decimal(&#39;20.0&#39;), Decimal(&#39;0.0&#39;))},</span>
<span class="linenos">13</span><span class="go">             &#39;scale&#39;: [0.0, 100.0],</span>
<span class="linenos">14</span><span class="go">             &#39;weight&#39;: Decimal(&#39;1&#39;),</span>
<span class="linenos">15</span><span class="go">             &#39;name&#39;: &#39;digraphs.RandomPerformanceTableau() instance&#39;,</span>
<span class="linenos">16</span><span class="go">             &#39;comment&#39;: &#39;Arguments: ; weightDistribution=random;</span>
<span class="linenos">17</span><span class="go">                 weightScale=(1, 1); commonMode=None&#39;},</span>
<span class="linenos">18</span><span class="go">       &#39;g02&#39;:  { ... },</span>
<span class="linenos">19</span><span class="go">       ...</span>
<span class="linenos">20</span><span class="go">      }</span>
<span class="linenos">21</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">evaluation</span>
<span class="linenos">22</span><span class="go">     {&#39;g01&#39;: {&#39;a01&#39;: Decimal(&#39;15.17&#39;),</span>
<span class="linenos">23</span><span class="go">              &#39;a02&#39;: Decimal(&#39;44.51&#39;),</span>
<span class="hll"><span class="linenos">24</span><span class="go">              &#39;a03&#39;: Decimal(&#39;-999&#39;),  # missing evaluation</span>
</span><span class="linenos">25</span><span class="go">              ...</span>
<span class="linenos">26</span><span class="go">              },</span>
<span class="linenos">27</span><span class="go">       ...</span>
<span class="linenos">28</span><span class="go">      }</span>
<span class="linenos">29</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">showHTMLPerformanceTableau</span><span class="p">()</span>
</pre></div>
</div>
</div>
<figure class="align-center" id="id277">
<a class="reference internal image-reference" href="_images/randomPerfTab1.png"><img alt="_images/randomPerfTab1.png" src="_images/randomPerfTab1.png" style="width: 500px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.19 </span><span class="caption-text">Browser view on random performance tableau instance</span><a class="headerlink" href="#id277" title="Link to this image"></a></p>
</figcaption>
</figure>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Missing (NA) evaluation are registered in a performance tableau by default as <em>Decimal(‘-999’)</em> value (see <a class="reference internal" href="#randomperformancetableau"><span class="std std-numref">Listing 1.25</span></a> Line 24). Best and worst performance on each criterion are marked in <em>light green</em>, respectively in <em>light red</em>.</p>
</div>
</section>
<section id="random-cost-benefit-performance-tableaux">
<span id="cost-benefit-performance-tableau-label"></span><h4><a class="toc-backref" href="#id351" role="doc-backlink"><span class="section-number">1.3.3.3. </span>Random Cost-Benefit performance tableaux</a><a class="headerlink" href="#random-cost-benefit-performance-tableaux" title="Link to this heading"></a></h4>
<p>We provide the <a class="reference internal" href="techDoc.html#randomPerfTabs.RandomCBPerformanceTableau" title="randomPerfTabs.RandomCBPerformanceTableau"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomCBPerformanceTableau</span></code></a> class for generating random <em>Cost</em> versus <em>Benefit</em> organized performance tableaux following the directives below:</p>
<blockquote>
<div><ul class="simple">
<li><p>We distinguish three types of decision actions: <em>cheap</em>, <em>neutral</em> and <em>expensive</em> ones with an equal proportion of 1/3. We also distinguish two types of weighted criteria: <em>cost</em> criteria to be <em>minimized</em>, and <em>benefit</em> criteria to be <em>maximized</em>; in the proportions 1/3 respectively 2/3.</p></li>
<li><p>Random performances on each type of criteria  are drawn, either from an ordinal scale [0;10], or from a cardinal scale [0.0;100.0], following a parametric triangular law of mode: 30% performance for cheap, 50% for neutral, and 70% performance for expensive decision actions, with constant probability repartition 0.5 on each side of the respective mode.</p></li>
<li><p>Cost criteria use mostly cardinal scales (3/4), whereas benefit criteria use mostly ordinal scales (2/3).</p></li>
<li><p>The sum of weights of the cost criteria by default equals the sum weights of the benefit criteria: weighDistribution = ‘equiobjectives’.</p></li>
<li><p>On cardinal criteria, both of cost or of benefit type, we observe following constant preference discrimination quantiles: 5% indifferent situations, 90% strict preference situations, and 5% considerable performance differences.</p></li>
</ul>
</div></blockquote>
<dl class="simple">
<dt><em>Parameters</em>:</dt><dd><ul class="simple">
<li><p>If <em>numberOfActions</em> is <em>None</em>, a uniform random number between 10 and 31 of cheap, neutral or advantageous actions (equal 1/3 probability each type) actions is instantiated, otherwise a minimal integer greater than 5 is required</p></li>
<li><p>If <em>numberOfCriteria</em> is <em>None</em>, a uniform random number between 5 and 21 of cost or benefit criteria (1/3 respectively 2/3 probability) is instantiated, otherwise a poitive integer is required</p></li>
<li><p><em>weightDistribution</em> := {‘equiobjectives’|’fixed’|’random’|’equisignificant’ (default = ‘equisignificant’)}</p></li>
<li><p>Default <em>weightScale</em> for ‘random’ weightDistribution is 1 - numberOfCriteria</p></li>
<li><p>All <em>cardinal</em> criteria are evaluated with decimals between 0.0 and 100.0 whereas <em>ordinal</em> criteria are evaluated with integers between 0 and 10</p></li>
<li><p><em>commonPercentiles</em> := {‘ind’:5, ‘pref’:10, ‘veto’:95} (default) are expressed in percents (reversed for vetoes) and only concern cardinal criteria.</p></li>
<li><p><em>missingDataProbability</em> := 0 &lt;= float &lt;= 1.0 ; probability of missing performance evaluation on a criterion for an alternative (default 0.025).</p></li>
<li><p>NA := &lt;Decimal&gt; (default = -999); missing data symbol.</p></li>
</ul>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Minimal number of decision actions required is 6 !</p>
</div>
<p>Example Python session</p>
<div class="literal-block-wrapper docutils container" id="randomcbperformancetableau">
<div class="code-block-caption"><span class="caption-number">Listing 1.26 </span><span class="caption-text">Generating a random Cost-Benefit performance tableau</span><a class="headerlink" href="#randomcbperformancetableau" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">randomPerfTabs</span> <span class="kn">import</span> <span class="n">RandomCBPerformanceTableau</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">RandomCBPerformanceTableau</span><span class="p">(</span>
<span class="linenos"> 3</span><span class="gp">... </span>      <span class="n">numberOfActions</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span>
<span class="linenos"> 4</span><span class="gp">... </span>      <span class="n">numberOfCriteria</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
<span class="linenos"> 5</span><span class="gp">... </span>      <span class="n">weightDistribution</span><span class="o">=</span><span class="s1">&#39;equiobjectives&#39;</span><span class="p">,</span>
<span class="linenos"> 6</span><span class="gp">... </span>      <span class="n">commonPercentiles</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;ind&#39;</span><span class="p">:</span><span class="mf">0.05</span><span class="p">,</span><span class="s1">&#39;pref&#39;</span><span class="p">:</span><span class="mf">0.10</span><span class="p">,</span><span class="s1">&#39;veto&#39;</span><span class="p">:</span><span class="mf">0.95</span><span class="p">},</span>
<span class="linenos"> 7</span><span class="gp">... </span>      <span class="n">seed</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="linenos"> 8</span>
<span class="linenos"> 9</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">showActions</span><span class="p">()</span>
<span class="linenos">10</span><span class="go"> *----- show decision action --------------*</span>
<span class="linenos">11</span><span class="go"> key:  a1</span>
<span class="linenos">12</span><span class="go">   short name: a1c</span>
<span class="hll"><span class="linenos">13</span><span class="go">   name:       random cheap decision action</span>
</span><span class="linenos">14</span><span class="go"> key:  a2</span>
<span class="linenos">15</span><span class="go">   short name: a2n</span>
<span class="hll"><span class="linenos">16</span><span class="go">   name:       random neutral decision action</span>
</span><span class="linenos">17</span><span class="go"> ...</span>
<span class="linenos">18</span><span class="go"> key:  a7a</span>
<span class="linenos">19</span><span class="go">   short name: a7</span>
<span class="hll"><span class="linenos">20</span><span class="go">   name:       random advantageous decision action</span>
</span><span class="linenos">21</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">showCriteria</span><span class="p">()</span>
<span class="linenos">22</span><span class="go"> *----  criteria -----*</span>
<span class="hll"><span class="linenos">23</span><span class="go"> c1 random cardinal cost criterion</span>
</span><span class="linenos">24</span><span class="go">  Preference direction: min</span>
<span class="linenos">25</span><span class="go">  Scale = (0.00, 100.00)</span>
<span class="linenos">26</span><span class="go">  Weight = 0.167</span>
<span class="hll"><span class="linenos">27</span><span class="go">  Threshold ind : 2.33 + 0.00x ; percentile: 4.76</span>
</span><span class="linenos">28</span><span class="go">  Threshold pref : 4.46 + 0.00x ; percentile: 14.29</span>
<span class="linenos">29</span><span class="go">  Threshold veto : 64.23 + 0.00x ; percentile: 95.24</span>
<span class="linenos">30</span><span class="go"> c2 &#39;random cardinal cost criterion&#39;</span>
<span class="linenos">31</span><span class="go"> ...</span>
<span class="linenos">32</span><span class="go"> c3 &#39;random cardinal cost criterion&#39;</span>
<span class="linenos">33</span><span class="go"> ...</span>
<span class="linenos">34</span><span class="go"> b1 random ordinal benefit criterion</span>
<span class="linenos">35</span><span class="go">  Preference direction: max</span>
<span class="linenos">36</span><span class="go">  Scale = (0.00, 10.00)</span>
<span class="linenos">37</span><span class="go">  Weight = 0.250</span>
<span class="linenos">38</span><span class="go"> b2 random cardinal benefit criterion</span>
<span class="linenos">39</span><span class="go"> ...</span>
</pre></div>
</div>
</div>
<p>In the example above, we may notice the three types of decision actions (<a class="reference internal" href="#randomcbperformancetableau"><span class="std std-numref">Listing 1.26</span></a> Lines 10-20), as well as the two types (Lines 22-32) of criteria with either an <strong>ordinal</strong> or a <strong>cardinal</strong> performance measuring scale. In the latter case, by default about 5% of the random performance differences will be below the <strong>indifference</strong> and 10% below the <strong>preference discriminating threshold</strong>. About 5% will be considered as <strong>considerably large</strong>. More statistics about the generated performances is available as follows.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">showStatistics</span><span class="p">()</span>
<span class="linenos"> 2</span><span class="go"> *-------- Performance tableau summary statistics -------*</span>
<span class="linenos"> 3</span><span class="go"> Instance name      : randomCBperftab</span>
<span class="linenos"> 4</span><span class="go"> #Actions           : 7</span>
<span class="linenos"> 5</span><span class="go"> #Criteria          : 5</span>
<span class="linenos"> 6</span><span class="go">  Criterion name       : b1</span>
<span class="linenos"> 7</span><span class="go">    Criterion weight     : 3</span>
<span class="linenos"> 8</span><span class="go">    criterion scale    : 0.00 - 10.00</span>
<span class="linenos"> 9</span><span class="go">    missing evaluations : 0</span>
<span class="linenos">10</span><span class="go">    mean evaluation       : 4.43</span>
<span class="linenos">11</span><span class="go">    standard deviation    : 2.50</span>
<span class="linenos">12</span><span class="go">    maximal evaluation    : 9.00</span>
<span class="linenos">13</span><span class="go">    quantile Q3 (x_75)    : 7.50</span>
<span class="linenos">14</span><span class="go">    median evaluation     : 4.00</span>
<span class="linenos">15</span><span class="go">    quantile Q1 (x_25)    : 2.75</span>
<span class="linenos">16</span><span class="go">    minimal evaluation    : 2.00</span>
<span class="linenos">17</span><span class="go">    mean absolute difference      : 2.69</span>
<span class="linenos">18</span><span class="go">    standard difference deviation : 3.53</span>
<span class="linenos">19</span><span class="go">   ...</span>
<span class="linenos">20</span><span class="go">  Criterion name       : c1</span>
<span class="linenos">21</span><span class="go">    Criterion weight     : 2</span>
<span class="linenos">22</span><span class="go">    criterion scale      : -100.00 - 0.00</span>
<span class="linenos">23</span><span class="go">    missing evaluations : 0</span>
<span class="linenos">24</span><span class="go">    mean evaluation       : -54.18</span>
<span class="linenos">25</span><span class="go">    standard deviation    :  24.82</span>
<span class="linenos">26</span><span class="go">    maximal evaluation    :   0.00</span>
<span class="linenos">27</span><span class="go">    quantile Q3 (x_75)    : -25.36</span>
<span class="linenos">28</span><span class="go">    median evaluation     : -48.33</span>
<span class="linenos">29</span><span class="go">    quantile Q1 (x_25)    : -77.81</span>
<span class="linenos">30</span><span class="go">    minimal evaluation    : -81.69</span>
<span class="linenos">31</span><span class="go">    mean absolute difference      : 27.62</span>
<span class="linenos">32</span><span class="go">    standard difference deviation : 35.11</span>
<span class="linenos">33</span><span class="go">   ...</span>
</pre></div>
</div>
<p>A <em>Copeland</em> ranked colored heatmap with 5 color levels is also provided.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">showHTMLPerformanceHeatmap</span><span class="p">(</span><span class="n">colorLevels</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">Correlations</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>                             <span class="n">rankingRule</span><span class="o">=</span><span class="s1">&#39;Copeland&#39;</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="id278">
<a class="reference internal image-reference" href="_images/randomCBHeatmap.png"><img alt="_images/randomCBHeatmap.png" src="_images/randomCBHeatmap.png" style="width: 350px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.20 </span><span class="caption-text">Ranked heatmap of a random Cost-Benefit performance tableau</span><a class="headerlink" href="#id278" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Such a performance tableau may be stored and re-accessed as follows.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;temp&#39;</span><span class="p">)</span>
<span class="linenos">2</span><span class="go"> *----- saving performance tableau in XMCDA 2.0 format  -------------*</span>
<span class="linenos">3</span><span class="go"> File: temp.py saved !</span>
<span class="linenos">4</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">perfTabs</span> <span class="kn">import</span> <span class="n">PerformanceTableau</span>
<span class="linenos">5</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">PerformanceTableau</span><span class="p">(</span><span class="s1">&#39;temp&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>If needed –for instance in an R session– a CSV version of the performance tableau may be created as follows.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">saveCSV</span><span class="p">(</span><span class="s1">&#39;temp&#39;</span><span class="p">)</span>
<span class="linenos">2</span><span class="go"> * --- Storing performance tableau in CSV format in file temp.csv</span>
</pre></div>
</div>
<p>Back to <a class="reference internal" href="#tutorial-label"><span class="std std-ref">Content Table</span></a></p>
</section>
<section id="random-three-objectives-performance-tableaux">
<span id="three-objectives-performance-tableau-label"></span><h4><a class="toc-backref" href="#id352" role="doc-backlink"><span class="section-number">1.3.3.4. </span>Random three objectives performance tableaux</a><a class="headerlink" href="#random-three-objectives-performance-tableaux" title="Link to this heading"></a></h4>
<p>We provide the <a class="reference internal" href="techDoc.html#randomPerfTabs.Random3ObjectivesPerformanceTableau" title="randomPerfTabs.Random3ObjectivesPerformanceTableau"><code class="xref py py-class docutils literal notranslate"><span class="pre">Random3ObjectivesPerformanceTableau</span></code></a> class for generating random performance tableaux concerning potential public policies evaluated with respect to three preferential decision objectives taking respectively into account <em>economical</em>, <em>societal</em> as well as <em>environmental</em> aspects.</p>
<p>Each public policy is qualified randomly as performing <strong>weak</strong> (-), <strong>fair</strong> (~) or <strong>good</strong> (+) on each of the three objectives.</p>
<p>Generator directives are the following:</p>
<blockquote>
<div><ul class="simple">
<li><p>numberOfActions = 20 (default),</p></li>
<li><p>numberOfCriteria = 13 (default),</p></li>
<li><p>weightDistribution = ‘equiobjectives’ (default) | ‘random’ | ‘equisignificant’,</p></li>
<li><p>weightScale = (1,numberOfCriteria): only used when random criterion weights are requested,</p></li>
<li><p>integerWeights = True (default): False gives normalized rational weights,</p></li>
<li><p>commonScale = (0.0,100.0),</p></li>
<li><p>commonThresholds = [(5.0,0.0),(10.0,0.0),(60.0,0.0)]: Performance discrimination thresholds may be set for ‘ind’, ‘pref’ and ‘veto’,</p></li>
<li><p>commonMode = [‘triangular’,’variable’,0.5]: random number generators of various other types (‘uniform’,’beta’) are available,</p></li>
<li><p>valueDigits = 2 (default): evaluations are encoded as Decimals,</p></li>
<li><p>missingDataProbability = 0.05 (default): random insertion of missing values with given probability,</p></li>
<li><p>NA := &lt;Decimal&gt; (default = -999); missing data symbol.</p></li>
<li><p>seed= None.</p></li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the mode of the <strong>triangular</strong> distribution is set to ‘<em>variable</em>’,
three modes at 0.3 (-), 0.5 (~), respectively 0.7 (+) of the common scale span are set at random for each coalition and action.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Minimal number of decision actions required is 3 !</p>
</div>
<p>Example Python session</p>
<div class="literal-block-wrapper docutils container" id="random3objectivesperformancetableau">
<div class="code-block-caption"><span class="caption-number">Listing 1.27 </span><span class="caption-text">Generating a random 3 Objectives performance tableau</span><a class="headerlink" href="#random3objectivesperformancetableau" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">randomPerfTabs</span> <span class="kn">import</span> <span class="n">Random3ObjectivesPerformanceTableau</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Random3ObjectivesPerformanceTableau</span><span class="p">(</span>
<span class="linenos"> 3</span><span class="gp">... </span>             <span class="n">numberOfActions</span><span class="o">=</span><span class="mi">31</span><span class="p">,</span>
<span class="linenos"> 4</span><span class="gp">... </span>             <span class="n">numberOfCriteria</span><span class="o">=</span><span class="mi">13</span><span class="p">,</span>
<span class="linenos"> 5</span><span class="gp">... </span>             <span class="n">weightDistribution</span><span class="o">=</span><span class="s1">&#39;equiobjectives&#39;</span><span class="p">,</span>
<span class="linenos"> 6</span><span class="gp">... </span>             <span class="n">seed</span><span class="o">=</span><span class="mi">120</span><span class="p">)</span>
<span class="linenos"> 7</span>
<span class="linenos"> 8</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">showObjectives</span><span class="p">()</span>
<span class="linenos"> 9</span><span class="go"> *------ show objectives -------&quot;</span>
<span class="hll"><span class="linenos">10</span><span class="go"> Eco: Economical aspect</span>
</span><span class="linenos">11</span><span class="go">    ec04 criterion of objective Eco 20</span>
<span class="linenos">12</span><span class="go">    ec05 criterion of objective Eco 20</span>
<span class="linenos">13</span><span class="go">    ec08 criterion of objective Eco 20</span>
<span class="linenos">14</span><span class="go">    ec11 criterion of objective Eco 20</span>
<span class="linenos">15</span><span class="go">   Total weight: 80.00 (4 criteria)</span>
<span class="hll"><span class="linenos">16</span><span class="go"> Soc: Societal aspect</span>
</span><span class="linenos">17</span><span class="go">    so06 criterion of objective Soc 16</span>
<span class="linenos">18</span><span class="go">    so07 criterion of objective Soc 16</span>
<span class="linenos">19</span><span class="go">    so09 criterion of objective Soc 16</span>
<span class="linenos">20</span><span class="go">    s010 criterion of objective Soc 16</span>
<span class="linenos">21</span><span class="go">    s013 criterion of objective Soc 16</span>
<span class="linenos">22</span><span class="go">   Total weight: 80.00 (5 criteria)</span>
<span class="hll"><span class="linenos">23</span><span class="go"> Env: Environmental aspect</span>
</span><span class="linenos">24</span><span class="go">    en01 criterion of objective Env 20</span>
<span class="linenos">25</span><span class="go">    en02 criterion of objective Env 20</span>
<span class="linenos">26</span><span class="go">    en03 criterion of objective Env 20</span>
<span class="linenos">27</span><span class="go">    en12 criterion of objective Env 20</span>
<span class="linenos">28</span><span class="go">   Total weight: 80.00 (4 criteria)</span>
</pre></div>
</div>
</div>
<p>In <a class="reference internal" href="#random3objectivesperformancetableau"><span class="std std-numref">Listing 1.27</span></a> above, we notice that 5 <em>equisignificant</em> criteria (g06, g07, g09, g10, g13) evaluate for instance the performance of the public policies from a <strong>societal</strong> point of view (Lines 16-22). 4 <em>equisignificant</em> criteria do the same from an <strong>economical</strong> (Lines 10-15), respectively an <strong>environmental</strong> point of view (Lines 23-28). The <em>equiobjectives</em> directive results hence in a balanced total weight (80.00) for each decision objective.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">showActions</span><span class="p">()</span>
<span class="linenos"> 2</span><span class="go"> key:  p01</span>
<span class="linenos"> 3</span><span class="go">   name:       random public policy Eco+ Soc- Env+</span>
<span class="linenos"> 4</span><span class="go">   profile:    {&#39;Eco&#39;: &#39;good&#39;, &#39;Soc&#39;: &#39;weak&#39;, &#39;Env&#39;: &#39;good&#39;}</span>
<span class="linenos"> 5</span><span class="go"> key:  p02</span>
<span class="linenos"> 6</span><span class="go"> ...</span>
<span class="linenos"> 7</span><span class="go"> key:  p26</span>
<span class="linenos"> 8</span><span class="go">   name:       random public policy Eco+ Soc+ Env-</span>
<span class="linenos"> 9</span><span class="go">   profile:    {&#39;Eco&#39;: &#39;good&#39;, &#39;Soc&#39;: &#39;good&#39;, &#39;Env&#39;: &#39;weak&#39;}</span>
<span class="linenos">10</span><span class="go"> ...</span>
<span class="linenos">11</span><span class="go"> key:  p30</span>
<span class="linenos">12</span><span class="go">   name:       random public policy Eco- Soc- Env-</span>
<span class="linenos">13</span><span class="go">   profile:    {&#39;Eco&#39;: &#39;weak&#39;, &#39;Soc&#39;: &#39;weak&#39;, &#39;Env&#39;: &#39;weak&#39;}</span>
<span class="linenos">14</span><span class="go"> ...</span>
</pre></div>
</div>
<p>Variable triangular modes (0.3, 0.5 or 0.7 of the span of the measure scale) for each objective result in different performance status for each public policy with respect to the three objectives. Policy <em>p01</em>, for instance, will probably show <em>good</em> performances wrt the <em>economical</em>  and environmental aspects, and <em>weak</em> performances wrt the <em>societal</em> aspect.</p>
<p>For testing purposes we provide a special <a class="reference internal" href="techDoc.html#perfTabs.PartialPerformanceTableau" title="perfTabs.PartialPerformanceTableau"><code class="xref py py-class docutils literal notranslate"><span class="pre">PartialPerformanceTableau</span></code></a> class for extracting a <strong>partial performance tableau</strong> from a given tableau instance. In the example blow, we may construct the partial performance tableaux corresponding to each one of the three decision objectives.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">perfTabs</span> <span class="kn">import</span> <span class="n">PartialPerformanceTableau</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">teco</span> <span class="o">=</span> <span class="n">PartialPerformanceTableau</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="n">criteriaSubset</span><span class="o">=</span>\
<span class="linenos">3</span><span class="gp">... </span>                          <span class="n">t</span><span class="o">.</span><span class="n">objectives</span><span class="p">[</span><span class="s1">&#39;Eco&#39;</span><span class="p">][</span><span class="s1">&#39;criteria&#39;</span><span class="p">])</span>
<span class="linenos">4</span>
<span class="linenos">5</span><span class="gp">&gt;&gt;&gt; </span><span class="n">tsoc</span> <span class="o">=</span> <span class="n">PartialPerformanceTableau</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="n">criteriaSubset</span><span class="o">=</span>\
<span class="linenos">6</span><span class="gp">... </span>                          <span class="n">t</span><span class="o">.</span><span class="n">objectives</span><span class="p">[</span><span class="s1">&#39;Soc&#39;</span><span class="p">][</span><span class="s1">&#39;criteria&#39;</span><span class="p">])</span>
<span class="linenos">7</span>
<span class="linenos">8</span><span class="gp">&gt;&gt;&gt; </span><span class="n">tenv</span> <span class="o">=</span> <span class="n">PartialPerformanceTableau</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="n">criteriaSubset</span><span class="o">=</span>\
<span class="linenos">9</span><span class="gp">... </span>                          <span class="n">t</span><span class="o">.</span><span class="n">objectives</span><span class="p">[</span><span class="s1">&#39;Env&#39;</span><span class="p">][</span><span class="s1">&#39;criteria&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>One may thus compute a partial bipolar-valued outranking digraph for each individual objective.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">outrankingDigraphs</span> <span class="kn">import</span> <span class="n">BipolarOutrankingDigraph</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">geco</span> <span class="o">=</span> <span class="n">BipolarOutrankingDigraph</span><span class="p">(</span><span class="n">teco</span><span class="p">)</span>
<span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">gsoc</span> <span class="o">=</span> <span class="n">BipolarOutrankingDigraph</span><span class="p">(</span><span class="n">tsoc</span><span class="p">)</span>
<span class="linenos">4</span><span class="gp">&gt;&gt;&gt; </span><span class="n">genv</span> <span class="o">=</span> <span class="n">BipolarOutrankingDigraph</span><span class="p">(</span><span class="n">tenv</span><span class="p">)</span>
</pre></div>
</div>
<p>The three partial digraphs: <em>geco</em>, <em>gsoc</em> and <em>genv</em>,  hence model the preferences represented in each one of the partial performance tableaux. And, we may aggregate these three outranking digraphs with an epistemic fusion operator.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">digraphs</span> <span class="kn">import</span> <span class="n">FusionLDigraph</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">gfus</span> <span class="o">=</span> <span class="n">FusionLDigraph</span><span class="p">([</span><span class="n">geco</span><span class="p">,</span><span class="n">gsoc</span><span class="p">,</span><span class="n">genv</span><span class="p">])</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">gfus</span><span class="o">.</span><span class="n">strongComponents</span><span class="p">()</span>
<span class="linenos"> 4</span><span class="go"> {frozenset({&#39;p30&#39;}),</span>
<span class="linenos"> 5</span><span class="go">  frozenset({&#39;p10&#39;, &#39;p03&#39;, &#39;p19&#39;, &#39;p08&#39;, &#39;p07&#39;, &#39;p04&#39;, &#39;p21&#39;, &#39;p20&#39;,</span>
<span class="linenos"> 6</span><span class="go">             &#39;p13&#39;, &#39;p23&#39;, &#39;p16&#39;, &#39;p12&#39;, &#39;p24&#39;, &#39;p02&#39;, &#39;p31&#39;, &#39;p29&#39;,</span>
<span class="linenos"> 7</span><span class="go">             &#39;p05&#39;, &#39;p09&#39;, &#39;p28&#39;, &#39;p25&#39;, &#39;p17&#39;, &#39;p14&#39;, &#39;p15&#39;, &#39;p06&#39;,</span>
<span class="linenos"> 8</span><span class="go">             &#39;p01&#39;, &#39;p27&#39;, &#39;p11&#39;, &#39;p18&#39;, &#39;p22&#39;}),</span>
<span class="linenos"> 9</span><span class="go">  frozenset({&#39;p26&#39;})}</span>
<span class="linenos">10</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">digraphs</span> <span class="kn">import</span> <span class="n">StrongComponentsCollapsedDigraph</span>
<span class="linenos">11</span><span class="gp">&gt;&gt;&gt; </span><span class="n">scc</span> <span class="o">=</span> <span class="n">StrongComponentsCollapsedDigraph</span><span class="p">(</span><span class="n">gfus</span><span class="p">)</span>
<span class="linenos">12</span><span class="gp">&gt;&gt;&gt; </span><span class="n">scc</span><span class="o">.</span><span class="n">showActions</span><span class="p">()</span>
<span class="linenos">13</span><span class="go"> *----- show digraphs actions --------------*</span>
<span class="linenos">14</span><span class="go"> key:  frozenset({&#39;p30&#39;})</span>
<span class="linenos">15</span><span class="go">   short name: Scc_1</span>
<span class="linenos">16</span><span class="go">   name:       _p30_</span>
<span class="linenos">17</span><span class="go">   comment:    collapsed strong component</span>
<span class="linenos">18</span><span class="go"> key:  frozenset({&#39;p10&#39;, &#39;p03&#39;, &#39;p19&#39;, &#39;p08&#39;, &#39;p07&#39;, &#39;p04&#39;, &#39;p21&#39;, &#39;p20&#39;, &#39;p13&#39;,</span>
<span class="linenos">19</span><span class="go">                  &#39;p23&#39;, &#39;p16&#39;, &#39;p12&#39;, &#39;p24&#39;, &#39;p02&#39;, &#39;p31&#39;, &#39;p29&#39;, &#39;p05&#39;, &#39;p09&#39;, &#39;p28&#39;, &#39;p25&#39;,</span>
<span class="linenos">20</span><span class="go">                  &#39;p17&#39;, &#39;p14&#39;, &#39;p15&#39;, &#39;p06&#39;, &#39;p01&#39;, &#39;p27&#39;, &#39;p11&#39;, &#39;p18&#39;, &#39;p22&#39;})</span>
<span class="linenos">21</span><span class="go">   short name: Scc_2</span>
<span class="linenos">22</span><span class="go">   name:       _p10_p03_p19_p08_p07_p04_p21_p20_p13_p23_p16_p12_p24_p02_p31_\</span>
<span class="linenos">23</span><span class="go">                p29_p05_p09_p28_p25_p17_p14_p15_p06_p01_p27_p11_p18_p22_</span>
<span class="linenos">24</span><span class="go">   comment:    collapsed strong component</span>
<span class="linenos">25</span><span class="go"> key:  frozenset({&#39;p26&#39;})</span>
<span class="linenos">26</span><span class="go">   short name: Scc_3</span>
<span class="linenos">27</span><span class="go">   name:       _p26_</span>
<span class="linenos">28</span><span class="go">   comment:    collapsed strong component</span>
</pre></div>
</div>
<p>A graphviz drawing illustrates the apparent preferential links between the strong components.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">scc</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">(</span><span class="s1">&#39;scFusionObjectives&#39;</span><span class="p">)</span>
<span class="linenos">2</span><span class="go"> *---- exporting a dot file for GraphViz tools ---------*</span>
<span class="linenos">3</span><span class="go"> Exporting to scFusionObjectives.dot</span>
<span class="linenos">4</span><span class="go"> dot -Grankdir=BT -Tpng scFusionObjectives.dot -o scFusionObjectives.png</span>
</pre></div>
</div>
<figure class="align-center" id="id279">
<a class="reference internal image-reference" href="_images/sccFusionObjectives.png"><img alt="_images/sccFusionObjectives.png" src="_images/sccFusionObjectives.png" style="width: 300px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.21 </span><span class="caption-text">Strong components digraph</span><a class="headerlink" href="#id279" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Public policy <em>p26</em> (Eco+ Soc+ Env-) appears dominating the other policies, whereas policy <em>p30</em> (Eco- Soc- Env-) appears to be dominated by all the others.</p>
</section>
<section id="random-academic-performance-tableaux">
<h4><a class="toc-backref" href="#id353" role="doc-backlink"><span class="section-number">1.3.3.5. </span>Random academic performance tableaux</a><a class="headerlink" href="#random-academic-performance-tableaux" title="Link to this heading"></a></h4>
<p>The <a class="reference internal" href="techDoc.html#randomPerfTabs.RandomAcademicPerformanceTableau" title="randomPerfTabs.RandomAcademicPerformanceTableau"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomAcademicPerformanceTableau</span></code></a> class generates temporary performance tableaux with random grades for a given number of students in different courses (see Lecture 4: <em>Grading</em>, Algorithmic decision Theory Course <a class="reference external" href="http://hdl.handle.net/10993/37933">http://hdl.handle.net/10993/37933</a>)</p>
<p><em>Parameters</em>:</p>
<blockquote>
<div><ul class="simple">
<li><p>number of students,</p></li>
<li><p>number of courses,</p></li>
<li><p>weightDistribution := ‘equisignificant’ | ‘random’ (default)</p></li>
<li><p>weightScale := (1, 1 | numberOfCourses (default when random))</p></li>
<li><p>IntegerWeights := Boolean (True = default)</p></li>
<li><p>commonScale := (0,20) (default)</p></li>
<li><p>ndigits := 0</p></li>
<li><p>WithTypes := Boolean (False = default)</p></li>
<li><p>commonMode := (‘triangular’,xm=14,r=0.25) (default)</p></li>
<li><p>commonThresholds := {‘ind’:(0,0), ‘pref’:(1,0)} (default)</p></li>
<li><p>missingDataProbability := 0.0 (default)</p></li>
<li><p>NA := &lt;Decimal&gt; (default = -999); missing data symbol.</p></li>
</ul>
</div></blockquote>
<p>When parameter <em>WithTypes</em> is set to <em>True</em>, the students are randomly allocated to one of the four categories: <em>weak</em> (1/6), <em>fair</em> (1/3), <em>good</em> (1/3), and <em>excellent</em> (1/3), in the bracketed proportions. In a default 0-20 grading range, the random range of a weak student is 0-10, of a fair student 4-16, of a good student 8-20, and of an excellent student 12-20. The random grading generator follows in this case a double triangular probablity law with <em>mode</em> (<em>xm</em>) equal to the middle of the random range and <em>median repartition</em> (<em>r</em> = 0.5) of probability each side of the mode.</p>
<div class="literal-block-wrapper docutils container" id="academicperformancetableau">
<div class="code-block-caption"><span class="caption-number">Listing 1.28 </span><span class="caption-text">Generating a random academic performance tableau</span><a class="headerlink" href="#academicperformancetableau" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">randomPerfTabs</span> <span class="kn">import</span> <span class="n">RandomAcademicPerformanceTableau</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">RandomAcademicPerformanceTableau</span><span class="p">(</span>
<span class="linenos"> 3</span><span class="gp">... </span>          <span class="n">numberOfStudents</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span>
<span class="linenos"> 4</span><span class="gp">... </span>          <span class="n">numberOfCourses</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">missingDataProbability</span><span class="o">=</span><span class="mf">0.03</span><span class="p">,</span>
<span class="linenos"> 5</span><span class="gp">... </span>          <span class="n">WithTypes</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="linenos"> 6</span>
<span class="linenos"> 7</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span>
<span class="linenos"> 8</span><span class="go"> *------- PerformanceTableau instance description ------*</span>
<span class="linenos"> 9</span><span class="go"> Instance class   : RandomAcademicPerformanceTableau</span>
<span class="linenos">10</span><span class="go"> Seed             : 100</span>
<span class="linenos">11</span><span class="go"> Instance name    : randstudPerf</span>
<span class="linenos">12</span><span class="go"> # Actions        : 11</span>
<span class="linenos">13</span><span class="go"> # Criteria       : 7</span>
<span class="linenos">14</span><span class="go"> Attributes       : [&#39;randomSeed&#39;, &#39;name&#39;, &#39;actions&#39;,</span>
<span class="linenos">15</span><span class="go">                     &#39;criteria&#39;, &#39;evaluation&#39;, &#39;weightPreorder&#39;]</span>
<span class="linenos">16</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">showPerformanceTableau</span><span class="p">()</span>
<span class="linenos">17</span><span class="go"> *----  performance tableau -----*</span>
<span class="linenos">18</span><span class="go">  Courses |   &#39;m1&#39;  &#39;m2&#39;  &#39;m3&#39;  &#39;m4&#39;  &#39;m5&#39;  &#39;m6&#39;  &#39;m7&#39;</span>
<span class="linenos">19</span><span class="go">    ECTS  |    2     1     3     4     1     1     5</span>
<span class="linenos">20</span><span class="go"> ---------|------------------------------------------</span>
<span class="linenos">21</span><span class="go">   &#39;s01f&#39; |    12    13    15    08    16    06    15</span>
<span class="linenos">22</span><span class="go">   &#39;s02g&#39; |    10    15    20    11    14    15    18</span>
<span class="linenos">23</span><span class="go">   &#39;s03g&#39; |    14    12    19    11    15    13    11</span>
<span class="linenos">24</span><span class="go">   &#39;s04f&#39; |    13    15    12    13    13    10    06</span>
<span class="linenos">25</span><span class="go">   &#39;s05e&#39; |    12    14    13    16    15    12    16</span>
<span class="linenos">26</span><span class="go">   &#39;s06g&#39; |    17    13    10    14    NA    15    13</span>
<span class="linenos">27</span><span class="go">   &#39;s07e&#39; |    12    12    12    18    NA    13    17</span>
<span class="linenos">28</span><span class="go">   &#39;s08f&#39; |    14    12    09    13    13    15    12</span>
<span class="linenos">29</span><span class="go">   &#39;s09g&#39; |    19    14    15    13    09    13    16</span>
<span class="linenos">30</span><span class="go">   &#39;s10g&#39; |    10    12    14    17    12    16    09</span>
<span class="linenos">31</span><span class="go">   &#39;s11w&#39; |    10    10    NA    10    10    NA    08</span>
<span class="linenos">32</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">weightPreorder</span>
<span class="linenos">33</span><span class="go"> [[&#39;m2&#39;, &#39;m5&#39;, &#39;m6&#39;], [&#39;m1&#39;], [&#39;m3&#39;], [&#39;m4&#39;], [&#39;m7&#39;]]</span>
</pre></div>
</div>
</div>
<p>The example tableau, generated for instance above with <em>missingDataProbability</em> = 0.03, <em>WithTypes</em> = True and <em>seed</em> = 100 (see <a class="reference internal" href="#academicperformancetableau"><span class="std std-numref">Listing 1.28</span></a> Lines 2-5), results in a set of two excellent (<em>s05</em>, <em>s07</em>), five good (<em>s02</em>, <em>s03</em>, <em>s06</em>, <em>s09</em>, <em>s10</em>), three fair (<em>s01</em>, <em>s04</em>, <em>s08</em>) and one weak (<em>s11</em>) student performances. Notice that six students get a grade below the course validating threshold 10 and we observe four missing grades (NA), two in course <em>m5</em> and one in course <em>m3</em> and course <em>m6</em> (see Lines 21-31).</p>
<p>We may show a statistical summary of the students’ grades obtained in the heighest weighted course, namely <em>m7</em>, followed by a performance heatmap browser view showing a global ranking of the students’ performances from best to weakest.</p>
<div class="literal-block-wrapper docutils container" id="academicstatistics">
<div class="code-block-caption"><span class="caption-number">Listing 1.29 </span><span class="caption-text">Student performance summary statistics per course</span><a class="headerlink" href="#academicstatistics" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">showCourseStatistics</span><span class="p">(</span><span class="s1">&#39;m7&#39;</span><span class="p">)</span>
<span class="linenos"> 2</span><span class="go"> *----- Summary performance statistics ------*</span>
<span class="linenos"> 3</span><span class="go">  Course name    : g7</span>
<span class="linenos"> 4</span><span class="go">  Course weight  : 5</span>
<span class="linenos"> 5</span><span class="go">  # Students     : 11</span>
<span class="linenos"> 6</span><span class="go">  grading scale  : 0.00 - 20.00</span>
<span class="linenos"> 7</span><span class="go">  # missing evaluations : 0</span>
<span class="linenos"> 8</span><span class="go">  mean evaluation       : 12.82</span>
<span class="linenos"> 9</span><span class="go">  standard deviation    : 3.79</span>
<span class="linenos">10</span><span class="go">  maximal evaluation    : 18.00</span>
<span class="linenos">11</span><span class="go">  quantile Q3 (x_75)    : 16.25</span>
<span class="linenos">12</span><span class="go">  median evaluation     : 14.00</span>
<span class="linenos">13</span><span class="go">  quantile Q1 (x_25)    : 10.50</span>
<span class="linenos">14</span><span class="go">  minimal evaluation    : 6.00</span>
<span class="linenos">15</span><span class="go">  mean absolute difference      : 4.30</span>
<span class="linenos">16</span><span class="go">  standard difference deviation : 5.35</span>
<span class="linenos">17</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">showHTMLPerformanceHeatmap</span><span class="p">(</span><span class="n">colorLevels</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
<span class="linenos">18</span><span class="gp">... </span>                 <span class="n">pageTitle</span><span class="o">=</span><span class="s1">&#39;Ranking the students&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<figure class="align-center" id="rankingstudents">
<a class="reference internal image-reference" href="_images/rankingStudents.png"><img alt="_images/rankingStudents.png" src="_images/rankingStudents.png" style="width: 400px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.22 </span><span class="caption-text">Ranking the students with a performance heatmap view</span><a class="headerlink" href="#rankingstudents" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>The ranking shown here in <a class="reference internal" href="#rankingstudents"><span class="std std-numref">Fig. 1.22</span></a> is produced with the default <a class="reference internal" href="#netflows-ranking-label"><span class="std std-ref">NetFlows ranking rule</span></a>. With a mean marginal correlation of +0.361 (see <a class="reference internal" href="#rankingquality"><span class="std std-numref">Listing 1.30</span></a> Lines 17-) associated with a low standard deviation (0.248), the result represents a rather <em>fair weighted consensus</em> made between the individual courses’ marginal rankings.</p>
<div class="literal-block-wrapper docutils container" id="rankingquality">
<div class="code-block-caption"><span class="caption-number">Listing 1.30 </span><span class="caption-text">Consensus quality of the students’s ranking</span><a class="headerlink" href="#rankingquality" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">outrankingDigraphs</span> <span class="kn">import</span> <span class="n">BipolarOutrankingDigraph</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">BipolarOutrankingDigraph</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">showRankingConsensusQuality</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">computeNetFlowsRanking</span><span class="p">())</span>
<span class="linenos"> 4</span><span class="go"> Consensus quality of ranking:</span>
<span class="linenos"> 5</span><span class="go">  [&#39;s07&#39;, &#39;s02&#39;, &#39;s09&#39;, &#39;s05&#39;, &#39;s06&#39;, &#39;s03&#39;, &#39;s10&#39;,</span>
<span class="linenos"> 6</span><span class="go">   &#39;s01&#39;, &#39;s08&#39;, &#39;s04&#39;, &#39;s11&#39;]</span>
<span class="linenos"> 7</span><span class="go"> criterion (weight): correlation</span>
<span class="linenos"> 8</span><span class="go"> -------------------------------</span>
<span class="linenos"> 9</span><span class="go">  m7 (0.294): +0.727</span>
<span class="linenos">10</span><span class="go">  m4 (0.235): +0.309</span>
<span class="linenos">11</span><span class="go">  m2 (0.059): +0.291</span>
<span class="linenos">12</span><span class="go">  m3 (0.176): +0.200</span>
<span class="linenos">13</span><span class="go">  m1 (0.118): +0.109</span>
<span class="linenos">14</span><span class="go">  m6 (0.059): +0.091</span>
<span class="linenos">15</span><span class="go">  m5 (0.059): +0.073</span>
<span class="linenos">16</span><span class="go"> Summary:</span>
<span class="linenos">17</span><span class="go">  Weighted mean marginal correlation (a): +0.361</span>
<span class="linenos">18</span><span class="go">  Standard deviation (b)                : +0.248</span>
<span class="linenos">19</span><span class="go">  Ranking fairness (a)-(b)              : +0.113</span>
</pre></div>
</div>
</div>
</section>
<section id="random-linearly-ranked-performance-tableaux">
<h4><a class="toc-backref" href="#id354" role="doc-backlink"><span class="section-number">1.3.3.6. </span>Random linearly ranked performance tableaux</a><a class="headerlink" href="#random-linearly-ranked-performance-tableaux" title="Link to this heading"></a></h4>
<p>Finally, we provide the <a class="reference internal" href="techDoc.html#randomPerfTabs.RandomRankPerformanceTableau" title="randomPerfTabs.RandomRankPerformanceTableau"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomRankPerformanceTableau</span></code></a> class for generating multiple criteria ranked performance tableaux, i.e. on each criterion, all decision action’s evaluations appear linearly ordered without ties.</p>
<p>This type of random performance tableau is matching the <a class="reference internal" href="techDoc.html#votingProfiles.RandomLinearVotingProfile" title="votingProfiles.RandomLinearVotingProfile"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomLinearVotingProfile</span></code></a> class provided by the <a class="reference internal" href="techDoc.html#module-votingProfiles" title="votingProfiles"><code class="xref py py-mod docutils literal notranslate"><span class="pre">votingProfiles</span></code></a> module.</p>
<dl>
<dt><em>Parameters</em>:</dt><dd><ul>
<li><p>number of actions,</p></li>
<li><p>number of performance criteria,</p></li>
<li><p>weightDistribution := ‘equisignificant’ | ‘random’ (default, see <a class="reference external" href="tutorial.html#the-randomperformancetableau-generator">above</a>,)</p></li>
<li><p>weightScale := (1, 1 | numberOfCriteria (default when random)).</p></li>
<li><p>integerWeights := Boolean (True = default)</p></li>
<li><p>commonThresholds (default) := {</p>
<blockquote>
<div><div class="line-block">
<div class="line">‘ind’:(0,0),</div>
<div class="line">‘pref’:(1,0),</div>
<div class="line">‘veto’:(numberOfActions,0)</div>
<div class="line">} (default)</div>
</div>
</div></blockquote>
</li>
</ul>
</dd>
</dl>
<p>Back to <a class="reference internal" href="#tutorial-label"><span class="std std-ref">Content Table</span></a></p>
<hr class="docutils" />
</section>
</section>
<section id="lineraly-ranking-with-multiple-incommensurable-criteria">
<span id="ranking-tutorial-label"></span><h3><a class="toc-backref" href="#id328" role="doc-backlink"><span class="section-number">1.3.4. </span>Lineraly ranking with multiple incommensurable criteria</a><a class="headerlink" href="#lineraly-ranking-with-multiple-incommensurable-criteria" title="Link to this heading"></a></h3>
<nav class="contents local" id="id58">
<ul class="simple">
<li><p><a class="reference internal" href="#the-ranking-problem" id="id355">The ranking problem</a></p></li>
<li><p><a class="reference internal" href="#the-copeland-ranking" id="id356">The <em>Copeland</em> ranking</a></p></li>
<li><p><a class="reference internal" href="#the-polarised-bachet-ranking" id="id357">The polarised <em>Bachet</em> ranking</a></p></li>
<li><p><a class="reference internal" href="#the-netflows-ranking" id="id358">The <em>NetFlows</em> ranking</a></p></li>
<li><p><a class="reference internal" href="#the-valued-bachet-ranking" id="id359">The valued <em>Bachet</em> ranking</a></p></li>
<li><p><a class="reference internal" href="#optimal-kemeny-rankings" id="id360">Optimal <em>Kemeny</em> rankings</a></p></li>
<li><p><a class="reference internal" href="#optimal-slater-rankings" id="id361">Optimal <em>Slater</em> rankings</a></p></li>
<li><p><a class="reference internal" href="#kohler-s-ranking-by-choosing-rule" id="id362"><em>Kohler</em>’s ranking-by-choosing rule</a></p></li>
<li><p><a class="reference internal" href="#tideman-s-ranked-pairs-rule" id="id363"><em>Tideman</em>’s ranked-pairs rule</a></p></li>
</ul>
</nav>
<section id="the-ranking-problem">
<h4><a class="toc-backref" href="#id355" role="doc-backlink"><span class="section-number">1.3.4.1. </span>The ranking problem</a><a class="headerlink" href="#the-ranking-problem" title="Link to this heading"></a></h4>
<p>We need to rank without ties a set <em>X</em> of items (usually decision alternatives) that are evaluated on multiple incommensurable performance criteria; yet, for which we may know their pairwise bipolar-valued <em>strict outranking</em> characteristics, i.e. <img class="math" src="_images/math/b3c692456cb86944b418cd612199cdd8e655968d.png" alt="r(x\, \succnsim \, y)"/> for all <em>x</em>, <em>y</em> in <em>X</em> (see <a class="reference internal" href="#codual-digraph-label"><span class="std std-ref">The strict outranking digraph</span></a> and <a class="reference internal" href="#bis-2013" id="id59"><span>[BIS-2013]</span></a>).</p>
<p>Let us consider a didactic outranking digraph <em>g</em> generated from a random <a class="reference internal" href="#cost-benefit-performance-tableau-label"><span class="std std-ref">Cost-Benefit performance tableau</span></a> concerning 9 decision alternatives evaluated on 13 performance criteria. We may compute the corresponding <em>strict outranking digraph</em> with a <a class="reference internal" href="#codual-transform-label"><span class="std std-ref">codual transform</span></a> as follows.</p>
<div class="literal-block-wrapper docutils container" id="strictoutranking">
<div class="code-block-caption"><span class="caption-number">Listing 1.31 </span><span class="caption-text">Random bipolar-valued strict outranking relation characteristics</span><a class="headerlink" href="#strictoutranking" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">outrankingDigraphs</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">RandomCBPerformanceTableau</span><span class="p">(</span><span class="n">numberOfActions</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span>
<span class="linenos"> 3</span><span class="gp">... </span>                      <span class="n">numberOfCriteria</span><span class="o">=</span><span class="mi">13</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">BipolarOutrankingDigraph</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="n">Normalized</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos"> 6</span><span class="gp">&gt;&gt;&gt; </span><span class="n">gcd</span> <span class="o">=</span> <span class="o">~</span><span class="p">(</span><span class="o">-</span><span class="n">g</span><span class="p">)</span> <span class="c1"># codual digraph</span>
<span class="linenos"> 7</span><span class="gp">&gt;&gt;&gt; </span><span class="n">gcd</span><span class="o">.</span><span class="n">showRelationTable</span><span class="p">(</span><span class="n">ReflexiveTerms</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="linenos"> 8</span><span class="go"> * ---- Relation Table -----</span>
<span class="linenos"> 9</span><span class="go"> r(&gt;) |  &#39;a1&#39;  &#39;a2&#39;  &#39;a3&#39;  &#39;a4&#39;  &#39;a5&#39;  &#39;a6&#39;  &#39;a7&#39;  &#39;a8&#39;  &#39;a9&#39;</span>
<span class="linenos">10</span><span class="go"> -----|------------------------------------------------------</span>
<span class="linenos">11</span><span class="go"> &#39;a1&#39; |    -   0.00 +0.10 -1.00 -0.13 -0.57 -0.23 +0.10 +0.00</span>
<span class="linenos">12</span><span class="go"> &#39;a2&#39; | -1.00   -    0.00 +0.00 -0.37 -0.42 -0.28 -0.32 -0.12</span>
<span class="linenos">13</span><span class="go"> &#39;a3&#39; | -0.10  0.00   -   -0.17 -0.35 -0.30 -0.17 -0.17 +0.00</span>
<span class="linenos">14</span><span class="go"> &#39;a4&#39; |  0.00  0.00 -0.42   -   -0.40 -0.20 -0.60 -0.27 -0.30</span>
<span class="linenos">15</span><span class="go"> &#39;a5&#39; | +0.13 +0.22 +0.10 +0.40   -   +0.03 +0.40 -0.03 -0.07</span>
<span class="linenos">16</span><span class="go"> &#39;a6&#39; | -0.07 -0.22 +0.20 +0.20 -0.37   -   +0.10 -0.03 -0.07</span>
<span class="linenos">17</span><span class="go"> &#39;a7&#39; | -0.20 +0.28 -0.03 -0.07 -0.40 -0.10   -   +0.27 +1.00</span>
<span class="linenos">18</span><span class="go"> &#39;a8&#39; | -0.10 -0.02 -0.23 -0.13 -0.37 +0.03 -0.27   -   +0.03</span>
<span class="linenos">19</span><span class="go"> &#39;a9&#39; |  0.00 +0.12 -1.00 -0.13 -0.03 -0.03 -1.00 -0.03   -</span>
</pre></div>
</div>
</div>
<p>Some ranking rules will work on the associated <strong>Condorcet Digraph</strong>, i.e. the corresponding <em>strict median cut</em> polarised digraph.</p>
<div class="literal-block-wrapper docutils container" id="polarisedastrictoutranking">
<div class="code-block-caption"><span class="caption-number">Listing 1.32 </span><span class="caption-text">Median cut polarised strict outranking relation characteristics</span><a class="headerlink" href="#polarisedastrictoutranking" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">ccd</span> <span class="o">=</span> <span class="n">PolarisedOutrankingDigraph</span><span class="p">(</span><span class="n">gcd</span><span class="p">,</span>
<span class="linenos"> 2</span><span class="gp">... </span>                 <span class="n">level</span><span class="o">=</span><span class="n">g</span><span class="o">.</span><span class="n">valuationdomain</span><span class="p">[</span><span class="s1">&#39;med&#39;</span><span class="p">],</span>
<span class="linenos"> 3</span><span class="gp">... </span>                 <span class="n">KeepValues</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">StrictCut</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos"> 4</span><span class="gp">&gt;&gt;&gt; </span><span class="n">ccd</span><span class="o">.</span><span class="n">recodeValuation</span><span class="p">(</span><span class="n">ndigits</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="linenos"> 5</span><span class="gp">&gt;&gt;&gt; </span><span class="n">ccd</span><span class="o">.</span><span class="n">showRelationTable</span><span class="p">(</span><span class="n">ReflexiveTerms</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="linenos"> 6</span><span class="go"> *---- Relation Table -----</span>
<span class="linenos"> 7</span><span class="go">  r(&gt;)_med | &#39;a1&#39; &#39;a2&#39; &#39;a3&#39; &#39;a4&#39; &#39;a5&#39; &#39;a6&#39; &#39;a7&#39; &#39;a8&#39; &#39;a9&#39;</span>
<span class="linenos"> 8</span><span class="go">  ---------|---------------------------------------------</span>
<span class="linenos"> 9</span><span class="go">     &#39;a1&#39;  |   -    0   +1   -1   -1   -1   -1   +1    0</span>
<span class="linenos">10</span><span class="go">     &#39;a2&#39;  |  -1    -   +0    0   -1   -1   -1   -1   -1</span>
<span class="linenos">11</span><span class="go">     &#39;a3&#39;  |  -1    0    -   -1   -1   -1   -1   -1    0</span>
<span class="linenos">12</span><span class="go">     &#39;a4&#39;  |   0    0   -1    -   -1   -1   -1   -1   -1</span>
<span class="linenos">13</span><span class="go">     &#39;a5&#39;  |  +1   +1   +1   +1    -   +1   +1   -1   -1</span>
<span class="linenos">14</span><span class="go">     &#39;a6&#39;  |  -1   -1   +1   +1   -1    -   +1   -1   -1</span>
<span class="linenos">15</span><span class="go">     &#39;a7&#39;  |  -1   +1   -1   -1   -1   -1    -   +1   +1</span>
<span class="linenos">16</span><span class="go">     &#39;a8&#39;  |  -1   -1   -1   -1   -1   +1   -1    -   +1</span>
<span class="linenos">17</span><span class="go">     &#39;a9&#39;  |   0   +1   -1   -1   -1   -1   -1   -1    -</span>
</pre></div>
</div>
</div>
<p>Unfortunately, such crisp median-cut <em>Condorcet</em> digraphs, associated with a given strict outranking digraph, present only exceptionally a linear ordering. Usually, pairwise majority comparisons do not even render a <em>complete</em> or, at least, a <em>transitive</em> partial order. There may even frequently appear <em>cyclic</em> outranking situations (see the tutorial on <a class="reference internal" href="#linearvoting-tutorial-label"><span class="std std-ref">linear voting profiles</span></a>).</p>
<p>To estimate how <em>difficult</em> this ranking problem here may be, we may have a look at the corresponding strict outranking digraph <em>graphviz</em> drawing (<a class="footnote-reference brackets" href="#id208" id="id60" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">gcd</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">(</span><span class="s1">&#39;rankingTutorial&#39;</span><span class="p">)</span>
<span class="linenos">2</span><span class="go"> *---- exporting a dot file for GraphViz tools ---------*</span>
<span class="linenos">3</span><span class="go"> Exporting to rankingTutorial.dot</span>
<span class="linenos">4</span><span class="go"> dot -Grankdir=BT -Tpng rankingTutorial.dot -o rankingTutorial.png</span>
</pre></div>
</div>
<figure class="align-center" id="rankingtutorial">
<a class="reference internal image-reference" href="_images/rankingTutorial.png"><img alt="_images/rankingTutorial.png" src="_images/rankingTutorial.png" style="width: 300px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.23 </span><span class="caption-text">The <em>strict outranking</em> digraph</span><a class="headerlink" href="#rankingtutorial" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>The strict outranking relation  <img class="math" src="_images/math/29f438ab7c1eebb4c06eeef486c6f1f1bb61e2a8.png" alt="\succnsim"/> shown here is apparently <em>not transitive</em>: for instance, alternative <em>a8</em> outranks alternative <em>a6</em> and alternative <em>a6</em> outranks <em>a4</em>, however <em>a8</em> does not outrank <em>a4</em> (see <a class="reference internal" href="#rankingtutorial"><span class="std std-numref">Fig. 1.23</span></a>). We may compute the transitivity degree of the outranking digraph, i.e. the ratio of the difference between the number of outranking arcs and the number of transitive arcs over the difference of the number of arcs of the transitive closure minus the transitive arcs of the digraph <em>gcd</em>.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">gcd</span><span class="o">.</span><span class="n">computeTransitivityDegree</span><span class="p">(</span><span class="n">Comments</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go"> Transitivity degree of graph &lt;codual_rel_randomCBperftab&gt;</span>
<span class="go">  #triples x&gt;y&gt;z: 78, #closed: 38, #open: 40</span>
<span class="go">  #closed/#triples =  0.487</span>
</pre></div>
</div>
<p>With only 49% of the required transitive triples, the strict outranking relation here is hence very far from being transitive; a serious problem when a linear ordering of the decision alternatives is looked for. Let us furthermore see if there are any cyclic outrankings.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">gcd</span><span class="o">.</span><span class="n">computeChordlessCircuits</span><span class="p">()</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">gcd</span><span class="o">.</span><span class="n">showChordlessCircuits</span><span class="p">()</span>
<span class="linenos">3</span><span class="go"> 1 circuit(s).</span>
<span class="linenos">4</span><span class="go"> *---- Chordless circuits ----*</span>
<span class="linenos">5</span><span class="go"> 1: [&#39;a6&#39;, &#39;a7&#39;, &#39;a8&#39;] , credibility : 0.033</span>
</pre></div>
</div>
<p>There is one chordless circuit detected in the given strict outranking digraph <em>gcd</em>, namely <em>a6</em> outranks <em>a7</em>, the latter outranks <em>a8</em>, and <em>a8</em> outranks again <em>a6</em> (see <a class="reference internal" href="#rankingtutorial"><span class="std std-numref">Fig. 1.23</span></a>). Any potential linear ordering of these three alternatives will, in fact, always contradict somehow the given outranking relation.</p>
<p>Now, several heuristic ranking rules have been proposed for constructing a linear ordering which is closest in some specific sense to a given outranking relation. The Digraph3 resources provide some of the most common of these ranking rules, like <em>Copeland</em>’s, <em>Kemeny</em>’s, <em>Slater</em>’s, <em>Kohler</em>’s, <em>Arrow-Raynaud</em>’s or <em>Tideman</em>’s ranking rule. Recently, new <em>Bachet</em> ranking rules have been added.</p>
</section>
<section id="the-copeland-ranking">
<span id="copeland-ranking-label"></span><h4><a class="toc-backref" href="#id356" role="doc-backlink"><span class="section-number">1.3.4.2. </span>The <em>Copeland</em> ranking</a><a class="headerlink" href="#the-copeland-ranking" title="Link to this heading"></a></h4>
<p><em>Copeland</em>’s rule, the most intuitive one as it balances the outdegrees –the number of <em>outranking</em> situations– against the indegrees –the number of <em>outranked</em> situations, of the <em>median cut</em> polarised strict outranking digraph <em>ccd</em>. The rule computes for each alternative <em>x</em> a score resulting from the sum of the differences between the polarised <strong>strict outranking</strong> characteristics <img class="math" src="_images/math/0e350bdab12f7299ca1ed4f50545e0c3a933cc3a.png" alt="r(x\, \succnsim \,y)_{&gt;0}"/> and the polarised <strong>strict outranked</strong> characteristics <img class="math" src="_images/math/daf892b0ed0fbe3d636d7b1ba78e8e5432543fcc.png" alt="r(y\, \succnsim \, x)_{&gt;0}"/>  for all alternatives <em>y</em> different from <em>x</em>. The set of alternatives is eventually ranked in decreasing order of these <em>Copeland</em> scores; ties, the case given, being resolved by a lexicographical rule.</p>
<div class="literal-block-wrapper docutils container" id="copelandranking">
<div class="code-block-caption"><span class="caption-number">Listing 1.33 </span><span class="caption-text">Computing a <em>Copeland</em> Ranking</span><a class="headerlink" href="#copelandranking" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">linearOrders</span> <span class="kn">import</span> <span class="n">CopelandRanking</span>
<span class="hll"><span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">cop</span> <span class="o">=</span> <span class="n">CopelandRanking</span><span class="p">(</span><span class="n">gcd</span><span class="p">,</span><span class="n">Comments</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span class="linenos"> 3</span><span class="go"> Copeland decreasing scores</span>
<span class="hll"><span class="linenos"> 4</span><span class="go">  a5 : 12</span>
</span><span class="hll"><span class="linenos"> 5</span><span class="go">  a1 : 2</span>
</span><span class="hll"><span class="linenos"> 6</span><span class="go">  a6 : 2</span>
</span><span class="hll"><span class="linenos"> 7</span><span class="go">  a7 : 2</span>
</span><span class="hll"><span class="linenos"> 8</span><span class="go">  a8 : 0</span>
</span><span class="hll"><span class="linenos"> 9</span><span class="go">  a4 : -3</span>
</span><span class="hll"><span class="linenos">10</span><span class="go">  a9 : -3</span>
</span><span class="hll"><span class="linenos">11</span><span class="go">  a3 : -5</span>
</span><span class="hll"><span class="linenos">12</span><span class="go">  a2 : -7</span>
</span><span class="linenos">13</span><span class="go"> Copeland Ranking:</span>
<span class="hll"><span class="linenos">14</span><span class="go"> [&#39;a5&#39;, &#39;a1&#39;, &#39;a6&#39;, &#39;a7&#39;, &#39;a8&#39;, &#39;a4&#39;, &#39;a9&#39;, &#39;a3&#39;, &#39;a2&#39;]</span>
</span></pre></div>
</div>
</div>
<p>Alternative <em>a5</em> obtains here the best <em>Copeland</em> score (+12), followed by alternatives <em>a1</em>, <em>a6</em> and <em>a7</em> with same score (+2); following the lexicographic rule, <em>a1</em> is hence ranked before <em>a6</em> and <em>a6</em> before <em>a7</em>. Same situation is observed for <em>a4</em> and <em>a9</em> with a score of -3 (see <a class="reference internal" href="#copelandranking"><span class="std std-numref">Listing 1.33</span></a> Lines 4-12 and 14).</p>
<p><em>Copeland</em>’s ranking rule appears in fact <strong>invariant</strong> under the <a class="reference internal" href="#codual-transform-label"><span class="std std-ref">codual transform</span></a> and renders a same linear order indifferently from digraphs <em>g</em> or <em>gcd</em> . The <em>Copeland</em> rule is furthermore <strong>Condorcet consistent</strong>, i.e. when the strict outranking relation models a <em>transitive</em> relation, this relation is preserved in the <em>Copeland</em> ranking result.</p>
<p>The <em>Copeland</em> ranking result (see <a class="reference internal" href="#copelandranking"><span class="std std-numref">Listing 1.33</span></a> Line 14) is rather correlated (+0.463) with the given pairwise outranking relation in the ordinal <em>Kendall</em> sense (see <a class="reference internal" href="#copelandcorrelationindexes"><span class="std std-numref">Listing 1.34</span></a>).</p>
<div class="literal-block-wrapper docutils container" id="copelandcorrelationindexes">
<div class="code-block-caption"><span class="caption-number">Listing 1.34 </span><span class="caption-text">Checking the quality of the <em>Copeland</em> Ranking</span><a class="headerlink" href="#copelandcorrelationindexes" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">corr</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">computeRankingCorrelation</span><span class="p">(</span><span class="n">cop</span><span class="o">.</span><span class="n">copelandRanking</span><span class="p">)</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">showCorrelation</span><span class="p">(</span><span class="n">corr</span><span class="p">)</span>
<span class="linenos">3</span><span class="go"> Correlation indexes:</span>
<span class="hll"><span class="linenos">4</span><span class="go">  Crisp ordinal correlation : +0.463</span>
</span><span class="hll"><span class="linenos">5</span><span class="go">  Valued equivalalence      : +0.107</span>
</span><span class="hll"><span class="linenos">6</span><span class="go">  Epistemic determination   :  0.230</span>
</span></pre></div>
</div>
</div>
<p>With an epistemic determination level of 0.230, the <em>extended Kendall tau</em> index (see <a class="reference internal" href="#bis-2012" id="id61"><span>[BIS-2012]</span></a>) is in fact computed on 61.5% (100.0 x (1.0 + 0.23)/2) of the pairwise strict outranking comparisons. Furthermore, the bipolar-valued <em>relational equivalence</em> characteristics between the strict outranking relation and the <em>Copeland</em> ranking equals +0.107, i.e. a <em>majority</em> of 55.35% of the criteria significance supports the relational equivalence between the given strict outranking relation and the corresponding <em>Copeland</em> ranking <a class="footnote-reference brackets" href="#id263" id="id62" role="doc-noteref"><span class="fn-bracket">[</span>59<span class="fn-bracket">]</span></a>.</p>
<p>The <em>Copeland</em> scores deliver actually only a unique <em>weak ranking</em>, i.e. a ranking with potential ties. This weak ranking may be constructed with the <a class="reference internal" href="techDoc.html#transitiveDigraphs.WeakCopelandOrder" title="transitiveDigraphs.WeakCopelandOrder"><code class="xref py py-class docutils literal notranslate"><span class="pre">transitiveDigraphs.WeakCopelandOrder</span></code></a> class.</p>
<div class="literal-block-wrapper docutils container" id="weakcopelandranking">
<div class="code-block-caption"><span class="caption-number">Listing 1.35 </span><span class="caption-text">Computing a weak <em>Copeland</em> ranking</span><a class="headerlink" href="#weakcopelandranking" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">transitiveDigraphs</span> <span class="kn">import</span> <span class="n">WeakCopelandOrder</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">wcop</span> <span class="o">=</span> <span class="n">WeakCopelandOrder</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">wcop</span><span class="o">.</span><span class="n">showRankingByChoosing</span><span class="p">()</span>
<span class="linenos"> 4</span><span class="go"> Ranking by Choosing and Rejecting</span>
<span class="linenos"> 5</span><span class="go">  1st ranked [&#39;a5&#39;]</span>
<span class="hll"><span class="linenos"> 6</span><span class="go">    2nd ranked [&#39;a1&#39;, &#39;a6&#39;, &#39;a7&#39;]</span>
</span><span class="linenos"> 7</span><span class="go">      3rd ranked [&#39;a8&#39;]</span>
<span class="hll"><span class="linenos"> 8</span><span class="go">      3rd last ranked [&#39;a4&#39;, &#39;a9&#39;]</span>
</span><span class="linenos"> 9</span><span class="go">    2nd last ranked [&#39;a3&#39;]</span>
<span class="linenos">10</span><span class="go">  1st last ranked [&#39;a2&#39;]</span>
</pre></div>
</div>
</div>
<p>We recover in <a class="reference internal" href="#weakcopelandranking"><span class="std std-numref">Listing 1.35</span></a> Lines 6 and 8 above, the ranking with ties delivered by the <em>Copeland</em> scores (see <a class="reference internal" href="#copelandranking"><span class="std std-numref">Listing 1.33</span></a>). We may draw its corresponding <em>Hasse</em> diagram (see <a class="reference internal" href="#weakcopelandrankingdrawing"><span class="std std-numref">Listing 1.36</span></a>).</p>
<div class="literal-block-wrapper docutils container" id="weakcopelandrankingdrawing">
<div class="code-block-caption"><span class="caption-number">Listing 1.36 </span><span class="caption-text">Drawing a weak <em>Copeland</em> ranking</span><a class="headerlink" href="#weakcopelandrankingdrawing" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">wcop</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">(</span><span class="n">fileName</span><span class="o">=</span><span class="s1">&#39;weakCopelandRanking&#39;</span><span class="p">)</span>
<span class="linenos"> 2</span><span class="go"> *---- exporting a dot file for GraphViz tools ---------*</span>
<span class="linenos"> 3</span><span class="go"> Exporting to weakCopelandRanking.dot</span>
<span class="linenos"> 4</span><span class="go"> 0 subgraph { rank = same; a5; }</span>
<span class="linenos"> 5</span><span class="go"> 1 subgraph { rank = same; a1; a7; a6; }</span>
<span class="linenos"> 6</span><span class="go"> 2 subgraph { rank = same; a8; }</span>
<span class="linenos"> 7</span><span class="go"> 3 subgraph { rank = same; a4; a9}</span>
<span class="linenos"> 8</span><span class="go"> 4 subgraph { rank = same; a3; }</span>
<span class="linenos"> 9</span><span class="go"> 5 subgraph { rank = same; a2; }</span>
<span class="linenos">10</span><span class="go"> dot -Grankdir=TB -Tpng weakCopelandRanking.dot\</span>
<span class="linenos">11</span><span class="go">     -o weakCopelandRanking.png</span>
</pre></div>
</div>
</div>
<figure class="align-center" id="weakrankingdrawing">
<a class="reference internal image-reference" href="_images/weakCopelandRanking.png"><img alt="_images/weakCopelandRanking.png" src="_images/weakCopelandRanking.png" style="width: 200px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.24 </span><span class="caption-text">A weak Copeland ranking</span><a class="headerlink" href="#weakrankingdrawing" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>A similar ranking-by-scoring rule is provided by the <a class="reference internal" href="techDoc.html#linearOrders.BachetRanking" title="linearOrders.BachetRanking"><code class="xref py py-class docutils literal notranslate"><span class="pre">BachetRanking</span></code></a> class.</p>
</section>
<section id="the-polarised-bachet-ranking">
<h4><a class="toc-backref" href="#id357" role="doc-backlink"><span class="section-number">1.3.4.3. </span>The polarised <em>Bachet</em> ranking</a><a class="headerlink" href="#the-polarised-bachet-ranking" title="Link to this heading"></a></h4>
<p><em>Bachet</em> numbers –bipolar-valued {-1,0,+1} base 3 encoded integers, provided by the <a class="reference internal" href="techDoc.html#bachetNumbers.BachetInteger" title="bachetNumbers.BachetInteger"><code class="xref py py-class docutils literal notranslate"><span class="pre">BachetInteger</span></code></a> class and instantiated by the row vectors and the column vectors –both without reflexive terms– of the strict outranking digraph’s polarised relation table, model in fact per decision action respectively an <strong>outrankingness</strong> and a <strong>negated outrankedness</strong> ranking fitness score similar to the previous <em>Copeland</em> ranking scores (see the advanced topic on <a class="reference internal" href="pearls.html#bachet-tutorial-label"><span class="std std-ref">a new ranking rule based on bipolar-valued base 3 Bachet numbers</span></a> ).</p>
<p>Now, <em>Bachet</em> numbers are formulated in a positional numbering system and the integer values of the <em>Bachet</em> ranking scores therefore depend on the actual ordering of the outranking digraph’s <em>actions</em> dictionary. The polarised <a class="reference internal" href="techDoc.html#linearOrders.BachetRanking" title="linearOrders.BachetRanking"><code class="xref py py-class docutils literal notranslate"><span class="pre">BachetRanking</span></code></a> rule is nevertheless <strong>Condorcet consistent</strong>, ie. when the outranking digraph models a transitive relation, this relation will be preserved by the polarised <em>BachetRanking</em> ranking scores. However, unlike the <em>Copeland</em> rule, the rule is <strong>not invariant</strong> under the <strong>codual</strong> transform <a class="footnote-reference brackets" href="#id267" id="id63" role="doc-noteref"><span class="fn-bracket">[</span>62<span class="fn-bracket">]</span></a>.</p>
<p>Here, as we have seen above, the given digraph’s transitivity degree is only 0.487. To reduce the dependency on the given initial ordering of the <em>actions</em> dictionary, we compute below <em>Bachet</em> ranking results for the permutation and their reversed ordering of its 40 intransitive triples (see <a class="reference internal" href="#bachetranking"><span class="std std-numref">Listing 1.37</span></a> Line 2) and keep the one ranking that is best correlated with the given outranking digraph (see <a class="reference internal" href="pearls.html#bachetranking-rule-label"><span class="std std-ref">Smart sampling of the permutations of the actions list</span></a>).</p>
<div class="literal-block-wrapper docutils container" id="bachetranking">
<div class="code-block-caption"><span class="caption-number">Listing 1.37 </span><span class="caption-text">Computing a <em>Bachet</em> ranking</span><a class="headerlink" href="#bachetranking" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">linearOrders</span> <span class="kn">import</span> <span class="n">BachetRanking</span>
<span class="hll"><span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">ba</span> <span class="o">=</span> <span class="n">BachetRanking</span><span class="p">(</span><span class="n">g</span><span class="p">,</span><span class="n">Polarised</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">sampleSize</span><span class="o">=</span><span class="mi">40</span><span class="p">)</span>
</span><span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">ba</span><span class="o">.</span><span class="n">showScores</span><span class="p">()</span>
<span class="linenos"> 4</span><span class="go"> Bachet scores in descending order</span>
<span class="linenos"> 5</span><span class="go">  action      score</span>
<span class="linenos"> 6</span><span class="go">   a5         +5084</span>
<span class="linenos"> 7</span><span class="go">   a6         +4478</span>
<span class="linenos"> 8</span><span class="go">   a7         +3954</span>
<span class="linenos"> 9</span><span class="go">   a3           +79</span>
<span class="linenos">10</span><span class="go">   a4           +75</span>
<span class="linenos">11</span><span class="go">   a1           -22</span>
<span class="linenos">12</span><span class="go">   a8         -3240</span>
<span class="linenos">13</span><span class="go">   a9         -4411</span>
<span class="linenos">14</span><span class="go">   a2         -6081</span>
<span class="linenos">15</span><span class="gp">&gt;&gt;&gt; </span><span class="n">ba</span><span class="o">.</span><span class="n">bachetRanking</span>
<span class="hll"><span class="linenos">16</span><span class="go"> [&#39;a5&#39;, &#39;a6&#39;, &#39;a7&#39;, &#39;a3&#39;, &#39;a4&#39;, &#39;a1&#39;, &#39;a8&#39;, &#39;a9&#39;, &#39;a2&#39;]</span>
</span><span class="linenos">17</span><span class="gp">&gt;&gt;&gt; </span><span class="n">corr</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">computeRankingCorrelation</span><span class="p">(</span><span class="n">ba</span><span class="o">.</span><span class="n">bachetRanking</span><span class="p">)</span>
<span class="linenos">18</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">showCorrelation</span><span class="p">(</span><span class="n">corr</span><span class="p">)</span>
<span class="linenos">19</span><span class="go"> Correlation indexes:</span>
<span class="hll"><span class="linenos">20</span><span class="go">  Crisp ordinal correlation  : +0.767</span>
</span><span class="linenos">21</span><span class="go">  Epistemic determination    :  0.230</span>
<span class="linenos">22</span><span class="go">  Bipolar-valued equivalence : +0.177</span>
</pre></div>
</div>
</div>
<p>In <a class="reference internal" href="#bachetranking"><span class="std std-numref">Listing 1.37</span></a> Line 20 above, we may observe that the <em>Bachet</em> scores lead eventually to a ranking result that is much better correlated  with the given outranking relation than the previous <em>Copeland</em> ranking (+0.767 versus +0.463).</p>
<p>A heatmap view on the performance tableau illustrates the actual quality of this <em>Bachet</em> ranking result.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">showHTMLPerformanceHeatmap</span><span class="p">(</span><span class="n">Correlations</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="linenos">2</span><span class="gp">... </span>                             <span class="n">colorLevels</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span>
<span class="linenos">3</span><span class="gp">... </span>                             <span class="n">actionsList</span><span class="o">=</span><span class="n">ba</span><span class="o">.</span><span class="n">bachetRanking</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="bachetheatmapt">
<a class="reference internal image-reference" href="_images/bachetHeatmapT.png"><img alt="_images/bachetHeatmapT.png" src="_images/bachetHeatmapT.png" style="width: 500px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.25 </span><span class="caption-text"><em>Bachet</em> rule ranked heatmap view on the performance records</span><a class="headerlink" href="#bachetheatmapt" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>In <a class="reference internal" href="#bachetheatmapt"><span class="std std-numref">Fig. 1.25</span></a> we may notice that action <em>a5</em>, with all grades above the third 7-tile (&gt; 42.86%), appears convincingly first-ranked. Similarly, with six grades in the two lowest 7-tiled classes (&lt; 28.57%), action <em>a2</em> appears last-ranked. Most significant in this ranking appear to be the <em>Benefit</em> criteria <em>b09</em>, <em>b04</em> , <em>b01</em>, <em>c01</em> and <em>b08</em> with a correlation &gt; +0.20, whereas <em>Costs</em> criteria <em>c03</em> and <em>b05</em> appear somehow in contradiction (&lt; -0.20 ) with the proposed <em>Bachet</em> ranking. Action <em>a7</em>, with only three weak grades, is not first-ranked because of the fact that on all three <em>Costs</em> criteria and on the <em>Benefit</em> criterion <em>b08</em>, i.e on a majority (33/60) of criteria significance, action <em>a7</em> is positively outranked by actions <em>a6</em> and <em>a5</em>. Notice also the highly contrasted performance record of action <em>a1</em> with three grades in the highest 7-tile (&gt; 85.71%) and four grades in the lowest 7-tile (&lt;14.29%). A similar contrasted situation is given for action <em>a3</em> with 7 grades in the two top 7-tiles (&gt;71.43%) and four grades in the two lowest 7-tiles (&lt;28.57%). The mean marginal correlation over all 13 criteria is slightly positive (+0.10). The standard deviation of the marginal correlations is a bit high (+0.198) so that the ranking may lack a bit of fairness (-0.096).</p>
<p>Let us now consider a similar ranking rule, but working directly on the <em>bipolar-valued</em> outranking digraph.</p>
</section>
<section id="the-netflows-ranking">
<span id="netflows-ranking-label"></span><h4><a class="toc-backref" href="#id358" role="doc-backlink"><span class="section-number">1.3.4.4. </span>The <em>NetFlows</em> ranking</a><a class="headerlink" href="#the-netflows-ranking" title="Link to this heading"></a></h4>
<p>A further valued version of the <em>Copeland</em> rule, called <strong>NetFlows</strong> rule, computes for each alternative <em>x</em> a <em>net flow</em> score,  i.e. the sum of the differences between the <strong>strict outranking</strong> characteristics <img class="math" src="_images/math/1c819cb7cdff121f57fb47d8af3b1206a898f5be.png" alt="r(x\, \succnsim \,y)"/> and the <strong>strict outranked</strong> characteristics <img class="math" src="_images/math/38907f1805d67760576ad71199bcd8226aa60df4.png" alt="r(y\, \succnsim \,x)"/> for all pairs of alternatives where <em>y</em> is different from <em>x</em>.</p>
<div class="literal-block-wrapper docutils container" id="netflowsranking">
<div class="code-block-caption"><span class="caption-number">Listing 1.38 </span><span class="caption-text">Computing a <em>NetFlows</em> ranking</span><a class="headerlink" href="#netflowsranking" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">linearOrders</span> <span class="kn">import</span> <span class="n">NetFlowsRanking</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">nf</span> <span class="o">=</span> <span class="n">NetFlowsRanking</span><span class="p">(</span><span class="n">gcd</span><span class="p">,</span><span class="n">Comments</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="go"> Net Flows :</span>
<span class="linenos"> 4</span><span class="go"> a5 : 3.600</span>
<span class="linenos"> 5</span><span class="go"> a7 : 2.800</span>
<span class="linenos"> 6</span><span class="go"> a6 : 1.300</span>
<span class="linenos"> 7</span><span class="go"> a3 : 0.033</span>
<span class="linenos"> 8</span><span class="go"> a1 : -0.400</span>
<span class="linenos"> 9</span><span class="go"> a8 : -0.567</span>
<span class="linenos">10</span><span class="go"> a4 : -1.283</span>
<span class="linenos">11</span><span class="go"> a9 : -2.600</span>
<span class="linenos">12</span><span class="go"> a2 : -2.883</span>
<span class="linenos">13</span><span class="go"> NetFlows Ranking:</span>
<span class="hll"><span class="linenos">14</span><span class="go"> [&#39;a5&#39;, &#39;a7&#39;, &#39;a6&#39;, &#39;a3&#39;, &#39;a1&#39;, &#39;a8&#39;, &#39;a4&#39;, &#39;a9&#39;, &#39;a2&#39;]</span>
</span><span class="linenos">15</span><span class="gp">&gt;&gt;&gt; </span><span class="n">cop</span><span class="o">.</span><span class="n">copelandRanking</span>
<span class="hll"><span class="linenos">16</span><span class="go"> [&#39;a5&#39;, &#39;a1&#39;, &#39;a6&#39;, &#39;a7&#39;, &#39;a8&#39;, &#39;a4&#39;, &#39;a9&#39;, &#39;a3&#39;, &#39;a2&#39;]</span>
</span></pre></div>
</div>
</div>
<p>It is worthwhile noticing again that, similar to the <em>Copeland</em> ranking rule seen before, the <em>NetFlows</em> ranking rule is also <strong>invariant</strong> under the <a class="reference internal" href="#codual-transform-label"><span class="std std-ref">codual transform</span></a> and delivers again the same ranking result indifferently from digraphs <em>g</em> or <em>gcd</em> (see <a class="reference internal" href="#netflowsranking"><span class="std std-numref">Listing 1.38</span></a> Line 14). Yet, the <em>NetFlows</em> ranking rule, working directly with the bipolar characteristic values of the outranking relation is <strong>not</strong> necessarily <strong>Condorcet consistent</strong>.</p>
<p>In our example here, the <em>NetFlows</em> scores deliver  a ranking <em>without ties</em> which is rather different from the one delivered by <em>Copeland</em>’s rule (see <a class="reference internal" href="#netflowsranking"><span class="std std-numref">Listing 1.38</span></a> Line 16). It may happen, however, that we obtain, as with the <em>Copeland</em> scores above, only a ranking result with ties, which may then be resolved again by following a lexicographic rule. In such cases, it is possible to construct again a <em>weak ranking</em> with the corresponding <a class="reference internal" href="techDoc.html#transitiveDigraphs.WeakNetFlowsOrder" title="transitiveDigraphs.WeakNetFlowsOrder"><code class="xref py py-class docutils literal notranslate"><span class="pre">WeakNetFlowsOrder</span></code></a> class.</p>
<p>The <strong>NetFlows</strong> ranking result appears to be better correlated (+0.638) with the given outranking relation than its crisp cousin, the <em>Copeland</em> ranking (see <a class="reference internal" href="#copelandcorrelationindexes"><span class="std std-numref">Listing 1.34</span></a> Lines 4-6).</p>
<div class="literal-block-wrapper docutils container" id="netflowscorrelationindexes">
<div class="code-block-caption"><span class="caption-number">Listing 1.39 </span><span class="caption-text">Checking the quality of the <em>NetFlows</em> Ranking</span><a class="headerlink" href="#netflowscorrelationindexes" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">corr</span> <span class="o">=</span> <span class="n">gcd</span><span class="o">.</span><span class="n">computeOrdinalCorrelation</span><span class="p">(</span><span class="n">nf</span><span class="p">)</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">gcd</span><span class="o">.</span><span class="n">showCorrelation</span><span class="p">(</span><span class="n">corr</span><span class="p">)</span>
<span class="linenos">3</span><span class="go"> Correlation indexes:</span>
<span class="hll"><span class="linenos">4</span><span class="go">  Extended Kendall tau       : +0.638</span>
</span><span class="linenos">5</span><span class="go">  Epistemic determination    :  0.230</span>
<span class="hll"><span class="linenos">6</span><span class="go">  Bipolar-valued equivalence : +0.147</span>
</span></pre></div>
</div>
</div>
<p>Indeed, the extended <em>Kendall</em> tau index of +0.638 leads to a bipolar-valued <em>relational equivalence</em> characteristics of +0.147, i.e. a <em>majority</em> of 57.35% of the criteria significance supports the relational equivalence between the given outranking digraphs <em>g</em> or <em>gcd</em>  and the corresponding <em>NetFlows</em> ranking. The lesser ranking performance of the previous <em>Copeland</em> rule stems in this example here essentially from the <em>weakness</em> of the actual <em>Copeland</em> ranking result and our subsequent <em>arbitrary</em> lexicographic resolution of the many ties given by the <em>Copeland</em> scores (see <a class="reference internal" href="#weakrankingdrawing"><span class="std std-numref">Fig. 1.24</span></a>).</p>
</section>
<section id="the-valued-bachet-ranking">
<span id="valued-bachet-ranking-label"></span><h4><a class="toc-backref" href="#id359" role="doc-backlink"><span class="section-number">1.3.4.5. </span>The valued <em>Bachet</em> ranking</a><a class="headerlink" href="#the-valued-bachet-ranking" title="Link to this heading"></a></h4>
<p>The polarised <em>Bachet</em> ranking rule only considers the crisp relational structure of the outranking digraph, ignoring the actual credibility of the individual outranking situations. The <a class="reference internal" href="techDoc.html#linearOrders.BachetRanking" title="linearOrders.BachetRanking"><code class="xref py py-class docutils literal notranslate"><span class="pre">BachetRanking</span></code></a> rule now provides the <em>Polarised=False</em> parameter for taking into account, like the <em>NetFlows</em> rule, the actual bipolar-valued characteristic determination of the outranking situations. The <em>Bachet</em> numbers making up the ranking scores are therefore instantiated from the rows and columns of the normalized relation instead of the polarised relation of the outranking digraph.</p>
<div class="literal-block-wrapper docutils container" id="valuedbachetranking">
<div class="code-block-caption"><span class="caption-number">Listing 1.40 </span><span class="caption-text">Computing a valued <em>Bachet</em> ranking</span><a class="headerlink" href="#valuedbachetranking" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">linearOrders</span> <span class="kn">import</span> <span class="n">BachetRanking</span>
<span class="hll"><span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">bav</span> <span class="o">=</span> <span class="n">BachetRanking</span><span class="p">(</span><span class="n">g</span><span class="p">,</span><span class="n">Polarised</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">sampleSize</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span>
</span><span class="hll"><span class="linenos"> 3</span><span class="gp">... </span>                    <span class="n">Randomized</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="mi">11</span><span class="p">)</span>
</span><span class="linenos"> 4</span><span class="gp">&gt;&gt;&gt; </span><span class="n">bav</span><span class="o">.</span><span class="n">showScores</span><span class="p">()</span>
<span class="linenos"> 5</span><span class="go"> Bachet scores in descending order</span>
<span class="linenos"> 6</span><span class="go">  action      score</span>
<span class="linenos"> 7</span><span class="go">   a5         +1676</span>
<span class="linenos"> 8</span><span class="go">   a6         +1492</span>
<span class="linenos"> 9</span><span class="go">   a7          +712</span>
<span class="linenos">10</span><span class="go">   a3          +370</span>
<span class="linenos">11</span><span class="go">   a4           +74</span>
<span class="linenos">12</span><span class="go">   a8          -120</span>
<span class="linenos">13</span><span class="go">   a1          -269</span>
<span class="linenos">14</span><span class="go">   a2          -286</span>
<span class="linenos">15</span><span class="go">   a9         -2071</span>
<span class="linenos">16</span><span class="gp">&gt;&gt;&gt; </span><span class="n">bav</span><span class="o">.</span><span class="n">bachetRanking</span>
<span class="hll"><span class="linenos">17</span><span class="go"> [&#39;a5&#39;, &#39;a6&#39;, &#39;a7&#39;, &#39;a3&#39;, &#39;a4&#39;, &#39;a8&#39;, &#39;a1&#39;, &#39;a2&#39;, &#39;a9&#39;]</span>
</span><span class="linenos">18</span><span class="gp">&gt;&gt;&gt; </span><span class="n">ba</span><span class="o">.</span><span class="n">bachetRanking</span>
<span class="linenos">19</span><span class="go"> [&#39;a5&#39;, &#39;a6&#39;, &#39;a7&#39;, &#39;a3&#39;, &#39;a4&#39;, &#39;a1&#39;, &#39;a8&#39;, &#39;a9&#39;, &#39;a2&#39;]</span>
<span class="linenos">20</span><span class="gp">&gt;&gt;&gt; </span><span class="n">corr</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">computeRankingCorrelation</span><span class="p">(</span><span class="n">bav</span><span class="o">.</span><span class="n">bachetRanking</span><span class="p">)</span>
<span class="hll"><span class="linenos">21</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">showCorrelation</span><span class="p">(</span><span class="n">corr</span><span class="p">)</span>
</span><span class="linenos">22</span><span class="go"> Correlation indexes:</span>
<span class="linenos">23</span><span class="go">  Crisp ordinal correlation  : +0.715</span>
<span class="linenos">24</span><span class="go">  Epistemic determination    :  0.230</span>
<span class="linenos">25</span><span class="go">  Bipolar-valued equivalence : +0.165</span>
</pre></div>
</div>
</div>
<p>With the <em>valued</em> version of the <em>Bachet</em> ranking rule we recover a similar ranking as the one obtained with the previous polarised version. We are randomly permuting the 40 intransitive triples (see <a class="reference internal" href="#valuedbachetranking"><span class="std std-numref">Listing 1.40</span></a> Lines 2-3). This way we obtain a better correlated ranking result than with the simple <em>NetFlows</em> rule (+715 vs +0.638). The valued <em>BachetRanking</em> class result is, like the previous polarised <em>BachetRanking</em> class result <strong>not</strong> invariant under the <strong>codual transform</strong> <a class="footnote-reference brackets" href="#id267" id="id64" role="doc-noteref"><span class="fn-bracket">[</span>62<span class="fn-bracket">]</span></a> and, like the <em>NetFlows</em> rule  <strong>not</strong> necessarily <strong>Condorcet consistent</strong>.</p>
<p>To appreciate now the actual ranking performances of the <em>ranking-by-scoring</em> rules seen so far, it is useful to consider <em>Kemeny</em>’s and <em>Slater</em>’s <strong>optimal fitting</strong> ranking rules.</p>
</section>
<section id="optimal-kemeny-rankings">
<h4><a class="toc-backref" href="#id360" role="doc-backlink"><span class="section-number">1.3.4.6. </span>Optimal <em>Kemeny</em> rankings</a><a class="headerlink" href="#optimal-kemeny-rankings" title="Link to this heading"></a></h4>
<p>A <strong>Kemeny</strong> ranking is a linear ranking without ties which is <em>closest</em>, in the sense of the ordinal (Kendall) correlation index (see <a class="reference internal" href="pearls.html#ordinalcorrelation-tutorial-label"><span class="std std-ref">the advanced topic on the bipolar-valued relational equivalence between bipolar-valued digraphs</span></a> <a class="reference internal" href="#bis-2012" id="id65"><span>[BIS-2012]</span></a>), to the given valued outranking digraphs <em>g</em> or <em>gcd</em>. This rule is also <em>invariant</em> under the <em>codual</em> transform, yet, not necessarily <em>Condorcet consistent</em>.</p>
<div class="literal-block-wrapper docutils container" id="kemenyranking">
<div class="code-block-caption"><span class="caption-number">Listing 1.41 </span><span class="caption-text">Computing a <em>Kemeny</em> ranking</span><a class="headerlink" href="#kemenyranking" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">linearOrders</span> <span class="kn">import</span> <span class="n">KemenyRanking</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">ke</span> <span class="o">=</span> <span class="n">KemenyRanking</span><span class="p">(</span><span class="n">gcd</span><span class="p">,</span><span class="n">orderLimit</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span> <span class="c1"># default orderLimit is 7</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">ke</span><span class="o">.</span><span class="n">showRanking</span><span class="p">()</span>
<span class="linenos"> 4</span><span class="go"> [&#39;a5&#39;, &#39;a6&#39;, &#39;a7&#39;, &#39;a3&#39;, &#39;a9&#39;, &#39;a4&#39;, &#39;a1&#39;, &#39;a8&#39;, &#39;a2&#39;]</span>
<span class="linenos"> 5</span><span class="gp">&gt;&gt;&gt; </span><span class="n">corr</span> <span class="o">=</span> <span class="n">gcd</span><span class="o">.</span><span class="n">computeOrdinalCorrelation</span><span class="p">(</span><span class="n">ke</span><span class="p">)</span>
<span class="linenos"> 6</span><span class="gp">&gt;&gt;&gt; </span><span class="n">gcd</span><span class="o">.</span><span class="n">showCorrelation</span><span class="p">(</span><span class="n">corr</span><span class="p">)</span>
<span class="linenos"> 7</span><span class="go"> Correlation indexes:</span>
<span class="linenos"> 8</span><span class="go">  Extended Kendall tau       : +0.779</span>
<span class="linenos"> 9</span><span class="go">  Epistemic determination    :  0.230</span>
<span class="linenos">10</span><span class="go">  Bipolar-valued equivalence : +0.179</span>
</pre></div>
</div>
</div>
<p>So, <strong>+0.779</strong> represents the <em>highest possible</em> ordinal correlation any potential linear ranking can achieve with the given pairwise outranking digraph (see <a class="reference internal" href="#kemenyranking"><span class="std std-numref">Listing 1.41</span></a> Lines 7-10).</p>
<p>A <em>Kemeny</em> ranking may not be unique. In our example here, we obtain in fact two <em>Kemeny</em> rankings with a same <strong>maximal</strong> correlation of +0.779 (see <a class="reference internal" href="#bis-2012" id="id66"><span>[BIS-2012]</span></a>).</p>
<div class="literal-block-wrapper docutils container" id="optimalkemeny">
<div class="code-block-caption"><span class="caption-number">Listing 1.42 </span><span class="caption-text">Optimal <em>Kemeny</em> rankings</span><a class="headerlink" href="#optimalkemeny" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">ke</span><span class="o">.</span><span class="n">maximalRankings</span>
<span class="linenos">2</span><span class="go"> [[&#39;a5&#39;, &#39;a6&#39;, &#39;a7&#39;, &#39;a3&#39;, &#39;a8&#39;, &#39;a9&#39;, &#39;a4&#39;, &#39;a1&#39;, &#39;a2&#39;],</span>
<span class="linenos">3</span><span class="go">  [&#39;a5&#39;, &#39;a6&#39;, &#39;a7&#39;, &#39;a3&#39;, &#39;a9&#39;, &#39;a4&#39;, &#39;a1&#39;, &#39;a8&#39;, &#39;a2&#39;]]</span>
</pre></div>
</div>
</div>
<p>We visualize the partial order defined by the <a class="reference internal" href="#epistemic-fusion-label"><span class="std std-ref">epistemic fusion</span></a> of both optimal <em>Kemeny</em> rankings by using the <a class="reference internal" href="techDoc.html#transitiveDigraphs.RankingsFusionDigraph" title="transitiveDigraphs.RankingsFusionDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">RankingsFusionDigraph</span></code></a> class as follows.</p>
<div class="literal-block-wrapper docutils container" id="kemenyrankingsfusion">
<div class="code-block-caption"><span class="caption-number">Listing 1.43 </span><span class="caption-text">Computing the epistemic fusion of all optimal <em>Kemeny</em> rankings</span><a class="headerlink" href="#kemenyrankingsfusion" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">transitiveDigraphs</span> <span class="kn">import</span> <span class="n">RankingsFusionDigraph</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">wke</span> <span class="o">=</span> <span class="n">RankingsFusionDigraph</span><span class="p">(</span><span class="n">ke</span><span class="p">,</span><span class="n">ke</span><span class="o">.</span><span class="n">maximalRankings</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">wke</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">(</span><span class="n">fileName</span><span class="o">=</span><span class="s1">&#39;tutorialKemeny&#39;</span><span class="p">)</span>
<span class="linenos"> 4</span><span class="go"> *---- exporting a dot file for GraphViz tools ---------*</span>
<span class="linenos"> 5</span><span class="go"> Exporting to tutorialKemeny.dot</span>
<span class="linenos"> 6</span><span class="go"> 0 subgraph { rank = same; a5; }</span>
<span class="linenos"> 7</span><span class="go"> 1 subgraph { rank = same; a6; }</span>
<span class="linenos"> 8</span><span class="go"> 2 subgraph { rank = same; a7; }</span>
<span class="linenos"> 9</span><span class="go"> 3 subgraph { rank = same; a3; }</span>
<span class="linenos">10</span><span class="go"> 4 subgraph { rank = same; a9; a8; }</span>
<span class="linenos">11</span><span class="go"> 5 subgraph { rank = same; a4; }</span>
<span class="linenos">12</span><span class="go"> 6 subgraph { rank = same; a1; }</span>
<span class="linenos">13</span><span class="go"> 7 subgraph { rank = same; a2; }</span>
<span class="linenos">14</span><span class="go"> dot -Grankdir=TB -Tpng tutorialKemeny.dot -o tutorialKemeny.png</span>
</pre></div>
</div>
</div>
<figure class="align-center" id="tutorialkemeny">
<a class="reference internal image-reference" href="_images/tutorialKemeny.png"><img alt="_images/tutorialKemeny.png" src="_images/tutorialKemeny.png" style="width: 175pt;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.26 </span><span class="caption-text">Epistemic disjunctive fusion of optimal <em>Kemeny</em> rankings</span><a class="headerlink" href="#tutorialkemeny" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>It is interesting to notice in <a class="reference internal" href="#tutorialkemeny"><span class="std std-numref">Fig. 1.26</span></a> and <a class="reference internal" href="#optimalkemeny"><span class="std std-numref">Listing 1.42</span></a>, that both <em>Kemeny</em> rankings only differ in their respective positioning of alternative <em>a8</em>; either before or after alternatives <em>a9</em>, <em>a4</em> and <em>a1</em>.</p>
<p>To choose now a specific representative among all the potential rankings with maximal ordinal correlation index, we will choose, with the help of the <a class="reference internal" href="techDoc.html#perfTabs.PerformanceTableau.showRankingConsensusQuality" title="perfTabs.PerformanceTableau.showRankingConsensusQuality"><code class="xref py py-func docutils literal notranslate"><span class="pre">showRankingConsensusQuality()</span></code></a> method, the <em>most consensual</em> one.</p>
<div class="literal-block-wrapper docutils container" id="consensualkemeny">
<div class="code-block-caption"><span class="caption-number">Listing 1.44 </span><span class="caption-text">Computing Consensus Quality of Rankings</span><a class="headerlink" href="#consensualkemeny" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">showRankingConsensusQuality</span><span class="p">(</span><span class="n">ke</span><span class="o">.</span><span class="n">maximalRankings</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="linenos"> 2</span><span class="go">  Consensus quality of ranking:</span>
<span class="linenos"> 3</span><span class="go">   [&#39;a5&#39;, &#39;a6&#39;, &#39;a7&#39;, &#39;a3&#39;, &#39;a8&#39;, &#39;a9&#39;, &#39;a4&#39;, &#39;a1&#39;, &#39;a2&#39;]</span>
<span class="linenos"> 4</span><span class="go">  criterion (weight): correlation</span>
<span class="linenos"> 5</span><span class="go">  -------------------------------</span>
<span class="linenos"> 6</span><span class="go">   b09 (0.050): +0.361</span>
<span class="linenos"> 7</span><span class="go">   b04 (0.050): +0.333</span>
<span class="linenos"> 8</span><span class="go">   b08 (0.050): +0.292</span>
<span class="linenos"> 9</span><span class="go">   b01 (0.050): +0.264</span>
<span class="linenos">10</span><span class="go">   c01 (0.167): +0.250</span>
<span class="linenos">11</span><span class="go">   b03 (0.050): +0.222</span>
<span class="linenos">12</span><span class="go">   b07 (0.050): +0.194</span>
<span class="linenos">13</span><span class="go">   b05 (0.050): +0.167</span>
<span class="linenos">14</span><span class="go">   c02 (0.167): +0.000</span>
<span class="linenos">15</span><span class="go">   b10 (0.050): +0.000</span>
<span class="linenos">16</span><span class="go">   b02 (0.050): -0.042</span>
<span class="linenos">17</span><span class="go">   b06 (0.050): -0.097</span>
<span class="linenos">18</span><span class="go">   c03 (0.167): -0.167</span>
<span class="linenos">19</span><span class="go">  Summary:</span>
<span class="hll"><span class="linenos">20</span><span class="go">   Weighted mean marginal correlation (a): +0.099</span>
</span><span class="hll"><span class="linenos">21</span><span class="go">   Standard deviation (b)                : +0.177</span>
</span><span class="hll"><span class="linenos">22</span><span class="go">   Ranking fairness (a)-(b)              : -0.079</span>
</span><span class="linenos">23</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">showRankingConsensusQuality</span><span class="p">(</span><span class="n">ke</span><span class="o">.</span><span class="n">maximalRankings</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="linenos">24</span><span class="go">  Consensus quality of ranking:</span>
<span class="linenos">25</span><span class="go">   [&#39;a5&#39;, &#39;a6&#39;, &#39;a7&#39;, &#39;a3&#39;, &#39;a9&#39;, &#39;a4&#39;, &#39;a1&#39;, &#39;a8&#39;, &#39;a2&#39;]</span>
<span class="linenos">26</span><span class="go">  criterion (weight): correlation</span>
<span class="linenos">27</span><span class="go">  -------------------------------</span>
<span class="linenos">28</span><span class="go">   b09 (0.050): +0.306</span>
<span class="linenos">29</span><span class="go">   b08 (0.050): +0.236</span>
<span class="linenos">30</span><span class="go">   c01 (0.167): +0.194</span>
<span class="linenos">31</span><span class="go">   b07 (0.050): +0.194</span>
<span class="linenos">32</span><span class="go">   c02 (0.167): +0.167</span>
<span class="linenos">33</span><span class="go">   b04 (0.050): +0.167</span>
<span class="linenos">34</span><span class="go">   b03 (0.050): +0.167</span>
<span class="linenos">35</span><span class="go">   b01 (0.050): +0.153</span>
<span class="linenos">36</span><span class="go">   b05 (0.050): +0.056</span>
<span class="linenos">37</span><span class="go">   b02 (0.050): +0.014</span>
<span class="linenos">38</span><span class="go">   b06 (0.050): -0.042</span>
<span class="linenos">39</span><span class="go">   c03 (0.167): -0.111</span>
<span class="linenos">40</span><span class="go">   b10 (0.050): -0.111</span>
<span class="linenos">41</span><span class="go">  Summary:</span>
<span class="hll"><span class="linenos">42</span><span class="go">   Weighted mean marginal correlation (a): +0.099</span>
</span><span class="hll"><span class="linenos">43</span><span class="go">   Standard deviation (b)                : +0.132</span>
</span><span class="hll"><span class="linenos">44</span><span class="go">   Ranking fairness (a)-(b)              : -0.033</span>
</span></pre></div>
</div>
</div>
<p>Both Kemeny rankings show the same <em>weighted mean marginal correlation</em> (+0.099, see <a class="reference internal" href="#consensualkemeny"><span class="std std-numref">Listing 1.44</span></a> Lines 19-22, 42-44) with all thirteen performance criteria. However, the second ranking shows a slightly lower <em>standard deviation</em> (+0.132 vs +0.177), resulting in a slightly <strong>fairer</strong> ranking result (-0.033 vs -0.079).</p>
<p>When several rankings with maximal correlation index are given, the <a class="reference internal" href="techDoc.html#linearOrders.KemenyRanking" title="linearOrders.KemenyRanking"><code class="xref py py-class docutils literal notranslate"><span class="pre">KemenyRanking</span></code></a> class constructor instantiates a <em>most consensual</em> one, i.e. a ranking with <em>highest</em> mean marginal correlation and, in case of ties, with <em>lowest</em> weighted standard deviation. Here we obtain ranking: [‘a5’, ‘a6’, ‘a7’, ‘a3’, ‘a9’, ‘a4’, ‘a1’, ‘a8’, ‘a2’] (see <a class="reference internal" href="#kemenyranking"><span class="std std-numref">Listing 1.41</span></a> Line 4).</p>
<p>Let us now present the non-valued cousin of the optimal <em>Kemeny</em> rule.</p>
</section>
<section id="optimal-slater-rankings">
<h4><a class="toc-backref" href="#id361" role="doc-backlink"><span class="section-number">1.3.4.7. </span>Optimal <em>Slater</em> rankings</a><a class="headerlink" href="#optimal-slater-rankings" title="Link to this heading"></a></h4>
<p>The <strong>Slater</strong> ranking rule is identical to <em>Kemeny</em>’s but works, instead, on the <em>median cut polarised</em> digraph. <em>Slater</em>’s ranking rule is also <em>invariant</em> under the <em>codual</em> transform and delivers again indifferently on <em>g</em> or <em>gcd</em> the following results.</p>
<div class="literal-block-wrapper docutils container" id="slaterranking">
<div class="code-block-caption"><span class="caption-number">Listing 1.45 </span><span class="caption-text">Computing a <em>Slater</em> ranking</span><a class="headerlink" href="#slaterranking" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">linearOrders</span> <span class="kn">import</span> <span class="n">SlaterRanking</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">sl</span> <span class="o">=</span> <span class="n">SlaterRanking</span><span class="p">(</span><span class="n">gcd</span><span class="p">,</span><span class="n">orderLimit</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">sl</span><span class="o">.</span><span class="n">slaterRanking</span>
<span class="linenos"> 4</span><span class="go"> [&#39;a5&#39;, &#39;a6&#39;, &#39;a4&#39;, &#39;a1&#39;, &#39;a3&#39;, &#39;a7&#39;, &#39;a8&#39;, &#39;a9&#39;, &#39;a2&#39;]</span>
<span class="linenos"> 5</span><span class="gp">&gt;&gt;&gt; </span><span class="n">corr</span> <span class="o">=</span> <span class="n">gcd</span><span class="o">.</span><span class="n">computeRankingCorrelation</span><span class="p">(</span><span class="n">sl</span><span class="o">.</span><span class="n">slaterRanking</span><span class="p">)</span>
<span class="linenos"> 6</span><span class="gp">&gt;&gt;&gt; </span><span class="n">sl</span><span class="o">.</span><span class="n">showCorrelation</span><span class="p">(</span><span class="n">corr</span><span class="p">)</span>
<span class="linenos"> 7</span><span class="go"> Correlation indexes:</span>
<span class="linenos"> 8</span><span class="go">  Extended Kendall tau       : +0.676</span>
<span class="linenos"> 9</span><span class="go">  Epistemic determination    :  0.230</span>
<span class="linenos">10</span><span class="go">  Bipolar-valued equivalence : +0.156</span>
<span class="linenos">11</span><span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">sl</span><span class="o">.</span><span class="n">maximalRankings</span><span class="p">)</span>
<span class="linenos">12</span><span class="go"> 7</span>
</pre></div>
</div>
</div>
<p>We notice in <a class="reference internal" href="#slaterranking"><span class="std std-numref">Listing 1.45</span></a> Line 7 that the first <em>Slater</em> ranking is a rather good fit (+0.676), slightly better apparently than the <em>NetFlows</em> ranking result (+638). However, there are in fact 7 such potentially optimal <em>Slater</em> rankings (see <a class="reference internal" href="#slaterranking"><span class="std std-numref">Listing 1.45</span></a> Line 11). The corresponding <a class="reference internal" href="#epistemic-fusion-label"><span class="std std-ref">epistemic fusion</span></a> gives the following partial ordering.</p>
<div class="literal-block-wrapper docutils container" id="slaterrankingsfusion">
<div class="code-block-caption"><span class="caption-number">Listing 1.46 </span><span class="caption-text">Computing the epistemic disjunction of optimal <em>Slater</em> rankings</span><a class="headerlink" href="#slaterrankingsfusion" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">slw</span> <span class="o">=</span> <span class="n">RankingsFusionDigraph</span><span class="p">(</span><span class="n">sl</span><span class="p">,</span><span class="n">sl</span><span class="o">.</span><span class="n">maximalRankings</span><span class="p">)</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">slw</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">(</span><span class="n">fileName</span><span class="o">=</span><span class="s1">&#39;tutorialSlater&#39;</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="go"> *---- exporting a dot file for GraphViz tools ---------*</span>
<span class="linenos"> 4</span><span class="go"> Exporting to tutorialSlater.dot</span>
<span class="linenos"> 5</span><span class="go"> 0 subgraph { rank = same; a5; }</span>
<span class="linenos"> 6</span><span class="go"> 1 subgraph { rank = same; a6; }</span>
<span class="linenos"> 7</span><span class="go"> 2 subgraph { rank = same; a7; a4; }</span>
<span class="linenos"> 8</span><span class="go"> 3 subgraph { rank = same; a1; }</span>
<span class="linenos"> 9</span><span class="go"> 4 subgraph { rank = same; a8; a3; }</span>
<span class="linenos">10</span><span class="go"> 5 subgraph { rank = same; a9; }</span>
<span class="linenos">11</span><span class="go"> 6 subgraph { rank = same; a2; }</span>
<span class="linenos">12</span><span class="go"> dot -Grankdir=TB -Tpng tutorialSlater.dot -o tutorialSlater.png</span>
</pre></div>
</div>
</div>
<figure class="align-center" id="tutorialslater">
<a class="reference internal image-reference" href="_images/tutorialSlater.png"><img alt="_images/tutorialSlater.png" src="_images/tutorialSlater.png" style="width: 175pt;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.27 </span><span class="caption-text">Epistemic fusion of optimal <em>Slater</em> rankings</span><a class="headerlink" href="#tutorialslater" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>What precise ranking result should we hence adopt? With a complexity of <img class="math" src="_images/math/50fa78eb190aa6d504a236ace5f17cb25cee79d0.png" alt="O(n!)"/> where <em>n</em> is the order of the outranking digraph, <em>Kemeny</em>’s and <em>Slater</em>’s optimal ranking rules are computationally <em>difficult</em> problems and effective ranking results are only computable for small outranking digraphs (&lt; 20 objects).</p>
<p>Efficient <em>ranking-by-scoring</em> heuristics, like the <em>Copeland</em> and the <em>NetFlows</em> rules with a complexity of <img class="math" src="_images/math/cb487c73415b93656e35ddcbb45a04f8f8ee33fa.png" alt="O(n^2)"/> are therefore needed in practice.</p>
<p>Let us finally present two popular <em>ranking-by-choosing</em> strategies.</p>
</section>
<section id="kohler-s-ranking-by-choosing-rule">
<h4><a class="toc-backref" href="#id362" role="doc-backlink"><span class="section-number">1.3.4.8. </span><em>Kohler</em>’s ranking-by-choosing rule</a><a class="headerlink" href="#kohler-s-ranking-by-choosing-rule" title="Link to this heading"></a></h4>
<p><strong>Kohler</strong>’s <em>ranking-by-choosing</em> rule can be formulated like this.</p>
<p>At step <em>i</em> (<em>i</em> goes from 1 to <em>n</em>) do the following:</p>
<ol class="arabic simple">
<li><p>Compute for each row of the bipolar-valued <em>strict</em> outranking relation table (see <a class="reference internal" href="#strictoutranking"><span class="std std-numref">Listing 1.31</span></a>) the smallest value;</p></li>
<li><p>Select the row where this minimum is maximal. Ties are resolved in lexicographic order;</p></li>
<li><p>Put the selected decision alternative at rank <em>i</em>;</p></li>
<li><p>Delete the corresponding row and column from the relation table and restart until the table is empty.</p></li>
</ol>
<div class="literal-block-wrapper docutils container" id="kohlerranking">
<div class="code-block-caption"><span class="caption-number">Listing 1.47 </span><span class="caption-text">Computing a <em>Kohler</em> ranking</span><a class="headerlink" href="#kohlerranking" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">linearOrders</span> <span class="kn">import</span> <span class="n">KohlerRanking</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">kocd</span> <span class="o">=</span> <span class="n">KohlerRanking</span><span class="p">(</span><span class="n">gcd</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">kocd</span><span class="o">.</span><span class="n">showRanking</span><span class="p">()</span>
<span class="linenos"> 4</span><span class="go"> [&#39;a5&#39;, &#39;a7&#39;, &#39;a6&#39;, &#39;a3&#39;, &#39;a9&#39;, &#39;a8&#39;, &#39;a4&#39;, &#39;a1&#39;, &#39;a2&#39;]</span>
<span class="linenos"> 5</span><span class="gp">&gt;&gt;&gt; </span><span class="n">corr</span> <span class="o">=</span> <span class="n">gcd</span><span class="o">.</span><span class="n">computeOrdinalCorrelation</span><span class="p">(</span><span class="n">kocd</span><span class="p">)</span>
<span class="linenos"> 6</span><span class="gp">&gt;&gt;&gt; </span><span class="n">gcd</span><span class="o">.</span><span class="n">showCorrelation</span><span class="p">(</span><span class="n">corr</span><span class="p">)</span>
<span class="linenos"> 7</span><span class="go"> Correlation indexes:</span>
<span class="linenos"> 8</span><span class="go">  Extended Kendall tau       : +0.747</span>
<span class="linenos"> 9</span><span class="go">  Epistemic determination    :  0.230</span>
<span class="linenos">10</span><span class="go">  Bipolar-valued equivalence : +0.172</span>
</pre></div>
</div>
</div>
<p>With this <em>min-max</em> lexicographic <em>ranking-by-choosing</em> strategy, we find a correlation result (+0.747) that is until now the nearest to an optimal <em>Kemeny</em> ranking (see <a class="reference internal" href="#optimalkemeny"><span class="std std-numref">Listing 1.42</span></a>). Only two adjacent pairs: <em>[a6, a7]</em> and <em>[a8, a9]</em> are actually inverted here. Notice that <em>Kohler</em>’s ranking rule, contrary to the previously mentioned rules, is <strong>not</strong> <em>invariant</em> under the <em>codual</em> transform and requires to work on the <em>strict outranking</em> digraph <em>gcd</em> for a better correlation result.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">ko</span> <span class="o">=</span> <span class="n">KohlerRanking</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">corr</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">computeOrdinalCorrelation</span><span class="p">(</span><span class="n">ko</span><span class="p">)</span>
<span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">showCorrelation</span><span class="p">(</span><span class="n">corr</span><span class="p">)</span>
<span class="linenos">4</span><span class="go"> Correlation indexes:</span>
<span class="linenos">5</span><span class="go">  Crisp ordinal correlation  : +0.483</span>
<span class="linenos">6</span><span class="go">  Epistemic determination    :  0.230</span>
<span class="linenos">7</span><span class="go">  Bipolar-valued equivalence : +0.111</span>
</pre></div>
</div>
<p>But <em>Kohler</em>’s ranking has a <em>dual</em> version, the prudent <strong>Arrow-Raynaud</strong> <em>ordering-by-choosing</em> rule, where a corresponding <em>max-min</em> strategy, when used on the <em>non-strict</em> outranking digraph <em>g</em>, for ordering the from <em>last</em> to <em>first</em> produces a similar ranking result (see <a class="reference internal" href="#lam-2009" id="id67"><span>[LAM-2009]</span></a>, <a class="reference internal" href="#dia-2010" id="id68"><span>[DIA-2010]</span></a>).</p>
<p>Noticing that the <em>NetFlows</em> score of an alternative <em>x</em> represents in fact a bipolar-valued characteristic of the assertion ‘<strong>alternative x is ranked first</strong>’, we may enhance <em>Kohler</em>’s or <em>Arrow-Raynaud</em>’s rules by replacing the <em>min-max</em>, respectively the <em>max-min</em>, strategy with an <strong>iterated</strong> maximal, respectively its <em>dual</em> minimal, <em>Netflows</em> score selection.</p>
<p>For a ranking (resp. an ordering) result, at step <em>i</em> (<em>i</em> goes from 1 to <em>n</em>) do the following:</p>
<ol class="arabic simple">
<li><p>Compute for each row of the bipolar-valued outranking relation table (see <a class="reference internal" href="#strictoutranking"><span class="std std-numref">Listing 1.31</span></a>) the corresponding <a class="reference internal" href="#netflows-ranking-label"><span class="std std-ref">net flow score</span></a> ;</p></li>
<li><p>Select the row where this score is maximal (resp. minimal); ties being resolved by lexicographic order;</p></li>
<li><p>Put the corresponding decision alternative at rank (resp. order) <em>i</em>;</p></li>
<li><p>Delete the corresponding row and column from the relation table and restart until the table is empty.</p></li>
</ol>
<p>A first <em>advantage</em> is that the so modified <em>Kohler</em>’s and  <em>Arrow-Raynaud</em>’s rules become <strong>invariant</strong> under the <em>codual</em> transform. And we may get both the <em>ranking-by-choosing</em> as well as the <em>ordering-by-choosing</em> results with the <a class="reference internal" href="techDoc.html#linearOrders.IteratedNetFlowsRanking" title="linearOrders.IteratedNetFlowsRanking"><code class="xref py py-class docutils literal notranslate"><span class="pre">IteratedNetFlowsRanking</span></code></a> class constructor (see <a class="reference internal" href="#iteratednetflowsranking"><span class="std std-numref">Listing 1.48</span></a> Lines 12-13).</p>
<div class="literal-block-wrapper docutils container" id="iteratednetflowsranking">
<div class="code-block-caption"><span class="caption-number">Listing 1.48 </span><span class="caption-text">Ordering-by-choosing with iterated minimal <em>NetFlows</em> scores</span><a class="headerlink" href="#iteratednetflowsranking" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">linearOrders</span> <span class="kn">import</span> <span class="n">IteratedNetFlowsRanking</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">inf</span> <span class="o">=</span> <span class="n">IteratedNetFlowsRanking</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">inf</span>
<span class="linenos"> 4</span><span class="go"> *------- Digraph instance description ------*</span>
<span class="linenos"> 5</span><span class="go">  Instance class      : IteratedNetFlowsRanking</span>
<span class="linenos"> 6</span><span class="go">  Instance name       : rel_randomCBperftab_ranked</span>
<span class="linenos"> 7</span><span class="go">  Digraph Order       : 9</span>
<span class="linenos"> 8</span><span class="go">  Digraph Size        : 36</span>
<span class="linenos"> 9</span><span class="go">  Valuation domain    : [-1.00;1.00]</span>
<span class="linenos">10</span><span class="go">  Determinateness (%) : 100.00</span>
<span class="linenos">11</span><span class="go">  Attributes          : [&#39;valuedRanks&#39;, &#39;valuedOrdering&#39;,</span>
<span class="linenos">12</span><span class="go">                         &#39;iteratedNetFlowsRanking&#39;,</span>
<span class="linenos">13</span><span class="go">                         &#39;iteratedNetFlowsOrdering&#39;,</span>
<span class="linenos">14</span><span class="go">                         &#39;name&#39;, &#39;actions&#39;, &#39;order&#39;,</span>
<span class="linenos">15</span><span class="go">                         &#39;valuationdomain&#39;, &#39;relation&#39;,</span>
<span class="linenos">16</span><span class="go">                         &#39;gamma&#39;, &#39;notGamma&#39;]</span>
<span class="linenos">17</span><span class="gp">&gt;&gt;&gt; </span><span class="n">inf</span><span class="o">.</span><span class="n">iteratedNetFlowsOrdering</span>
<span class="hll"><span class="linenos">18</span><span class="go"> [&#39;a2&#39;, &#39;a9&#39;, &#39;a1&#39;, &#39;a4&#39;, &#39;a3&#39;, &#39;a8&#39;, &#39;a7&#39;, &#39;a6&#39;, &#39;a5&#39;]</span>
</span><span class="linenos">19</span><span class="gp">&gt;&gt;&gt; </span><span class="n">corr</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">computeOrderCorrelation</span><span class="p">(</span><span class="n">inf</span><span class="o">.</span><span class="n">iteratedNetFlowsOrdering</span><span class="p">)</span>
<span class="linenos">20</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">showCorrelation</span><span class="p">(</span><span class="n">corr</span><span class="p">)</span>
<span class="linenos">21</span><span class="go"> Correlation indexes:</span>
<span class="linenos">22</span><span class="go">  Crisp ordinal correlation  : +0.751</span>
<span class="linenos">23</span><span class="go">  Epistemic determination    :  0.230</span>
<span class="linenos">24</span><span class="go">  Bipolar-valued equivalence : +0.173</span>
<span class="linenos">25</span><span class="gp">&gt;&gt;&gt; </span><span class="n">inf</span><span class="o">.</span><span class="n">iteratedNetFlowsRanking</span>
<span class="hll"><span class="linenos">26</span><span class="go"> [&#39;a5&#39;, &#39;a7&#39;, &#39;a6&#39;, &#39;a3&#39;, &#39;a4&#39;, &#39;a1&#39;, &#39;a8&#39;, &#39;a9&#39;, &#39;a2&#39;]</span>
</span><span class="linenos">27</span><span class="gp">&gt;&gt;&gt; </span><span class="n">corr</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">computeRankingCorrelation</span><span class="p">(</span><span class="n">inf</span><span class="o">.</span><span class="n">iteratedNetFlowsRanking</span><span class="p">)</span>
<span class="linenos">28</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">showCorrelation</span><span class="p">(</span><span class="n">corr</span><span class="p">)</span>
<span class="linenos">29</span><span class="go"> Correlation indexes:</span>
<span class="linenos">30</span><span class="go">  Crisp ordinal correlation  : +0.743</span>
<span class="linenos">31</span><span class="go">  Epistemic determination    :  0.230</span>
<span class="linenos">32</span><span class="go">  Bipolar-valued equivalence : +0.171</span>
</pre></div>
</div>
</div>
<p>The iterated <em>NetFlows</em> ranking and its <em>dual</em>, the iterated <em>NetFlows</em> ordering, do not usually deliver both the same result (<a class="reference internal" href="#iteratednetflowsranking"><span class="std std-numref">Listing 1.48</span></a> Lines 18 and 26). With our example outranking digraph <em>g</em> for instance, it is the <em>ordering-by-choosing</em> result that obtains a slightly better correlation with the given outranking digraph <em>g</em> (+0.751), a result that is also slightly better than <em>Kohler</em>’s original result (+0.747, see <a class="reference internal" href="#kohlerranking"><span class="std std-numref">Listing 1.47</span></a> Line 8).</p>
<p>With different <em>ranking-by-choosing</em> and <em>ordering-by-choosing</em> results, it may be useful to <em>fuse</em> now, similar to what we have done before with <em>Kemeny</em>’s and <em>Slaters</em>’s optimal rankings (see <a class="reference internal" href="#kemenyrankingsfusion"><span class="std std-numref">Listing 1.43</span></a> and <a class="reference internal" href="#slaterrankingsfusion"><span class="std std-numref">Listing 1.46</span></a>), both, the iterated <em>NetFlows</em> ranking and ordering into a partial ranking. But we are hence back to the practical problem of what linear ranking should we eventually retain ?</p>
<p>Let us finally mention another interesting <em>ranking-by-choosing</em> approach.</p>
</section>
<section id="tideman-s-ranked-pairs-rule">
<h4><a class="toc-backref" href="#id363" role="doc-backlink"><span class="section-number">1.3.4.9. </span><em>Tideman</em>’s ranked-pairs rule</a><a class="headerlink" href="#tideman-s-ranked-pairs-rule" title="Link to this heading"></a></h4>
<p><em>Tideman</em>’s <em>ranking-by-choosing</em> heuristic, the <strong>RankedPairs</strong> rule, working best this time on the non strict outranking digraph <em>g</em>, is based on a <em>prudent incremental</em> construction of linear orders that avoids on the fly any cycling outrankings (see <a class="reference internal" href="#lam-2009" id="id69"><span>[LAM-2009]</span></a>). The ranking rule may be formulated as follows:</p>
<ol class="arabic simple">
<li><p>Rank the ordered pairs <img class="math" src="_images/math/349c0e2dbdade2e90e54c3fdf0342401c320c56e.png" alt="(x,y)"/> of alternatives in decreasing order of <img class="math" src="_images/math/2a9397d2cb0a802cc0c78da93a1f88371b8f88b9.png" alt="r(x\, \succsim \,y) \,+\, r(y\, \not\succsim \,x)"/>;</p></li>
<li><p>Consider the pairs in that order (ties are resolved by a lexicographic rule):</p>
<ul class="simple">
<li><p>if the next pair does not create a <em>circuit</em> with the pairs already blocked, block this pair;</p></li>
<li><p>if the next pair creates a <em>circuit</em> with the already blocked pairs, skip it.</p></li>
</ul>
</li>
</ol>
<p>With our didactic outranking digraph <em>g</em>, we get the following result.</p>
<div class="literal-block-wrapper docutils container" id="rankedpairsranking">
<div class="code-block-caption"><span class="caption-number">Listing 1.49 </span><span class="caption-text">Computing a <em>RankedPairs</em> ranking</span><a class="headerlink" href="#rankedpairsranking" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">linearOrders</span> <span class="kn">import</span> <span class="n">RankedPairsRanking</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rp</span> <span class="o">=</span> <span class="n">RankedPairsRanking</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rp</span><span class="o">.</span><span class="n">showRanking</span><span class="p">()</span>
<span class="linenos">4</span><span class="go"> [&#39;a5&#39;, &#39;a6&#39;, &#39;a7&#39;, &#39;a3&#39;, &#39;a8&#39;, &#39;a9&#39;, &#39;a4&#39;, &#39;a1&#39;, &#39;a2&#39;]</span>
</pre></div>
</div>
</div>
<p>The <em>RankedPairs</em> ranking rule renders in our example here luckily one of the two optimal <em>Kemeny</em> ranking, as we may verify below.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">ke</span><span class="o">.</span><span class="n">maximalRankings</span>
<span class="linenos">2</span><span class="go"> [[&#39;a5&#39;, &#39;a6&#39;, &#39;a7&#39;, &#39;a3&#39;, &#39;a8&#39;, &#39;a9&#39;, &#39;a4&#39;, &#39;a1&#39;, &#39;a2&#39;],</span>
<span class="linenos">3</span><span class="go">  [&#39;a5&#39;, &#39;a6&#39;, &#39;a7&#39;, &#39;a3&#39;, &#39;a9&#39;, &#39;a4&#39;, &#39;a1&#39;, &#39;a8&#39;, &#39;a2&#39;]]</span>
<span class="linenos">4</span><span class="gp">&gt;&gt;&gt; </span><span class="n">corr</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">computeOrdinalCorrelation</span><span class="p">(</span><span class="n">rp</span><span class="p">)</span>
<span class="linenos">5</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">showCorrelation</span><span class="p">(</span><span class="n">corr</span><span class="p">)</span>
<span class="linenos">6</span><span class="go"> Correlation indexes:</span>
<span class="linenos">7</span><span class="go">  Extended Kendall tau       : +0.779</span>
<span class="linenos">8</span><span class="go">  Epistemic determination    :  0.230</span>
<span class="linenos">9</span><span class="go">  Bipolar-valued equivalence : +0.179</span>
</pre></div>
</div>
<p>Similar to <em>Kohler</em>’s rule, the <em>RankedPairs</em> rule has also a prudent <em>dual</em> version, the <strong>Dias-Lamboray</strong> <em>ordering-by-choosing</em> rule, which produces, when working this time on the codual <em>strict outranking</em> digraph <em>gcd</em>, a similar ranking result (see <a class="reference internal" href="#lam-2009" id="id70"><span>[LAM-2009]</span></a>, <a class="reference internal" href="#dia-2010" id="id71"><span>[DIA-2010]</span></a>).</p>
<p>Besides of not providing a unique linear ranking, the <em>ranking-by-choosing</em> rules, as well as their dual <em>ordering-by-choosing</em> rules, are unfortunately <em>not scalable</em> to outranking digraphs of larger orders (&gt; 100). For such bigger outranking digraphs, with several hundred or thousands of alternatives, only the <em>Copeland</em> and the <em>NetFlows</em> ranking-by-scoring rules, with a polynomial complexity of <img class="math" src="_images/math/cb487c73415b93656e35ddcbb45a04f8f8ee33fa.png" alt="O(n^2)"/>, where <em>n</em> is the order of the outranking digraph, remain in fact computationally tractable.</p>
<p>It is important finally to notice that for all outranking digraphs of small <strong>or</strong> larger orders there does usually <strong>not exist</strong> a unique optimal linear ranking result when the corresponding strict outranking digraph lacks transitivity and contains chordless cycles. In such a case, it may be interesting to compute a <strong>ranking consensus</strong> from multiple plausible linear rankings.</p>
<p>Back to <a class="reference internal" href="#tutorial-label"><span class="std std-ref">Content Table</span></a></p>
<hr class="docutils" />
</section>
</section>
<section id="on-partially-ranking-outranking-digraphs">
<span id="partial-ranking-tutorial-label"></span><h3><a class="toc-backref" href="#id329" role="doc-backlink"><span class="section-number">1.3.5. </span>On partially ranking outranking digraphs</a><a class="headerlink" href="#on-partially-ranking-outranking-digraphs" title="Link to this heading"></a></h3>
<nav class="contents local" id="id72">
<ul class="simple">
<li><p><a class="reference internal" href="#computing-a-ranking-consensus-from-several-linear-rankings" id="id364">Computing a ranking consensus from several linear rankings</a></p></li>
<li><p><a class="reference internal" href="#on-partially-ranking-with-the-bachet-rules" id="id365">On partially ranking with the <em>Bachet</em> rules</a></p></li>
<li><p><a class="reference internal" href="#consensus-quality-of-the-partial-bachet-rankings" id="id366">Consensus quality of the partial Bachet rankings</a></p></li>
</ul>
</nav>
<p>In this section, instead of computing linear rankings or orders, we illustrate two algorithmic strategies for computing <em>partial rankings</em> –partially determined transitive asymmetrical relations– from a given outranking digraph.</p>
<section id="computing-a-ranking-consensus-from-several-linear-rankings">
<h4><a class="toc-backref" href="#id364" role="doc-backlink"><span class="section-number">1.3.5.1. </span>Computing a ranking consensus from several linear rankings</a><a class="headerlink" href="#computing-a-ranking-consensus-from-several-linear-rankings" title="Link to this heading"></a></h4>
<blockquote class="epigraph">
<div><p>“<em>… Competing criteria will yield different rankings of alternatives, with some shared elements and some divergent ones. The intersection –of the shared elements of the rankings – of the diverse orderings generated by the different priorities will yield a partial ordering that ranks some alternatives against each other with great clarity and internal consistency, while failing altogether to rank other pairs of alternatives.</em>” – A. Sen, The Idea of Justice (2009)</p>
</div></blockquote>
<p>To compare for instance the four rankings we have previously obtained with <em>ranking-by-scoring</em> strategies, it is worthwhile vizualizing the <strong>ranking consensus</strong>  one may observe between the <em>Copeland</em>, the <em>NetFlows</em> and both <em>Bachet</em> ranking results (see <a class="reference internal" href="#rankingconsensus"><span class="std std-numref">Listing 1.50</span></a> Lines 16-19). To compute such a ranking consensus we make usage of the <a class="reference internal" href="techDoc.html#transitiveDigraphs.RankingsFusionDigraph" title="transitiveDigraphs.RankingsFusionDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">transitiveDigraphs.RankingsFusionDigraph</span></code></a> class (see Lines 20-21).</p>
<div class="literal-block-wrapper docutils container" id="rankingconsensus">
<div class="code-block-caption"><span class="caption-number">Listing 1.50 </span><span class="caption-text">Computing a rankings consensus</span><a class="headerlink" href="#rankingconsensus" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">outrankingDigraphs</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">RandomCBPerformanceTableau</span><span class="p">(</span><span class="n">numberOfActions</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span>
<span class="linenos"> 3</span><span class="gp">... </span>                      <span class="n">numberOfCriteria</span><span class="o">=</span><span class="mi">13</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
<span class="linenos"> 4</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">BipolarOutrankingDigraph</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="n">Normalized</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos"> 5</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">linearOrders</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos"> 6</span><span class="gp">&gt;&gt;&gt; </span><span class="n">cop</span> <span class="o">=</span> <span class="n">CopelandOrder</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="linenos"> 7</span><span class="gp">&gt;&gt;&gt; </span><span class="n">ba</span> <span class="o">=</span> <span class="n">BachetRanking</span><span class="p">(</span><span class="n">g</span><span class="p">,</span><span class="n">Polarised</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">sampleSize</span><span class="o">=</span><span class="mi">40</span><span class="p">)</span>
<span class="linenos"> 8</span><span class="gp">&gt;&gt;&gt; </span><span class="n">nf</span> <span class="o">=</span> <span class="n">NetFlowsRanking</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="linenos"> 9</span><span class="gp">&gt;&gt;&gt; </span><span class="n">bav</span> <span class="o">=</span> <span class="n">BachetRanking</span><span class="p">(</span><span class="n">g</span><span class="p">,</span><span class="n">Polarised</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">sampleSize</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span>
<span class="linenos">10</span><span class="gp">... </span>                    <span class="n">Randomized</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="mi">11</span><span class="p">)</span>
<span class="linenos">11</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rankings</span> <span class="o">=</span> <span class="p">[</span><span class="n">cop</span><span class="o">.</span><span class="n">copelandRanking</span><span class="p">,</span>
<span class="linenos">12</span><span class="gp">... </span>            <span class="n">ba</span><span class="o">.</span><span class="n">bachetRanking</span><span class="p">,</span>
<span class="linenos">13</span><span class="gp">... </span>            <span class="n">nf</span><span class="o">.</span><span class="n">netFlowsRanking</span><span class="p">,</span>
<span class="linenos">14</span><span class="gp">... </span>            <span class="n">bav</span><span class="o">.</span><span class="n">bachetRanking</span><span class="p">]</span>
<span class="linenos">15</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rankings</span>
<span class="hll"><span class="linenos">16</span><span class="go"> [[&#39;a5&#39;, &#39;a1&#39;, &#39;a6&#39;, &#39;a7&#39;, &#39;a8&#39;, &#39;a4&#39;, &#39;a9&#39;, &#39;a3&#39;, &#39;a2&#39;],</span>
</span><span class="hll"><span class="linenos">17</span><span class="go">  [&#39;a5&#39;, &#39;a6&#39;, &#39;a7&#39;, &#39;a3&#39;, &#39;a4&#39;, &#39;a1&#39;, &#39;a8&#39;, &#39;a9&#39;, &#39;a2&#39;],</span>
</span><span class="hll"><span class="linenos">18</span><span class="go">  [&#39;a5&#39;, &#39;a7&#39;, &#39;a6&#39;, &#39;a3&#39;, &#39;a1&#39;, &#39;a8&#39;, &#39;a4&#39;, &#39;a9&#39;, &#39;a2&#39;],</span>
</span><span class="hll"><span class="linenos">19</span><span class="go">  [&#39;a5&#39;, &#39;a6&#39;, &#39;a7&#39;, &#39;a3&#39;, &#39;a4&#39;, &#39;a8&#39;, &#39;a1&#39;, &#39;a2&#39;, &#39;a9&#39;]]</span>
</span><span class="hll"><span class="linenos">20</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">transitiveDigraphs</span> <span class="kn">import</span> <span class="n">RankingsFusionDigraph</span>
</span><span class="hll"><span class="linenos">21</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rfdg</span> <span class="o">=</span> <span class="n">RankingsFusionDigraph</span><span class="p">(</span><span class="n">g</span><span class="p">,</span><span class="n">rankings</span><span class="p">)</span>
</span><span class="linenos">22</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rfdg</span>
<span class="linenos">23</span><span class="go"> *------- Digraph instance description ------*</span>
<span class="linenos">24</span><span class="go"> Instance class      : RankingsFusionDigraph</span>
<span class="linenos">25</span><span class="go"> Instance name       : rel_randomCBperftab_wk</span>
<span class="linenos">26</span><span class="go"> Digraph Order       : 9</span>
<span class="linenos">27</span><span class="go"> Digraph Size        : 25</span>
<span class="linenos">28</span><span class="go"> Valuation domain    : [-1.00;1.00]</span>
<span class="linenos">29</span><span class="go"> Determinateness (%) : 84.72</span>
<span class="linenos">30</span><span class="go"> Attributes          : [&#39;name&#39;, &#39;actions&#39;, ... ,</span>
<span class="linenos">31</span><span class="go">                        &#39;valuationdomain&#39;, &#39;relation&#39;, ... ,</span>
<span class="linenos">32</span><span class="go">                        &#39;rankings&#39;, &#39;fusionOperator&#39;]</span>
<span class="hll"><span class="linenos">33</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rfdg</span><span class="o">.</span><span class="n">isTransitive</span><span class="p">()</span>
</span><span class="hll"><span class="linenos">34</span><span class="go"> True</span>
</span></pre></div>
</div>
</div>
<p>By <a class="reference internal" href="#epistemic-fusion-label"><span class="std std-ref">epistemic disjunctive fusion</span></a> of the four <em>rankings</em>, the <a class="reference internal" href="techDoc.html#transitiveDigraphs.RankingsFusionDigraph" title="transitiveDigraphs.RankingsFusionDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">RankingsFusionDigraph</span></code></a> constructor computes a transitive asymmetrical partial digraph (see <a class="reference internal" href="#rankingconsensus"><span class="std std-numref">Listing 1.50</span></a>  Lines 33-34). Notice in Lines 16-19 the unstable ranks of alternative <em>a1</em> (rank 2,5,6 and 7) which induce contradictory ranking results leadind to many incomparability situations. Ranking and ordering of partial relations do not give now the same result when such incomparabilities do appear.</p>
<p>The generic <a class="reference internal" href="techDoc.html#transitiveDigraphs.TransitiveDigraph" title="transitiveDigraphs.TransitiveDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">TransitiveDigraph</span></code></a> class provides therefore a <a class="reference internal" href="techDoc.html#transitiveDigraphs.TransitiveDigraph.showTransitiveDigraph" title="transitiveDigraphs.TransitiveDigraph.showTransitiveDigraph"><code class="xref py py-meth docutils literal notranslate"><span class="pre">showTransitiveDigraph()</span></code></a> method which recursively extracts conjointly first and last choices –<a class="reference internal" href="pearls.html#bipolar-valued-kernels-tutorial-label"><span class="std std-ref">initial and terminal kernels</span></a>– as shown in <a class="reference internal" href="#rankingconsensus1"><span class="std std-numref">Listing 1.51</span></a> Lines 2-6 below.</p>
<div class="literal-block-wrapper docutils container" id="rankingconsensus1">
<div class="code-block-caption"><span class="caption-number">Listing 1.51 </span><span class="caption-text">Inspecting a partial ranking</span><a class="headerlink" href="#rankingconsensus1" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rfdg</span><span class="o">.</span><span class="n">showTransitiveDigraph</span><span class="p">()</span>
<span class="linenos">2</span><span class="go"> Ranking by Choosing and Rejecting</span>
<span class="hll"><span class="linenos">3</span><span class="go">  1st ranked [&#39;a5&#39;]</span>
</span><span class="hll"><span class="linenos">4</span><span class="go">    2nd ranked [&#39;a1&#39;, &#39;a6&#39;, &#39;a7&#39;]</span>
</span><span class="hll"><span class="linenos">5</span><span class="go">    2nd last ranked [&#39;a1&#39;, &#39;a3&#39;, &#39;a4&#39;, &#39;a8&#39;]</span>
</span><span class="hll"><span class="linenos">6</span><span class="go">  1st last ranked [&#39;a2&#39;, &#39;a9&#39;]</span>
</span></pre></div>
</div>
</div>
<p>The nine alternatives are gathered into four levels. Mind that alternative a1 is at the same time 2nd-first and 2nd-last ranked (Lines 4-5). To draw such partial rankings, we make usage of an optimistic topological sort algorithm keeping ambiguously ranked alternatives on their best-ranked positions <a class="footnote-reference brackets" href="#id264" id="id73" role="doc-noteref"><span class="fn-bracket">[</span>60<span class="fn-bracket">]</span></a> (see <a class="reference internal" href="#rankingconsensus2"><span class="std std-numref">Listing 1.52</span></a> Line 5).</p>
<div class="literal-block-wrapper docutils container" id="rankingconsensus2">
<div class="code-block-caption"><span class="caption-number">Listing 1.52 </span><span class="caption-text">Inspecting a partial ranking</span><a class="headerlink" href="#rankingconsensus2" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rfdg</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">(</span><span class="s1">&#39;rankingsByScoringFusion&#39;</span><span class="p">)</span>
<span class="linenos">2</span><span class="go"> *---- exporting a dot file for GraphViz tools ---------*</span>
<span class="linenos">3</span><span class="go"> Exporting to rankingsByScoringFusion.dot</span>
<span class="linenos">4</span><span class="go">  0 subgraph { rank = same; a5; }</span>
<span class="hll"><span class="linenos">5</span><span class="go">  1 subgraph { rank = same; a1; a6; a7; }</span>
</span><span class="linenos">6</span><span class="go">  2 subgraph { rank = same; a3; a8; a4; }</span>
<span class="linenos">7</span><span class="go">  3 subgraph { rank = same; a2; a9; }</span>
<span class="linenos">8</span><span class="go"> dot -Grankdir=TB -Tpng rankingsByScoringFusion.dot \</span>
<span class="linenos">9</span><span class="go">                     -o rankingsByScoringFusion.png</span>
</pre></div>
</div>
</div>
<figure class="align-center" id="rankingconsensusfigure">
<a class="reference internal image-reference" href="_images/rankingsByScoringFusion.png"><img alt="_images/rankingsByScoringFusion.png" src="_images/rankingsByScoringFusion.png" style="width: 200px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.28 </span><span class="caption-text"><em>Copeland</em>, <em>NetFlows</em> and <em>Bachet</em> ranking consensus</span><a class="headerlink" href="#rankingconsensusfigure" title="Link to this image"></a></p>
</figcaption>
</figure>
<p><a class="reference internal" href="#rankingconsensusfigure"><span class="std std-numref">Fig. 1.28</span></a> makes apparent a ranking consensus with the four levels of agreement where action <em>a5</em> appears consistently first-ranked and actions <em>a2</em> and <em>a9</em>, both, last-ranked. Notice the incomparabilities of alternatives <em>a1</em> and <em>a9</em>, a consequence of their contrasted performance records (see <a class="reference internal" href="#bachetheatmapt"><span class="std std-numref">Fig. 1.25</span></a>).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">showCorrelation</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">computeOrdinalCorrelation</span><span class="p">(</span><span class="n">rfdg</span><span class="p">))</span>
<span class="linenos">2</span><span class="go"> Correlation indexes:</span>
<span class="hll"><span class="linenos">3</span><span class="go">  Crisp ordinal correlation  : +0.847</span>
</span><span class="hll"><span class="linenos">4</span><span class="go">  Epistemic determination    :  0.157</span>
</span><span class="hll"><span class="linenos">5</span><span class="go">  Bipolar-valued equivalence : +0.133</span>
</span></pre></div>
</div>
<p>The epistemic fusion of all four <em>ranking-by-scoring</em> results delivers here a convincing transitive partial ordering, highly correlated with the given outranking digraph <em>g</em> (+0.847), supported by a criteria significance majority of 56.6% (see Lines 3-5 above) .</p>
<p>A second strategy for constructing partial rankings makes usage of the <em>randomized Bachet</em> ranking rules.</p>
</section>
<section id="on-partially-ranking-with-the-bachet-rules">
<h4><a class="toc-backref" href="#id365" role="doc-backlink"><span class="section-number">1.3.5.2. </span>On partially ranking with the <em>Bachet</em> rules</a><a class="headerlink" href="#on-partially-ranking-with-the-bachet-rules" title="Link to this heading"></a></h4>
<p>Due to its <em>Condorcet consistency</em> property, the polarsed <em>Bachet</em> ranking rule applied to random orderings of the actions will potentially produce multiple ranking results of unequal correlation quality, yet respecting all the actual transitive part of the given outranking digraph. A subset of best correlated <em>Bachet</em> rankings represents hence a suitable sample for computing a convincing ranking consensus (see <a class="reference internal" href="pearls.html#bachet-tutorial-label"><span class="std std-ref">Applications of bipolar-valued base 3 encoded Bachet numbers</span></a>). This second strategy is provided by the <a class="reference internal" href="techDoc.html#transitiveDigraphs.PartialBachetRanking" title="transitiveDigraphs.PartialBachetRanking"><code class="xref py py-class docutils literal notranslate"><span class="pre">transitiveDigraphs.PartialBachetRanking</span></code></a> class. To illustrate its usefulness, let us reconsider the example outranking digraph <em>g</em> of <a class="reference internal" href="#rankingconsensus"><span class="std std-numref">Listing 1.50</span></a>.</p>
<div class="literal-block-wrapper docutils container" id="partialbachet3">
<div class="code-block-caption"><span class="caption-number">Listing 1.53 </span><span class="caption-text">Partial polarised Bachet ranking digraph</span><a class="headerlink" href="#partialbachet3" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">outrankingDigraphs</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">RandomCBPerformanceTableau</span><span class="p">(</span><span class="n">numberOfActions</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span>
<span class="linenos"> 3</span><span class="gp">... </span>                      <span class="n">numberOfCriteria</span><span class="o">=</span><span class="mi">13</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
<span class="linenos"> 4</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">BipolarOutrankingDigraph</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="n">Normalized</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos"> 5</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">transitiveDigraphs</span> <span class="kn">import</span> <span class="n">PartialBachetRanking</span>
<span class="hll"><span class="linenos"> 6</span><span class="gp">&gt;&gt;&gt; </span><span class="n">pbr</span> <span class="o">=</span> <span class="n">PartialBachetRanking</span><span class="p">(</span><span class="n">g</span><span class="p">,</span><span class="n">Polarised</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span class="hll"><span class="linenos"> 7</span><span class="gp">... </span>               <span class="n">randomized</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">maxNbrOfRankings</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</span><span class="linenos"> 8</span><span class="gp">&gt;&gt;&gt; </span><span class="n">pbr</span>
<span class="linenos"> 9</span><span class="go"> *------- Digraph instance description ------*</span>
<span class="linenos">10</span><span class="go">  Instance class      : PartialBachetRanking</span>
<span class="linenos">11</span><span class="go">  Instance name       : rel_randomCBperftab_wk</span>
<span class="linenos">12</span><span class="go">  Digraph Order       : 9</span>
<span class="linenos">13</span><span class="go">  Digraph Size        : 27</span>
<span class="linenos">14</span><span class="go">  Valuation domain    : [-1.00;1.00]</span>
<span class="linenos">15</span><span class="go">  Determinateness (%) : 87.50</span>
<span class="linenos">16</span><span class="go">  Attributes          : [&#39;name&#39;, &#39;actions&#39;, &#39;order&#39;, ...,</span>
<span class="linenos">17</span><span class="go">                         &#39;valuationdomain&#39;, &#39;relation&#39;, ...,</span>
<span class="linenos">18</span><span class="go">                         &#39;randomized&#39;, &#39;seed&#39;, &#39;bachetRankings&#39;,</span>
<span class="linenos">19</span><span class="go">                         &#39;maxNbrOfRankings&#39;,&#39;Polarised&#39;,</span>
<span class="linenos">20</span><span class="go">                         &#39;partialBachetCorrelation&#39;]</span>
<span class="hll"><span class="linenos">21</span><span class="gp">&gt;&gt;&gt; </span><span class="n">pbr</span><span class="o">.</span><span class="n">bachetRankings</span>
</span><span class="hll"><span class="linenos">22</span><span class="go"> [(0.6824, [&#39;a5&#39;, &#39;a6&#39;, &#39;a3&#39;, &#39;a4&#39;, &#39;a1&#39;, &#39;a7&#39;, &#39;a8&#39;, &#39;a9&#39;, &#39;a2&#39;]),</span>
</span><span class="hll"><span class="linenos">23</span><span class="go">  (0.6523, [&#39;a5&#39;, &#39;a6&#39;, &#39;a4&#39;, &#39;a7&#39;, &#39;a1&#39;, &#39;a3&#39;, &#39;a9&#39;, &#39;a2&#39;, &#39;a8&#39;]),</span>
</span><span class="hll"><span class="linenos">24</span><span class="go">  (0.6482, [&#39;a5&#39;, &#39;a6&#39;, &#39;a4&#39;, &#39;a1&#39;, &#39;a7&#39;, &#39;a3&#39;, &#39;a9&#39;, &#39;a2&#39;, &#39;a8&#39;]),</span>
</span><span class="hll"><span class="linenos">25</span><span class="go">  (0.6442, [&#39;a5&#39;, &#39;a6&#39;, &#39;a4&#39;, &#39;a3&#39;, &#39;a1&#39;, &#39;a7&#39;, &#39;a9&#39;, &#39;a8&#39;, &#39;a2&#39;]),</span>
</span><span class="hll"><span class="linenos">26</span><span class="go">  (0.6382, [&#39;a5&#39;, &#39;a6&#39;, &#39;a1&#39;, &#39;a7&#39;, &#39;a3&#39;, &#39;a4&#39;, &#39;a8&#39;, &#39;a2&#39;, &#39;a9&#39;])]</span>
</span></pre></div>
</div>
</div>
<p>In <a class="reference internal" href="#partialbachet3"><span class="std std-numref">Listing 1.53</span></a> Line 6-8, we notice that we sample 100 polarised <em>Bachet</em> rankings and keep the five best correlated rankings for constructing the ranking consensus. In Lines 21-26, we may notice that alternative <em>a5</em> is always first-ranked and alternative <em>a6</em> second-ranked. Whereas alternatives <em>a2</em>, <em>a8</em> and <em>a9</em> make up the tail group. The <a class="reference internal" href="techDoc.html#transitiveDigraphs.TransitiveDigraph.showTransitiveDigraph" title="transitiveDigraphs.TransitiveDigraph.showTransitiveDigraph"><code class="xref py py-meth docutils literal notranslate"><span class="pre">showTransitiveDigraph()</span></code></a> method confirms this partial ranking (see <a class="reference internal" href="#partialbachet4"><span class="std std-numref">Listing 1.54</span></a> Lines 2-6 below and <a class="reference internal" href="#partialbachetpol"><span class="std std-numref">Fig. 1.29</span></a>).</p>
<div class="literal-block-wrapper docutils container" id="partialbachet4">
<div class="code-block-caption"><span class="caption-number">Listing 1.54 </span><span class="caption-text">Partial polarised Bachet ranking result</span><a class="headerlink" href="#partialbachet4" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">pbr</span><span class="o">.</span><span class="n">showTransitiveDigraph</span><span class="p">()</span>
<span class="hll"><span class="linenos"> 2</span><span class="go"> Ranking by Choosing and Rejecting</span>
</span><span class="hll"><span class="linenos"> 3</span><span class="go">  1st ranked [&#39;a5&#39;]</span>
</span><span class="hll"><span class="linenos"> 4</span><span class="go">    2nd ranked [&#39;a6&#39;]</span>
</span><span class="hll"><span class="linenos"> 5</span><span class="go">    2nd last ranked [&#39;a1&#39;, &#39;a3&#39;, &#39;a4&#39;, &#39;a7&#39;])</span>
</span><span class="hll"><span class="linenos"> 6</span><span class="go">  1st last ranked [&#39;a2&#39;, &#39;a8&#39;, &#39;a9&#39;])</span>
</span><span class="linenos"> 7</span><span class="gp">&gt;&gt;&gt; </span><span class="n">pbr</span><span class="o">.</span><span class="n">showCorrelation</span><span class="p">(</span><span class="n">pbr</span><span class="o">.</span><span class="n">partialBachetCorrelation</span><span class="p">)</span>
<span class="linenos"> 8</span><span class="go"> Correlation indexes:</span>
<span class="hll"><span class="linenos"> 9</span><span class="go">  Crisp ordinal correlation  : +0.806</span>
</span><span class="hll"><span class="linenos">10</span><span class="go">  Epistemic determination    :  0.179</span>
</span><span class="hll"><span class="linenos">11</span><span class="go">  Bipolar-valued equivalence : +0.144</span>
</span><span class="linenos">12</span><span class="gp">&gt;&gt;&gt; </span><span class="n">pbr</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">(</span><span class="s1">&#39;partialBachetpol&#39;</span><span class="p">)</span>
<span class="linenos">13</span><span class="go"> *---- exporting a dot file for GraphViz tools ---------*</span>
<span class="linenos">14</span><span class="go">  Exporting to partialBachetpol.dot</span>
<span class="linenos">15</span><span class="go">  dot -Grankdir=TB -Tpng partialBachetpol.dot -o partialBachetpol.png</span>
</pre></div>
</div>
</div>
<figure class="align-center" id="partialbachetpol">
<a class="reference internal image-reference" href="_images/partialBachetpol.png"><img alt="_images/partialBachetpol.png" src="_images/partialBachetpol.png" style="width: 200px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.29 </span><span class="caption-text">Polarised Bachet partial ranking result</span><a class="headerlink" href="#partialbachetpol" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>The resulting <em>partial ranking</em> is highly correlated with the common determinated part of the given outranking digraph <em>g</em> (+0.806) leading to a <em>relational equivalence</em> with the given outranking digraph <em>g</em> supported by a criteria significance majority of 57.2% (see Lines 9-11 above).</p>
<p>We recover with the polarised <em>Bachet</em> ranking rule a ranking consensus actually very similar to the previous consensus obtained from all four <em>ranking-by-scoring</em> results (see <a class="reference internal" href="#rankingconsensusfigure"><span class="std std-numref">Fig. 1.28</span></a>).</p>
<p>The <a class="reference internal" href="techDoc.html#transitiveDigraphs.PartialBachetRanking" title="transitiveDigraphs.PartialBachetRanking"><code class="xref py py-class docutils literal notranslate"><span class="pre">PartialBachetRanking</span></code></a> constructor uses by default the <em>polarised</em> version of the <em>Bachet</em> ranking rule. Due to its <em>Condorcet consistency</em> property, the partial ranking result obtained in <a class="reference internal" href="#partialbachetpol"><span class="std std-numref">Fig. 1.29</span></a> represents in fact a ranking consensus respecting the actual <strong>transitive parts</strong> of the given outranking digraph (see the advanced topic dedicated to the <a class="reference internal" href="pearls.html#bachet-tutorial-label"><span class="std std-ref">Bachet ranking rules</span></a>).</p>
<p>The <a class="reference internal" href="techDoc.html#transitiveDigraphs.PartialBachetRanking" title="transitiveDigraphs.PartialBachetRanking"><code class="xref py py-class docutils literal notranslate"><span class="pre">PartialBachetRanking</span></code></a> now provides a “<strong>Polarised == False</strong>” flag allowing to use instead the <strong>valued</strong> version of the <em>Bachet</em> ranking rule (see below <a class="reference internal" href="#weakbachet5"><span class="std std-numref">Listing 1.55</span></a> Line 1). The five best qualified valued <em>Bachet</em> rankings are shown in Lines 4-8.</p>
<div class="literal-block-wrapper docutils container" id="weakbachet5">
<div class="code-block-caption"><span class="caption-number">Listing 1.55 </span><span class="caption-text">Five best correlated valued Bachet ranking results</span><a class="headerlink" href="#weakbachet5" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">pvbr</span> <span class="o">=</span> <span class="n">PartialBachetRanking</span><span class="p">(</span><span class="n">g</span><span class="p">,</span><span class="n">Polarised</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span class="linenos">2</span><span class="gp">... </span>           <span class="n">randomized</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">maxNbrOfRankings</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">pvbr</span><span class="o">.</span><span class="n">bachetRankings</span>
<span class="hll"><span class="linenos">4</span><span class="go"> [(0.6764, [&#39;a6&#39;, &#39;a5&#39;, &#39;a7&#39;, &#39;a4&#39;, &#39;a1&#39;, &#39;a8&#39;, &#39;a3&#39;, &#39;a2&#39;, &#39;a9&#39;]),</span>
</span><span class="hll"><span class="linenos">5</span><span class="go">  (0.6583, [&#39;a5&#39;, &#39;a6&#39;, &#39;a7&#39;, &#39;a1&#39;, &#39;a3&#39;, &#39;a8&#39;, &#39;a2&#39;, &#39;a4&#39;, &#39;a9&#39;]),</span>
</span><span class="hll"><span class="linenos">6</span><span class="go">  (0.6543, [&#39;a5&#39;, &#39;a6&#39;, &#39;a1&#39;, &#39;a7&#39;, &#39;a3&#39;, &#39;a8&#39;, &#39;a2&#39;, &#39;a4&#39;, &#39;a9&#39;]),</span>
</span><span class="hll"><span class="linenos">7</span><span class="go">  (0.6503, [&#39;a5&#39;, &#39;a6&#39;, &#39;a7&#39;, &#39;a8&#39;, &#39;a3&#39;, &#39;a9&#39;, &#39;a2&#39;, &#39;a4&#39;, &#39;a1&#39;]),</span>
</span><span class="hll"><span class="linenos">8</span><span class="go">  (0.6462, [&#39;a5&#39;, &#39;a6&#39;, &#39;a1&#39;, &#39;a7&#39;, &#39;a8&#39;, &#39;a2&#39;, &#39;a3&#39;, &#39;a4&#39;, &#39;a9&#39;])]</span>
</span></pre></div>
</div>
</div>
<p>Again we may notice that alternatives <em>a5</em> and <em>a6</em> are first-ranked and alternatives <em>a2</em>, <em>a4</em> and <em>a9</em> are last-ranked. It is worthwhile noticing in Lines 4-8 above that alternative <em>a1</em> appears in rank 3,4,5 and 9.</p>
<p>In <a class="reference internal" href="#weakbachet6"><span class="std std-numref">Listing 1.56</span></a> Lines 3-6 we observe now a partial ranking taking into account not only the polarised relational structure, but also the <strong>epistemic determination</strong> of the given outranking digraph <em>g</em>. And the ordinal correlation with <em>g</em>, supported by a similar criteria significance of 57%, gets even higher: +0.888 vs +0.806 (see Lines 9-11).</p>
<div class="literal-block-wrapper docutils container" id="weakbachet6">
<div class="code-block-caption"><span class="caption-number">Listing 1.56 </span><span class="caption-text">Valued partial ranking result</span><a class="headerlink" href="#weakbachet6" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">pvbr</span><span class="o">.</span><span class="n">showTransitiveDigraph</span><span class="p">()</span>
<span class="linenos"> 2</span><span class="go"> Ranking by Choosing and Rejecting</span>
<span class="hll"><span class="linenos"> 3</span><span class="go">  1st ranked [&#39;a5&#39;, &#39;a6&#39;]</span>
</span><span class="hll"><span class="linenos"> 4</span><span class="go">    2nd ranked [&#39;a7&#39;],</span>
</span><span class="hll"><span class="linenos"> 5</span><span class="go">    2nd last ranked [&#39;&#39;a3&#39;, &#39;a8&#39;])</span>
</span><span class="hll"><span class="linenos"> 6</span><span class="go">  1st last ranked [&#39;a1&#39;, &#39;a2&#39;, &#39;a4&#39;, &#39;a9&#39;])</span>
</span><span class="linenos"> 7</span><span class="gp">&gt;&gt;&gt; </span><span class="n">pvbr</span><span class="o">.</span><span class="n">showCorrelation</span><span class="p">(</span><span class="n">pvbr</span><span class="o">.</span><span class="n">partialBachetCorrelation</span><span class="p">)</span>
<span class="linenos"> 8</span><span class="go"> Correlation indexes:</span>
<span class="hll"><span class="linenos"> 9</span><span class="go">  Crisp ordinal correlation  : +0.888</span>
</span><span class="hll"><span class="linenos">10</span><span class="go">  Epistemic determination    :  0.157</span>
</span><span class="hll"><span class="linenos">11</span><span class="go">  Bipolar-valued equivalence : +0.139</span>
</span><span class="linenos">12</span><span class="gp">&gt;&gt;&gt; </span><span class="n">pvbr</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">(</span><span class="s1">&#39;partialBachetval&#39;</span><span class="p">)</span>
<span class="linenos">13</span><span class="go"> *---- exporting a dot file for GraphViz tools ---------*</span>
<span class="linenos">14</span><span class="go">  Exporting to partialBachetval.dot</span>
<span class="linenos">15</span><span class="go">  dot -Grankdir=TB -Tpng partialBachetval.dot -o partialBachetval.png</span>
</pre></div>
</div>
</div>
<p>It is worthwhile noticing in <a class="reference internal" href="#partialbachetval"><span class="std std-numref">Fig. 1.30</span></a> that alternative <em>a1</em> appears indeed incomparable to the other alternatives except alternatives <em>a5</em> and <em>a6</em>, a fact already made previously apparent with the partial <em>polarised Bachet</em> ranking shown in <a class="reference internal" href="#rankingconsensusfigure"><span class="std std-numref">Fig. 1.28</span></a>.</p>
<figure class="align-center" id="partialbachetval">
<a class="reference internal image-reference" href="_images/partialBachetval.png"><img alt="_images/partialBachetval.png" src="_images/partialBachetval.png" style="width: 200px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.30 </span><span class="caption-text">Valued Bachet partial ranking result</span><a class="headerlink" href="#partialbachetval" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="consensus-quality-of-the-partial-bachet-rankings">
<h4><a class="toc-backref" href="#id366" role="doc-backlink"><span class="section-number">1.3.5.3. </span>Consensus quality of the partial Bachet rankings</a><a class="headerlink" href="#consensus-quality-of-the-partial-bachet-rankings" title="Link to this heading"></a></h4>
<p>Let us now verify in <a class="reference internal" href="#partialbachet7"><span class="std std-numref">Listing 1.57</span></a> below the consensus quality of the partial polarised <em>Bachet</em> ranking <em>pbr</em>.</p>
<div class="literal-block-wrapper docutils container" id="partialbachet7">
<div class="code-block-caption"><span class="caption-number">Listing 1.57 </span><span class="caption-text">Consensus quality of the partial polarised Bachet ranking</span><a class="headerlink" href="#partialbachet7" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">pbr</span><span class="o">.</span><span class="n">computePartialOutrankingConsensusQuality</span><span class="p">(</span><span class="n">Comments</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span class="linenos"> 2</span><span class="go"> Consensus quality of partial polarised Bachet ranking</span>
<span class="linenos"> 3</span><span class="go"> criterion (weight): bipolar-valued relational equivalence</span>
<span class="linenos"> 4</span><span class="go"> -------------------------------</span>
<span class="hll"><span class="linenos"> 5</span><span class="go">  c01 (0.167): +0.444</span>
</span><span class="hll"><span class="linenos"> 6</span><span class="go">  b09 (0.050): +0.444</span>
</span><span class="linenos"> 7</span><span class="go">  b02 (0.050): +0.358</span>
<span class="linenos"> 8</span><span class="go">  b08 (0.050): +0.296</span>
<span class="linenos"> 9</span><span class="go">  b04 (0.050): +0.259</span>
<span class="linenos">10</span><span class="go">  b01 (0.050): +0.208</span>
<span class="linenos">11</span><span class="go">  c02 (0.167): +0.074</span>
<span class="linenos">12</span><span class="go">  b05 (0.050): +0.000</span>
<span class="linenos">13</span><span class="go">  b10 (0.050): -0.095</span>
<span class="linenos">14</span><span class="go">  b07 (0.050): -0.111</span>
<span class="linenos">15</span><span class="go">  c03 (0.167): -0.148</span>
<span class="linenos">16</span><span class="go">  b03 (0.050): -0.185</span>
<span class="linenos">17</span><span class="go">  b06 (0.050): -0.245</span>
<span class="linenos">18</span><span class="go"> Summary:</span>
<span class="linenos">19</span><span class="go">  Weighted mean marginal correlation (a) : +0.108</span>
<span class="linenos">20</span><span class="go">  Standard deviation (b)                 : +0.240</span>
<span class="hll"><span class="linenos">21</span><span class="go">  Partial ranking fairness (a)-(b)       : -0.132</span>
</span></pre></div>
</div>
</div>
<p>Best correlated (+0.444) with the partial ranking appear <em>Cost</em> criterion <em>c01</em> and Benefit criterion <em>b09</em>. The relational equivalences are supported by a nearly 75% significance majority (Lines 5-6). Eight out of thirteen criteria show a non negative equivalence and the weighted mean marginal equivalence is slightly positive (+0.108, Line 19). With a standard deviation of +0.240, we obtain however an overall negative fairness score of -0.132 for the partial polarised <em>Bachet</em> ranking.</p>
<p>We may redo in <a class="reference internal" href="#partialbachet8"><span class="std std-numref">Listing 1.58</span></a> below the same computation for the partial valued <em>Bachet</em> ranking.</p>
<div class="literal-block-wrapper docutils container" id="partialbachet8">
<div class="code-block-caption"><span class="caption-number">Listing 1.58 </span><span class="caption-text">Consensus quality of the partial valued Bachet ranking</span><a class="headerlink" href="#partialbachet8" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">pvbr</span><span class="o">.</span><span class="n">computePartialOutrankingConsensusQuality</span><span class="p">(</span><span class="n">Comments</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span class="linenos"> 2</span><span class="go"> Consensus quality of the partial valued Bachet ranking</span>
<span class="linenos"> 3</span><span class="go"> criterion (weight): bipolar-valued relational equivalence</span>
<span class="linenos"> 4</span><span class="go"> --------------------------------------</span>
<span class="hll"><span class="linenos"> 5</span><span class="go">  c01 (0.167): +0.472</span>
</span><span class="hll"><span class="linenos"> 6</span><span class="go">  b09 (0.050): +0.222</span>
</span><span class="linenos"> 7</span><span class="go">  b05 (0.050): +0.194</span>
<span class="linenos"> 8</span><span class="go">  b04 (0.050): +0.167</span>
<span class="linenos"> 9</span><span class="go">  b01 (0.050): +0.139</span>
<span class="linenos">10</span><span class="go">  b02 (0.050): +0.125</span>
<span class="linenos">11</span><span class="go">  c02 (0.167): +0.083</span>
<span class="linenos">12</span><span class="go">  b08 (0.050): +0.083</span>
<span class="linenos">13</span><span class="go">  b07 (0.050): -0.056</span>
<span class="linenos">14</span><span class="go">  b03 (0.050): -0.111</span>
<span class="linenos">15</span><span class="go">  b10 (0.050): -0.111</span>
<span class="hll"><span class="linenos">16</span><span class="go">  c03 (0.167): -0.111</span>
</span><span class="linenos">17</span><span class="go">  b06 (0.050): -0.181</span>
<span class="linenos">18</span><span class="go"> Summary:</span>
<span class="hll"><span class="linenos">19</span><span class="go">  Weighted mean marginal correlation (a): +0.098</span>
</span><span class="hll"><span class="linenos">20</span><span class="go">  Standard deviation (b)                : +0.204</span>
</span><span class="hll"><span class="linenos">21</span><span class="go">  Partial ranking fairness (a)-(b)      : -0.107</span>
</span></pre></div>
</div>
</div>
<p>The valued partial <em>Bachet</em> ranking pays a more accurate attention to the marginal criteria significance weights: 10/60 = 0.167 for the three  Costs criteria and 3/60 = 0.050 for the Benefit criteria. Criteria <em>c01</em> and <em>c03</em> for instance, with a significance of 0.167, are hence given more attention. The weighted mean marginal correlation appears slightly lower (+0.098 vs +0.108). The standard deviation being however lower (+0.204 vs +0.240), we obtain a slightly better overall fairness score (-0.107 vs -0.132, see Lines 19-21).</p>
<p>As shown above, <em>Bachet</em> ranking rules may effectively deliver new methods for constructing convincing partial rankings and, by the way, a tool for computing potential first or last choice recommendations. Actually the <a class="reference internal" href="pearls.html#bipolar-valued-kernels-tutorial-label"><span class="std std-ref">initial and terminal prekernels</span></a> of such partial transitive digraphs. Mind however that the <em>Bachet</em> ranking rules can only handle small outranking digraphs ( &lt; 50 ). For larger ( &gt; 50 ) or big ( &gt; 1000 ) outranking digraphs it is opportune to turn to order statistics and compute <strong>weak rankings</strong> –rankings with ties– by sorting the multicriteria performance records into <em>relative</em> or <em>absolute</em> performance <strong>quantile equivalence classes</strong>.</p>
<p>This order statistics based <strong>rating</strong> approach is presented in the following tutorials.</p>
<p>Back to <a class="reference internal" href="#tutorial-label"><span class="std std-ref">Content Table</span></a></p>
<hr class="docutils" />
</section>
</section>
<section id="rating-into-relative-performance-quantiles">
<span id="quantilesrating-tutorial-label"></span><h3><a class="toc-backref" href="#id330" role="doc-backlink"><span class="section-number">1.3.6. </span>Rating into relative performance quantiles</a><a class="headerlink" href="#rating-into-relative-performance-quantiles" title="Link to this heading"></a></h3>
<nav class="contents local" id="id74">
<ul class="simple">
<li><p><a class="reference internal" href="#performance-quantile-sorting-on-a-single-criterion" id="id367">Performance quantile sorting on a single criterion</a></p></li>
<li><p><a class="reference internal" href="#rating-by-sorting-into-relative-multicriteria-performance-quantiles" id="id368">Rating-by-sorting into relative multicriteria performance quantiles</a></p></li>
<li><p><a class="reference internal" href="#rating-by-ranking-with-relative-quantile-limits" id="id369">Rating-by-ranking with relative quantile limits</a></p></li>
</ul>
</nav>
<p>We apply order statistics for sorting a set <em>X</em> of <em>n</em> potential decision actions, evaluated on <em>m</em> incommensurable performance criteria, into <em>q</em> quantile equivalence classes, based on pairwise outranking characteristics involving the quantile class limits observed on each criterion. Thus we may implement a weak ordering algorithm of complexity <img class="math" src="_images/math/7d8a96e389d5755d12be85ab610d3e16a5458955.png" alt="O(nmq)"/>.</p>
<section id="performance-quantile-sorting-on-a-single-criterion">
<h4><a class="toc-backref" href="#id367" role="doc-backlink"><span class="section-number">1.3.6.1. </span>Performance quantile sorting on a single criterion</a><a class="headerlink" href="#performance-quantile-sorting-on-a-single-criterion" title="Link to this heading"></a></h4>
<p>A single criterion sorting category <em>K</em> is a (usually) lower-closed interval <img class="math" src="_images/math/520d94885338f1841285bf5dcacadbba35ad8253.png" alt="[m_k ; M_k["/> on a real-valued performance measurement scale, with <img class="math" src="_images/math/6a6b37081a3a3ccd406b7e2eea9bf698b687648f.png" alt="m_k \leq M_k"/>. If <em>x</em> is a measured performance on this scale, we may distinguish three sorting situations.</p>
<blockquote>
<div><ol class="arabic simple">
<li><p><img class="math" src="_images/math/d577d498de146cb8081b5aca4d7bafc7fc7acbac.png" alt="x &lt; m_k"/> and (<img class="math" src="_images/math/53cc2f702c4e9c9f10622fc3862479c64e73c191.png" alt="x &lt; M_k"/>): The performance <em>x</em> is lower than category <em>K</em>.</p></li>
<li><p><img class="math" src="_images/math/1cbe71f6975464f6a7c4b5b4d88c45bbee916f43.png" alt="x \geqslant m_k"/> and <img class="math" src="_images/math/53cc2f702c4e9c9f10622fc3862479c64e73c191.png" alt="x &lt; M_k"/>: The performance <em>x</em> belongs to category <em>K</em>.</p></li>
<li><p><img class="math" src="_images/math/72c98bc46d0e6141cdbe5ca0419805a0697bd874.png" alt="x &gt; m_k"/> and <img class="math" src="_images/math/a5139efc87bcde9115a72ff887a23caf98c30c9a.png" alt="x \geqslant M_k"/>: The performance <em>x</em> is higher than category <em>K</em>.</p></li>
</ol>
</div></blockquote>
<p>As the relation <img class="math" src="_images/math/62e1fa786f6b8b7d3bb1eb4eb6c26685c7ccb999.png" alt="&lt;"/> is the dual of <img class="math" src="_images/math/f09496d49e1f04a49521a3f4d92f076dec9731e3.png" alt="\geqslant"/> (<img class="math" src="_images/math/b88d244c1e9a563f98d309f8d8aa16ace3c27cdb.png" alt="\not\geqslant"/>), it will be sufficient to check that <img class="math" src="_images/math/1cbe71f6975464f6a7c4b5b4d88c45bbee916f43.png" alt="x \geqslant m_k"/> as well as <img class="math" src="_images/math/85ca2cd4146cc9e0d1b93feadca873cda98aa159.png" alt="x \not\geqslant M_k"/> are true for <em>x</em> to be considered a member of category <em>K</em>.</p>
<p>Upper-closed categories (in a more mathematical integration style) may as well be considered. In this case it is sufficient to check that <img class="math" src="_images/math/ee3c884b97894d10219a9fe962b1163c6c4ffd1a.png" alt="m_k \not\geqslant x"/> as well as <img class="math" src="_images/math/2058876bcac9eea9a662f86d4d5997b29afd62d9.png" alt="M_k \geq x"/> are true for <em>x</em> to be considered a member of category <em>K</em>. It is worthwhile noticing that a category <em>K</em> such that <img class="math" src="_images/math/4e7dc8216400a924eec25e2e120d9f9df79b094f.png" alt="m_k = M_k"/> is hence always empty by definition. In order to be able to properly sort over the complete range of values to be sorted, we will need to use a special, two-sided closed last, respectively first, category.</p>
<p>Let <img class="math" src="_images/math/7525f6a1cac36a59d1d5f9042a0914ee390496a2.png" alt="K = {K_1 , ..., K_q}"/> be a non trivial partition of the criterion’s performance measurement scale into <img class="math" src="_images/math/d65c5aae0aa9d83a8b10868723b71ceee21f636e.png" alt="q \geq 2"/> ordered categories <img class="math" src="_images/math/67675909b597100308627d2d2462c8a240030a3f.png" alt="K_k"/> – i.e. lower-closed intervals <img class="math" src="_images/math/520d94885338f1841285bf5dcacadbba35ad8253.png" alt="[m_k ; M_k["/> – such that <img class="math" src="_images/math/1bc838ed2e35d9a4af108cb3cbabc2eefbe6e7ef.png" alt="m_k &lt; M_k"/>, <img class="math" src="_images/math/81735fc25a927fac8bdc174f3beaedb2a079626a.png" alt="M_k = m_{k+1}"/> for <em>k</em> = 0, …, <em>q</em> - 1 and <img class="math" src="_images/math/d04a0754cf31480de6a4849fb370d23a031c30a5.png" alt="M_q = \infty"/>. And, let <img class="math" src="_images/math/72528528eecff0abc31bc62b8dfdfb7a10f850b2.png" alt="A=\{a_1 , a_2 , a_3 , ...\}"/> be a finite set of not all equal performance measures observed on the scale in question.</p>
<p><strong>Property</strong>: For all performance measure <img class="math" src="_images/math/d1e0fc25cec02430381effb2cd3d177670df13fe.png" alt="x \in A"/> there exists now a unique <em>k</em> such that <img class="math" src="_images/math/d152b59d6db6e96ed597ad9c186ebfcd9818620a.png" alt="x \in K_k"/>. If we assimilate, like in descriptive statistics, all the measures gathered in a category <img class="math" src="_images/math/67675909b597100308627d2d2462c8a240030a3f.png" alt="K_k"/> to the central value of the category – i.e. <img class="math" src="_images/math/cbf83a74de1761275374cf3a227bba3cf6bc56e8.png" alt="(m_k + M_k)/2"/> – the sorting result will hence define a weak order (complete preorder) on A.</p>
<p>Let <img class="math" src="_images/math/accf75919cc8bf3c9f5e99bc21cbc872641fa2fd.png" alt="Q=\{Q_0 , Q_1 , ..., Q_q\}"/> denote the set of <em>q</em> + 1 increasing order-statistical quantiles –like quartiles or deciles– we may compute from the ordered set <em>A</em> of performance measures observed on a performance scale. If <img class="math" src="_images/math/e2ee3cbb2f54c6533f6054dc80d5695b3820a1d2.png" alt="Q_0 = \min(X)"/>, we may, with the following intervals: <img class="math" src="_images/math/abc69a660a08594bbde087d1b0d9cf36c43c70cb.png" alt="[Q_0 ; Q_1 ["/>, <img class="math" src="_images/math/8765ba20edc379f162c81acc666e1425a4970655.png" alt="[Q_1 ; Q_2 ["/>, …, <img class="math" src="_images/math/61cec770aaffcd3253046bcb55990fc93a637343.png" alt="[Q_{q-1}; \infty["/>, hence define a set of <em>q</em> lower-closed sorting categories. And, in the case of upper-closed categories, if <img class="math" src="_images/math/595ab3fe7298217d22e5b4a0fff2ef55fc8cc147.png" alt="Q_q = \max(X)"/>, we would obtain the intervals <img class="math" src="_images/math/89f48dfe51a19fcdba4c70f54425462bf92cc9aa.png" alt="] -\infty; Q_1]"/>, <img class="math" src="_images/math/6eb6769a3f082ba0831d7e5ef5cdaab506114b5d.png" alt="]Q_1 ; Q_2]"/>, …, <img class="math" src="_images/math/8c71dce562307157b4b253f5cc10b801b862bedc.png" alt="]Q_{q-1} ; Q_q]"/>. The corresponding sorting of <em>A</em> will result, in both cases, in a repartition of all measures <em>x</em> into the <em>q</em> quantile categories <img class="math" src="_images/math/67675909b597100308627d2d2462c8a240030a3f.png" alt="K_k"/> for <em>k</em> = 1, …, <em>q</em>.</p>
<p><strong>Example</strong>: Let <em>A</em> = { <img class="math" src="_images/math/233f0d810da1485db58eea5fe55c1432938d3452.png" alt="a_7 = 7.03"/>, <img class="math" src="_images/math/5e44bcda8208e2f9448906a6dc3eb14e91d0f67e.png" alt="a_{15}=9.45"/>, <img class="math" src="_images/math/dfb0eb57ac448f5c4c28c147865759cf0755617b.png" alt="a_{11}= 20.35"/>, <img class="math" src="_images/math/f79d158ba853a0b0798ce9668a426c1e9c8a8426.png" alt="a_{16}= 25.94"/>, <img class="math" src="_images/math/aa2ab1ada0ac9220e799f4756a50a2b550a48166.png" alt="a_{10}= 31.44"/>, <img class="math" src="_images/math/cab1fa04ee9ec75b98860a83d16480f2c7dc0bed.png" alt="a_9= 34.48"/>, <img class="math" src="_images/math/e760d6996466364af7bb8687cdcdcd1cd115d694.png" alt="a_{12}= 34.50"/>, <img class="math" src="_images/math/6b537aef0402462b4a07686cf4a46e20f8310574.png" alt="a_{13}= 35.61"/>, <img class="math" src="_images/math/b82ca80eb3a98339cef5fefe29e0fb5952d1e81b.png" alt="a_{14}= 36.54"/>, <img class="math" src="_images/math/47858a716e4624da3eef44d376f48b61bf72a7fe.png" alt="a_{19}= 42.83"/>, <img class="math" src="_images/math/135e3182b7130f2d1d1ad44201c0c5224c79355a.png" alt="a_5= 50.04"/>, <img class="math" src="_images/math/e6d336bb529e163f055634e3e402bc5fc86fc712.png" alt="a_2= 59.85"/>, <img class="math" src="_images/math/9b3983d6a70bb9722461863ab86ccc55d7fd3cd9.png" alt="a_{17}= 61.35"/>, <img class="math" src="_images/math/68162e67edac1dfcd2a86d50d72a6f0f26354c59.png" alt="a_{18}= 61.61"/>, <img class="math" src="_images/math/1f92f5e588839243a126f3c206f074a93758311b.png" alt="a_3= 76.91"/>, <img class="math" src="_images/math/95999bffb0b2f20efbe44a68bfff1966de722e51.png" alt="a_6= 91.39"/>, <img class="math" src="_images/math/c8af3a3d04d462c5702ffb19831a2ad8a8a9b902.png" alt="a_1= 91.79"/>, <img class="math" src="_images/math/07d9e10e666a89bf0bc81aaca3307827206f586c.png" alt="a_4= 96.52"/>, <img class="math" src="_images/math/0221290e8a3b0aa5e5b9d29bb9de856d08c897f7.png" alt="a_8= 96.56"/>, <img class="math" src="_images/math/cb1f2529ded1749d1dc6e765a80bd62aa3391495.png" alt="a_{20}= 98.42"/> } be a set of 20 increasing performance measures observed on a given criterion. The lower-closed category limits we obtain with quartiles (<em>q</em> = 4) are: <img class="math" src="_images/math/0c0cd1688db1f9a074302782417265dfba224225.png" alt="Q_0 = 7.03"/> = <img class="math" src="_images/math/c1a2f67850d95175f6ed8e0b22209c0eb097b8a2.png" alt="a_7"/>, <img class="math" src="_images/math/0a5915f0a9067cc3d6b5502169ef559b430f93d7.png" alt="Q_1= 34.485"/>, <img class="math" src="_images/math/986d750b8f220daa16400ac4dc2f97ba54e996e1.png" alt="Q_2= 54.945"/> (median performance), and <img class="math" src="_images/math/d61c0eab2639a4f7b8a59f308614c28cd0bdb588.png" alt="Q_3= 91.69"/>. And the sorting into these four categories defines on <em>A</em> a complete preorder with the following four equivalence classes: <img class="math" src="_images/math/0fafa7564dc6cc26c285c198cda2cdb3b550789b.png" alt="K_1=\{a_7,a_{10},a_{11},a_{10},a_{15},a_{16}\}"/>, <img class="math" src="_images/math/4c461c4703f093fa788a0e02565a8a6d8187933c.png" alt="K_2=\{a_5,a_9,a_{13},a_{14},a_{19}\}"/>, <img class="math" src="_images/math/71f889af2d51df299d857e8cbd2dbd99bb02cba3.png" alt="K_3=\{a_2,a_3,a_6,a_{17},a_{18}\}"/>, and <img class="math" src="_images/math/5670bba32f875f57ad0dcb260ab3c2800500f22d.png" alt="K_4=\{a_1,a_4,a_8,a_{20}\}"/>.</p>
</section>
<section id="rating-by-sorting-into-relative-multicriteria-performance-quantiles">
<h4><a class="toc-backref" href="#id368" role="doc-backlink"><span class="section-number">1.3.6.2. </span>Rating-by-sorting into relative multicriteria performance quantiles</a><a class="headerlink" href="#rating-by-sorting-into-relative-multicriteria-performance-quantiles" title="Link to this heading"></a></h4>
<p>Let us now suppose that we are given a performance tableau with a set <em>X</em> of <em>n</em> decision alternatives evaluated on a coherent family of <em>m</em> performance criteria associated with the corresponding outranking relation <img class="math" src="_images/math/18d18c189056a3fb3ca4dfd6addc30f83ed4fcb5.png" alt="\succsim"/> defined on <em>X</em>. We denote <img class="math" src="_images/math/ab9afdaf786ce53318d75d81f050af8560822fcd.png" alt="x_j"/> the performance of alternative <em>x</em> observed on criterion <em>j</em>.</p>
<p>Suppose furthermore that we want to sort the decision alternatives into <em>q</em> upper-closed quantile equivalence classes. We therefore consider a series : <img class="math" src="_images/math/bbd9eeb0dd8b1449b1580860f8bb4d931d219f58.png" alt="k = k/q"/> for <em>k</em> = 0, …, <em>q</em> of <em>q+1</em> equally spaced quantiles, like quartiles: 0, 0.25, 0.5, 0.75, 1; quintiles: 0, 0.2, 0.4, 0.6, 0.8, 1: or deciles: 0, 0.1, 0.2, …, 0.9, 1, for instance.</p>
<p>The upper-closed <img class="math" src="_images/math/200bcc998bae75818c67b9ddcd9c71e8f9f5f6f0.png" alt="\mathbf{q}^k"/> class corresponds to the <em>m</em> quantile intervals <img class="math" src="_images/math/7cd8754c01e689a7c7618dd8c7ee669ec4a0ecb5.png" alt="]q_j(p_{k-1});q_j(p_k)]"/> observed on each criterion <em>j</em>,  where <em>k</em> = 2, …, <em>q</em> , <img class="math" src="_images/math/7a626e0e3d62bd5420477d409ffd3359738d84a4.png" alt="q_j(p_q) =  \max_X(x_j)"/>, and the first class gathers all performances below or equal to <img class="math" src="_images/math/9f012dab2fe09fd5dc5dd02df607f5cc40f35638.png" alt="Q_j(p_1)"/>.</p>
<p>The lower-closed <img class="math" src="_images/math/84863e4a6209cd87d42b9ae17b8a11a2135f7ba2.png" alt="\mathbf{q}_k"/> class corresponds to the <em>m</em> quantile intervals <img class="math" src="_images/math/d8591fce2598886751217c03bcf877efe54e7296.png" alt="[q_j(p_{k-1});q_j(p_k)["/> observed on each criterion <em>j</em>, where <em>k</em> = 1, …, <em>q</em>-1, <img class="math" src="_images/math/1736ad2d3ea64a4f5491638da02abf3f36693e53.png" alt="q_j(p_0) = \min_X(x_j)"/>, and the last class gathers all performances above or equal to <img class="math" src="_images/math/8251979358bbbf02e18cf7caf113b6aae90bf5d0.png" alt="Q_j(p_{q-1})"/>.</p>
<p>We call <strong>q-tiles</strong> a complete series of <em>k</em> = 1, …, <em>q</em> upper-closed <img class="math" src="_images/math/200bcc998bae75818c67b9ddcd9c71e8f9f5f6f0.png" alt="\mathbf{q}^k"/>, respectively lower-closed <img class="math" src="_images/math/84863e4a6209cd87d42b9ae17b8a11a2135f7ba2.png" alt="\mathbf{q}_k"/>, multiple criteria quantile classes.</p>
<p><strong>Property</strong>: With the help of the bipolar-valued characteristic of the outranking relation <img class="math" src="_images/math/ca974784ebf0a3f792ee3bc272ec2e80599c6758.png" alt="r(\succsim)"/> we may compute the bipolar-valued characteristic of the assertion: <em>x</em> belongs to upper-closed <em>q</em>-tiles class <img class="math" src="_images/math/200bcc998bae75818c67b9ddcd9c71e8f9f5f6f0.png" alt="\mathbf{q}^k"/> class, resp. lower-closed class <img class="math" src="_images/math/84863e4a6209cd87d42b9ae17b8a11a2135f7ba2.png" alt="\mathbf{q}_k"/>, as follows.</p>
<blockquote>
<div><p><img class="math" src="_images/math/7677cd2bd2ffbb4cf231806827d884ca0da5c07d.png" alt="r(x \in \mathbf{q}^k) \; = \; \min \big[ -r\big(\mathbf{q}(p_{q-1}\big) \succsim x), \,r\big(\mathbf{q}(p_{q}\big) \succsim x)\big]"/></p>
<p><img class="math" src="_images/math/97c1a435323469343bf99863a2cb8e5192b025f9.png" alt="r(x \in \mathbf{q}_k) \; = \; \min \big[ r\big(x \succsim \mathbf{q}(p_{q-1}\big),\, -r\big(x \succsim\mathbf{q}(p_{q}\big)\big]"/></p>
</div></blockquote>
<p>The outranking relation <img class="math" src="_images/math/18d18c189056a3fb3ca4dfd6addc30f83ed4fcb5.png" alt="\succsim"/> verifying the coduality principle, <img class="math" src="_images/math/db31d03ab8ed0e6c1877d61e73d18aba5359b8f8.png" alt="-r\big(\mathbf{q}(p_{q-1}) \succsim x\big) \,=\, r\big(\mathbf{q}(p_{q-1}) \prec x\big)"/>, resp. <img class="math" src="_images/math/e4f5b40e8037a4ac8dd1d26e6a4549eff2123af5.png" alt="-r\big(x \succsim \mathbf{q}(p_{q}) \,=\, r\big(x \prec \mathbf{q}(p_{q}\big)"/>.</p>
<p>We may compute, for instance, a five-tiling of a given random performance tableau with the help of the <a class="reference internal" href="techDoc.html#ratingDigraphs.RatingByRelativeQuantilesDigraph" title="ratingDigraphs.RatingByRelativeQuantilesDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">ratingDigraphs.RatingByRelativeQuantilesDigraph</span></code></a> class.</p>
<div class="literal-block-wrapper docutils container" id="quantilessorting">
<div class="code-block-caption"><span class="caption-number">Listing 1.59 </span><span class="caption-text">Computing a quintiles rating result</span><a class="headerlink" href="#quantilessorting" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">randomPerfTabs</span> <span class="kn">import</span> <span class="n">RandomPerformanceTableau</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">RandomPerformanceTableau</span><span class="p">(</span><span class="n">numberOfActions</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ratingDigraphs</span> <span class="kn">import</span> <span class="n">RatingByRelativeQuantilesDigraph</span>
<span class="linenos"> 4</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rqr</span> <span class="o">=</span> <span class="n">RatingByRelativeQuantilesDigraph</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="n">quantiles</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="linenos"> 5</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rqr</span>
<span class="linenos"> 6</span><span class="go">    *-----  Object instance description -----------*</span>
<span class="linenos"> 7</span><span class="go">     Instance class      : RatingByRelativeQuantilesDigraph</span>
<span class="linenos"> 8</span><span class="go">     Instance name       : relative_rating_randomperftab</span>
<span class="linenos"> 9</span><span class="go">     Actions             : 55</span>
<span class="linenos">10</span><span class="go">     Criteria            : 7</span>
<span class="linenos">11</span><span class="go">     Quantiles           : 5</span>
<span class="linenos">12</span><span class="go">     Lowerclosed         : False</span>
<span class="linenos">13</span><span class="go">     Rankingrule         : NetFlows</span>
<span class="linenos">14</span><span class="go">     Size                : 1647</span>
<span class="linenos">15</span><span class="go">     Valuation domain    : [-1.00;1.00]</span>
<span class="linenos">16</span><span class="go">     Determinateness (%): 67.40</span>
<span class="linenos">17</span><span class="go">     Attributes          : [&#39;name&#39;, &#39;actions&#39;, &#39;actionsOrig&#39;,</span>
<span class="linenos">18</span><span class="go">       &#39;criteria&#39;, &#39;evaluation&#39;, &#39;NA&#39;, &#39;runTimes&#39;,</span>
<span class="linenos">19</span><span class="go">       &#39;quantilesFrequencies&#39;, &#39;LowerClosed&#39;, &#39;categories&#39;,</span>
<span class="linenos">20</span><span class="go">       &#39;criteriaCategoryLimits&#39;, &#39;limitingQuantiles&#39;, &#39;profiles&#39;,</span>
<span class="linenos">21</span><span class="go">       &#39;profileLimits&#39;, &#39;order&#39;, &#39;nbrThreads&#39;, &#39;relation&#39;,</span>
<span class="linenos">22</span><span class="go">       &#39;valuationdomain&#39;, &#39;sorting&#39;, &#39;relativeCategoryContent&#39;,</span>
<span class="linenos">23</span><span class="go">       &#39;sortingRelation&#39;, &#39;rankingRule&#39;, &#39;rankingScores&#39;,</span>
<span class="linenos">24</span><span class="go">       &#39;rankingCorrelation&#39;, &#39;actionsRanking&#39;, &#39;ratingCategories&#39;]</span>
<span class="linenos">25</span><span class="go">    *------  Constructor run times (in sec.) ------*</span>
<span class="linenos">26</span><span class="go">     Threads             : 1</span>
<span class="linenos">27</span><span class="go">     Total time          : 0.19248</span>
<span class="linenos">28</span><span class="go">     Data input          : 0.00710</span>
<span class="linenos">29</span><span class="go">     Compute quantiles   : 0.00117</span>
<span class="linenos">30</span><span class="go">     Compute outrankings : 0.17415</span>
<span class="linenos">31</span><span class="go">     rating-by-sorting   : 0.00074</span>
<span class="linenos">32</span><span class="go">     rating-by-ranking   : 0.00932</span>
<span class="linenos">33</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rqr</span><span class="o">.</span><span class="n">showSorting</span><span class="p">()</span>
<span class="linenos">34</span><span class="go"> *--- Sorting results in descending order ---*</span>
<span class="linenos">35</span><span class="go">  ]0.80 - 1.00]: [&#39;a22&#39;]</span>
<span class="linenos">36</span><span class="go">  ]0.60 - 0.80]: [&#39;a03&#39;, &#39;a07&#39;, &#39;a08&#39;, &#39;a11&#39;, &#39;a14&#39;, &#39;a17&#39;,</span>
<span class="linenos">37</span><span class="go">                  &#39;a19&#39;, &#39;a20&#39;, &#39;a29&#39;, &#39;a32&#39;, &#39;a33&#39;, &#39;a37&#39;,</span>
<span class="linenos">38</span><span class="go">                  &#39;a39&#39;, &#39;a41&#39;, &#39;a42&#39;, &#39;a49&#39;]</span>
<span class="linenos">39</span><span class="go">  ]0.40 - 0.60]: [&#39;a01&#39;, &#39;a02&#39;, &#39;a04&#39;, &#39;a05&#39;, &#39;a06&#39;, &#39;a08&#39;,</span>
<span class="linenos">40</span><span class="go">                  &#39;a09&#39;, &#39;a16&#39;, &#39;a17&#39;, &#39;a18&#39;, &#39;a19&#39;, &#39;a21&#39;,</span>
<span class="linenos">41</span><span class="go">                  &#39;a24&#39;, &#39;a27&#39;, &#39;a28&#39;, &#39;a30&#39;, &#39;a31&#39;, &#39;a35&#39;,</span>
<span class="linenos">42</span><span class="go">                  &#39;a36&#39;, &#39;a40&#39;, &#39;a43&#39;, &#39;a46&#39;, &#39;a47&#39;, &#39;a48&#39;,</span>
<span class="linenos">43</span><span class="go">                  &#39;a49&#39;, &#39;a50&#39;]</span>
<span class="linenos">44</span><span class="go">  ]0.20 - 0.40]: [&#39;a04&#39;, &#39;a10&#39;, &#39;a12&#39;, &#39;a13&#39;, &#39;a15&#39;, &#39;a23&#39;,</span>
<span class="linenos">45</span><span class="go">                  &#39;a25&#39;, &#39;a26&#39;, &#39;a34&#39;, &#39;a38&#39;, &#39;a43&#39;, &#39;a44&#39;,</span>
<span class="linenos">46</span><span class="go">                  &#39;a45&#39;, &#39;a49&#39;]</span>
<span class="linenos">47</span><span class="go">  ]   &lt; - 0.20]: [&#39;a44&#39;]</span>
</pre></div>
</div>
</div>
<p>Most of the decision actions (26) are gathered in the median quintile <img class="math" src="_images/math/2831c2ff13dd957b076d14de5ea60dc66165e93f.png" alt="]0.40 - 0.60]"/> class, whereas the highest quintile <img class="math" src="_images/math/0a7b2cc4f3bbd9a493a829eb1d91019568ee8d20.png" alt="]0.80-1.00]"/> and the lowest quintile <img class="math" src="_images/math/c0eb2132b6e6546a8c3d238e441955c458437103.png" alt="]&lt; - 0.20]"/> classes gather each one a unique decision alternative (<em>a22</em>, resp. <em>a44</em>) (see <a class="reference internal" href="#quantilessorting"><span class="std std-numref">Listing 1.59</span></a> Lines XX-).</p>
<p>We may inspect as follows the details of the corresponding sorting characteristics.</p>
<div class="literal-block-wrapper docutils container" id="sortingcharacteristics">
<div class="code-block-caption"><span class="caption-number">Listing 1.60 </span><span class="caption-text">Bipolar-valued sorting characteristics (extract)</span><a class="headerlink" href="#sortingcharacteristics" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rqr</span><span class="o">.</span><span class="n">valuationdomain</span>
<span class="linenos"> 2</span><span class="go"> {&#39;min&#39;: Decimal(&#39;-1.0&#39;), &#39;med&#39;: Decimal(&#39;0&#39;),</span>
<span class="linenos"> 3</span><span class="go">  &#39;max&#39;: Decimal(&#39;1.0&#39;)}</span>
<span class="linenos"> 4</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rqr</span><span class="o">.</span><span class="n">showSortingCharacteristics</span><span class="p">()</span>
<span class="linenos"> 5</span><span class="go">  x  in  q^k          r(q^k-1 &lt; x)  r(q^k &gt;= x)  r(x in q^k)</span>
<span class="linenos"> 6</span><span class="go"> a22 in ]&lt; - 0.20]       1.00         -0.86        -0.86</span>
<span class="linenos"> 7</span><span class="go"> a22 in ]0.20 - 0.40]    0.86         -0.71        -0.71</span>
<span class="linenos"> 8</span><span class="go"> a22 in ]0.40 - 0.60]    0.71         -0.71        -0.71</span>
<span class="linenos"> 9</span><span class="go"> a22 in ]0.60 - 0.80]    0.71         -0.14        -0.14</span>
<span class="hll"><span class="linenos">10</span><span class="go"> a22 in ]0.80 - 1.00]    0.14          1.00         0.14</span>
</span><span class="linenos">11</span><span class="go"> ...</span>
<span class="linenos">12</span><span class="go"> ...</span>
<span class="hll"><span class="linenos">13</span><span class="go"> a44 in ]&lt; - 0.20]       1.00          0.00         0.00</span>
</span><span class="hll"><span class="linenos">14</span><span class="go"> a44 in ]0.20 - 0.40]    0.00          0.57         0.00</span>
</span><span class="linenos">15</span><span class="go"> a44 in ]0.40 - 0.60]   -0.57          0.86        -0.57</span>
<span class="linenos">16</span><span class="go"> a44 in ]0.60 - 0.80]   -0.86          0.86        -0.86</span>
<span class="linenos">17</span><span class="go"> a44 in ]0.80 - 1.00]   -0.86          0.86        -0.86</span>
<span class="linenos">18</span><span class="go"> ...</span>
<span class="linenos">19</span><span class="go"> ...</span>
<span class="linenos">20</span><span class="go"> a49 in ]&lt; - 0.20]       1.00         -0.43        -0.43</span>
<span class="hll"><span class="linenos">21</span><span class="go"> a49 in ]0.20 - 0.40]    0.43          0.00         0.00</span>
</span><span class="hll"><span class="linenos">22</span><span class="go"> a49 in ]0.40 - 0.60]    0.00          0.00         0.00</span>
</span><span class="hll"><span class="linenos">23</span><span class="go"> a49 in ]0.60 - 0.80]    0.00          0.57         0.00</span>
</span><span class="linenos">24</span><span class="go"> a49 in ]0.80 - 1.00]   -0.57          0.86        -0.57</span>
</pre></div>
</div>
</div>
<p>Alternative <em>a22</em> verifies indeed positively both sorting conditions only for the highest quintile <img class="math" src="_images/math/d4049ae102e275d033cce42b0b9b5f2bffaee31e.png" alt="[0.80 - 1.00]"/> class (see <a class="reference internal" href="#sortingcharacteristics"><span class="std std-numref">Listing 1.60</span></a> Lines 10). Whereas alternatives <em>a44</em> and <em>a49</em>, for instance, weakly verify both sorting conditions each one for two, resp. three, adjacent quintile classes (see Lines 13-14 and 21-23).</p>
<p>Quantiles sorting results indeed always verify the following <strong>Properties</strong>.</p>
<blockquote>
<div><ol class="arabic simple">
<li><p><strong>Coherence</strong>: Each object is sorted into a non-empty subset of <em>adjacent</em> q-tiles classes. An alternative that would <em>miss</em> evaluations on all the criteria will be sorted conjointly in all q-tiled classes.</p></li>
<li><p><strong>Uniqueness</strong>: If <img class="math" src="_images/math/ff4b6841e7a93723f5c0ef907075ac70e69b6cbe.png" alt="r(x \in \mathbf{q}^k) \neq 0"/>  for <em>k</em> = 1, …, <em>q</em>, then performance <em>x</em> is sorted into <em>exactly one single</em> q-tiled class.</p></li>
<li><p><strong>Separability</strong>: Computing the sorting result for performance <em>x</em> is independent from the computing of the other performances’ sorting results. This property gives access to efficient parallel processing of class membership characteristics.</p></li>
</ol>
</div></blockquote>
<p>The <em>q-tiles</em> sorting result leaves us hence with more or less <em>overlapping</em> ordered quantile equivalence classes. For constructing now a linearly ranked q-tiles partition of <em>X</em> , we may apply three strategies:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p><strong>Average</strong> (default): In decreasing lexicographic order of the average of the lower and upper quantile limits and the upper quantile class limit;</p></li>
<li><p><strong>Optimistic</strong>: In decreasing lexicographic order of the upper and lower quantile class limits;</p></li>
<li><p><strong>Pessimistic</strong>: In decreasing lexicographic order of the lower and upper quantile class limits;</p></li>
</ol>
</div></blockquote>
<div class="literal-block-wrapper docutils container" id="quantilesordering">
<div class="code-block-caption"><span class="caption-number">Listing 1.61 </span><span class="caption-text">Weakly ranking the quintiles sorting result</span><a class="headerlink" href="#quantilesordering" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rqr</span><span class="o">.</span><span class="n">showRatingByQuantilesSorting</span><span class="p">(</span><span class="n">strategy</span><span class="o">=</span><span class="s1">&#39;average&#39;</span><span class="p">)</span>
<span class="linenos"> 2</span><span class="go"> ]0.80-1.00] : [&#39;a22&#39;]</span>
<span class="linenos"> 3</span><span class="go"> ]0.60-0.80] : [&#39;a03&#39;, &#39;a07&#39;, &#39;a11&#39;, &#39;a14&#39;, &#39;a20&#39;, &#39;a29&#39;,</span>
<span class="linenos"> 4</span><span class="go">                &#39;a32&#39;, &#39;a33&#39;, &#39;a37&#39;, &#39;a39&#39;, &#39;a41&#39;, &#39;a42&#39;]</span>
<span class="linenos"> 5</span><span class="go"> ]0.40-0.80] : [&#39;a08&#39;, &#39;a17&#39;, &#39;a19&#39;]</span>
<span class="linenos"> 6</span><span class="go"> ]0.20-0.80] : [&#39;a49&#39;]</span>
<span class="linenos"> 7</span><span class="go"> ]0.40-0.60] : [&#39;a01&#39;, &#39;a02&#39;, &#39;a05&#39;, &#39;a06&#39;, &#39;a09&#39;, &#39;a16&#39;,</span>
<span class="linenos"> 8</span><span class="go">                 &#39;a18&#39;, &#39;a21&#39;, &#39;a24&#39;, &#39;a27&#39;, &#39;a28&#39;, &#39;a30&#39;,</span>
<span class="linenos"> 9</span><span class="go">                 &#39;a31&#39;, &#39;a35&#39;, &#39;a36&#39;, &#39;a40&#39;, &#39;a46&#39;, &#39;a47&#39;,</span>
<span class="linenos">10</span><span class="go">                 &#39;a48&#39;, &#39;a50&#39;]</span>
<span class="linenos">11</span><span class="go"> ]0.20-0.60] : [&#39;a04&#39;, &#39;a43&#39;]</span>
<span class="linenos">12</span><span class="go"> ]0.20-0.40] : [&#39;a10&#39;, &#39;a12&#39;, &#39;a13&#39;, &#39;a15&#39;, &#39;a23&#39;, &#39;a25&#39;,</span>
<span class="linenos">13</span><span class="go">                 &#39;a26&#39;, &#39;a34&#39;, &#39;a38&#39;, &#39;a45&#39;]</span>
<span class="linenos">14</span><span class="go"> ]  &lt; -0.40] : [&#39;a44&#39;]</span>
</pre></div>
</div>
</div>
<p>Following, for instance, the <em>average</em> ranking strategy, we find confirmed in the weak ranking shown in <a class="reference internal" href="#quantilesordering"><span class="std std-numref">Listing 1.61</span></a>,  that alternative <em>a49</em>  is indeed sorted into three adjacent quintiles classes, namely <img class="math" src="_images/math/597775f80f680f982c57963ca9aeca10ac684778.png" alt="]0.20-0.80]"/> (see Line 6) and precedes the <img class="math" src="_images/math/c2e6bcfd92b76606d6fdc20e76376e198146febf.png" alt="]0.40-0.60]"/> class, of same average of lower and upper limits.</p>
</section>
<section id="rating-by-ranking-with-relative-quantile-limits">
<h4><a class="toc-backref" href="#id369" role="doc-backlink"><span class="section-number">1.3.6.3. </span>Rating-by-ranking with relative quantile limits</a><a class="headerlink" href="#rating-by-ranking-with-relative-quantile-limits" title="Link to this heading"></a></h4>
<p>The <em>actions</em> attribute of a <a class="reference internal" href="techDoc.html#ratingDigraphs.RatingByRelativeQuantilesDigraph" title="ratingDigraphs.RatingByRelativeQuantilesDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">RatingByRelativeQuantilesDigraph</span></code></a> class instance contains, besides the <em>decision actions</em> gathered from the given performance tableau (stored in the <em>actionsOrig</em> attribute, also the quantile limits observed on all the criteria (stored in the <em>limitingquantiles</em> attribute, see <a class="reference internal" href="#quantilessorting"><span class="std std-numref">Listing 1.59</span></a> Line 20).</p>
<div class="literal-block-wrapper docutils container" id="quantilelimits">
<div class="code-block-caption"><span class="caption-number">Listing 1.62 </span><span class="caption-text">The quintiling of the performance evaluation data per criterion</span><a class="headerlink" href="#quantilelimits" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rqr</span><span class="o">.</span><span class="n">showCriteriaQuantileLimits</span><span class="p">()</span>
<span class="linenos"> 2</span><span class="go">  Quantile Class Limits (q = 5)</span>
<span class="linenos"> 3</span><span class="go">  Upper-closed classes</span>
<span class="linenos"> 4</span><span class="go">  crit.       0.20    0.40    0.60    0.80    1.00</span>
<span class="linenos"> 5</span><span class="go">  *------------------------------------------------</span>
<span class="linenos"> 6</span><span class="go">   g1         31.35   41.09   58.53   71.91   98.08</span>
<span class="linenos"> 7</span><span class="go">   g2         27.81   39.19   49.87   61.66   96.18</span>
<span class="linenos"> 8</span><span class="go">   g3         25.10   34.78   49.45   63.97   92.59</span>
<span class="linenos"> 9</span><span class="go">   g4         24.61   37.91   53.91   71.02   89.84</span>
<span class="linenos">10</span><span class="go">   g5         26.94   36.43   52.16   72.52   96.25</span>
<span class="linenos">11</span><span class="go">   g6         23.94   44.06   54.92   67.34   95.97</span>
<span class="linenos">12</span><span class="go">   g7         30.94   47.40   55.46   69.04   97.10</span>
</pre></div>
</div>
</div>
<p>We may hence rank this extended actions attribute as follows with the <em>NetFlows</em> ranking rule –default with the <a class="reference internal" href="techDoc.html#ratingDigraphs.RatingByRelativeQuantilesDigraph" title="ratingDigraphs.RatingByRelativeQuantilesDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">RatingByRelativeQuantilesDigraph</span></code></a> class.</p>
<div class="literal-block-wrapper docutils container" id="ratingbyranking">
<div class="code-block-caption"><span class="caption-number">Listing 1.63 </span><span class="caption-text">Rating by ranking the quintiling of the performance tableau</span><a class="headerlink" href="#ratingbyranking" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rqr</span><span class="o">.</span><span class="n">computeNetFlowsRanking</span><span class="p">()</span>
<span class="linenos"> 2</span><span class="go"> [&#39;5-M&#39;, &#39;4-M&#39;, &#39;a22&#39;, &#39;a42&#39;, &#39;a07&#39;, &#39;a33&#39;, &#39;a03&#39;, &#39;a01&#39;,</span>
<span class="linenos"> 3</span><span class="go">  &#39;a39&#39;, &#39;a48&#39;, &#39;a37&#39;, &#39;a29&#39;, &#39;a41&#39;, &#39;a11&#39;, &#39;a27&#39;, &#39;a05&#39;,</span>
<span class="linenos"> 4</span><span class="go">  &#39;a46&#39;, &#39;a02&#39;, &#39;a17&#39;, &#39;a32&#39;, &#39;3-M&#39;, &#39;a14&#39;, &#39;a12&#39;, &#39;a20&#39;,</span>
<span class="linenos"> 5</span><span class="go">  &#39;a13&#39;, &#39;a08&#39;, &#39;a06&#39;, &#39;a24&#39;, &#39;a47&#39;, &#39;a31&#39;, &#39;a09&#39;, &#39;a21&#39;,</span>
<span class="linenos"> 6</span><span class="go">  &#39;a19&#39;, &#39;a43&#39;, &#39;a49&#39;, &#39;a50&#39;, &#39;a40&#39;, &#39;a28&#39;, &#39;a38&#39;, &#39;a25&#39;,</span>
<span class="linenos"> 7</span><span class="go">  &#39;a45&#39;, &#39;a18&#39;, &#39;a16&#39;, &#39;a36&#39;, &#39;a35&#39;, &#39;a30&#39;, &#39;a23&#39;, &#39;a34&#39;,</span>
<span class="linenos"> 8</span><span class="go">  &#39;a15&#39;, &#39;2-M&#39;, &#39;a10&#39;, &#39;a26&#39;, &#39;a04&#39;, &#39;a44&#39;, &#39;1-M&#39;]</span>
<span class="hll"><span class="linenos"> 9</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rqr</span><span class="o">.</span><span class="n">showRatingByQuantilesRanking</span><span class="p">()</span>
</span><span class="hll"><span class="linenos">10</span><span class="go"> *-------- rating by quantiles ranking result ---------</span>
</span><span class="hll"><span class="linenos">11</span><span class="go">  ]0.60 - 0.80] [&#39;a22&#39;, &#39;a42&#39;, &#39;a07&#39;, &#39;a33&#39;, &#39;a03&#39;, &#39;a01&#39;,</span>
</span><span class="hll"><span class="linenos">12</span><span class="go">                 &#39;a39&#39;, &#39;a48&#39;, &#39;a37&#39;, &#39;a29&#39;, &#39;a41&#39;, &#39;a11&#39;,</span>
</span><span class="hll"><span class="linenos">13</span><span class="go">                 &#39;a27&#39;, &#39;a05&#39;, &#39;a46&#39;, &#39;a02&#39;, &#39;a17&#39;, &#39;a32&#39;]</span>
</span><span class="hll"><span class="linenos">14</span><span class="go">  ]0.40 - 0.60] [&#39;a14&#39;, &#39;a12&#39;, &#39;a20&#39;, &#39;a13&#39;, &#39;a08&#39;, &#39;a06&#39;,</span>
</span><span class="hll"><span class="linenos">15</span><span class="go">                 &#39;a24&#39;, &#39;a47&#39;, &#39;a31&#39;, &#39;a09&#39;, &#39;a21&#39;, &#39;a19&#39;,</span>
</span><span class="hll"><span class="linenos">16</span><span class="go">                 &#39;a43&#39;, &#39;a49&#39;, &#39;a50&#39;, &#39;a40&#39;, &#39;a28&#39;, &#39;a38&#39;,</span>
</span><span class="hll"><span class="linenos">17</span><span class="go">                 &#39;a25&#39;, &#39;a45&#39;, &#39;a18&#39;, &#39;a16&#39;, &#39;a36&#39;, &#39;a35&#39;,</span>
</span><span class="hll"><span class="linenos">18</span><span class="go">                 &#39;a30&#39;, &#39;a23&#39;, &#39;a34&#39;, &#39;a15&#39;]</span>
</span><span class="hll"><span class="linenos">19</span><span class="go">  ]0.20 - 0.40] [&#39;a10&#39;, &#39;a26&#39;, &#39;a04&#39;, &#39;a44&#39;]</span>
</span></pre></div>
</div>
</div>
<p>As we are rating into upperclosed quintiles, we obtain from the ranking above an immediate precise rating result. No performance record is rated in the lowest quintile ]0.00 - 0.20] and in the highest quintile ]0.80 - 1.00] and 28 out of the 50 records are rated in the midfiled, i.e. the median quintile ]0.40 - 0.60].</p>
<p>The rating-by-ranking delivers thus a precise quantiling of a given performance tableau. One must however not forget that there does not exist a single optimal ranking rule, and various ranking heuristics may render also various more or less diverging rating results.</p>
<p>Back to <a class="reference internal" href="#tutorial-label"><span class="std std-ref">Content Table</span></a></p>
<hr class="docutils" />
</section>
</section>
<section id="rating-with-learned-performance-quantile-norms">
<span id="learnedrating-tutorial-label"></span><h3><a class="toc-backref" href="#id331" role="doc-backlink"><span class="section-number">1.3.7. </span>Rating with learned performance quantile norms</a><a class="headerlink" href="#rating-with-learned-performance-quantile-norms" title="Link to this heading"></a></h3>
<nav class="contents local" id="id75">
<ul class="simple">
<li><p><a class="reference internal" href="#id76" id="id370">Introduction</a></p></li>
<li><p><a class="reference internal" href="#incremental-learning-of-historical-performance-quantiles" id="id371">Incremental learning of historical performance quantiles</a></p></li>
<li><p><a class="reference internal" href="#rating-by-ranking-new-performances-with-quantile-norms" id="id372">Rating-by-ranking new performances with quantile norms</a></p></li>
</ul>
</nav>
<section id="id76">
<h4><a class="toc-backref" href="#id370" role="doc-backlink"><span class="section-number">1.3.7.1. </span>Introduction</a><a class="headerlink" href="#id76" title="Link to this heading"></a></h4>
<p>In this tutorial we address the problem of <strong>rating multiple criteria performances</strong> of a set of potential decision alternatives with respect to empirical order statistics, i.e. performance quantiles learned from historical performance data gathered from similar decision alternatives observed in the past (see <a class="reference internal" href="#cpstat-l5" id="id77"><span>[CPSTAT-L5]</span></a>).</p>
<p>To illustrate the decision problem we face, consider for a moment that, in a given decision aid study, we observe, for instance in the Table below, the multi-criteria performances of two potential decision alternatives, named <em>a1001</em> and <em>a1010</em>, marked on 7 <strong>incommensurable</strong> preference criteria: 2 <strong>costs</strong> criteria <em>c1</em> and <em>c2</em> (to <strong>minimize</strong>) and 5 <strong>benefits</strong> criteria <em>b1</em> to <em>b5</em> (to <strong>maximize</strong>).</p>
<blockquote>
<div><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Criterion</p></th>
<th class="head"><p>b1</p></th>
<th class="head"><p>b2</p></th>
<th class="head"><p>b3</p></th>
<th class="head"><p>b4</p></th>
<th class="head"><p>b5</p></th>
<th class="head"><p>c1</p></th>
<th class="head"><p>c2</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>weight</p></td>
<td><p>2</p></td>
<td><p>2</p></td>
<td><p>2</p></td>
<td><p>2</p></td>
<td><p>2</p></td>
<td><p>5</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-odd"><td><p><em>a1001</em></p></td>
<td><p>37.0</p></td>
<td><p>2</p></td>
<td><p>2</p></td>
<td><p>61.0</p></td>
<td><p>31.0</p></td>
<td><p>-4</p></td>
<td><p>-40.0</p></td>
</tr>
<tr class="row-even"><td><p><em>a1010</em></p></td>
<td><p>32.0</p></td>
<td><p>9</p></td>
<td><p>6</p></td>
<td><p>55.0</p></td>
<td><p>51.0</p></td>
<td><p>-4</p></td>
<td><p>-35.0</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>The performances on <em>benefits</em> criteria <em>b1</em>, <em>b4</em> and <em>b5</em> are measured on a cardinal scale from 0.0 (worst) to 100.0 (best) whereas, the performances on the <em>benefits</em> criteria <em>b2</em> and <em>b3</em>  and on the <em>cost</em> criterion <em>c1</em> are measured on an ordinal scale from 0 (worst) to 10 (best), respectively -10 (worst) to 0 (best). The performances on the <em>cost</em> criterion <em>c2</em> are again measured on a cardinal negative scale from -100.00 (worst) to 0.0 (best).</p>
<p>The importance (sum of weights) of the <em>costs</em> criteria is <strong>equal</strong> to the importance (sum of weights) of the <em>benefits</em> criteria taken all together.</p>
<p>The non trivial decision problem we now face here, is to decide, how the multiple criteria performances of <em>a1001</em>, respectively <em>a1010</em>,  may be rated (<strong>excellent</strong> ? <strong>good</strong> ?, or <strong>fair</strong> ?; perhaps even, <strong>weak</strong> ? or <strong>very weak</strong> ?) in an <strong>order statistical sense</strong>, when compared with all potential similar multi-criteria performances one has already encountered in the past.</p>
<p>To solve this <em>absolute</em> rating decision problem, first, we need to estimate multi-criteria <strong>performance quantiles</strong> from historical records.</p>
</section>
<section id="incremental-learning-of-historical-performance-quantiles">
<h4><a class="toc-backref" href="#id371" role="doc-backlink"><span class="section-number">1.3.7.2. </span>Incremental learning of historical performance quantiles</a><a class="headerlink" href="#incremental-learning-of-historical-performance-quantiles" title="Link to this heading"></a></h4>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>The technical documentation of the <a class="reference internal" href="techDoc.html#performancequantiles-label"><span class="std std-ref">performanceQuantiles module</span></a>.</p>
</div>
<p>Suppose that we see flying in random multiple criteria performances from a given model of random performance tableau (see the <a class="reference internal" href="techDoc.html#module-randomPerfTabs" title="randomPerfTabs"><code class="xref py py-mod docutils literal notranslate"><span class="pre">randomPerfTabs</span></code></a> module). The question we address here is to estimate empirical performance quantiles on the basis of so far observed performance vectors. For this task, we are inspired by <a class="reference internal" href="#cham-2006" id="id78"><span>[CHAM-2006]</span></a> and <a class="reference internal" href="#nr3-2007" id="id79"><span>[NR3-2007]</span></a>, who present an efficient algorithm for incrementally updating a quantile-binned cumulative distribution function (CDF) with newly observed CDFs.</p>
<p>The <a class="reference internal" href="techDoc.html#performanceQuantiles.PerformanceQuantiles" title="performanceQuantiles.PerformanceQuantiles"><code class="xref py py-class docutils literal notranslate"><span class="pre">PerformanceQuantiles</span></code></a> class implements such a performance quantiles estimation based on a given performance tableau. Its main components are:</p>
<blockquote>
<div><ul class="simple">
<li><p>Ordered <strong>objectives</strong> and a <strong>criteria</strong> dictionaries from a valid performance tableau instance;</p></li>
<li><p>A list <strong>quantileFrequencies</strong> of quantile frequencies like <em>quartiles</em> [0.0, 0.25, 05, 0.75,1.0], <em>quintiles</em> [0.0, 0.2, 0.4, 0.6, 0.8, 1.0] or <em>deciles</em> [0.0, 0.1, 0.2, … 1.0] for instance;</p></li>
<li><p>An ordered  dictionary <strong>limitingQuantiles</strong> of so far estimated <em>lower</em> (default) or <em>upper</em> quantile class limits for each frequency per criterion;</p></li>
<li><p>An ordered dictionary <strong>historySizes</strong> for keeping track of the number of evaluations seen so far per criterion. Missing data may make these sizes vary from criterion to criterion.</p></li>
</ul>
</div></blockquote>
<p>Below, an example Python session concerning 900 decision alternatives randomly generated from a <em>Cost-Benefit</em> Performance tableau model from which are also drawn the performances of alternatives <em>a1001</em> and <em>a1010</em> above.</p>
<div class="literal-block-wrapper docutils container" id="perfquantiles">
<div class="code-block-caption"><span class="caption-number">Listing 1.64 </span><span class="caption-text">Computing performance quantiles from a given performance tableau</span><a class="headerlink" href="#perfquantiles" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">performanceQuantiles</span> <span class="kn">import</span> <span class="n">PerformanceQuantiles</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">randomPerfTabs</span> <span class="kn">import</span> <span class="n">RandomCBPerformanceTableau</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">nbrActions</span><span class="o">=</span><span class="mi">900</span>
<span class="linenos"> 4</span><span class="gp">&gt;&gt;&gt; </span><span class="n">nbrCrit</span> <span class="o">=</span> <span class="mi">7</span>
<span class="linenos"> 5</span><span class="gp">&gt;&gt;&gt; </span><span class="n">seed</span> <span class="o">=</span> <span class="mi">100</span>
<span class="linenos"> 6</span><span class="gp">&gt;&gt;&gt; </span><span class="n">tp</span> <span class="o">=</span> <span class="n">RandomCBPerformanceTableau</span><span class="p">(</span><span class="n">numberOfActions</span><span class="o">=</span><span class="n">nbrActions</span><span class="p">,</span>
<span class="linenos"> 7</span><span class="gp">... </span>                 <span class="n">numberOfCriteria</span><span class="o">=</span><span class="n">nbrCrit</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="n">seed</span><span class="p">)</span>
<span class="linenos"> 8</span>
<span class="linenos"> 9</span><span class="gp">&gt;&gt;&gt; </span><span class="n">pq</span> <span class="o">=</span> <span class="n">PerformanceQuantiles</span><span class="p">(</span><span class="n">tp</span><span class="p">,</span>
<span class="hll"><span class="linenos">10</span><span class="gp">... </span>                  <span class="n">numberOfBins</span> <span class="o">=</span> <span class="s1">&#39;quartiles&#39;</span><span class="p">,</span>
</span><span class="linenos">11</span><span class="gp">... </span>                  <span class="n">LowerClosed</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos">12</span>
<span class="linenos">13</span><span class="gp">&gt;&gt;&gt; </span><span class="n">pq</span>
<span class="linenos">14</span><span class="go"> *------- PerformanceQuantiles instance description ------*</span>
<span class="linenos">15</span><span class="go"> Instance class   : PerformanceQuantiles</span>
<span class="linenos">16</span><span class="go"> Instance name    : 4-tiled_performances</span>
<span class="linenos">17</span><span class="go"> # Objectives     : 2</span>
<span class="linenos">18</span><span class="go"> # Criteria       : 7</span>
<span class="linenos">19</span><span class="go"> # Quantiles      : 4</span>
<span class="linenos">20</span><span class="go"> # History sizes  : {&#39;c1&#39;: 887, &#39;b1&#39;: 888, &#39;b2&#39;: 891, &#39;b3&#39;: 895,</span>
<span class="linenos">21</span><span class="go">                     &#39;b4&#39;: 892, &#39;c2&#39;: 893, &#39;b5&#39;: 887}</span>
<span class="linenos">22</span><span class="go"> Attributes       : [&#39;perfTabType&#39;, &#39;valueDigits&#39;, &#39;actionsTypeStatistics&#39;,</span>
<span class="linenos">23</span><span class="go">                     &#39;objectives&#39;, &#39;BigData&#39;, &#39;missingDataProbability&#39;,</span>
<span class="linenos">24</span><span class="go">                     &#39;criteria&#39;, &#39;LowerClosed&#39;, &#39;name&#39;,</span>
<span class="linenos">25</span><span class="go">                     &#39;quantilesFrequencies&#39;, &#39;historySizes&#39;,</span>
<span class="linenos">26</span><span class="go">                     &#39;limitingQuantiles&#39;, &#39;cdf&#39;]</span>
</pre></div>
</div>
</div>
<p>The <a class="reference internal" href="techDoc.html#performanceQuantiles.PerformanceQuantiles" title="performanceQuantiles.PerformanceQuantiles"><code class="xref py py-class docutils literal notranslate"><span class="pre">PerformanceQuantiles</span></code></a> class parameter <em>numberOfBins</em> (see <a class="reference internal" href="#perfquantiles"><span class="std std-numref">Listing 1.64</span></a> Line 10 above), choosing the wished number of quantile frequencies, may be either <strong>quartiles</strong> (4 bins), <strong>quintiles</strong> (5 bins), <strong>deciles</strong> (10 bins), <strong>dodeciles</strong> (20 bins) or any other integer number of quantile bins. The quantile bins may be either <strong>lower closed</strong> (default) or <strong>upper-closed</strong>.</p>
<div class="literal-block-wrapper docutils container" id="limitingquartiles">
<div class="code-block-caption"><span class="caption-number">Listing 1.65 </span><span class="caption-text">Printing out the estimated quartile limits</span><a class="headerlink" href="#limitingquartiles" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">pq</span><span class="o">.</span><span class="n">showLimitingQuantiles</span><span class="p">(</span><span class="n">ByObjectives</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos"> 2</span><span class="go"> ----  Historical performance quantiles -----*</span>
<span class="linenos"> 3</span><span class="go"> Costs</span>
<span class="linenos"> 4</span><span class="go"> criteria | weights |  &#39;0.00&#39;   &#39;0.25&#39;   &#39;0.50&#39;   &#39;0.75&#39;   &#39;1.00&#39;</span>
<span class="linenos"> 5</span><span class="go"> ---------|-------------------------------------------------------</span>
<span class="linenos"> 6</span><span class="go">    &#39;c1&#39;  |    5    |   -10      -7       -5       -3        0</span>
<span class="linenos"> 7</span><span class="go">    &#39;c2&#39;  |    5    | -96.37   -70.65   -50.10   -30.00    -1.43</span>
<span class="linenos"> 8</span><span class="go"> Benefits</span>
<span class="linenos"> 9</span><span class="go"> criteria | weights | &#39;0.00&#39;   &#39;0.25&#39;   &#39;0.50&#39;   &#39;0.75&#39;    &#39;1.00&#39;</span>
<span class="linenos">10</span><span class="go"> ---------|-------------------------------------------------------</span>
<span class="linenos">11</span><span class="go">    &#39;b1&#39;  |    2    |  1.99    29.82    49,44     70.73    99.83</span>
<span class="linenos">12</span><span class="go">    &#39;b2&#39;  |    2    |    0       3        5        7        10</span>
<span class="linenos">13</span><span class="go">    &#39;b3&#39;  |    2    |    0       3        5        7        10</span>
<span class="linenos">14</span><span class="go">    &#39;b4&#39;  |    2    |  3.27    30.10    50.82     70.89    98.05</span>
<span class="linenos">15</span><span class="go">    &#39;b5&#39;  |    2    |  0.85    29.08    48.55     69.98    97.56</span>
</pre></div>
</div>
</div>
<p>Both objectives are <strong>equi-important</strong>; the sum of weights (10) of the <em>costs</em> criteria balance the sum of weights (10) of the <em>benefits</em> criteria (see <a class="reference internal" href="#limitingquartiles"><span class="std std-numref">Listing 1.65</span></a> column 2). The preference direction of the <em>costs</em> criteria <em>c1</em> and <em>c2</em> is <strong>negative</strong>; the lesser the costs the better it is, whereas all the <em>benefits</em> criteria <em>b1</em> to <em>b5</em> show <strong>positive</strong> preference directions, i.e. the higher the benefits the better it is. The columns entitled ‘0.00’, resp. ‘1.00’ show the <em>quartile</em> <em>Q0</em>, resp. <em>Q4</em>, i.e. the <strong>worst</strong>, resp. <strong>best</strong> performance observed so far on each criterion. Column ‘0.50’ shows the <strong>median</strong> (<em>Q2</em>) performance observed on the criteria.</p>
<p>New  decision alternatives with random multiple criteria performance vectors from the same random performance tableau model may now be generated with ad hoc random performance generators. We provide for experimental purpose, in the <a class="reference internal" href="techDoc.html#module-randomPerfTabs" title="randomPerfTabs"><code class="xref py py-mod docutils literal notranslate"><span class="pre">randomPerfTabs</span></code></a> module, three such generators: one for the standard <a class="reference internal" href="techDoc.html#randomPerfTabs.RandomPerformanceTableau" title="randomPerfTabs.RandomPerformanceTableau"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomPerformanceTableau</span></code></a> model, one the for the two objectives <a class="reference internal" href="techDoc.html#randomPerfTabs.RandomCBPerformanceTableau" title="randomPerfTabs.RandomCBPerformanceTableau"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomCBPerformanceTableau</span></code></a> Cost-Benefit model, and one for the <a class="reference internal" href="techDoc.html#randomPerfTabs.Random3ObjectivesPerformanceTableau" title="randomPerfTabs.Random3ObjectivesPerformanceTableau"><code class="xref py py-class docutils literal notranslate"><span class="pre">Random3ObjectivesPerformanceTableau</span></code></a> model with three objectives concerning respectively  economic, environmental or social aspects.</p>
<p>Given a new Performance Tableau with 100 new decision alternatives, the so far estimated historical quantile limits may be updated as follows:</p>
<div class="literal-block-wrapper docutils container" id="perfgenerator">
<div class="code-block-caption"><span class="caption-number">Listing 1.66 </span><span class="caption-text">Generating 100 new random decision alternatives of the same model</span><a class="headerlink" href="#perfgenerator" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">randomPerfTabs</span> <span class="kn">import</span> <span class="n">RandomPerformanceGenerator</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rpg</span> <span class="o">=</span> <span class="n">RandomPerformanceGenerator</span><span class="p">(</span><span class="n">tp</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="n">seed</span><span class="p">)</span>
<span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">newTab</span> <span class="o">=</span> <span class="n">rpg</span><span class="o">.</span><span class="n">randomPerformanceTableau</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="linenos">4</span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Updating the quartile norms shown above</span>
<span class="hll"><span class="linenos">5</span><span class="gp">&gt;&gt;&gt; </span><span class="n">pq</span><span class="o">.</span><span class="n">updateQuantiles</span><span class="p">(</span><span class="n">newTab</span><span class="p">,</span><span class="n">historySize</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</span></pre></div>
</div>
</div>
<p>Parameter <em>historySize</em> (see <a class="reference internal" href="#perfgenerator"><span class="std std-numref">Listing 1.66</span></a> Line 5) of the <a class="reference internal" href="techDoc.html#performanceQuantiles.PerformanceQuantiles.updateQuantiles" title="performanceQuantiles.PerformanceQuantiles.updateQuantiles"><code class="xref py py-meth docutils literal notranslate"><span class="pre">updateQuantiles()</span></code></a> method allows to <strong>balance</strong> the <strong>new</strong> evaluations against the <strong>historical</strong> ones. With <strong>historySize = None</strong> (the default setting), the balance in the example above is 900/1000 (90%, weight of historical data) against 100/1000 (10%, weight of the new incoming observations). Putting <strong>historySize = 0</strong>, for instance, will ignore all historical data (0/100 against 100/100) and restart building the quantile estimation with solely the new incoming data. The updated quantile limits may be shown in a browser view (see <a class="reference internal" href="#exampleperfquantiles"><span class="std std-numref">Fig. 1.31</span></a>).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># showing the updated quantile limits in a browser view</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">pq</span><span class="o">.</span><span class="n">showHTMLLimitingQuantiles</span><span class="p">(</span><span class="n">Transposed</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="exampleperfquantiles">
<a class="reference internal image-reference" href="_images/examplePerfQuantiles.png"><img alt="Example limiting quantiles html show method" src="_images/examplePerfQuantiles.png" style="width: 400px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.31 </span><span class="caption-text">Showing the updated quartiles limits</span><a class="headerlink" href="#exampleperfquantiles" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="rating-by-ranking-new-performances-with-quantile-norms">
<h4><a class="toc-backref" href="#id372" role="doc-backlink"><span class="section-number">1.3.7.3. </span>Rating-by-ranking new performances with quantile norms</a><a class="headerlink" href="#rating-by-ranking-new-performances-with-quantile-norms" title="Link to this heading"></a></h4>
<p>For <strong>absolute</strong> <em>rating</em> of a newly given set of decision alternatives with the help of empirical performance quantiles estimated from historical data, we provide the <a class="reference internal" href="techDoc.html#ratingDigraphs.RatingByLearnedQuantilesDigraph" title="ratingDigraphs.RatingByLearnedQuantilesDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">RatingByLearnedQuantilesDigraph</span></code></a> class from the <a class="reference internal" href="techDoc.html#module-ratingDigraphs" title="ratingDigraphs"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ratingDigraphs</span></code></a> module. The rating result is computed by <strong>ranking</strong> the new performance records together with the learned quantile limits. The constructor requires a valid <a class="reference internal" href="techDoc.html#performanceQuantiles.PerformanceQuantiles" title="performanceQuantiles.PerformanceQuantiles"><code class="xref py py-class docutils literal notranslate"><span class="pre">PerformanceQuantiles</span></code></a> instance.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is important to notice that the <a class="reference internal" href="techDoc.html#ratingDigraphs.RatingByLearnedQuantilesDigraph" title="ratingDigraphs.RatingByLearnedQuantilesDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">RatingByLearnedQuantilesDigraph</span></code></a> class, contrary to the generic <a class="reference internal" href="techDoc.html#outrankingDigraphs.OutrankingDigraph" title="outrankingDigraphs.OutrankingDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">OutrankingDigraph</span></code></a> class, does not only inherit from the generic <a class="reference internal" href="techDoc.html#perfTabs.PerformanceTableau" title="perfTabs.PerformanceTableau"><code class="xref py py-class docutils literal notranslate"><span class="pre">PerformanceTableau</span></code></a> class, but also from the <a class="reference internal" href="techDoc.html#performanceQuantiles.PerformanceQuantiles" title="performanceQuantiles.PerformanceQuantiles"><code class="xref py py-class docutils literal notranslate"><span class="pre">PerformanceQuantiles</span></code></a> class. The <strong>actions</strong> in such a <a class="reference internal" href="techDoc.html#ratingDigraphs.RatingByLearnedQuantilesDigraph" title="ratingDigraphs.RatingByLearnedQuantilesDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">RatingByLearnedQuantilesDigraph</span></code></a> instance do not contain only the newly given decision alternatives, but also the historical quantile profiles obtained from a given <a class="reference internal" href="techDoc.html#performanceQuantiles.PerformanceQuantiles" title="performanceQuantiles.PerformanceQuantiles"><code class="xref py py-class docutils literal notranslate"><span class="pre">PerformanceQuantiles</span></code></a> instance, i.e. estimated quantile bins’ performance limits from historical performance data.</p>
</div>
<p>We reconsider the <a class="reference internal" href="techDoc.html#performanceQuantiles.PerformanceQuantiles" title="performanceQuantiles.PerformanceQuantiles"><code class="xref py py-class docutils literal notranslate"><span class="pre">PerformanceQuantiles</span></code></a> object instance <em>pq</em> as computed in the previous section. Let <em>newActions</em> be a list of 10 new decision alternatives generated with the same random performance tableau model and including the two decision alternatives <em>a1001</em> and <em>a1010</em> mentioned at the beginning.</p>
<div class="literal-block-wrapper docutils container" id="normedratinggraph">
<div class="code-block-caption"><span class="caption-number">Listing 1.67 </span><span class="caption-text">Computing an absolute rating of 10 new decision alternatives</span><a class="headerlink" href="#normedratinggraph" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ratingDigraphs</span> <span class="kn">import</span>\
<span class="linenos"> 2</span><span class="gp">... </span>                <span class="n">RatingByLearnedQuantilesDigraph</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">newActions</span> <span class="o">=</span> <span class="n">rpg</span><span class="o">.</span><span class="n">randomActions</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="hll"><span class="linenos"> 4</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lqr</span> <span class="o">=</span> <span class="n">RatingByLearnedQuantilesDigraph</span><span class="p">(</span><span class="n">pq</span><span class="p">,</span><span class="n">newActions</span><span class="p">,</span>
</span><span class="hll"><span class="linenos"> 5</span><span class="gp">... </span>                                      <span class="n">rankingRule</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">)</span>
</span><span class="linenos"> 6</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lqr</span>
<span class="linenos"> 7</span><span class="go"> *-----  Object instance description -----------*</span>
<span class="linenos"> 8</span><span class="go"> Instance class      : RatingByLearnedQuantilesDigraph</span>
<span class="linenos"> 9</span><span class="go"> Instance name       : learnedRatingDigraph</span>
<span class="linenos">10</span><span class="go"> Actions             : 14</span>
<span class="linenos">11</span><span class="go"> Criteria            : 7</span>
<span class="linenos">12</span><span class="go"> Quantiles           : 4</span>
<span class="linenos">13</span><span class="go"> Lowerclosed         : True</span>
<span class="linenos">14</span><span class="go"> Rankingrule         : Copeland</span>
<span class="linenos">15</span><span class="go"> Size                : 93</span>
<span class="linenos">16</span><span class="go"> Valuation domain    : [-1.00;1.00]</span>
<span class="linenos">17</span><span class="go"> Determinateness (%): 76.09</span>
<span class="linenos">18</span><span class="go"> Attributes          : [&#39;runTimes&#39;, &#39;objectives&#39;, &#39;criteria&#39;,</span>
<span class="linenos">19</span><span class="go">    &#39;LowerClosed&#39;, &#39;quantilesFrequencies&#39;, &#39;criteriaCategoryLimits&#39;,</span>
<span class="linenos">20</span><span class="go">    &#39;limitingQuantiles&#39;, &#39;historySizes&#39;, &#39;cdf&#39;, &#39;NA&#39;, &#39;name&#39;,</span>
<span class="linenos">21</span><span class="go">    &#39;newActions&#39;, &#39;evaluation&#39;, &#39;actionsOrig&#39;, &#39;actions&#39;,</span>
<span class="linenos">22</span><span class="go">    &#39;categories&#39;, &#39;profiles&#39;, &#39;profileLimits&#39;, &#39;order&#39;,</span>
<span class="linenos">23</span><span class="go">    &#39;nbrThreads&#39;, &#39;relation&#39;, &#39;valuationdomain&#39;, &#39;sorting&#39;,</span>
<span class="linenos">24</span><span class="go">    &#39;relativeCategoryContent&#39;, &#39;sortingRelation&#39;, &#39;rankingRule&#39;,</span>
<span class="linenos">25</span><span class="go">    &#39;rankingCorrelation&#39;, &#39;rankingScores&#39;, &#39;actionsRanking&#39;,</span>
<span class="linenos">26</span><span class="go">    &#39;ratingCategories&#39;]</span>
<span class="linenos">27</span><span class="go"> *------  Constructor run times (in sec.) ------*</span>
<span class="linenos">28</span><span class="go"> Threads             : 1</span>
<span class="linenos">29</span><span class="go"> Total time          : 0.03680</span>
<span class="linenos">30</span><span class="go"> Data input          : 0.00119</span>
<span class="linenos">31</span><span class="go"> Compute quantiles   : 0.00014</span>
<span class="linenos">32</span><span class="go"> Compute outrankings : 0.02771</span>
<span class="linenos">33</span><span class="go"> rating-by-sorting   : 0.00033</span>
<span class="linenos">34</span><span class="go"> rating-by-ranking   : 0.00742</span>
</pre></div>
</div>
</div>
<p>Data input to the <a class="reference internal" href="techDoc.html#ratingDigraphs.RatingByLearnedQuantilesDigraph" title="ratingDigraphs.RatingByLearnedQuantilesDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">RatingByLearnedQuantilesDigraph</span></code></a> class constructor (see <a class="reference internal" href="#normedratinggraph"><span class="std std-numref">Listing 1.67</span></a> Line 4) are a valid PerformanceQuantiles object <em>pq</em> and a compatible list <em>newActions</em> of new decision alternatives generated from the same random origin.</p>
<p>Let us have a look at the digraph’s nodes, here called <strong>newActions</strong>.</p>
<div class="literal-block-wrapper docutils container" id="newperftab">
<div class="code-block-caption"><span class="caption-number">Listing 1.68 </span><span class="caption-text">Performance tableau of the new incoming decision alternatives</span><a class="headerlink" href="#newperftab" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lqr</span><span class="o">.</span><span class="n">showPerformanceTableau</span><span class="p">(</span><span class="n">actionsSubset</span><span class="o">=</span><span class="n">lqr</span><span class="o">.</span><span class="n">newActions</span><span class="p">)</span>
<span class="linenos"> 2</span><span class="go"> *----  performance tableau -----*</span>
<span class="linenos"> 3</span><span class="go"> criteria | a1001 a1002 a1003 a1004 a1005 a1006 a1007 a1008 a1009 a1010</span>
<span class="linenos"> 4</span><span class="go"> ---------|-------------------------------------------------------------</span>
<span class="linenos"> 5</span><span class="go">    &#39;b1&#39;  |  37.0  27.0  24.0  16.0  42.0  33.0  39.0  64.0  42.0  32.0</span>
<span class="linenos"> 6</span><span class="go">    &#39;b2&#39;  |   2.0   5.0   8.0   3.0   3.0   3.0   6.0   5.0   4.0   9.0</span>
<span class="linenos"> 7</span><span class="go">    &#39;b3&#39;  |   2.0   4.0   2.0   1.0   6.0   3.0   2.0   6.0   6.0   6.0</span>
<span class="linenos"> 8</span><span class="go">    &#39;b4&#39;  |  61.0  54.0  74.0  25.0  28.0  20.0  20.0  49.0  44.0  55.0</span>
<span class="linenos"> 9</span><span class="go">    &#39;b5&#39;  |  31.0  63.0  61.0  48.0  30.0  39.0  16.0  96.0  57.0  51.0</span>
<span class="linenos">10</span><span class="go">    &#39;c1&#39;  |  -4.0  -6.0  -8.0  -5.0  -1.0  -5.0  -1.0  -6.0  -6.0  -4.0</span>
<span class="linenos">11</span><span class="go">    &#39;c2&#39;  | -40.0 -23.0 -37.0 -37.0 -24.0 -27.0 -73.0 -43.0 -94.0 -35.0</span>
</pre></div>
</div>
</div>
<p>Among the 10 new incoming decision alternatives (see <a class="reference internal" href="#newperftab"><span class="std std-numref">Listing 1.68</span></a>), we recognize alternatives <em>a1001</em> (see column 2) and <em>a1010</em> (see last column) we have mentioned in our introduction.</p>
<p>The <a class="reference internal" href="techDoc.html#ratingDigraphs.RatingByLearnedQuantilesDigraph" title="ratingDigraphs.RatingByLearnedQuantilesDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">RatingByLearnedQuantilesDigraph</span></code></a> class instance’s <em>actions</em> dictionary includes as well the closed lower limits of the four quartile classes: <em>m1</em> = [0.0- [, <em>m2</em> = [0.25- [, <em>m3</em> = [0.5- [, <em>m4</em> = [0.75 - [. We find these limits in a <em>profiles</em> attribute (see <a class="reference internal" href="#limitingprofiles"><span class="std std-numref">Listing 1.69</span></a> below).</p>
<div class="literal-block-wrapper docutils container" id="limitingprofiles">
<div class="code-block-caption"><span class="caption-number">Listing 1.69 </span><span class="caption-text">Showing the limiting profiles of the rating quantiles</span><a class="headerlink" href="#limitingprofiles" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lqr</span><span class="o">.</span><span class="n">showPerformanceTableau</span><span class="p">(</span><span class="n">actionsSubset</span><span class="o">=</span><span class="n">lqr</span><span class="o">.</span><span class="n">profiles</span><span class="p">)</span>
<span class="linenos"> 2</span><span class="go"> *----  Quartiles limit profiles -----*</span>
<span class="linenos"> 3</span><span class="go"> criteria |  &#39;m1&#39;   &#39;m2&#39;   &#39;m3&#39;   &#39;m4&#39;</span>
<span class="linenos"> 4</span><span class="go"> ---------|----------------------------</span>
<span class="linenos"> 5</span><span class="go">    &#39;b1&#39;  |  2.0    28.8   49.6   75.3</span>
<span class="linenos"> 6</span><span class="go">    &#39;b2&#39;  |  0.0     2.9    4.9    6.7</span>
<span class="linenos"> 7</span><span class="go">    &#39;b3&#39;  |  0.0     2.9    4.9    8.0</span>
<span class="linenos"> 8</span><span class="go">    &#39;b4&#39;  |  3.3    35.9   58.6   72.0</span>
<span class="linenos"> 9</span><span class="go">    &#39;b5&#39;  |  0.8    32.8   48.1   69.7</span>
<span class="linenos">10</span><span class="go">    &#39;c1&#39;  | -10.0   -7.4   -5.4   -3.4</span>
<span class="linenos">11</span><span class="go">    &#39;c2&#39;  | -96.4  -72.2  -52.3  -34.0</span>
</pre></div>
</div>
</div>
<p>The main run time (see <a class="reference internal" href="#normedratinggraph"><span class="std std-numref">Listing 1.67</span></a> Lines 27-) is spent by the class constructor in computing a bipolar-valued outranking relation on the extended actions set including both the new alternatives as well as the quartile class limits. In case of large volumes, i.e. many new decision alternatives and centile classes for instance, a multi-threading version may be used when multiple processing cores are available (see the technical description of the <a class="reference internal" href="techDoc.html#ratingDigraphs.RatingByLearnedQuantilesDigraph" title="ratingDigraphs.RatingByLearnedQuantilesDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">RatingByLearnedQuantilesDigraph</span></code></a> class).</p>
<p>The actual rating procedure will rely on a complete ranking of the new decision alternatives as well as the quantile class limits obtained from the corresponding bipolar-valued outranking digraph. Two efficient and scalable ranking rules, the <strong>Copeland</strong> and its valued version, the <strong>Netflows</strong> rule may be used for this purpose. The <em>rankingRule</em> parameter allows to choose one of both. With <em>rankingRule=’best’</em> (see <a class="reference internal" href="#limitingprofiles"><span class="std std-numref">Listing 1.69</span></a> Line 4) the <a class="reference internal" href="techDoc.html#ratingDigraphs.RatingByLearnedQuantilesDigraph" title="ratingDigraphs.RatingByLearnedQuantilesDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">RatingByLearnedQuantilesDigraph</span></code></a> constructor will choose the ranking rule that results in the highest ordinal correlation with the given outranking relation (see <a class="reference internal" href="#bis-2012" id="id80"><span>[BIS-2012]</span></a>).</p>
<p>In this rating example, the <em>Copeland</em> rule appears to be the more appropriate ranking rule.</p>
<div class="literal-block-wrapper docutils container" id="rankingcorrelation">
<div class="code-block-caption"><span class="caption-number">Listing 1.70 </span><span class="caption-text">Copeland ranking of new alternatives and historical quartile limits</span><a class="headerlink" href="#rankingcorrelation" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lqr</span><span class="o">.</span><span class="n">rankingRule</span>
<span class="linenos"> 2</span><span class="go"> &#39;Copeland&#39;</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lqr</span><span class="o">.</span><span class="n">actionsRanking</span>
<span class="linenos"> 4</span><span class="go"> [&#39;m4&#39;, &#39;a1005&#39;, &#39;a1010&#39;, &#39;a1002&#39;, &#39;a1008&#39;, &#39;a1006&#39;, &#39;a1001&#39;,</span>
<span class="linenos"> 5</span><span class="go">  &#39;a1003&#39;, &#39;m3&#39;, &#39;a1007&#39;, &#39;a1004&#39;, &#39;a1009&#39;, &#39;m2&#39;, &#39;m1&#39;]</span>
<span class="linenos"> 6</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lqr</span><span class="o">.</span><span class="n">showCorrelation</span><span class="p">(</span><span class="n">lqr</span><span class="o">.</span><span class="n">rankingCorrelation</span><span class="p">)</span>
<span class="linenos"> 7</span><span class="go"> Correlation indexes:</span>
<span class="linenos"> 8</span><span class="go">  Crisp ordinal correlation  : +0.945</span>
<span class="linenos"> 9</span><span class="go">  Epistemic determination    :  0.522</span>
<span class="linenos">10</span><span class="go">  Bipolar-valued equivalence : +0.493</span>
</pre></div>
</div>
</div>
<p>We achieve here (see <a class="reference internal" href="#rankingcorrelation"><span class="std std-numref">Listing 1.70</span></a>) a linear ranking without ties (from best to worst) of the digraph’s actions set, i.e. including the new decision alternatives as well as the quartile limits <em>m1</em> to <em>m4</em>, which is very close in an ordinal sense <img class="math" src="_images/math/73dad18f07e25c58155cefad220ace3b91d4cbbb.png" alt="(\tau = 0.945)"/> to the underlying strict outranking relation.</p>
<p>The eventual rating procedure is based in this example on the <em>lower</em> quartile limits, such that we may collect the quartile classes’ contents in increasing order of the <em>quartiles</em>.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lqr</span><span class="o">.</span><span class="n">ratingCategories</span>
<span class="linenos">2</span><span class="go"> OrderedDict([</span>
<span class="linenos">3</span><span class="go"> (&#39;m2&#39;, [&#39;a1007&#39;,&#39;a1004&#39;,&#39;a1009&#39;]),</span>
<span class="linenos">4</span><span class="go"> (&#39;m3&#39;, [&#39;a1005&#39;,&#39;a1010&#39;,&#39;a1002&#39;,&#39;a1008&#39;,&#39;a1006&#39;,&#39;a1001&#39;,&#39;a1003&#39;])</span>
<span class="linenos">5</span><span class="go"> ])</span>
</pre></div>
</div>
<p>We notice above that no new decision alternatives are actually rated in the lowest [0.0-0.25[, respectively highest [0.75- [ quartile classes. Indeed, the rating result is shown, in descending order, as follows:</p>
<div class="literal-block-wrapper docutils container" id="quartilesratingresult">
<div class="code-block-caption"><span class="caption-number">Listing 1.71 </span><span class="caption-text">Showing a quantiles rating result</span><a class="headerlink" href="#quartilesratingresult" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lqr</span><span class="o">.</span><span class="n">showRatingByQuantilesRanking</span><span class="p">()</span>
<span class="linenos">2</span><span class="go"> *-------- rating by quantiles ranking result ---------</span>
<span class="linenos">3</span><span class="go"> [0.50 - 0.75[ [&#39;a1005&#39;, &#39;a1010&#39;, &#39;a1002&#39;, &#39;a1008&#39;,</span>
<span class="linenos">4</span><span class="go">                &#39;a1006&#39;, &#39;a1001&#39;, &#39;a1003&#39;]</span>
<span class="linenos">5</span><span class="go"> [0.25 - 0.50[ [&#39;a1004&#39;, &#39;a1007&#39;, &#39;a1009&#39;]</span>
</pre></div>
</div>
</div>
<p>The same result may more conveniently be consulted in a browser view via a specialised rating heatmap format ( see <code class="xref py py-meth docutils literal notranslate"><span class="pre">showHTMLPerformanceHeatmap()</span></code> method (see <a class="reference internal" href="#heatmap1"><span class="std std-numref">Fig. 1.32</span></a>).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lqr</span><span class="o">.</span><span class="n">showHTMLRatingHeatmap</span><span class="p">(</span>
<span class="linenos">2</span><span class="gp">... </span>           <span class="n">pageTitle</span><span class="o">=</span><span class="s1">&#39;Heatmap of Quartiles Rating&#39;</span><span class="p">,</span>
<span class="linenos">3</span><span class="gp">... </span>           <span class="n">Correlations</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">colorLevels</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="heatmap1">
<a class="reference internal image-reference" href="_images/heatMap1.png"><img alt="heatmap of Absolute Quartiles Rating" src="_images/heatMap1.png" style="width: 400px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.32 </span><span class="caption-text">Heatmap of absolute quartiles ranking</span><a class="headerlink" href="#heatmap1" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Using furthermore a specialised version of the <a class="reference internal" href="techDoc.html#transitiveDigraphs.TransitiveDigraph.exportGraphViz" title="transitiveDigraphs.TransitiveDigraph.exportGraphViz"><code class="xref py py-meth docutils literal notranslate"><span class="pre">exportGraphViz()</span></code></a> method allows drawing the same rating result in a Hasse diagram format (see <a class="reference internal" href="#normedratingdigraph"><span class="std std-numref">Fig. 1.33</span></a>).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lqr</span><span class="o">.</span><span class="n">exportRatingByRankingGraphViz</span><span class="p">(</span><span class="s1">&#39;normedRatingDigraph&#39;</span><span class="p">)</span>
<span class="linenos">2</span><span class="go"> *---- exporting a dot file for GraphViz tools ---------*</span>
<span class="linenos">3</span><span class="go">  Exporting to normedRatingDigraph.dot</span>
<span class="linenos">4</span><span class="go">  dot -Grankdir=TB -Tpng normedRatingDigraph.dot -o normedRatingDigraph.png</span>
</pre></div>
</div>
<figure class="align-center" id="normedratingdigraph">
<a class="reference internal image-reference" href="_images/normedRatingDigraph.png"><img alt="drawing of absolute Quartiles Rating Digraph" src="_images/normedRatingDigraph.png" style="width: 500px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.33 </span><span class="caption-text">Absolute quartiles rating digraph</span><a class="headerlink" href="#normedratingdigraph" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>We may now answer the <strong>absolute rating decision problem</strong> stated at the beginning. Decision alternative <em>a1001</em> and alternative <em>a1010</em> (see below) are both rated into the same quartile <strong>Q3</strong> class (see <a class="reference internal" href="#normedratingdigraph"><span class="std std-numref">Fig. 1.33</span></a>), even if the <em>Copeland</em> ranking, obtained from the underlying strict outranking digraph (see <a class="reference internal" href="#heatmap1"><span class="std std-numref">Fig. 1.32</span></a>), suggests that alternative <em>a1010</em> is effectively <em>better performing than</em> alternative <em>a1001</em>.</p>
<blockquote>
<div><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Criterion</p></th>
<th class="head"><p>b1</p></th>
<th class="head"><p>b2</p></th>
<th class="head"><p>b3</p></th>
<th class="head"><p>b4</p></th>
<th class="head"><p>b5</p></th>
<th class="head"><p>c1</p></th>
<th class="head"><p>c2</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>weight</p></td>
<td><p>2</p></td>
<td><p>2</p></td>
<td><p>2</p></td>
<td><p>2</p></td>
<td><p>2</p></td>
<td><p>5</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-odd"><td><p><em>a1001</em></p></td>
<td><p>37.0</p></td>
<td><p>2</p></td>
<td><p>2</p></td>
<td><p>61.0</p></td>
<td><p>31.0</p></td>
<td><p>-4</p></td>
<td><p>-40.0</p></td>
</tr>
<tr class="row-even"><td><p><em>a1010</em></p></td>
<td><p>32.0</p></td>
<td><p>9</p></td>
<td><p>6</p></td>
<td><p>55.0</p></td>
<td><p>51.0</p></td>
<td><p>-4</p></td>
<td><p>-35.0</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>A preciser rating result may indeed be achieved when using <strong>deciles</strong> instead of <em>quartiles</em> for estimating the historical marginal cumulative distribution functions.</p>
<div class="literal-block-wrapper docutils container" id="decilesrating">
<div class="code-block-caption"><span class="caption-number">Listing 1.72 </span><span class="caption-text">Absolute deciles rating result</span><a class="headerlink" href="#decilesrating" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">pq1</span> <span class="o">=</span> <span class="n">PerformanceQuantiles</span><span class="p">(</span><span class="n">tp</span><span class="p">,</span> <span class="n">numberOfBins</span> <span class="o">=</span> <span class="s1">&#39;deciles&#39;</span><span class="p">,</span>
<span class="linenos"> 2</span><span class="gp">... </span>                <span class="n">LowerClosed</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="gp">&gt;&gt;&gt; </span><span class="n">pq1</span><span class="o">.</span><span class="n">updateQuantiles</span><span class="p">(</span><span class="n">newTab</span><span class="p">,</span><span class="n">historySize</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="linenos"> 5</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lqr1</span> <span class="o">=</span> <span class="n">RatingByLearnedQuantilesDigraph</span><span class="p">(</span><span class="n">pq1</span><span class="p">,</span><span class="n">newActions</span><span class="p">,</span><span class="n">rankingRule</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">)</span>
<span class="linenos"> 6</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lqr1</span><span class="o">.</span><span class="n">showRatingByQuantilesRanking</span><span class="p">()</span>
<span class="linenos"> 7</span><span class="go"> *-------- Deciles rating result ---------</span>
<span class="linenos"> 8</span><span class="go"> [0.60 - 0.70[ [&#39;a1005&#39;, &#39;a1010&#39;, &#39;a1008&#39;, &#39;a1002&#39;]</span>
<span class="linenos"> 9</span><span class="go"> [0.50 - 0.60[ [&#39;a1006&#39;, &#39;a1001&#39;, &#39;a1003&#39;]</span>
<span class="linenos">10</span><span class="go"> [0.40 - 0.50[ [&#39;a1007&#39;, &#39;a1004&#39;]</span>
<span class="linenos">11</span><span class="go"> [0.30 - 0.40[ [&#39;a1009&#39;]</span>
</pre></div>
</div>
</div>
<p>Compared with the quartiles rating result, we notice in <a class="reference internal" href="#decilesrating"><span class="std std-numref">Listing 1.72</span></a> that the seven alternatives (<em>a1001</em>, <em>a1002</em>, <em>a1003</em>, <em>a1005</em>, <em>a1006</em>, <em>a1008</em> and <em>a1010</em>), rated before into the third quartile class [0.50-0.75[, are now divided up: alternatives <em>a1002</em>, <em>a1005</em>, <em>a1008</em> and <em>a1010</em> attain now the 7th decile class [0.60-0.70[, whereas alternatives <em>a1001</em>, <em>a1003</em> and <em>a1006</em> attain only the 6th decile class [0.50-0.60[. Of the three <em>Q2</em> [0.25-0.50[ rated alternatives (<em>a1004</em>, <em>a1007</em> and <em>a1009</em>), alternatives <em>a1004</em> and <em>a1007</em> are now rated into the 5th decile class [0.40-0.50[ and <em>a1009</em> is lowest rated into the 4th decile class [0.30-0.40[.</p>
<p>A browser view may again more conveniently illustrate this refined rating result (see <a class="reference internal" href="#heatmap2"><span class="std std-numref">Fig. 1.34</span></a>).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lqr1</span><span class="o">.</span><span class="n">showHTMLRatingHeatmap</span><span class="p">(</span>
<span class="linenos">2</span><span class="gp">... </span>      <span class="n">pageTitle</span><span class="o">=</span><span class="s1">&#39;Heatmap of the deciles rating&#39;</span><span class="p">,</span>
<span class="linenos">3</span><span class="gp">... </span>      <span class="n">colorLevels</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">Correlations</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="heatmap2">
<a class="reference internal image-reference" href="_images/heatMap2.png"><img alt="Heatmap of absolute deciles rating" src="_images/heatMap2.png" style="width: 400px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.34 </span><span class="caption-text">Heatmap of absolute deciles rating</span><a class="headerlink" href="#heatmap2" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>In this <em>deciles</em> rating, decision alternatives <em>a1001</em> and <em>a1010</em> are now, as expected, rated in the <em>6th</em> decile (D6), respectively in the <em>7th</em> decile (D7).</p>
<p>To avoid having to recompute performance deciles from historical data when wishing to refine a rating result, it is useful, depending on the actual size of the historical data, to initially compute performance quantiles with a relatively high number of bins, for instance <em>dodeciles</em> or <em>centiles</em>. It is then possible to correctly interpolate <em>quartiles</em> or <em>deciles</em> for instance, when constructing the rating digraph.</p>
<div class="literal-block-wrapper docutils container" id="interpolatedquartilesrating">
<div class="code-block-caption"><span class="caption-number">Listing 1.73 </span><span class="caption-text">From deciles interpolated quartiles rating result</span><a class="headerlink" href="#interpolatedquartilesrating" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lqr2</span> <span class="o">=</span> <span class="n">RatingByLearnedQuantilesDigraph</span><span class="p">(</span><span class="n">pq1</span><span class="p">,</span><span class="n">newActions</span><span class="p">,</span>
<span class="linenos">2</span><span class="gp">... </span>                  <span class="n">quantiles</span><span class="o">=</span><span class="s1">&#39;quartiles&#39;</span><span class="p">)</span>
<span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lqr2</span><span class="o">.</span><span class="n">showRatingByQuantilesRanking</span><span class="p">()</span>
<span class="linenos">4</span><span class="go"> *-------- Deciles rating result ---------</span>
<span class="linenos">5</span><span class="go"> [0.50 - 0.75[ [&#39;a1005&#39;, &#39;a1010&#39;, &#39;a1002&#39;, &#39;a1008&#39;,</span>
<span class="linenos">6</span><span class="go">                &#39;a1006&#39;, &#39;a1001&#39;, &#39;a1003&#39;]</span>
<span class="linenos">7</span><span class="go"> [0.25 - 0.50[ [&#39;a1004&#39;, &#39;a1007&#39;, &#39;a1009&#39;]</span>
</pre></div>
</div>
</div>
<p>With the <em>quantiles</em> parameter (see <a class="reference internal" href="#interpolatedquartilesrating"><span class="std std-numref">Listing 1.73</span></a> Line 2), we may recover by interpolation the same quartiles rating as obtained directly with historical performance quartiles (see <a class="reference internal" href="#quartilesratingresult"><span class="std std-numref">Listing 1.71</span></a>). Mind that a correct interpolation of quantiles from a given cumulative distribution function requires more or less uniform distributions of observations in each bin.</p>
<p>More generally, in the case of industrial production monitoring problems, for instance, where large volumes of historical performance data may be available, it may be of interest to estimate even more precisely the marginal cumulative distribution functions, especially when <strong>tail</strong> rating results, i.e. distinguishing <strong>very best</strong>, or <strong>very worst</strong> multiple criteria performances, become a critical issue. Similarly, the <em>historySize</em> parameter may be used for monitoring on the fly <strong>unstable</strong> random multiple criteria performance data.</p>
<p>Back to <a class="reference internal" href="#tutorial-label"><span class="std std-ref">Content Table</span></a></p>
<hr class="docutils" />
</section>
</section>
<section id="computing-the-winner-of-an-election-with-the-votingprofiles-module">
<span id="linearvoting-tutorial-label"></span><h3><a class="toc-backref" href="#id332" role="doc-backlink"><span class="section-number">1.3.8. </span>Computing the winner of an election with the <a class="reference internal" href="techDoc.html#module-votingProfiles" title="votingProfiles"><code class="xref py py-mod docutils literal notranslate"><span class="pre">votingProfiles</span></code></a> module</a><a class="headerlink" href="#computing-the-winner-of-an-election-with-the-votingprofiles-module" title="Link to this heading"></a></h3>
<nav class="contents local" id="id81">
<ul class="simple">
<li><p><a class="reference internal" href="#linear-voting-profiles" id="id373">Linear voting profiles</a></p></li>
<li><p><a class="reference internal" href="#computing-the-winner" id="id374">Computing the winner</a></p></li>
<li><p><a class="reference internal" href="#the-condorcet-winner" id="id375">The <em>Condorcet</em> winner</a></p></li>
<li><p><a class="reference internal" href="#cyclic-social-preferences" id="id376">Cyclic social preferences</a></p></li>
<li><p><a class="reference internal" href="#on-generating-realistic-random-linear-voting-profiles" id="id377">On generating realistic random linear voting profiles</a></p></li>
</ul>
</nav>
<section id="linear-voting-profiles">
<h4><a class="toc-backref" href="#id373" role="doc-backlink"><span class="section-number">1.3.8.1. </span>Linear voting profiles</a><a class="headerlink" href="#linear-voting-profiles" title="Link to this heading"></a></h4>
<p>The <a class="reference internal" href="techDoc.html#module-votingProfiles" title="votingProfiles"><code class="xref py py-mod docutils literal notranslate"><span class="pre">votingProfiles</span></code></a> module provides resources for handling election results <a class="reference internal" href="#adt-l2" id="id82"><span>[ADT-L2]</span></a>, like the <a class="reference internal" href="techDoc.html#votingProfiles.LinearVotingProfile" title="votingProfiles.LinearVotingProfile"><code class="xref py py-class docutils literal notranslate"><span class="pre">LinearVotingProfile</span></code></a> class. We consider an election involving a finite set of candidates and finite set of weighted voters, who express their voting preferences in a complete linear ranking (without ties) of the candidates. The data is internally stored in two ordered dictionaries, one for the voters and another one for the candidates. The linear ballots are stored in a standard dictionary.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span> <span class="n">candidates</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">([(</span><span class="s1">&#39;a1&#39;</span><span class="p">,</span><span class="o">...</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;a2&#39;</span><span class="p">,</span><span class="o">...</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;a3&#39;</span><span class="p">,</span> <span class="o">...</span><span class="p">),</span> <span class="o">...</span><span class="p">}</span>
<span class="linenos">2</span> <span class="n">voters</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">([(</span><span class="s1">&#39;v1&#39;</span><span class="p">,{</span><span class="s1">&#39;weight&#39;</span><span class="p">:</span><span class="mi">10</span><span class="p">}),</span> <span class="p">(</span><span class="s1">&#39;v2&#39;</span><span class="p">,{</span><span class="s1">&#39;weight&#39;</span><span class="p">:</span><span class="mi">3</span><span class="p">}),</span> <span class="o">...</span><span class="p">}</span>
<span class="linenos">3</span> <span class="c1">## each voter specifies a linearly ranked list of candidates</span>
<span class="linenos">4</span> <span class="c1">## from the best to the worst (without ties</span>
<span class="linenos">5</span> <span class="n">linearBallot</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">6</span> <span class="s1">&#39;v1&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;a2&#39;</span><span class="p">,</span><span class="s1">&#39;a3&#39;</span><span class="p">,</span><span class="s1">&#39;a1&#39;</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span>
<span class="linenos">7</span> <span class="s1">&#39;v2&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;a1&#39;</span><span class="p">,</span><span class="s1">&#39;a2&#39;</span><span class="p">,</span><span class="s1">&#39;a3&#39;</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span>
<span class="linenos">8</span> <span class="o">...</span>
<span class="linenos">9</span> <span class="p">}</span>
</pre></div>
</div>
<p>The module provides a <a class="reference internal" href="techDoc.html#votingProfiles.RandomLinearVotingProfile" title="votingProfiles.RandomLinearVotingProfile"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomLinearVotingProfile</span></code></a> class for generating random instances of the <a class="reference internal" href="techDoc.html#votingProfiles.LinearVotingProfile" title="votingProfiles.LinearVotingProfile"><code class="xref py py-class docutils literal notranslate"><span class="pre">LinearVotingProfile</span></code></a> class. In an interactive Python session we may obtain for the election of 3 candidates by 5 voters the following result.</p>
<div class="literal-block-wrapper docutils container" id="randomprofile1">
<div class="code-block-caption"><span class="caption-number">Listing 1.74 </span><span class="caption-text">Example of random linear voting profile</span><a class="headerlink" href="#randomprofile1" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">votingProfiles</span> <span class="kn">import</span> <span class="n">RandomLinearVotingProfile</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="n">RandomLinearVotingProfile</span><span class="p">(</span><span class="n">numberOfVoters</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
<span class="linenos"> 3</span><span class="gp">... </span>                              <span class="n">numberOfCandidates</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
<span class="linenos"> 4</span><span class="gp">... </span>                              <span class="n">RandomWeights</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos"> 5</span>
<span class="linenos"> 6</span><span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">candidates</span>
<span class="linenos"> 7</span><span class="go"> OrderedDict([ (&#39;a1&#39;,{&#39;name&#39;:&#39;a1}), (&#39;a2&#39;,{&#39;name&#39;:&#39;a2&#39;}),</span>
<span class="linenos"> 8</span><span class="go">               (&#39;a3&#39;,{&#39;name&#39;:&#39;a3&#39;}) ])</span>
<span class="linenos"> 9</span><span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">voters</span>
<span class="hll"><span class="linenos">10</span><span class="go"> OrderedDict([(&#39;v1&#39;,{&#39;weight&#39;: 2}), (&#39;v2&#39;:{&#39;weight&#39;: 3}),</span>
</span><span class="hll"><span class="linenos">11</span><span class="go">  (&#39;v3&#39;,{&#39;weight&#39;: 1}), (&#39;v4&#39;:{&#39;weight&#39;: 5}),</span>
</span><span class="hll"><span class="linenos">12</span><span class="go">  (&#39;v5&#39;,{&#39;weight&#39;: 4})])</span>
</span><span class="linenos">13</span><span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">linearBallot</span>
<span class="linenos">14</span><span class="go"> {&#39;v1&#39;: [&#39;a1&#39;, &#39;a2&#39;, &#39;a3&#39;,],</span>
<span class="linenos">15</span><span class="go">  &#39;v2&#39;: [&#39;a3&#39;, &#39;a2&#39;, &#39;a1&#39;,],</span>
<span class="linenos">16</span><span class="go">  &#39;v3&#39;: [&#39;a1&#39;, &#39;a3&#39;, &#39;a2&#39;,],</span>
<span class="linenos">17</span><span class="go">  &#39;v4&#39;: [&#39;a1&#39;, &#39;a3&#39;, &#39;a2&#39;,],</span>
<span class="linenos">18</span><span class="go">  &#39;v5&#39;: [&#39;a2&#39;, &#39;a3&#39;, &#39;a1&#39;,]}</span>
</pre></div>
</div>
</div>
<p>Notice that in this random example, the five voters are weighted (see <a class="reference internal" href="#randomprofile1"><span class="std std-numref">Listing 1.74</span></a> Lines 10-12). Their linear ballots can be viewed with the <a class="reference internal" href="techDoc.html#votingProfiles.LinearVotingProfile.showLinearBallots" title="votingProfiles.LinearVotingProfile.showLinearBallots"><code class="xref py py-func docutils literal notranslate"><span class="pre">showLinearBallots()</span></code></a> method.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">showLinearBallots</span><span class="p">()</span>
<span class="linenos">2</span><span class="go"> voters(weight)       candidates rankings</span>
<span class="linenos">3</span><span class="go"> v1(2):       [&#39;a2&#39;, &#39;a1&#39;, &#39;a3&#39;]</span>
<span class="linenos">4</span><span class="go"> v2(3):       [&#39;a3&#39;, &#39;a1&#39;, &#39;a2&#39;]</span>
<span class="linenos">5</span><span class="go"> v3(1):       [&#39;a1&#39;, &#39;a3&#39;, &#39;a2&#39;]</span>
<span class="linenos">6</span><span class="go"> v4(5):       [&#39;a1&#39;, &#39;a2&#39;, &#39;a3&#39;]</span>
<span class="linenos">7</span><span class="go"> v5(4):       [&#39;a3&#39;, &#39;a1&#39;, &#39;a2&#39;]</span>
<span class="linenos">8</span><span class="go"> # voters: 15</span>
</pre></div>
</div>
<p>Editing of the linear voting profile may be achieved by storing the data in a file, edit it, and reload it again.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">fileName</span><span class="o">=</span><span class="s1">&#39;tutorialLinearVotingProfile1&#39;</span><span class="p">)</span>
<span class="linenos">2</span><span class="go"> *--- Saving linear profile in file: &lt;tutorialLinearVotingProfile1.py&gt; ---*</span>
<span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">votingProfiles</span> <span class="kn">import</span> <span class="n">LinearVotingProfile</span>
<span class="linenos">4</span><span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="n">LinearVotingProfile</span><span class="p">(</span><span class="s1">&#39;tutorialLinearVotingProfile1&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="computing-the-winner">
<h4><a class="toc-backref" href="#id374" role="doc-backlink"><span class="section-number">1.3.8.2. </span>Computing the winner</a><a class="headerlink" href="#computing-the-winner" title="Link to this heading"></a></h4>
<p>We may easily compute <strong>uni-nominal votes</strong>, i.e. how many times a candidate was ranked first, and see who is consequently the <strong>simple majority</strong> winner(s) in this election.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">computeUninominalVotes</span><span class="p">()</span>
<span class="linenos">2</span><span class="go"> {&#39;a2&#39;: 2, &#39;a1&#39;: 6, &#39;a3&#39;: 7}</span>
<span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">computeSimpleMajorityWinner</span><span class="p">()</span>
<span class="linenos">4</span><span class="go"> [&#39;a3&#39;]</span>
</pre></div>
</div>
<p>As we observe no absolute majority (8/15) of votes for any of the three candidate, we may look for the <strong>instant runoff</strong> winner instead (see <a class="reference internal" href="#adt-l2" id="id83"><span>[ADT-L2]</span></a>).</p>
<div class="literal-block-wrapper docutils container" id="instantrunoff">
<div class="code-block-caption"><span class="caption-number">Listing 1.75 </span><span class="caption-text">Example Instant Run Off Winner</span><a class="headerlink" href="#instantrunoff" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">computeInstantRunoffWinner</span><span class="p">(</span><span class="n">Comments</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos"> 2</span><span class="go"> Half of the Votes =  7.50</span>
<span class="linenos"> 3</span><span class="go"> ==&gt; stage =  1</span>
<span class="linenos"> 4</span><span class="go">     remaining candidates [&#39;a1&#39;, &#39;a2&#39;, &#39;a3&#39;]</span>
<span class="linenos"> 5</span><span class="go">     uninominal votes {&#39;a1&#39;: 6, &#39;a2&#39;: 2, &#39;a3&#39;: 7}</span>
<span class="linenos"> 6</span><span class="go">     minimal number of votes =  2</span>
<span class="linenos"> 7</span><span class="go">     maximal number of votes =  7</span>
<span class="linenos"> 8</span><span class="go">     candidate to remove =  a2</span>
<span class="linenos"> 9</span><span class="go">     remaining candidates =  [&#39;a1&#39;, &#39;a3&#39;]</span>
<span class="linenos">10</span><span class="go"> ==&gt; stage =  2</span>
<span class="linenos">11</span><span class="go">     remaining candidates [&#39;a1&#39;, &#39;a3&#39;]</span>
<span class="linenos">12</span><span class="go">     uninominal votes {&#39;a1&#39;: 8, &#39;a3&#39;: 7}</span>
<span class="linenos">13</span><span class="go">     minimal number of votes =  7</span>
<span class="linenos">14</span><span class="go">     maximal number of votes =  8</span>
<span class="linenos">15</span><span class="go">     candidate a1 obtains an absolute majority</span>
<span class="linenos">16</span><span class="go"> Instant run off winner: [&#39;a1&#39;]</span>
</pre></div>
</div>
</div>
<p>In stage 1, no candidate obtains an absolute majority of votes. Candidate <em>a2</em> obtains the minimal number of votes (2/15) and is, hence, eliminated. In stage 2, candidate <em>a1</em> obtains an absolute majority of the votes (8/15) and is eventually elected (see <a class="reference internal" href="#instantrunoff"><span class="std std-numref">Listing 1.75</span></a>).</p>
<p>We may also follow the <em>Chevalier de Borda</em>’s advice and, after a <strong>rank analysis</strong> of the linear ballots, compute the <strong>Borda score</strong> -the average rank- of each candidate and hence determine the <em>Borda</em> <strong>winner(s)</strong>.</p>
<div class="literal-block-wrapper docutils container" id="bordascores">
<div class="code-block-caption"><span class="caption-number">Listing 1.76 </span><span class="caption-text">Example of <em>Borda</em> rank scores</span><a class="headerlink" href="#bordascores" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">computeRankAnalysis</span><span class="p">()</span>
<span class="linenos">2</span><span class="go"> {&#39;a2&#39;: [2, 5, 8], &#39;a1&#39;: [6, 9, 0], &#39;a3&#39;: [7, 1, 7]}</span>
<span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">computeBordaScores</span><span class="p">()</span>
<span class="linenos">4</span><span class="go"> OrderedDict([</span>
<span class="linenos">5</span><span class="go">   (&#39;a1&#39;, {&#39;BordaScore&#39;: 24, &#39;averageBordaScore&#39;: 1.6}),</span>
<span class="linenos">6</span><span class="go">   (&#39;a3&#39;, {&#39;BordaScore&#39;: 30, &#39;averageBordaScore&#39;: 2.0}),</span>
<span class="linenos">7</span><span class="go">   (&#39;a2&#39;, {&#39;BordaScore&#39;: 36, &#39;averageBordaScore&#39;: 2.4}) ])</span>
<span class="linenos">8</span><span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">computeBordaWinners</span><span class="p">()</span>
<span class="linenos">9</span><span class="go"> [&#39;a1&#39;]</span>
</pre></div>
</div>
</div>
<p>Candidate <em>a1</em> obtains the minimal <em>Borda</em> score, followed by candidate <em>a3</em> and finally candidate <em>a2</em> (see <a class="reference internal" href="#bordascores"><span class="std std-numref">Listing 1.76</span></a>). The corresponding <em>Borda</em> <strong>rank analysis table</strong> may be printed out with a corresponding <code class="xref py py-meth docutils literal notranslate"><span class="pre">show()</span></code> command.</p>
<div class="literal-block-wrapper docutils container" id="rankanalysis">
<div class="code-block-caption"><span class="caption-number">Listing 1.77 </span><span class="caption-text">Rank analysis example</span><a class="headerlink" href="#rankanalysis" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">showRankAnalysisTable</span><span class="p">()</span>
<span class="linenos">2</span><span class="go"> *----  Borda rank analysis tableau -----*</span>
<span class="linenos">3</span><span class="go"> candi- | alternative-to-rank |     Borda</span>
<span class="linenos">4</span><span class="go"> dates  |   1     2     3     | score  average</span>
<span class="linenos">5</span><span class="go"> -------|-------------------------------------</span>
<span class="linenos">6</span><span class="go">  &#39;a1&#39;  |   6     9     0     | 24/15   1.60</span>
<span class="linenos">7</span><span class="go">  &#39;a3&#39;  |   7     1     7     | 30/15   2.00</span>
<span class="linenos">8</span><span class="go">  &#39;a2&#39;  |   2     5     8     | 36/15   2.40</span>
</pre></div>
</div>
</div>
<p>In our randomly generated election results, we are lucky: The instant runoff winner and the <em>Borda</em> winner both are candidate <em>a1</em> (see <a class="reference internal" href="#instantrunoff"><span class="std std-numref">Listing 1.75</span></a> and <a class="reference internal" href="#rankanalysis"><span class="std std-numref">Listing 1.77</span></a>). However, we could also follow the <em>Marquis de Condorcet</em>’s advice, and compute the <strong>majority margins</strong> obtained by voting for each individual pair of candidates.</p>
</section>
<section id="the-condorcet-winner">
<h4><a class="toc-backref" href="#id375" role="doc-backlink"><span class="section-number">1.3.8.3. </span>The <em>Condorcet</em> winner</a><a class="headerlink" href="#the-condorcet-winner" title="Link to this heading"></a></h4>
<p>For instance, candidate <em>a1</em> is ranked four times before and once behind candidate <em>a2</em>. Hence the corresponding <strong>majority margin</strong> <em>M(a1,a2)</em> is 4 - 1 = +3. These <em>majority margins</em> define on the set of candidates what we call the <strong>majority margins digraph</strong>. The <a class="reference internal" href="techDoc.html#votingProfiles.MajorityMarginsDigraph" title="votingProfiles.MajorityMarginsDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">MajorityMarginsDigraph</span></code></a> class (a specialization of the <a class="reference internal" href="techDoc.html#digraphs.Digraph" title="digraphs.Digraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">Digraph</span></code></a> class) is available for handling such kind of digraphs.</p>
<div class="literal-block-wrapper docutils container" id="condorcetdigraph">
<div class="code-block-caption"><span class="caption-number">Listing 1.78 </span><span class="caption-text">Example of <em>Majority Margins</em> digraph</span><a class="headerlink" href="#condorcetdigraph" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">votingProfiles</span> <span class="kn">import</span> <span class="n">MajorityMarginsDigraph</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">cdg</span> <span class="o">=</span> <span class="n">MajorityMarginsDigraph</span><span class="p">(</span><span class="n">v</span><span class="p">,</span><span class="n">IntegerValuation</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">cdg</span>
<span class="linenos"> 4</span><span class="go"> *------- Digraph instance description ------*</span>
<span class="linenos"> 5</span><span class="go"> Instance class      : MajorityMarginsDigraph</span>
<span class="linenos"> 6</span><span class="go"> Instance name       : rel_randomLinearVotingProfile1</span>
<span class="linenos"> 7</span><span class="go"> Digraph Order       : 3</span>
<span class="linenos"> 8</span><span class="go"> Digraph Size        : 3</span>
<span class="linenos"> 9</span><span class="go"> Valuation domain    : [-15.00;15.00]</span>
<span class="linenos">10</span><span class="go"> Determinateness (%) : 64.44</span>
<span class="linenos">11</span><span class="go"> Attributes          : [&#39;name&#39;, &#39;actions&#39;, &#39;voters&#39;,</span>
<span class="linenos">12</span><span class="go">                        &#39;ballot&#39;, &#39;valuationdomain&#39;,</span>
<span class="linenos">13</span><span class="go">                        &#39;relation&#39;, &#39;order&#39;,</span>
<span class="linenos">14</span><span class="go">                        &#39;gamma&#39;, &#39;notGamma&#39;]</span>
<span class="linenos">15</span><span class="gp">&gt;&gt;&gt; </span><span class="n">cdg</span><span class="o">.</span><span class="n">showAll</span><span class="p">()</span>
<span class="linenos">16</span><span class="go"> *----- show detail -------------*</span>
<span class="linenos">17</span><span class="go"> Digraph          : rel_randLinearVotingProfile1</span>
<span class="linenos">18</span><span class="go"> *---- Actions ----*</span>
<span class="linenos">19</span><span class="go"> [&#39;a1&#39;, &#39;a2&#39;, &#39;a3&#39;]</span>
<span class="linenos">20</span><span class="go"> *---- Characteristic valuation domain ----*</span>
<span class="linenos">21</span><span class="go"> {&#39;max&#39;: Decimal(&#39;15.0&#39;), &#39;med&#39;: Decimal(&#39;0&#39;),</span>
<span class="linenos">22</span><span class="go">  &#39;min&#39;: Decimal(&#39;-15.0&#39;), &#39;hasIntegerValuation&#39;: True}</span>
<span class="hll"><span class="linenos">23</span><span class="go"> * ---- majority margins -----</span>
</span><span class="hll"><span class="linenos">24</span><span class="go">    M(x,y)   |  &#39;a1&#39;   &#39;a2&#39;  &#39;a3&#39;</span>
</span><span class="hll"><span class="linenos">25</span><span class="go">   ----------|-------------------</span>
</span><span class="hll"><span class="linenos">26</span><span class="go">     &#39;a1&#39;    |    0     11     1</span>
</span><span class="hll"><span class="linenos">27</span><span class="go">     &#39;a2&#39;    |  -11      0    -1</span>
</span><span class="hll"><span class="linenos">28</span><span class="go">     &#39;a3&#39;    |   -1      1     0</span>
</span><span class="linenos">29</span><span class="go"> Valuation domain: [-15;+15]</span>
</pre></div>
</div>
</div>
<p>Notice that in the case of linear voting profiles, majority margins always verify a zero sum property: <em>M(x,y)</em> + <em>M(y,x)</em> = 0 for all candidates <em>x</em> and <em>y</em> (see <a class="reference internal" href="#condorcetdigraph"><span class="std std-numref">Listing 1.78</span></a> Lines 26-28). This is not true in general for arbitrary voting profiles. The <em>majority margins</em> digraph of linear voting profiles defines in fact a <em>weak tournament</em> and belongs, hence, to the class of <em>self-codual</em> bipolar-valued digraphs (<a class="footnote-reference brackets" href="#id217" id="id84" role="doc-noteref"><span class="fn-bracket">[</span>13<span class="fn-bracket">]</span></a>).</p>
<p>Now, a candidate <em>x</em>, showing a positive majority margin <em>M(x,y)</em>, is beating candidate <em>y</em>  with an absolute majority in a pairwise voting. Hence, a candidate showing only positive terms in her row in the <em>majority margins</em> digraph relation table, beats all other candidates with absolute majority of votes. <em>Condorcet</em> recommends to declare this candidate (is always unique, why?) the winner of the election. Here we are lucky, it is again candidate <em>a1</em> who is hence the <strong>Condorcet winner</strong> (see <a class="reference internal" href="#condorcetdigraph"><span class="std std-numref">Listing 1.78</span></a> Line 26).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">cdg</span><span class="o">.</span><span class="n">computeCondorcetWinners</span><span class="p">()</span>
<span class="linenos">2</span><span class="go"> [&#39;a1&#39;]</span>
</pre></div>
</div>
<p>By seeing the majority margins like a <em>bipolar-valued characteristic function</em> of a global preference relation defined on the set of candidates, we may use all operational resources of the generic <a class="reference internal" href="techDoc.html#digraphs.Digraph" title="digraphs.Digraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">Digraph</span></code></a> class (see <a class="reference internal" href="#digraphs-tutorial-label"><span class="std std-ref">Working with the Digraph3 software resources</span></a>), and especially its <a class="reference internal" href="techDoc.html#digraphs.Digraph.exportGraphViz" title="digraphs.Digraph.exportGraphViz"><code class="xref py py-meth docutils literal notranslate"><span class="pre">exportGraphViz()</span></code></a> method <a class="footnote-reference brackets" href="#id208" id="id85" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>, for visualizing an election result.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">cdg</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">(</span><span class="n">fileName</span><span class="o">=</span><span class="s1">&#39;tutorialLinearBallots&#39;</span><span class="p">)</span>
<span class="linenos">2</span><span class="go">*---- exporting a dot file for GraphViz tools ---------*</span>
<span class="linenos">3</span><span class="go">Exporting to tutorialLinearBallots.dot</span>
<span class="linenos">4</span><span class="go">dot -Grankdir=BT -Tpng tutorialLinearBallots.dot -o tutorialLinearBallots.png</span>
</pre></div>
</div>
<figure class="align-center" id="tutoriallinearballots">
<a class="reference internal image-reference" href="_images/tutorialLinearBallots.png"><img alt="_images/tutorialLinearBallots.png" src="_images/tutorialLinearBallots.png" style="width: 300px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.35 </span><span class="caption-text">Visualizing an election result</span><a class="headerlink" href="#tutoriallinearballots" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>In <a class="reference internal" href="#tutoriallinearballots"><span class="std std-numref">Fig. 1.35</span></a> we notice that the <em>majority margins</em> digraph from our example linear voting profile gives a linear order of the candidates: [‘a1’, ‘a3’, ‘a2], the same actually as given by the <em>Borda</em> scores (see <a class="reference internal" href="#bordascores"><span class="std std-numref">Listing 1.76</span></a>). This is by far not given in general. Usually, when aggregating linear ballots, there appear cyclic social preferences.</p>
</section>
<section id="cyclic-social-preferences">
<h4><a class="toc-backref" href="#id376" role="doc-backlink"><span class="section-number">1.3.8.4. </span>Cyclic social preferences</a><a class="headerlink" href="#cyclic-social-preferences" title="Link to this heading"></a></h4>
<p>Let us consider for instance the following linear voting profile and construct the corresponding majority margins digraph.</p>
<div class="literal-block-wrapper docutils container" id="linearvotingprofile2">
<div class="code-block-caption"><span class="caption-number">Listing 1.79 </span><span class="caption-text">Example of cyclic social preferences</span><a class="headerlink" href="#linearvotingprofile2" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">showLinearBallots</span><span class="p">()</span>
<span class="linenos"> 2</span><span class="go"> voters(weight)       candidates rankings</span>
<span class="linenos"> 3</span><span class="go"> v1(1):       [&#39;a1&#39;, &#39;a3&#39;, &#39;a5&#39;, &#39;a2&#39;, &#39;a4&#39;]</span>
<span class="linenos"> 4</span><span class="go"> v2(1):       [&#39;a1&#39;, &#39;a2&#39;, &#39;a4&#39;, &#39;a3&#39;, &#39;a5&#39;]</span>
<span class="linenos"> 5</span><span class="go"> v3(1):       [&#39;a5&#39;, &#39;a2&#39;, &#39;a4&#39;, &#39;a3&#39;, &#39;a1&#39;]</span>
<span class="linenos"> 6</span><span class="go"> v4(1):       [&#39;a3&#39;, &#39;a4&#39;, &#39;a1&#39;, &#39;a5&#39;, &#39;a2&#39;]</span>
<span class="linenos"> 7</span><span class="go"> v5(1):       [&#39;a4&#39;, &#39;a2&#39;, &#39;a3&#39;, &#39;a5&#39;, &#39;a1&#39;]</span>
<span class="linenos"> 8</span><span class="go"> v6(1):       [&#39;a2&#39;, &#39;a4&#39;, &#39;a5&#39;, &#39;a1&#39;, &#39;a3&#39;]</span>
<span class="linenos"> 9</span><span class="go"> v7(1):       [&#39;a5&#39;, &#39;a4&#39;, &#39;a3&#39;, &#39;a1&#39;, &#39;a2&#39;]</span>
<span class="linenos">10</span><span class="go"> v8(1):       [&#39;a2&#39;, &#39;a4&#39;, &#39;a5&#39;, &#39;a1&#39;, &#39;a3&#39;]</span>
<span class="linenos">11</span><span class="go"> v9(1):       [&#39;a5&#39;, &#39;a3&#39;, &#39;a4&#39;, &#39;a1&#39;, &#39;a2&#39;]</span>
<span class="linenos">12</span><span class="gp">&gt;&gt;&gt; </span><span class="n">cdg</span> <span class="o">=</span> <span class="n">MajorityMarginsDigraph</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="linenos">13</span><span class="gp">&gt;&gt;&gt; </span><span class="n">cdg</span><span class="o">.</span><span class="n">showRelationTable</span><span class="p">()</span>
<span class="linenos">14</span><span class="go"> * ---- Relation Table -----</span>
<span class="linenos">15</span><span class="go">   S   |  &#39;a1&#39;   &#39;a2&#39;   &#39;a3&#39;   &#39;a4&#39;    &#39;a5&#39;</span>
<span class="linenos">16</span><span class="go"> ------|----------------------------------------</span>
<span class="hll"><span class="linenos">17</span><span class="go"> &#39;a1&#39;  |   -     0.11  -0.11  -0.56   -0.33</span>
</span><span class="hll"><span class="linenos">18</span><span class="go"> &#39;a2&#39;  | -0.11    -     0.11   0.11   -0.11</span>
</span><span class="hll"><span class="linenos">19</span><span class="go"> &#39;a3&#39;  |  0.11  -0.11    -    -0.33   -0.11</span>
</span><span class="hll"><span class="linenos">20</span><span class="go"> &#39;a4&#39;  |  0.56  -0.11   0.33    -      0.11</span>
</span><span class="hll"><span class="linenos">21</span><span class="go"> &#39;a5&#39;  |  0.33   0.11   0.11  -0.11     -</span>
</span></pre></div>
</div>
</div>
<p>Now, we cannot find any completely positive row in the relation table (see <a class="reference internal" href="#linearvotingprofile2"><span class="std std-numref">Listing 1.79</span></a> Lines 17 - ). No one of the five candidates is beating all the others with an absolute majority of votes. There is no <em>Condorcet</em> winner anymore. In fact, when looking at a graphviz drawing of this <em>majority margins</em> digraph, we may observe <em>cyclic</em> preferences, like (<em>a1</em> &gt; <em>a2</em> &gt; <em>a3</em> &gt; <em>a1</em>) for instance (see <a class="reference internal" href="#cyclicsocialpreferences"><span class="std std-numref">Fig. 1.36</span></a>).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">cdg</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">(</span><span class="s1">&#39;cycles&#39;</span><span class="p">)</span>
<span class="linenos">2</span><span class="go"> *---- exporting a dot file for GraphViz tools ---------*</span>
<span class="linenos">3</span><span class="go"> Exporting to cycles.dot</span>
<span class="linenos">4</span><span class="go"> dot -Grankdir=BT -Tpng cycles.dot -o cycles.png</span>
</pre></div>
</div>
<figure class="align-center" id="cyclicsocialpreferences">
<a class="reference internal image-reference" href="_images/cycles.png"><img alt="_images/cycles.png" src="_images/cycles.png" style="width: 200px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.36 </span><span class="caption-text">Cyclic social preferences</span><a class="headerlink" href="#cyclicsocialpreferences" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>But, there may be many cycles appearing in a <em>majority margins</em> digraph, and, we may detect and enumerate all minimal chordless circuits in a Digraph instance with the <a class="reference internal" href="techDoc.html#digraphs.Digraph.computeChordlessCircuits" title="digraphs.Digraph.computeChordlessCircuits"><code class="xref py py-func docutils literal notranslate"><span class="pre">computeChordlessCircuits()</span></code></a> method.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">cdg</span><span class="o">.</span><span class="n">computeChordlessCircuits</span><span class="p">()</span>
<span class="linenos">2</span><span class="go"> [([&#39;a2&#39;, &#39;a3&#39;, &#39;a1&#39;], frozenset({&#39;a2&#39;, &#39;a3&#39;, &#39;a1&#39;})),</span>
<span class="linenos">3</span><span class="go">  ([&#39;a2&#39;, &#39;a4&#39;, &#39;a5&#39;], frozenset({&#39;a2&#39;, &#39;a5&#39;, &#39;a4&#39;})),</span>
<span class="linenos">4</span><span class="go">  ([&#39;a2&#39;, &#39;a4&#39;, &#39;a1&#39;], frozenset({&#39;a2&#39;, &#39;a1&#39;, &#39;a4&#39;}))]</span>
</pre></div>
</div>
<p><em>Condorcet</em> ‘s approach for determining the winner of an election is hence <em>not decisive</em> in all circumstances and we need to exploit more sophisticated approaches for finding the winner of the election on the basis of the majority margins of the given linear ballots (see the tutorial on <a class="reference internal" href="#ranking-tutorial-label"><span class="std std-ref">ranking with multiple incommensurable criteria</span></a> and <a class="reference internal" href="#bis-2008" id="id86"><span>[BIS-2008]</span></a>).</p>
<p>Many more tools for exploiting voting results are available like the browser heat map view on voting profiles (see the technical documentation of the <a class="reference internal" href="techDoc.html#module-votingProfiles" title="votingProfiles"><code class="xref py py-mod docutils literal notranslate"><span class="pre">votingProfiles</span></code></a> module).</p>
<div class="literal-block-wrapper docutils container" id="votingheatmap">
<div class="code-block-caption"><span class="caption-number">Listing 1.80 </span><span class="caption-text">Example linear voting heatmap</span><a class="headerlink" href="#votingheatmap" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="go">:linenos:</span>
<span class="hll"><span class="linenos">2</span>
</span><span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">showHTMLVotingHeatmap</span><span class="p">(</span><span class="n">rankingRule</span><span class="o">=</span><span class="s1">&#39;NetFlows&#39;</span><span class="p">,</span>
<span class="linenos">4</span><span class="gp">... </span>                        <span class="n">Transposed</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<figure class="align-center" id="cyclicvoting">
<a class="reference internal image-reference" href="_images/votingHeatmap.png"><img alt="_images/votingHeatmap.png" src="_images/votingHeatmap.png" style="width: 550px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.37 </span><span class="caption-text">Visualizing a linear voting profile in a heatmap format</span><a class="headerlink" href="#cyclicvoting" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Notice that the importance weights of the voters are <em>negative</em>, which means that the preference direction of the criteria (in this case the individual voters) is <em>decreasing</em>, i.e. goes from lowest (best) rank to highest (worst) rank. Notice also, that the compromise <em>NetFlows</em> ranking <em>[a4,a5,a2,a1,a3]</em>, shown in this heatmap (see <a class="reference internal" href="#cyclicvoting"><span class="std std-numref">Fig. 1.37</span></a>) results in an optimal <em>ordinal correlation</em> index of +0.778 with the pairwise majority voting margins (see the Adavanced topic on  <a class="reference internal" href="pearls.html#ordinalcorrelation-tutorial-label"><span class="std std-ref">Ordinal Correlation equals Relational Equivalence</span></a> and <a class="reference internal" href="#ranking-tutorial-label"><span class="std std-ref">Lineraly ranking with multiple incommensurable criteria</span></a>). The number of voters is usually much larger than the number of candidates. In that case, it is better to generate a transposed <em>voters X candidates</em> view (see <a class="reference internal" href="#votingheatmap"><span class="std std-numref">Listing 1.80</span></a> Line 2)</p>
</section>
<section id="on-generating-realistic-random-linear-voting-profiles">
<h4><a class="toc-backref" href="#id377" role="doc-backlink"><span class="section-number">1.3.8.5. </span>On generating realistic random linear voting profiles</a><a class="headerlink" href="#on-generating-realistic-random-linear-voting-profiles" title="Link to this heading"></a></h4>
<p>By default, the <a class="reference internal" href="techDoc.html#votingProfiles.RandomLinearVotingProfile" title="votingProfiles.RandomLinearVotingProfile"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomLinearVotingProfile</span></code></a> class generates random linear voting profiles where every candidates has the same uniform probabilities to be ranked at a certain position by all the voters. For each voter’s random linear ballot is indeed generated  via a uniform shuffling of the list of candidates.</p>
<p>In reality, political election data appear quite different. There will usually be different favorite and marginal candidates for each political party. To simulate these aspects into our random generator, we are using two random exponentially distributed polls of the candidates and consider a bipartisan political landscape with a certain random balance (default theoretical party repartition = 0.50) between the two sets of potential party supporters (see <a class="reference internal" href="techDoc.html#votingProfiles.LinearVotingProfile" title="votingProfiles.LinearVotingProfile"><code class="xref py py-class docutils literal notranslate"><span class="pre">LinearVotingProfile</span></code></a> class). A certain theoretical proportion (default = 0.1) will not support any party.</p>
<p>Let us generate such a linear voting profile for an election with 1000 voters and 15 candidates.</p>
<div class="literal-block-wrapper docutils container" id="linearvotingprofilewithpolls">
<div class="code-block-caption"><span class="caption-number">Listing 1.81 </span><span class="caption-text">Generating a linear voting profile with random polls</span><a class="headerlink" href="#linearvotingprofilewithpolls" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">votingProfiles</span> <span class="kn">import</span> <span class="n">RandomLinearVotingProfile</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lvp</span> <span class="o">=</span> <span class="n">RandomLinearVotingProfile</span><span class="p">(</span><span class="n">numberOfCandidates</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span>
<span class="linenos"> 3</span><span class="gp">... </span>                                <span class="n">numberOfVoters</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
<span class="linenos"> 4</span><span class="gp">... </span>                                <span class="n">WithPolls</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="linenos"> 5</span><span class="gp">... </span>                                <span class="n">partyRepartition</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
<span class="linenos"> 6</span><span class="gp">... </span>                                <span class="n">other</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
<span class="linenos"> 7</span><span class="gp">... </span>                                <span class="n">seed</span><span class="o">=</span><span class="mf">0.9189670954954139</span><span class="p">)</span>
<span class="linenos"> 8</span>
<span class="linenos"> 9</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lvp</span>
<span class="linenos">10</span><span class="go"> *------- VotingProfile instance description ------*</span>
<span class="linenos">11</span><span class="go"> Instance class   : RandomLinearVotingProfile</span>
<span class="linenos">12</span><span class="go"> Instance name    : randLinearProfile</span>
<span class="linenos">13</span><span class="go"> # Candidates     : 15</span>
<span class="linenos">14</span><span class="go"> # Voters         : 1000</span>
<span class="linenos">15</span><span class="go"> Attributes       : [&#39;name&#39;, &#39;seed&#39;, &#39;candidates&#39;,</span>
<span class="linenos">16</span><span class="go">                     &#39;voters&#39;, &#39;RandomWeights&#39;,</span>
<span class="linenos">17</span><span class="go">                     &#39;sumWeights&#39;, &#39;poll1&#39;, &#39;poll2&#39;,</span>
<span class="linenos">18</span><span class="go">                     &#39;bipartisan&#39;, &#39;linearBallot&#39;, &#39;ballot&#39;]</span>
<span class="hll"><span class="linenos">19</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lvp</span><span class="o">.</span><span class="n">showRandomPolls</span><span class="p">()</span>
</span><span class="linenos">20</span><span class="go"> Random repartition of voters</span>
<span class="linenos">21</span><span class="go">  Party_1 supporters : 460 (46.0%)</span>
<span class="linenos">22</span><span class="go">  Party_2 supporters : 436 (43.6%)</span>
<span class="linenos">23</span><span class="go">  Other voters       : 104 (10.4%)</span>
<span class="linenos">24</span><span class="go"> *---------------- random polls ---------------</span>
<span class="linenos">25</span><span class="go">  Party_1(46.0%) | Party_2(43.6%)|  expected</span>
<span class="linenos">26</span><span class="go"> -----------------------------------------------</span>
<span class="linenos">27</span><span class="go">   a06 : 19.91%  | a11 : 22.94%  | a06 : 15.00%</span>
<span class="linenos">28</span><span class="go">   a07 : 14.27%  | a08 : 15.65%  | a11 : 13.08%</span>
<span class="linenos">29</span><span class="go">   a03 : 10.02%  | a04 : 15.07%  | a08 : 09.01%</span>
<span class="linenos">30</span><span class="go">   a13 : 08.39%  | a06 : 13.40%  | a07 : 08.79%</span>
<span class="linenos">31</span><span class="go">   a15 : 08.39%  | a03 : 06.49%  | a03 : 07.44%</span>
<span class="linenos">32</span><span class="go">   a11 : 06.70%  | a09 : 05.63%  | a04 : 07.11%</span>
<span class="linenos">33</span><span class="go">   a01 : 06.17%  | a07 : 05.10%  | a01 : 05.06%</span>
<span class="linenos">34</span><span class="go">   a12 : 04.81%  | a01 : 05.09%  | a13 : 05.04%</span>
<span class="linenos">35</span><span class="go">   a08 : 04.75%  | a12 : 03.43%  | a15 : 04.23%</span>
<span class="linenos">36</span><span class="go">   a10 : 04.66%  | a13 : 02.71%  | a12 : 03.71%</span>
<span class="linenos">37</span><span class="go">   a14 : 04.42%  | a14 : 02.70%  | a14 : 03.21%</span>
<span class="linenos">38</span><span class="go">   a05 : 04.01%  | a15 : 00.86%  | a09 : 03.10%</span>
<span class="linenos">39</span><span class="go">   a09 : 01.40%  | a10 : 00.44%  | a10 : 02.34%</span>
<span class="linenos">40</span><span class="go">   a04 : 01.18%  | a05 : 00.29%  | a05 : 01.97%</span>
<span class="linenos">41</span><span class="go">   a02 : 00.90%  | a02 : 00.21%  | a02 : 00.51%</span>
</pre></div>
</div>
</div>
<p>In this example (see <a class="reference internal" href="#linearvotingprofilewithpolls"><span class="std std-numref">Listing 1.81</span></a> Lines 19-), we obtain 460 Party_1 supporters (46%), 436 Party_2 supporters (43.6%) and 104 other voters (10.4%). Favorite candidates of <em>Party_1</em> supporters, with more than 10%, appear to be <em>a06</em> (19.91%), <em>a07</em> (14.27%) and <em>a03</em> (10.02%). Whereas for <em>Party_2</em> supporters, favorite candidates appear to be <em>a11</em> (22.94%), followed by <em>a08</em> (15.65%), <em>a04</em> (15.07%) and <em>a06</em> (13.4%). Being <em>first</em> choice for <em>Party_1</em> supporters and <em>fourth</em> choice for <em>Party_2</em> supporters, this candidate <em>a06</em> is a natural candidate for clearly winning this election game (see <a class="reference internal" href="#uninominalwinner"><span class="std std-numref">Listing 1.82</span></a>).</p>
<div class="literal-block-wrapper docutils container" id="uninominalwinner">
<div class="code-block-caption"><span class="caption-number">Listing 1.82 </span><span class="caption-text">The uninominal election winner</span><a class="headerlink" href="#uninominalwinner" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lvp</span><span class="o">.</span><span class="n">computeSimpleMajorityWinner</span><span class="p">()</span>
<span class="linenos">2</span><span class="go"> [&#39;a06&#39;]</span>
<span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lvp</span><span class="o">.</span><span class="n">computeInstantRunoffWinner</span><span class="p">()</span>
<span class="linenos">4</span><span class="go"> [&#39;a06&#39;]</span>
<span class="linenos">5</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lvp</span><span class="o">.</span><span class="n">computeBordaWinners</span><span class="p">()</span>
<span class="linenos">6</span><span class="go"> [&#39;a06&#39;]</span>
</pre></div>
</div>
</div>
<p>Is it also a <em>Condorcet</em> winner ? To verify, we start by creating the corresponding <em>majority margins</em> digraph <em>cdg</em> with the help of the <a class="reference internal" href="techDoc.html#votingProfiles.MajorityMarginsDigraph" title="votingProfiles.MajorityMarginsDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">MajorityMarginsDigraph</span></code></a> class. The created digraph instance contains 15 <em>actions</em> -the candidates- and 105 <em>oriented</em> arcs -the <em>positive</em> majority margins- (see <a class="reference internal" href="#condorcetwinner"><span class="std std-numref">Listing 1.83</span></a> Lines 7-8).</p>
<div class="literal-block-wrapper docutils container" id="condorcetwinner">
<div class="code-block-caption"><span class="caption-number">Listing 1.83 </span><span class="caption-text">A majority margins digraph constructed from a linear voting profile</span><a class="headerlink" href="#condorcetwinner" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">votingProfiles</span> <span class="kn">import</span> <span class="n">MajorityMarginsDigraph</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">cdg</span> <span class="o">=</span> <span class="n">MajorityMarginsDigraph</span><span class="p">(</span><span class="n">lvp</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">cdg</span>
<span class="linenos"> 4</span><span class="go"> *------- Digraph instance description ------*</span>
<span class="linenos"> 5</span><span class="go"> Instance class      : MajorityMarginsDigraph</span>
<span class="linenos"> 6</span><span class="go"> Instance name       : rel_randLinearProfile</span>
<span class="hll"><span class="linenos"> 7</span><span class="go"> Digraph Order       : 15</span>
</span><span class="hll"><span class="linenos"> 8</span><span class="go"> Digraph Size        : 104</span>
</span><span class="linenos"> 9</span><span class="go"> Valuation domain    : [-1000.00;1000.00]</span>
<span class="linenos">10</span><span class="go"> Determinateness (%) : 67.08</span>
<span class="linenos">11</span><span class="go"> Attributes          : [&#39;name&#39;, &#39;actions&#39;, &#39;voters&#39;,</span>
<span class="linenos">12</span><span class="go">                        &#39;ballot&#39;, &#39;valuationdomain&#39;,</span>
<span class="linenos">13</span><span class="go">                        &#39;relation&#39;, &#39;order&#39;,</span>
<span class="linenos">14</span><span class="go">                        &#39;gamma&#39;, &#39;notGamma&#39;]</span>
</pre></div>
</div>
</div>
<p>We may visualize the resulting pairwise majority margins by showing the HTML formated version of the <em>cdg</em> relation table in a browser view.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cdg</span><span class="o">.</span><span class="n">showHTMLRelationTable</span><span class="p">(</span><span class="n">tableTitle</span><span class="o">=</span><span class="s1">&#39;Pairwise majority margins&#39;</span><span class="p">,</span>
<span class="gp">... </span>                          <span class="n">relationName</span><span class="o">=</span><span class="s1">&#39;M(x&gt;y)&#39;</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="majoritymargins">
<a class="reference internal image-reference" href="_images/majorityMargins.png"><img alt="_images/majorityMargins.png" src="_images/majorityMargins.png" style="width: 450px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.38 </span><span class="caption-text">Browsing the majority margins</span><a class="headerlink" href="#majoritymargins" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>In <a class="reference internal" href="#majoritymargins"><span class="std std-numref">Fig. 1.38</span></a>, <em>light green</em> cells contain the positive majority margins, whereas <em>light red</em> cells contain the negative majority margins. A complete <em>light green</em> row reveals hence a <em>Condorcet</em> <strong>winner</strong>, whereas a complete <em>light green</em> column reveals a <em>Condorcet</em> <strong>loser</strong>. We recover again candidate <em>a06</em> as <em>Condorcet</em> winner (<a class="footnote-reference brackets" href="#id219" id="id87" role="doc-noteref"><span class="fn-bracket">[</span>15<span class="fn-bracket">]</span></a>), whereas the obvious <em>Condorcet</em> loser is here candidate <em>a02</em>, the candidate with the lowest support in both parties (see <a class="reference internal" href="#linearvotingprofilewithpolls"><span class="std std-numref">Listing 1.81</span></a> Line 40).</p>
<p>With a same <em>bipolar</em> -<em>first ranked</em> and <em>last ranked</em> candidate- selection procedure, we may <em>weakly rank</em> the candidates (with possible ties) by iterating these <em>first ranked</em> and <em>last ranked</em> choices among the remaining candidates (<a class="reference internal" href="#bis-1999" id="id88"><span>[BIS-1999]</span></a>).</p>
<div class="literal-block-wrapper docutils container" id="rankingbychoosing">
<div class="code-block-caption"><span class="caption-number">Listing 1.84 </span><span class="caption-text">Ranking by iterating choosing the <em>first</em> and <em>last</em> remaining candidates</span><a class="headerlink" href="#rankingbychoosing" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">cdg</span><span class="o">.</span><span class="n">showRankingByChoosing</span><span class="p">()</span>
<span class="hll"><span class="linenos"> 2</span><span class="go"> Error: You must first run</span>
</span><span class="hll"><span class="linenos"> 3</span><span class="go">  self.computeRankingByChoosing(CoDual=False(default)|True) !</span>
</span><span class="linenos"> 4</span><span class="gp">&gt;&gt;&gt; </span><span class="n">cdg</span><span class="o">.</span><span class="n">computeRankingByChoosing</span><span class="p">()</span>
<span class="linenos"> 5</span><span class="gp">&gt;&gt;&gt; </span><span class="n">cdg</span><span class="o">.</span><span class="n">showRankingByChoosing</span><span class="p">()</span>
<span class="linenos"> 6</span><span class="go">  Ranking by Choosing and Rejecting</span>
<span class="linenos"> 7</span><span class="go">   1st first ranked [&#39;a06&#39;]</span>
<span class="linenos"> 8</span><span class="go">     2nd first ranked [&#39;a11&#39;]</span>
<span class="linenos"> 9</span><span class="go">       3rd first ranked [&#39;a07&#39;, &#39;a08&#39;]</span>
<span class="linenos">10</span><span class="go">         4th first ranked [&#39;a03&#39;]</span>
<span class="linenos">11</span><span class="go">           5th first ranked [&#39;a01&#39;]</span>
<span class="linenos">12</span><span class="go">             6th first ranked [&#39;a13&#39;]</span>
<span class="hll"><span class="linenos">13</span><span class="go">               7th first ranked [&#39;a04&#39;]</span>
</span><span class="hll"><span class="linenos">14</span><span class="go">               7th last ranked [&#39;a12&#39;]</span>
</span><span class="linenos">15</span><span class="go">             6th last ranked [&#39;a14&#39;]</span>
<span class="linenos">16</span><span class="go">           5th last ranked [&#39;a15&#39;]</span>
<span class="linenos">17</span><span class="go">         4th last ranked [&#39;a09&#39;]</span>
<span class="linenos">18</span><span class="go">       3rd last ranked [&#39;a10&#39;]</span>
<span class="linenos">19</span><span class="go">     2nd last ranked [&#39;a05&#39;]</span>
<span class="linenos">20</span><span class="go">   1st last ranked [&#39;a02&#39;]</span>
</pre></div>
</div>
</div>
<p>Before showing the <em>ranking-by-choosing</em> result, we have to compute the iterated bipolar selection procedure (see <a class="reference internal" href="#rankingbychoosing"><span class="std std-numref">Listing 1.84</span></a> Line 2). The first selection concerns <em>a06</em> (first) and <em>a02</em> (last), followed by <em>a11</em> (first) opposed to <em>a05</em> (last), and so on, until there remains at iteration step 7 a last pair of candidates, namely <em>[a04, a12]</em> (see Lines 13-14).</p>
<p>Notice furthermore the first ranked candidates at iteration step 3 (see <a class="reference internal" href="#rankingbychoosing"><span class="std std-numref">Listing 1.84</span></a> Line 9), namely the pair <em>[a07, a08]</em>. Both candidates represent indeed conjointly the <em>first ranked</em> choice. We obtain here hence a <em>weak ranking</em>, i.e. a ranking with a tie.</p>
<p>Let us mention that the <em>instant-run-off</em> procedure, we used before (see <a class="reference internal" href="#uninominalwinner"><span class="std std-numref">Listing 1.82</span></a> Line 3), when operated with a <em>Comments=True</em> parameter setting, will deliver a more or less similar <em>reversed</em> linear <em>ordering-by-rejecting</em> result, namely [<em>a02</em>, <em>a10</em>, <em>a14</em>, <em>a05</em>, <em>a09</em>, <em>a13</em>, <em>a12</em>, <em>a15</em>, <em>a04</em>, <em>a01</em>, <em>a08</em>, <em>a03</em>, <em>a07</em>, <em>a11</em>, <em>a06</em>], ordered from the <em>last</em> to the <em>first</em> choice.</p>
<p>Remarkable about both these <em>ranking-by-choosing</em> or <em>ordering-by-rejecting</em> results is the fact that the random voting behaviour, simulated here with the help of two discrete random variables (<a class="footnote-reference brackets" href="#id220" id="id89" role="doc-noteref"><span class="fn-bracket">[</span>16<span class="fn-bracket">]</span></a>), defined respectively by the two party polls, is rendering a ranking that is more or less in accordance with the simulated balance of the polls: -<em>Party_1</em> supporters : 460;  <em>Party_2</em> supporters: 436 (see <a class="reference internal" href="#linearvotingprofilewithpolls"><span class="std std-numref">Listing 1.81</span></a> Lines 26-40 third column). Despite a random voting behaviour per voter, the given polls apparently show a <em>very strong incidence</em> on the eventual election result. In order to avoid any manipulation of the election outcome, public media are therefore in some countries not allowed to publish polls during the last weeks before a general election.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Mind that the specific <em>ranking-by-choosing</em> procedure, we use here on the <em>majority margins</em> digraph, operates the selection procedure by extracting at each step <em>initial</em> and <em>terminal</em> kernels, i.e. NP-hard operational problems (see tutorial <a class="reference internal" href="pearls.html#kernel-tutorial-label"><span class="std std-ref">on computing kernels</span></a> and <a class="reference internal" href="#bis-1999" id="id90"><span>[BIS-1999]</span></a>); A technique that does not allow in general to tackle voting profiles with much more than 30 candidates. The tutorial on <a class="reference internal" href="#ranking-tutorial-label"><span class="std std-ref">ranking</span></a> provides more adequate and efficient techniques for ranking from pairwise majority margins when a larger number of potential candidates is given.</p>
</div>
<p>Back to <a class="reference internal" href="#tutorial-label"><span class="std std-ref">Content Table</span></a></p>
<hr class="docutils" />
</section>
</section>
<section id="on-computing-fair-intergroup-pairings">
<span id="fair-intergroup-pairings-label"></span><h3><a class="toc-backref" href="#id333" role="doc-backlink"><span class="section-number">1.3.9. </span>On computing fair intergroup pairings</a><a class="headerlink" href="#on-computing-fair-intergroup-pairings" title="Link to this heading"></a></h3>
<nav class="contents local" id="id91">
<ul class="simple">
<li><p><a class="reference internal" href="#the-fair-intergroup-pairing-problem" id="id378">The fair intergroup pairing problem</a></p></li>
<li><p><a class="reference internal" href="#generating-the-set-of-potential-maximal-matchings" id="id379">Generating the set of potential maximal matchings</a></p></li>
<li><p><a class="reference internal" href="#measuring-the-fitness-of-a-matching-from-a-personal-perspective" id="id380">Measuring the fitness of a matching from a personal perspective</a></p></li>
<li><p><a class="reference internal" href="#computing-the-fairest-intergroup-pairing" id="id381">Computing the fairest intergroup pairing</a></p></li>
<li><p><a class="reference internal" href="#fair-versus-stable-pairings" id="id382">Fair versus stable pairings</a></p></li>
<li><p><a class="reference internal" href="#relaxing-the-requirement-for-complete-linear-voting-profiles" id="id383">Relaxing the requirement for complete linear voting profiles</a></p></li>
<li><p><a class="reference internal" href="#using-copeland-scores-for-guiding-the-fairness-enhancement" id="id384">Using Copeland scores for guiding the fairness enhancement</a></p></li>
<li><p><a class="reference internal" href="#starting-the-fairness-enhancement-from-a-best-determined-copeland-matching" id="id385">Starting the fairness enhancement from a best determined Copeland matching</a></p></li>
</ul>
</nav>
<section id="the-fair-intergroup-pairing-problem">
<h4><a class="toc-backref" href="#id378" role="doc-backlink"><span class="section-number">1.3.9.1. </span>The fair intergroup pairing problem</a><a class="headerlink" href="#the-fair-intergroup-pairing-problem" title="Link to this heading"></a></h4>
<blockquote class="epigraph">
<div><p><strong>Fairness</strong>: <em>impartial and just treatment or behaviour without favouritism or discrimination</em> – Oxford Languages</p>
</div></blockquote>
<p>A set of persons consists of two groups –group <em>A</em> and group <em>B</em>– of equal size <em>k</em>. For a social happening, it is requested to build <em>k</em> pairs of persons from each group.</p>
<p>In order to guide the matching decisions, each person of group <em>A</em> communicates her pairing preferences with a linear ranking of the persons in group <em>B</em> and each person of group <em>B</em> communicates her pairing preferences with a linear ranking of the persons in group <em>A</em>.</p>
<p>The set of all potential matching decisions corresponds to the set of maximal matchings of the complete bipartite graph formed by the two groups <em>A</em> and <em>B</em>. Its cardinality is factorial <em>k</em>.</p>
<p>How to choose now in this possibly huge set the one maximal matching that makes a fair balance of the given individual pairing preferences? To help make this decision we will compute for all maximal matchings a fitness score consisting of their average ordinal correlation index with the given marginal pairing preferences. Eventually we will choose a maximal matching that results in the highest possible fitness score.</p>
<p>Let us consider for instance a set of four persons divided into group A, {<em>a1</em>, <em>a2</em>}, and group <em>B</em>, {<em>b1</em>, <em>b2</em>}. Person <em>a1</em> prefers as partner Person <em>b2</em>, and Person <em>a2</em> prefers as partner Person <em>b1</em>. Reciprocally, Person <em>b1</em> prefers Person <em>a2</em> over <em>a1</em> and Person <em>b2</em> finally prefers <em>a1</em> over <em>a2</em>. There exist only two possible maximal matchings,</p>
<blockquote>
<div><ol class="arabic simple">
<li><p><em>a1</em> with <em>b1</em> and <em>a2</em> with <em>b2</em>, or</p></li>
<li><p><em>a1</em> with <em>b2</em> and <em>a2</em> with <em>b1</em>.</p></li>
</ol>
</div></blockquote>
<p>Making the best matching decision in this setting here is trivial. Choosing matching (1) will result in an ordinal correlation index of -1 for all four persons, whereas matching (2) is in total ordinal concordance with everybody’s preferences and will result in an average ordinal correlation index of +1.0.</p>
<p>Can we generalise this approach to larger groups and partially determined ordinal correlation scores?</p>
<p><strong>Reciprocal linear voting profiles</strong></p>
<p>Let us consider two groups of size <em>k</em> = 5. Individual pairing preferences of the persons in group <em>A</em> and group <em>B</em> may be randomly generated with <em>reciprocal</em> <a class="reference internal" href="techDoc.html#votingProfiles.RandomLinearVotingProfile" title="votingProfiles.RandomLinearVotingProfile"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomLinearVotingProfile</span></code></a> instances called <em>lvA1</em> and <em>lvB1</em> (see below).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">votingProfiles</span> <span class="kn">import</span> <span class="n">RandomLinearVotingProfile</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">k</span> <span class="o">=</span> <span class="mi">5</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lvA1</span> <span class="o">=</span> <span class="n">RandomLinearVotingProfile</span><span class="p">(</span>
<span class="linenos"> 4</span><span class="gp">... </span>        <span class="n">numberOfVoters</span><span class="o">=</span><span class="n">k</span><span class="p">,</span><span class="n">numberOfCandidates</span><span class="o">=</span><span class="n">k</span><span class="p">,</span>
<span class="hll"><span class="linenos"> 5</span><span class="gp">... </span>        <span class="n">votersIdPrefix</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span>
</span><span class="hll"><span class="linenos"> 6</span><span class="gp">... </span>        <span class="n">candidatesIdPrefix</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span><span class="linenos"> 7</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lvA1</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;lvA1&#39;</span><span class="p">)</span>
<span class="linenos"> 8</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lvB1</span> <span class="o">=</span> <span class="n">RandomLinearVotingProfile</span><span class="p">(</span>
<span class="linenos"> 9</span><span class="gp">... </span>        <span class="n">numberOfVoters</span><span class="o">=</span><span class="n">k</span><span class="p">,</span><span class="n">numberOfCandidates</span><span class="o">=</span><span class="n">k</span><span class="p">,</span>
<span class="hll"><span class="linenos">10</span><span class="gp">... </span>        <span class="n">votersIdPrefix</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">,</span>
</span><span class="hll"><span class="linenos">11</span><span class="gp">... </span>        <span class="n">candidatesIdPrefix</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</span><span class="linenos">12</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lvB1</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;lvB1&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>We may inspect the resulting stored pairing preferences for each person in group <em>A</em> and each person in group <em>B</em> with the <code class="xref py py-meth docutils literal notranslate"><span class="pre">showLinearBallots()</span></code> method <a class="footnote-reference brackets" href="#id253" id="id92" role="doc-noteref"><span class="fn-bracket">[</span>49<span class="fn-bracket">]</span></a>.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">votingProfiles</span> <span class="kn">import</span> <span class="n">LinearVotingProfile</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lvA1</span> <span class="o">=</span> <span class="n">LinearVotingProfile</span><span class="p">(</span><span class="s1">&#39;lvA1&#39;</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lvA1</span><span class="o">.</span><span class="n">showLinearBallots</span><span class="p">()</span>
<span class="linenos"> 4</span><span class="go"> voters            marginal</span>
<span class="linenos"> 5</span><span class="go">(weight)      candidates rankings</span>
<span class="hll"><span class="linenos"> 6</span><span class="go"> a1(1):       [&#39;b3&#39;, &#39;b4&#39;, &#39;b5&#39;, &#39;b1&#39;, &#39;b2&#39;]</span>
</span><span class="hll"><span class="linenos"> 7</span><span class="go"> a2(1):       [&#39;b3&#39;, &#39;b5&#39;, &#39;b4&#39;, &#39;b2&#39;, &#39;b1&#39;]</span>
</span><span class="hll"><span class="linenos"> 8</span><span class="go"> a3(1):       [&#39;b4&#39;, &#39;b2&#39;, &#39;b1&#39;, &#39;b3&#39;, &#39;b5&#39;]</span>
</span><span class="linenos"> 9</span><span class="go"> a4(1):       [&#39;b2&#39;, &#39;b4&#39;, &#39;b1&#39;, &#39;b5&#39;, &#39;b3&#39;]</span>
<span class="linenos">10</span><span class="go"> a5(1):       [&#39;b4&#39;, &#39;b2&#39;, &#39;b3&#39;, &#39;b1&#39;, &#39;b5&#39;]</span>
<span class="linenos">11</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lvB1</span> <span class="o">=</span> <span class="n">LinearProfile</span><span class="p">(</span><span class="s1">&#39;lvB1&#39;</span><span class="p">)</span>
<span class="linenos">12</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lvB1</span><span class="o">.</span><span class="n">showLinearBallots</span><span class="p">()</span>
<span class="linenos">13</span><span class="go"> voters            marginal</span>
<span class="linenos">14</span><span class="go">(weight)      candidates rankings</span>
<span class="hll"><span class="linenos">15</span><span class="go"> b1(1):       [&#39;a3&#39;, &#39;a2&#39;, &#39;a4&#39;, &#39;a5&#39;, &#39;a1&#39;]</span>
</span><span class="linenos">16</span><span class="go"> b2(1):       [&#39;a5&#39;, &#39;a3&#39;, &#39;a1&#39;, &#39;a4&#39;, &#39;a2&#39;]</span>
<span class="hll"><span class="linenos">17</span><span class="go"> b3(1):       [&#39;a3&#39;, &#39;a4&#39;, &#39;a1&#39;, &#39;a5&#39;, &#39;a2&#39;]</span>
</span><span class="hll"><span class="linenos">18</span><span class="go"> b4(1):       [&#39;a3&#39;, &#39;a4&#39;, &#39;a1&#39;, &#39;a2&#39;, &#39;a5&#39;]</span>
</span><span class="hll"><span class="linenos">19</span><span class="go"> b5(1):       [&#39;a3&#39;, &#39;a4&#39;, &#39;a1&#39;, &#39;a2&#39;, &#39;a5&#39;]</span>
</span></pre></div>
</div>
<p>With these given individual pairing preferences, there does no more exist a quick trivial matching solution to our pairing problem. Persons <em>a1</em> and <em>a2</em> prefer indeed to be matched to the same Person <em>b3</em>. Worse, Persons <em>b1</em>, <em>b3</em>, <em>b4</em> and <em>b5</em> all four want also to be preferably matched to a same Person <em>a3</em>, but Person <em>a3</em> apparently prefers as partner only Person <em>b4</em>.</p>
<p>How to find now a maximal matching that will fairly balance the individual pairing preferences of both groups? To solve this decision problem, we first must generate the potential decision actions, i.e. all potential maximal matchings between group <em>A</em> and group <em>B</em>.</p>
</section>
<section id="generating-the-set-of-potential-maximal-matchings">
<h4><a class="toc-backref" href="#id379" role="doc-backlink"><span class="section-number">1.3.9.2. </span>Generating the set of potential maximal matchings</a><a class="headerlink" href="#generating-the-set-of-potential-maximal-matchings" title="Link to this heading"></a></h4>
<p>The maximal matchings correspond in fact to the maximal independent sets of edges of the complete bipartite graph linking group <em>A</em> to group <em>B</em>. To compute this set we will use the <a class="reference internal" href="techDoc.html#graphs.CompleteBipartiteGraph" title="graphs.CompleteBipartiteGraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">CompleteBipartiteGraph</span></code></a> class from the <a class="reference internal" href="techDoc.html#module-graphs" title="graphs"><code class="xref py py-mod docutils literal notranslate"><span class="pre">graphs</span></code></a> module (see Lines 3-4 below).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">groupA</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">lvA1</span><span class="o">.</span><span class="n">voters</span><span class="p">]</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">groupB</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">lvB1</span><span class="o">.</span><span class="n">voters</span><span class="p">]</span>
<span class="hll"><span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">graphs</span> <span class="kn">import</span> <span class="n">CompleteBipartiteGraph</span>
</span><span class="hll"><span class="linenos"> 4</span><span class="gp">&gt;&gt;&gt; </span><span class="n">bpg</span> <span class="o">=</span> <span class="n">CompleteBipartiteGraph</span><span class="p">(</span><span class="n">groupA</span><span class="p">,</span><span class="n">groupB</span><span class="p">)</span>
</span><span class="linenos"> 5</span><span class="gp">&gt;&gt;&gt; </span><span class="n">bpg</span>
<span class="linenos"> 6</span><span class="go"> *------- Graph instance description ------*</span>
<span class="linenos"> 7</span><span class="go">  Instance class   : Graph</span>
<span class="linenos"> 8</span><span class="go">  Instance name    : bipartitegraph</span>
<span class="linenos"> 9</span><span class="go">  Graph Order      : 10</span>
<span class="linenos">10</span><span class="go">  Graph Size       : 25</span>
<span class="linenos">11</span><span class="go">  Valuation domain : [-1.00; 1.00]</span>
<span class="linenos">12</span><span class="go">  Attributes       : [&#39;name&#39;, &#39;vertices&#39;,</span>
<span class="linenos">13</span><span class="go">                      &#39;verticesKeysA&#39;, &#39;verticesKeysB&#39;,</span>
<span class="linenos">14</span><span class="go">                      &#39;order&#39;, &#39;valuationDomain&#39;,</span>
<span class="linenos">15</span><span class="go">                      &#39;edges&#39;, &#39;size&#39;, &#39;gamma&#39;]</span>
</pre></div>
</div>
<p>Now, the maximal matchings of the bipartte graph <em>bpg</em> correspond to the MISs of its line graph <em>lbpg</em>. Therefore we use the <a class="reference internal" href="techDoc.html#graphs.LineGraph" title="graphs.LineGraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">LineGraph</span></code></a> class from the <a class="reference internal" href="techDoc.html#module-graphs" title="graphs"><code class="xref py py-mod docutils literal notranslate"><span class="pre">graphs</span></code></a> module.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">graphs</span> <span class="kn">import</span> <span class="n">LineGraph</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lbpg</span> <span class="o">=</span> <span class="n">LineGraph</span><span class="p">(</span><span class="n">bpg</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lbpg</span>
<span class="linenos"> 4</span><span class="go"> *------- Graph instance description ------*</span>
<span class="linenos"> 5</span><span class="go">  Instance class   : LineGraph</span>
<span class="linenos"> 6</span><span class="go">  Instance name    : line-bipartite_completeGraph_graph</span>
<span class="linenos"> 7</span><span class="go">  Graph Order      : 25</span>
<span class="linenos"> 8</span><span class="go">  Graph Size       : 100</span>
<span class="linenos"> 9</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lbpg</span><span class="o">.</span><span class="n">computeMIS</span><span class="p">()</span>
<span class="linenos">10</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lbpg</span><span class="o">.</span><span class="n">showMIS</span><span class="p">()</span>
<span class="linenos">11</span><span class="go"> *---  Maximal Independent Sets ---*</span>
<span class="linenos">12</span><span class="go">  number of solutions:  120</span>
<span class="linenos">13</span><span class="go">  cardinality distribution</span>
<span class="linenos">14</span><span class="go">  card.:  [0, 1, 2, 3, 4,  5,  6, 7, 8, 9, 10, ....]</span>
<span class="hll"><span class="linenos">15</span><span class="go">  freq.:  [0, 0, 0, 0, 0, 120, 0, 0, 0, 0,  0, ....]</span>
</span><span class="linenos">16</span><span class="go">  stability number :  5</span>
<span class="linenos">17</span><span class="go">  execution time: 0.01483 sec.</span>
<span class="linenos">18</span><span class="go">  Results in self.misset</span>
</pre></div>
</div>
<p>The set of maximal matchings between persons of groups <em>A</em> and <em>B</em> has cardinality <em>factorial</em> 5! = 120 (see Line 15 above) and is stored in attribute <em>lbpg.misset</em>. We may for instance print the pairing corresponding to the first maximal matching.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">lbpg</span><span class="o">.</span><span class="n">misset</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
<span class="linenos">2</span><span class="gp">... </span>    <span class="n">pair</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="linenos">3</span><span class="gp">... </span>    <span class="n">pair</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
<span class="linenos">4</span><span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">pair</span><span class="p">)</span>
<span class="hll"><span class="linenos">5</span><span class="go"> [&#39;a1&#39;, &#39;b4&#39;]</span>
</span><span class="linenos">6</span><span class="go"> [&#39;a2&#39;, &#39;b3&#39;]</span>
<span class="linenos">7</span><span class="go"> [&#39;a3&#39;, &#39;b5&#39;]</span>
<span class="linenos">8</span><span class="go"> [&#39;a4&#39;, &#39;b2&#39;]</span>
<span class="linenos">9</span><span class="go"> [&#39;a5&#39;, &#39;b1&#39;]</span>
</pre></div>
</div>
<p>Each maximal matching delivers thus for each person a partially determined ranking. For Person <em>a1</em>, for instance, this matching ranks <em>b4</em> before all the other persons from group <em>B</em> and for Person <em>b4</em>, for instance, this matching ranks <em>a1</em> before all other persons from group <em>A</em>.</p>
<p>How to judge now the global pairing fitness of this matching?</p>
</section>
<section id="measuring-the-fitness-of-a-matching-from-a-personal-perspective">
<h4><a class="toc-backref" href="#id380" role="doc-backlink"><span class="section-number">1.3.9.3. </span>Measuring the fitness of a matching from a personal perspective</a><a class="headerlink" href="#measuring-the-fitness-of-a-matching-from-a-personal-perspective" title="Link to this heading"></a></h4>
<p>Below we may reinspect the actual pairing preferences of each person.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lvA1</span><span class="o">.</span><span class="n">showLinearBallots</span><span class="p">()</span>
<span class="linenos"> 2</span><span class="go">  voters           marginal</span>
<span class="linenos"> 3</span><span class="go"> (weight)     candidates rankings</span>
<span class="hll"><span class="linenos"> 4</span><span class="go">  a1(1):      [&#39;b3&#39;, &#39;b4&#39;, &#39;b5&#39;, &#39;b1&#39;, &#39;b2&#39;]</span>
</span><span class="linenos"> 5</span><span class="go">  a2(1):      [&#39;b3&#39;, &#39;b5&#39;, &#39;b4&#39;, &#39;b2&#39;, &#39;b1&#39;]</span>
<span class="linenos"> 6</span><span class="go">  a3(1):      [&#39;b4&#39;, &#39;b2&#39;, &#39;b1&#39;, &#39;b3&#39;, &#39;b5&#39;]</span>
<span class="linenos"> 7</span><span class="go">  a4(1):      [&#39;b2&#39;, &#39;b4&#39;, &#39;b1&#39;, &#39;b5&#39;, &#39;b3&#39;]</span>
<span class="linenos"> 8</span><span class="go">  a5(1):      [&#39;b4&#39;, &#39;b2&#39;, &#39;b3&#39;, &#39;b1&#39;, &#39;b5&#39;]</span>
<span class="linenos"> 9</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lvB1</span><span class="o">.</span><span class="n">showLinearBallots</span><span class="p">()</span>
<span class="linenos">10</span><span class="go">  voters           marginal</span>
<span class="linenos">11</span><span class="go"> (weight)     candidates rankings</span>
<span class="linenos">12</span><span class="go">  b1(1):      [&#39;a3&#39;, &#39;a2&#39;, &#39;a4&#39;, &#39;a5&#39;, &#39;a1&#39;]</span>
<span class="linenos">13</span><span class="go">  b2(1):      [&#39;a5&#39;, &#39;a3&#39;, &#39;a1&#39;, &#39;a4&#39;, &#39;a2&#39;]</span>
<span class="linenos">14</span><span class="go">  b3(1):      [&#39;a3&#39;, &#39;a4&#39;, &#39;a1&#39;, &#39;a5&#39;, &#39;a2&#39;]</span>
<span class="hll"><span class="linenos">15</span><span class="go">  b4(1):      [&#39;a3&#39;, &#39;a4&#39;, &#39;a1&#39;, &#39;a2&#39;, &#39;a5&#39;]</span>
</span><span class="linenos">16</span><span class="go">  b5(1):      [&#39;a3&#39;, &#39;a4&#39;, &#39;a1&#39;, &#39;a2&#39;, &#39;a5&#39;]</span>
</pre></div>
</div>
<p>In the first matching shown in the previous Listing, Person <em>a1</em> is for instance matched with Person <em>b4</em>, which was her second choice. Whereas for Person <em>b4</em> the match with Person <em>a1</em> is only her third choice.</p>
<p>For a given person, we may hence compute the ordinal correlation –the relative number of correctly ranked persons minus the relative number of incorrectly ranked persons– between the partial ranking defined by the given matching and the individual pairing preferences, just ignoring the indeterminate comparisons.</p>
<p>For Person <em>a1</em>, for instance, the matching ranks <em>b4</em> before all the other persons from group <em>B</em> whereas <em>a1</em>’s individual preferences rank <em>b4</em> second behind <em>b3</em>. We observe hence 3 correctly ranked persons –<em>b5</em>, <em>b1</em> and <em>b2</em>– minus 1 incorrectly ranked person –<em>b3</em>– out of four determined comparisons. The resulting ordinal correlation index amounts to (3-1)/4 = +0.5.</p>
<p>For Person <em>b4</em>, similarly, we count 2 correctly ranked persons –<em>a2</em> and <em>a5</em>– and 2 incorrectly ranked persons –<em>a3</em> and <em>a4</em>– out of the four determined comparisons. The resulting ordinal correlation amounts hence to (2-2)/4 = 0.0</p>
<p>For a given maximal matching we obtain thus 10 ordinal correlation indexes, one for each person in both groups. And, we may now score the global fitness of a given matching by computing the average over all the individual ordinal correlation indexes observed in group <em>A</em> and group <em>B</em>.</p>
</section>
<section id="computing-the-fairest-intergroup-pairing">
<h4><a class="toc-backref" href="#id381" role="doc-backlink"><span class="section-number">1.3.9.4. </span>Computing the fairest intergroup pairing</a><a class="headerlink" href="#computing-the-fairest-intergroup-pairing" title="Link to this heading"></a></h4>
<p>The <a class="reference internal" href="techDoc.html#module-pairings" title="pairings"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pairings</span></code></a> module provides the <a class="reference internal" href="techDoc.html#pairings.FairestInterGroupPairing" title="pairings.FairestInterGroupPairing"><code class="xref py py-class docutils literal notranslate"><span class="pre">FairestInterGroupPairing</span></code></a> class for solving, following this way, a given pairing problem of tiny order 5 (see below).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pairings</span> <span class="kn">import</span> <span class="n">FairestInterGroupPairing</span>
<span class="hll"><span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fp</span> <span class="o">=</span> <span class="n">FairestInterGroupPairing</span><span class="p">(</span><span class="n">lvA1</span><span class="p">,</span><span class="n">lvB1</span><span class="p">)</span>
</span><span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fp</span>
<span class="linenos"> 4</span><span class="go"> *------- FairPairing instance description ------*</span>
<span class="linenos"> 5</span><span class="go">  Instance class      : FairestInterGroupPairing</span>
<span class="linenos"> 6</span><span class="go">  Instance name       : pairingProblem</span>
<span class="linenos"> 7</span><span class="go">  Groups A and B size : 5</span>
<span class="hll"><span class="linenos"> 8</span><span class="go">  Attributes          : [&#39;name&#39;, &#39;order&#39;, &#39;vpA&#39;, &#39;vpB&#39;,</span>
</span><span class="hll"><span class="linenos"> 9</span><span class="go">                         &#39;pairings&#39;, &#39;matching&#39;,</span>
</span><span class="hll"><span class="linenos">10</span><span class="go">                         &#39;vertices&#39;, &#39;valuationDomain&#39;,</span>
</span><span class="hll"><span class="linenos">11</span><span class="go">                         &#39;edges&#39;, &#39;gamma&#39;, &#39;runTimes&#39;]</span>
</span></pre></div>
</div>
<p>The class takes as input two reciprocal <a class="reference internal" href="techDoc.html#votingProfiles.VotingProfile" title="votingProfiles.VotingProfile"><code class="xref py py-class docutils literal notranslate"><span class="pre">VotingProfile</span></code></a> objects describing the individual pairing preferences of the two groups <em>A</em> and <em>B</em>  of persons. The class constructor delivers the attributes shown above. <em>vpA</em> and <em>vpB</em> contain the pairing preferences. The <em>pairings</em> attribute gathers all maximal matchings –the potential decision actions– ordered by decreasing average ordinal correlation with the individual pairing preferences, whereas the <em>matching</em> attribute delivers directly the first-ranked maximal matching –<em>pairings[0][0]</em>– and may be consulted as shown in the Listing below. The resulting <em>fp</em> object models in fact a <a class="reference internal" href="techDoc.html#graphs.BipartiteGraph" title="graphs.BipartiteGraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">BipartiteGraph</span></code></a> object where the <em>vertices</em> correspond to the set of persons in both groups and the bipartite <em>edges</em> model the fairest maximal matching. The <a class="reference internal" href="techDoc.html#pairings.FairestInterGroupPairing.showFairestPairing" title="pairings.FairestInterGroupPairing.showFairestPairing"><code class="xref py py-meth docutils literal notranslate"><span class="pre">showFairestPairing()</span></code></a> method prints out the fairest matching.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fp</span><span class="o">.</span><span class="n">showFairestPairing</span><span class="p">(</span><span class="n">rank</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<span class="linenos"> 2</span><span class="gp">... </span>  <span class="n">WithIndividualCorrelations</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="go"> *------------------------------*</span>
<span class="linenos"> 4</span><span class="go"> Fairest pairing</span>
<span class="linenos"> 5</span><span class="go">  [&#39;a1&#39;, &#39;b3&#39;]</span>
<span class="linenos"> 6</span><span class="go">  [&#39;a2&#39;, &#39;b5&#39;]</span>
<span class="linenos"> 7</span><span class="go">  [&#39;a3&#39;, &#39;b1&#39;]</span>
<span class="linenos"> 8</span><span class="go">  [&#39;a4&#39;, &#39;b4&#39;]</span>
<span class="linenos"> 9</span><span class="go">  [&#39;a5&#39;, &#39;b2&#39;]</span>
<span class="linenos">10</span><span class="go"> groupA correlations:</span>
<span class="hll"><span class="linenos">11</span><span class="go">  &#39;a1&#39;: +1.000</span>
</span><span class="hll"><span class="linenos">12</span><span class="go">  &#39;a2&#39;: +0.500</span>
</span><span class="linenos">13</span><span class="go">  &#39;a3&#39;:  0.000</span>
<span class="hll"><span class="linenos">14</span><span class="go">  &#39;a4&#39;: +0.500</span>
</span><span class="hll"><span class="linenos">15</span><span class="go">  &#39;a5&#39;: +0.500</span>
</span><span class="linenos">16</span><span class="go"> group A average correlations (a) : 0.500</span>
<span class="linenos">17</span><span class="go"> group A standard deviation       : 0.354</span>
<span class="linenos">18</span><span class="go"> ----</span>
<span class="linenos">19</span><span class="go"> groupB Correlations:</span>
<span class="hll"><span class="linenos">20</span><span class="go">  &#39;b1&#39;: +1.000</span>
</span><span class="hll"><span class="linenos">21</span><span class="go">  &#39;b2&#39;: +1.000</span>
</span><span class="linenos">22</span><span class="go">  &#39;b3&#39;:  0.000</span>
<span class="hll"><span class="linenos">23</span><span class="go">  &#39;b4&#39;: +0.500</span>
</span><span class="linenos">24</span><span class="go">  &#39;b5&#39;: -0.500</span>
<span class="linenos">25</span><span class="go"> group B average correlations (b) : 0.400</span>
<span class="linenos">26</span><span class="go"> group B standard deviation       : 0.652</span>
<span class="linenos">27</span><span class="go"> ----</span>
<span class="linenos">28</span><span class="go"> Average correlation    : 0.450</span>
<span class="linenos">29</span><span class="go"> Standard Deviation     : 0.497</span>
<span class="linenos">30</span><span class="go"> Unfairness |(a) - (b)| : 0.100</span>
</pre></div>
</div>
<p>Three persons –<em>a1</em>, <em>b1</em> and <em>b2</em>– get as partner their first choice (+1.0). Four persons –<em>a2</em>, <em>a4</em>, <em>a5</em> and <em>b4</em>– get their second choice (+0.5). Two persons –<em>a3</em> and <em>b3</em>– get their third choice (0.0). Person <em>b5</em> gets only her fourth choice. Both group get very similar average ordinal correlation results – +0.500 versus +0.400– resulting in a low unfairness score (see last Line above)</p>
<p>In this problem we may observe a 2nd-ranked pairing, of same average correlation score +0.450, but with both a larger standard deviation (0.55 versus 0.45) and a larger unfairness score (0.300 versus 0.100).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fp</span><span class="o">.</span><span class="n">showFairestPairing</span><span class="p">(</span><span class="n">rank</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
<span class="linenos"> 2</span><span class="gp">... </span>     <span class="n">WithIndividualCorrelations</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="go"> *------------------------------*</span>
<span class="linenos"> 4</span><span class="go"> 2nd-ranked pairing</span>
<span class="linenos"> 5</span><span class="go"> [&#39;a1&#39;, &#39;b3&#39;]</span>
<span class="linenos"> 6</span><span class="go"> [&#39;a2&#39;, &#39;b5&#39;]</span>
<span class="linenos"> 7</span><span class="go"> [&#39;a3&#39;, &#39;b4&#39;]</span>
<span class="linenos"> 8</span><span class="go"> [&#39;a4&#39;, &#39;b1&#39;]</span>
<span class="linenos"> 9</span><span class="go"> [&#39;a5&#39;, &#39;b2&#39;]</span>
<span class="linenos">10</span><span class="go"> group A correlations:</span>
<span class="hll"><span class="linenos">11</span><span class="go">  &#39;a1&#39;: +1.000</span>
</span><span class="linenos">12</span><span class="go">  &#39;a2&#39;: +0.500</span>
<span class="hll"><span class="linenos">13</span><span class="go">  &#39;a3&#39;: +1.000</span>
</span><span class="linenos">14</span><span class="go">  &#39;a4&#39;: +0.000</span>
<span class="linenos">15</span><span class="go">  &#39;a5&#39;: +0.500</span>
<span class="hll"><span class="linenos">16</span><span class="go"> group A average correlations (a) : 0.600</span>
</span><span class="linenos">17</span><span class="go"> group A standard deviation       : 0.418</span>
<span class="linenos">18</span><span class="go"> ----</span>
<span class="linenos">19</span><span class="go"> group B correlations:</span>
<span class="linenos">20</span><span class="go">  &#39;b1&#39;: +0.000</span>
<span class="hll"><span class="linenos">21</span><span class="go">  &#39;b2&#39;: +1.000</span>
</span><span class="linenos">22</span><span class="go">  &#39;b3&#39;: +0.000</span>
<span class="hll"><span class="linenos">23</span><span class="go">  &#39;b4&#39;: +1.000</span>
</span><span class="linenos">24</span><span class="go">  &#39;b5&#39;: -0.500</span>
<span class="hll"><span class="linenos">25</span><span class="go"> group B average correlations (b) : 0.300</span>
</span><span class="linenos">26</span><span class="go"> group B standard deviation       : 0.671</span>
<span class="linenos">27</span><span class="go"> ---</span>
<span class="hll"><span class="linenos">28</span><span class="go"> Average correlation    : 0.450</span>
</span><span class="linenos">29</span><span class="go"> Standard Deviation     : 0.550</span>
<span class="linenos">30</span><span class="go"> Unfairness |(a) - (b)| : 0.300</span>
</pre></div>
</div>
<p>In this second-fairest pairing solution, four persons –<em>a1</em>, <em>a3</em>, <em>b2</em> and <em>b4</em>– get their first choice. Only two persons –<em>a2</em> and <em>a5</em>– get their second choice, but three persons –<em>a4</em>, <em>b1</em> and <em>b3</em>– now only get their third choice. Person <em>b5</em> gets unchanged her fourth choice. Despite a same average correlation (+0.45), the distribution of the individual correlations appears less balanced than in the previous solution, as confirmed by the higher standard deviation. In the latter pairing, group <em>A</em> shows indeed an average correlation of +3.000/5 = +0.600, whereas group <em>B</em> obtains only an average correlation of 1.500/5 = +0.300.</p>
<p>In the previous pairing, group <em>A</em> gets a lesser average correlation of +0.500. And, group <em>B</em> obtains here a higher average correlation of 2.000/5 = +0.400. Which makes the first-ranked pairing with same average ordinal correlation yet lower standard deviation, an effectively fairer matching decision.</p>
<p>One may visualise a pairing result with the <code class="xref py py-meth docutils literal notranslate"><span class="pre">exportPairingGraphViz()</span></code> method (see <a class="reference internal" href="#fairpairing"><span class="std std-numref">Fig. 1.39</span></a> below).</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fp</span><span class="o">.</span><span class="n">exportPairingGraphViz</span><span class="p">(</span><span class="n">fileName</span><span class="o">=</span><span class="s1">&#39;fairPairing&#39;</span><span class="p">,</span>
<span class="gp">... </span>                         <span class="n">matching</span><span class="o">=</span><span class="n">fp</span><span class="o">.</span><span class="n">matching</span><span class="p">)</span>
<span class="go"> dot -Tpng fairPairing.dot -o fairPairing.png</span>
</pre></div>
</div>
<figure class="align-center" id="fairpairing">
<a class="reference internal image-reference" href="_images/fairPairing.png"><img alt="Fairest first-ranked matching" src="_images/fairPairing.png" style="width: 250px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.39 </span><span class="caption-text">Fairest intergroup pairing decision</span><a class="headerlink" href="#fairpairing" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>A matching corresponds in fact to a certain permutation of the positional indexes of the persons in group <em>B</em>. We may compute this permutation and construct the corresponding permutation graph.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">permutation</span> <span class="o">=</span> <span class="n">fp</span><span class="o">.</span><span class="n">computePermutation</span><span class="p">(</span><span class="n">fp</span><span class="o">.</span><span class="n">matching</span><span class="p">)</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">graphs</span> <span class="kn">import</span> <span class="n">PermutationGraph</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">pg</span> <span class="o">=</span> <span class="n">PermutationGraph</span><span class="p">(</span><span class="n">permutation</span><span class="p">)</span>
<span class="linenos"> 4</span><span class="gp">&gt;&gt;&gt; </span><span class="n">pg</span>
<span class="linenos"> 5</span><span class="go"> *------- Graph instance description ------*</span>
<span class="linenos"> 6</span><span class="go">  Instance class   : PermutationGraph</span>
<span class="linenos"> 7</span><span class="go">  Instance name    : matching-permutation</span>
<span class="linenos"> 8</span><span class="go">  Graph Order      : 5</span>
<span class="hll"><span class="linenos"> 9</span><span class="go">  Permutation      : [3, 5, 1, 4, 2]</span>
</span><span class="linenos">10</span><span class="go">  Graph Size       : 6</span>
<span class="linenos">11</span><span class="go">  Valuation domain : [-1.00; 1.00]</span>
<span class="linenos">12</span><span class="go">  Attributes       : [&#39;name&#39;, &#39;vertices&#39;, &#39;order&#39;,</span>
<span class="linenos">13</span><span class="go">                      &#39;permutation&#39;, &#39;valuationDomain&#39;,</span>
<span class="linenos">14</span><span class="go">                      &#39;edges&#39;, &#39;size&#39;, &#39;gamma&#39;]</span>
<span class="linenos">15</span><span class="gp">&gt;&gt;&gt; </span><span class="n">pg</span><span class="o">.</span><span class="n">exportPermutationGraphViz</span><span class="p">(</span><span class="n">fileName</span><span class="o">=</span><span class="s1">&#39;fairPairingPermutation&#39;</span><span class="p">)</span>
<span class="linenos">16</span><span class="go">*---- exporting a dot file for GraphViz tools ---------*</span>
<span class="linenos">17</span><span class="go">Exporting to farPairingPermutation.dot</span>
<span class="linenos">18</span><span class="go">neato -n -Tpng fairPairingPermutation.dot -o fairPairingPermutation.png</span>
</pre></div>
</div>
<figure class="align-center" id="fairpairingpermutation">
<a class="reference internal image-reference" href="_images/fairPairingPermutation.png"><img alt="Fairest first-ranked matching's permutation" src="_images/fairPairingPermutation.png" style="width: 250px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.40 </span><span class="caption-text">Fairest pairing’s coloured matching diagram</span><a class="headerlink" href="#fairpairingpermutation" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>In <a class="reference internal" href="#fairpairingpermutation"><span class="std std-numref">Fig. 1.40</span></a> is shown the coloured matching diagram of the index permutation [3, 5, 1, 4, 2] modelled by the fairest pairing decision.</p>
<p>Mind that our <a class="reference internal" href="techDoc.html#pairings.FairestInterGroupPairing" title="pairings.FairestInterGroupPairing"><code class="xref py py-class docutils literal notranslate"><span class="pre">FairestInterGroupPairing</span></code></a> class does not provide an efficient algorithm for computing fair pairings; far from it. Our class constructor’s complexity is in <img class="math" src="_images/math/bbe5265a958faff3be9508581bc41b22abf52988.png" alt="O(k!)"/>, which makes the class totally unfit for solving any real pairing problem even of small size. The class has solely the didactic purpose of giving a first insight into this important and practically relevant decision problem. For efficiently solving this kind of pairing decision problems it is usual professional practice to concentrate the set of potential pairing decisions on <em>stable</em> matchings <a class="footnote-reference brackets" href="#id249" id="id93" role="doc-noteref"><span class="fn-bracket">[</span>45<span class="fn-bracket">]</span></a> .</p>
</section>
<section id="fair-versus-stable-pairings">
<h4><a class="toc-backref" href="#id382" role="doc-backlink"><span class="section-number">1.3.9.5. </span>Fair versus stable pairings</a><a class="headerlink" href="#fair-versus-stable-pairings" title="Link to this heading"></a></h4>
<p>In classical economics, where the homo economicus is supposed to ignore any idea of fairness and behave solely in exact accordance with his rational self-interest, a pairing is only considered suitable when there appear no matching <em>instabilities</em>. A matching is indeed called <em>stable</em> when there does not exist in the matching a couple of pairs such that it may be interesting for both a paired person from group <em>A</em> and a paired person from group <em>B</em> to abandon their given partners and form together a new pair. Let us consider for instance the following situation,</p>
<blockquote>
<div><div class="line-block">
<div class="line">Person <em>a3</em> is paired with Person <em>b1</em>.</div>
<div class="line">Person <em>b4</em> is paired with Person <em>a4</em>.</div>
<div class="line">Person <em>a3</em> would rather be with Person <em>b4</em></div>
<div class="line">Person <em>b4</em> would rather be with Person <em>a3</em></div>
</div>
</div></blockquote>
<p>Computing such a <em>stable</em> matching may be done with the famous <em>Gale-Shapley</em>  algorithm (<a class="footnote-reference brackets" href="#id246" id="id94" role="doc-noteref"><span class="fn-bracket">[</span>43<span class="fn-bracket">]</span></a>, <a class="footnote-reference brackets" href="#id249" id="id95" role="doc-noteref"><span class="fn-bracket">[</span>45<span class="fn-bracket">]</span></a>), available via the <a class="reference internal" href="techDoc.html#pairings.FairestGaleShapleyMatching" title="pairings.FairestGaleShapleyMatching"><code class="xref py py-class docutils literal notranslate"><span class="pre">FairestGaleShapleyMatching</span></code></a> class (see below Line 1).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pairings</span> <span class="kn">import</span> <span class="n">FairestGaleShapleyMatching</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fgs</span> <span class="o">=</span> <span class="n">FairestGaleShapleyMatching</span><span class="p">(</span><span class="n">lvA1</span><span class="p">,</span><span class="n">lvB1</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fgs</span><span class="o">.</span><span class="n">showPairing</span><span class="p">(</span><span class="n">fgs</span><span class="o">.</span><span class="n">matching</span><span class="p">)</span>
<span class="linenos"> 4</span><span class="go"> *-----------*</span>
<span class="linenos"> 5</span><span class="go">    Pairing</span>
<span class="linenos"> 6</span><span class="go">  [&#39;a1&#39;, &#39;b3&#39;]</span>
<span class="linenos"> 7</span><span class="go">  [&#39;a2&#39;, &#39;b5&#39;]</span>
<span class="linenos"> 8</span><span class="go">  [&#39;a3&#39;, &#39;b4&#39;]</span>
<span class="linenos"> 9</span><span class="go">  [&#39;a4&#39;, &#39;b1&#39;]</span>
<span class="linenos">10</span><span class="go">  [&#39;a5&#39;, &#39;b2&#39;]</span>
</pre></div>
</div>
<p>We have already seen this <em>Gale-Shapley</em> pairing solution. It is in fact the 2nd-ranked fairest pairing, discussed in the previous section. Now, is the fact of being <em>stable</em> any essential characteristic of a fair pairing solution?</p>
<p>In a Monte Carlo simulation of solving 1000 random pairing problems of order 5, we obtain the following distribution of the actual fairness ranking indexes of the fairest stable matching.</p>
<figure class="align-center" id="diststablefairness">
<a class="reference internal image-reference" href="_images/distStableFairness.png"><img alt="Distribution of the ranks of the fairest stable matching" src="_images/distStableFairness.png" style="width: 500px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.41 </span><span class="caption-text">Distribution of the fairness rank of the fairest stable matching</span><a class="headerlink" href="#diststablefairness" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>In <a class="reference internal" href="#diststablefairness"><span class="std std-numref">Fig. 1.41</span></a> we may notice that only in a bit more than 50% of the cases, the overall fairest matching –of index 0 in the <em>fp.pairings</em> list– is indeed stable.</p>
<p>And the overall fairest matching in our example above is, for instance, <em>not</em> a stable matching (see Lines 2-3 below).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fp</span><span class="o">.</span><span class="n">isStableMatching</span><span class="p">(</span><span class="n">fp</span><span class="o">.</span><span class="n">matching</span><span class="p">,</span><span class="n">Comments</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos"> 2</span><span class="go"> *------------------------------*</span>
<span class="linenos"> 3</span><span class="go"> [&#39;a1&#39;, &#39;b3&#39;]</span>
<span class="linenos"> 4</span><span class="go"> [&#39;a2&#39;, &#39;b5&#39;]</span>
<span class="linenos"> 5</span><span class="go"> [&#39;a3&#39;, &#39;b1&#39;]</span>
<span class="linenos"> 6</span><span class="go"> [&#39;a4&#39;, &#39;b4&#39;]</span>
<span class="linenos"> 7</span><span class="go"> [&#39;a5&#39;, &#39;b2&#39;]</span>
<span class="hll"><span class="linenos"> 8</span><span class="go">   is unstable!</span>
</span><span class="hll"><span class="linenos"> 9</span><span class="go"> a3 b4 &lt;-- b1: rank improvement 0 --&gt; 2</span>
</span><span class="hll"><span class="linenos">10</span><span class="go"> b4 a3 &lt;-- a4: rank improvement 0 --&gt; 1</span>
</span></pre></div>
</div>
<p>If we resolve its unstable pairs –[<em>a3</em>, <em>b1</em>] –&gt; [<em>a3</em>, <em>b4</em>] , and [<em>a4</em>, <em>b4</em>] –&gt; [<em>a4</em>, <em>b1</em>]– we recover the previous <em>Gale-Shapley</em> solution, i.e the 2nd-fairest pairing solution (see above).</p>
<p><strong>Unfairness of the Gale-Shapley solution</strong></p>
<p>The <em>Gale-Shapley</em> algorithm is actually based on an asymmetrical handling of the two groups of persons by distinguishing a matches proposing group. In our implementation here <a class="footnote-reference brackets" href="#id248" id="id96" role="doc-noteref"><span class="fn-bracket">[</span>44<span class="fn-bracket">]</span></a>, it is group <em>A</em>. Now, the proposing group gets by the <em>Gale-Shapley</em> algorithm the best possible average group correlation, but of costs of the non-proposing group who gets the worst possible average group correlation in any stable matching <a class="footnote-reference brackets" href="#id249" id="id97" role="doc-noteref"><span class="fn-bracket">[</span>45<span class="fn-bracket">]</span></a>. We may check as follows this unfair result on the previous <em>Gale-Shapley</em> solution.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fgs</span><span class="o">.</span><span class="n">showMatchingFairness</span><span class="p">(</span><span class="n">fgs</span><span class="o">.</span><span class="n">matching</span><span class="p">,</span>
<span class="linenos"> 2</span><span class="gp">... </span>       <span class="n">WithIndividualCorrelations</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="go"> *------------------------------*</span>
<span class="linenos"> 4</span><span class="go"> [&#39;a1&#39;, &#39;b3&#39;]</span>
<span class="linenos"> 5</span><span class="go"> [&#39;a2&#39;, &#39;b5&#39;]</span>
<span class="linenos"> 6</span><span class="go"> [&#39;a3&#39;, &#39;b4&#39;]</span>
<span class="linenos"> 7</span><span class="go"> [&#39;a4&#39;, &#39;b1&#39;]</span>
<span class="linenos"> 8</span><span class="go"> [&#39;a5&#39;, &#39;b2&#39;]</span>
<span class="linenos"> 9</span><span class="go"> -----</span>
<span class="hll"><span class="linenos">10</span><span class="go"> group A correlations:</span>
</span><span class="hll"><span class="linenos">11</span><span class="go">  &#39;a1&#39;: +1.000</span>
</span><span class="hll"><span class="linenos">12</span><span class="go">  &#39;a2&#39;: +0.500</span>
</span><span class="hll"><span class="linenos">13</span><span class="go">  &#39;a3&#39;: +1.000</span>
</span><span class="linenos">14</span><span class="go">  &#39;a4&#39;: +0.000</span>
<span class="hll"><span class="linenos">15</span><span class="go">  &#39;a5&#39;: +0.500</span>
</span><span class="linenos">16</span><span class="go"> group A average correlations (a) : 0.600</span>
<span class="linenos">17</span><span class="go"> group A standard deviation       : 0.418</span>
<span class="linenos">18</span><span class="go"> -----</span>
<span class="linenos">19</span><span class="go"> group B correlations:</span>
<span class="linenos">20</span><span class="go">  &#39;b1&#39;: +0.000</span>
<span class="linenos">21</span><span class="go">  &#39;b2&#39;: +1.000</span>
<span class="linenos">22</span><span class="go">  &#39;b3&#39;: +0.000</span>
<span class="linenos">23</span><span class="go">  &#39;b4&#39;: +1.000</span>
<span class="linenos">24</span><span class="go">  &#39;b5&#39;: -0.500</span>
<span class="linenos">25</span><span class="go"> group B average correlations (b) : 0.300</span>
<span class="linenos">26</span><span class="go"> group B standard deviation       : 0.671</span>
<span class="linenos">27</span><span class="go"> -----</span>
<span class="linenos">28</span><span class="go"> Average correlation    : 0.450</span>
<span class="linenos">29</span><span class="go"> Standard Deviation     : 0.550</span>
<span class="linenos">30</span><span class="go"> Unfairness |(a) - (b)| : 0.300</span>
</pre></div>
</div>
<p>Four persons out of five from group <em>A</em> are matched to their first or second choices. When reversing the order of the given linear voting profiles <em>lvA1</em> and <em>lvB1</em>, we obtain a second <em>Gale-Shapley</em> solution <em>gs2</em> favouring this time the persons in group <em>B</em>.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">gs2</span> <span class="o">=</span> <span class="n">fgs</span><span class="o">.</span><span class="n">computeGaleShapleyMatching</span><span class="p">(</span><span class="n">Reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fgs</span><span class="o">.</span><span class="n">showMatchingFairness</span><span class="p">(</span><span class="n">gs2</span><span class="p">,</span>
<span class="linenos"> 3</span><span class="gp">... </span>    <span class="n">WithIndividualCorrelations</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos"> 4</span><span class="go"> *------------------------------*</span>
<span class="linenos"> 5</span><span class="go"> [&#39;a1&#39;, &#39;b3&#39;]</span>
<span class="linenos"> 6</span><span class="go"> [&#39;a2&#39;, &#39;b1&#39;]</span>
<span class="linenos"> 7</span><span class="go"> [&#39;a3&#39;, &#39;b4&#39;]</span>
<span class="linenos"> 8</span><span class="go"> [&#39;a4&#39;, &#39;b5&#39;]</span>
<span class="linenos"> 9</span><span class="go"> [&#39;a5&#39;, &#39;b2&#39;]</span>
<span class="linenos">10</span><span class="go"> -----</span>
<span class="linenos">11</span><span class="go"> group A correlations:</span>
<span class="linenos">12</span><span class="go">  &#39;a1&#39;: +1.000</span>
<span class="linenos">13</span><span class="go">  &#39;a2&#39;: -1.000</span>
<span class="linenos">14</span><span class="go">  &#39;a3&#39;: +1.000</span>
<span class="linenos">15</span><span class="go">  &#39;a4&#39;: -0.500</span>
<span class="linenos">16</span><span class="go">  &#39;a5&#39;: +0.500</span>
<span class="linenos">17</span><span class="go"> group A average correlations (a) : 0.200</span>
<span class="linenos">18</span><span class="go"> group A standard deviation       : 0.908</span>
<span class="linenos">19</span><span class="go"> -----</span>
<span class="linenos">20</span><span class="go"> group B correlations:</span>
<span class="hll"><span class="linenos">21</span><span class="go">  &#39;b1&#39;: +0.500</span>
</span><span class="hll"><span class="linenos">22</span><span class="go">  &#39;b2&#39;: +1.000</span>
</span><span class="hll"><span class="linenos">23</span><span class="go">  &#39;b3&#39;: +0.000</span>
</span><span class="hll"><span class="linenos">24</span><span class="go">  &#39;b4&#39;: +1.000</span>
</span><span class="hll"><span class="linenos">25</span><span class="go">  &#39;b5&#39;: +0.500</span>
</span><span class="linenos">26</span><span class="go"> group B average correlations (b) : 0.600</span>
<span class="linenos">27</span><span class="go"> group B standard deviation       : 0.418</span>
<span class="linenos">28</span><span class="go"> -----</span>
<span class="hll"><span class="linenos">29</span><span class="go"> Average correlation    : 0.400</span>
</span><span class="hll"><span class="linenos">30</span><span class="go"> Standard Deviation     : 0.699</span>
</span><span class="hll"><span class="linenos">31</span><span class="go"> Unfairness |(a) - (b)| : 0.400</span>
</span></pre></div>
</div>
<p>In this reversed <em>Gale-Shapley</em> pairing solution, it is indeed the group <em>B</em> that appears now better served. Yet, it is necessary to notice now, besides the even more unbalanced group average correlations, the lower global average correlation (+0.400 compared to +0.450) coupled with both an even higher standard deviation (0.699 compared to 0.550) and a higher unfairness score (0.400 versus 0.300).</p>
<p>It may however also happen that both <em>Gale-Shapley</em> matchings, as well as the overall fairest one, are a same unique fairest pairing solution. This is for instance the case when considering the following example of reciprocal <em>lvA2</em> and <em>lvB2</em> profiles <a class="footnote-reference brackets" href="#id253" id="id98" role="doc-noteref"><span class="fn-bracket">[</span>49<span class="fn-bracket">]</span></a> .</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lvA2</span> <span class="o">=</span> <span class="n">LinearVotingProfiles</span><span class="p">(</span><span class="s1">&#39;lvA2&#39;</span><span class="p">)</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lvA2</span><span class="o">.</span><span class="n">showLinearBallots</span><span class="p">()</span>
<span class="linenos"> 3</span><span class="go"> voters            marginal</span>
<span class="linenos"> 4</span><span class="go"> (weight)     candidates rankings</span>
<span class="hll"><span class="linenos"> 5</span><span class="go"> a1(1):       [&#39;b1&#39;, &#39;b5&#39;, &#39;b2&#39;, &#39;b4&#39;, &#39;b3&#39;]</span>
</span><span class="linenos"> 6</span><span class="go"> a2(1):       [&#39;b4&#39;, &#39;b3&#39;, &#39;b5&#39;, &#39;b2&#39;, &#39;b1&#39;]</span>
<span class="hll"><span class="linenos"> 7</span><span class="go"> a3(1):       [&#39;b3&#39;, &#39;b5&#39;, &#39;b1&#39;, &#39;b2&#39;, &#39;b4&#39;]</span>
</span><span class="hll"><span class="linenos"> 8</span><span class="go"> a4(1):       [&#39;b4&#39;, &#39;b2&#39;, &#39;b5&#39;, &#39;b3&#39;, &#39;b1&#39;]</span>
</span><span class="linenos"> 9</span><span class="go"> a5(1):       [&#39;b5&#39;, &#39;b2&#39;, &#39;b3&#39;, &#39;b4&#39;, &#39;b1&#39;]</span>
<span class="linenos">10</span><span class="go"> # voters:  5</span>
<span class="linenos">11</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lvB2</span> <span class="o">=</span> <span class="n">LinearVotingProfile</span><span class="p">(</span><span class="s1">&#39;lvB2&#39;</span><span class="p">)</span>
<span class="linenos">12</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lvB2</span><span class="o">.</span><span class="n">showLinearBallots</span><span class="p">()</span>
<span class="linenos">13</span><span class="go"> voters            marginal</span>
<span class="linenos">14</span><span class="go"> (weight)     candidates rankings</span>
<span class="hll"><span class="linenos">15</span><span class="go"> b1(1):       [&#39;a1&#39;, &#39;a2&#39;, &#39;a5&#39;, &#39;a3&#39;, &#39;a4&#39;]</span>
</span><span class="linenos">16</span><span class="go"> b2(1):       [&#39;a2&#39;, &#39;a5&#39;, &#39;a3&#39;, &#39;a4&#39;, &#39;a1&#39;]</span>
<span class="hll"><span class="linenos">17</span><span class="go"> b3(1):       [&#39;a3&#39;, &#39;a4&#39;, &#39;a1&#39;, &#39;a5&#39;, &#39;a2&#39;]</span>
</span><span class="hll"><span class="linenos">18</span><span class="go"> b4(1):       [&#39;a4&#39;, &#39;a1&#39;, &#39;a2&#39;, &#39;a3&#39;, &#39;a5&#39;]</span>
</span><span class="linenos">19</span><span class="go"> b5(1):       [&#39;a2&#39;, &#39;a1&#39;, &#39;a5&#39;, &#39;a3&#39;, &#39;a4&#39;]</span>
<span class="linenos">20</span><span class="go"> # voters:  5</span>
<span class="hll"><span class="linenos">21</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fp</span> <span class="o">=</span> <span class="n">FairestInterGroupPairing</span><span class="p">(</span><span class="n">lvA2</span><span class="p">,</span><span class="n">lvB2</span><span class="p">,</span><span class="n">StableMatchings</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span class="linenos">22</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fp</span><span class="o">.</span><span class="n">showMatchingFairness</span><span class="p">()</span>
<span class="linenos">23</span><span class="go"> *------------------------------*</span>
<span class="hll"><span class="linenos">24</span><span class="go"> [&#39;a1&#39;, &#39;b1&#39;]</span>
</span><span class="linenos">25</span><span class="go"> [&#39;a2&#39;, &#39;b5&#39;]</span>
<span class="hll"><span class="linenos">26</span><span class="go"> [&#39;a3&#39;, &#39;b3&#39;]</span>
</span><span class="hll"><span class="linenos">27</span><span class="go"> [&#39;a4&#39;, &#39;b4&#39;]</span>
</span><span class="linenos">28</span><span class="go"> [&#39;a5&#39;, &#39;b2&#39;]</span>
<span class="linenos">29</span><span class="go"> group A average correlations (a) : 0.700</span>
<span class="linenos">30</span><span class="go"> group A standard deviation       : 0.447</span>
<span class="linenos">31</span><span class="go"> group B average correlations (b) : 0.900</span>
<span class="linenos">32</span><span class="go"> group B standard deviation       : 0.224</span>
<span class="linenos">33</span><span class="go"> Average correlation    : 0.800</span>
<span class="linenos">34</span><span class="go"> Standard Deviation     : 0.350</span>
<span class="linenos">35</span><span class="go"> Unfairness |(a) - (b)| : 0.200</span>
<span class="hll"><span class="linenos">36</span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Index of stable matchings:&#39;</span><span class="o">.</span> <span class="n">fp</span><span class="o">.</span><span class="n">stableIndex</span><span class="p">)</span>
</span><span class="hll"><span class="linenos">37</span><span class="go"> Index of stable matchings: [0]</span>
</span></pre></div>
</div>
<p>In this case, the individual pairing preferences lead easily to the overall fairest pairing (see above). Indeed, three couples out of 5, namely [<em>a1</em>, <em>b1</em>], [<em>a3</em>, <em>b3</em>] and [<em>a4</em>, <em>b4</em>], do share their mutual first choices. For the remaining couples – [<em>a2</em>, <em>b5</em>] and [<em>a5</em>, <em>b2</em>]– the fairest matching gives them their third and first, respectively their first and second choice. Furthermore, their exists only one stable matching and it is actually the overall fairest one. When setting the <em>StableMatchings</em> flag of the <a class="reference internal" href="techDoc.html#pairings.FairestInterGroupPairing" title="pairings.FairestInterGroupPairing"><code class="xref py py-class docutils literal notranslate"><span class="pre">FairestInterGroupPairing</span></code></a> class to <em>True</em>, we get the <em>stableIndex</em> list with the actual index numbers of all stable maximal matchings (see Lines 19 and 34-35).</p>
<p>But the contrary may also happen. Below we show individual pairing preferences –stored in files <em>lvA3.py</em> and <em>lvB3.py</em>– for which the <em>Gale-Shapley</em> algorithm is not delivering a satisfactory pairing solution <a class="footnote-reference brackets" href="#id253" id="id99" role="doc-noteref"><span class="fn-bracket">[</span>49<span class="fn-bracket">]</span></a>.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">votingProfiles</span> <span class="kn">import</span> <span class="n">LinearVotingProfile</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lvA3</span> <span class="o">=</span> <span class="n">LinearVotingProfile</span><span class="p">(</span><span class="s1">&#39;lvA3&#39;</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lvA3</span><span class="o">.</span><span class="n">showLinearBallots</span><span class="p">()</span>
<span class="linenos"> 4</span><span class="go"> voters            marginal</span>
<span class="linenos"> 5</span><span class="go"> (weight)     candidates rankings</span>
<span class="linenos"> 6</span><span class="go">  a1(1):  [&#39;b5&#39;, &#39;b6&#39;, &#39;b4&#39;, &#39;b3&#39;, &#39;b1&#39;, &#39;b2&#39;]</span>
<span class="hll"><span class="linenos"> 7</span><span class="go">  a2(1):  [&#39;b6&#39;, &#39;b1&#39;, &#39;b4&#39;, &#39;b5&#39;, &#39;b3&#39;, &#39;b2&#39;]</span>
</span><span class="linenos"> 8</span><span class="go">  a3(1):  [&#39;b6&#39;, &#39;b3&#39;, &#39;b4&#39;, &#39;b1&#39;, &#39;b5&#39;, &#39;b2&#39;]</span>
<span class="linenos"> 9</span><span class="go">  a4(1):  [&#39;b3&#39;, &#39;b4&#39;, &#39;b2&#39;, &#39;b6&#39;, &#39;b5&#39;, &#39;b1&#39;]</span>
<span class="hll"><span class="linenos">10</span><span class="go">  a5(1):  [&#39;b3&#39;, &#39;b4&#39;, &#39;b5&#39;, &#39;b1&#39;, &#39;b6&#39;, &#39;b2&#39;]</span>
</span><span class="linenos">11</span><span class="go">  a6(1):  [&#39;b3&#39;, &#39;b5&#39;, &#39;b1&#39;, &#39;b6&#39;, &#39;b4&#39;, &#39;b2&#39;]</span>
<span class="linenos">12</span><span class="go">   # voters:  6</span>
<span class="linenos">13</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lvB3</span> <span class="o">=</span> <span class="n">LinearVotingProfile</span><span class="p">(</span><span class="s1">&#39;lvB3&#39;</span><span class="p">)</span>
<span class="linenos">14</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lvB3</span><span class="o">.</span><span class="n">showLinearBallots</span><span class="p">()</span>
<span class="linenos">15</span><span class="go"> voters            marginal</span>
<span class="linenos">16</span><span class="go"> (weight)     candidates rankings</span>
<span class="linenos">17</span><span class="go">  b1(1):  [&#39;a3&#39;, &#39;a4&#39;, &#39;a6&#39;, &#39;a1&#39;, &#39;a5&#39;, &#39;a2&#39;]</span>
<span class="linenos">18</span><span class="go">  b2(1):  [&#39;a6&#39;, &#39;a4&#39;, &#39;a1&#39;, &#39;a3&#39;, &#39;a5&#39;, &#39;a2&#39;]</span>
<span class="hll"><span class="linenos">19</span><span class="go">  b3(1):  [&#39;a3&#39;, &#39;a2&#39;, &#39;a4&#39;, &#39;a1&#39;, &#39;a6&#39;, &#39;a5&#39;]</span>
</span><span class="linenos">20</span><span class="go">  b4(1):  [&#39;a4&#39;, &#39;a2&#39;, &#39;a5&#39;, &#39;a6&#39;, &#39;a1&#39;, &#39;a3&#39;]</span>
<span class="linenos">21</span><span class="go">  b5(1):  [&#39;a4&#39;, &#39;a2&#39;, &#39;a3&#39;, &#39;a6&#39;, &#39;a1&#39;, &#39;a5&#39;]</span>
<span class="hll"><span class="linenos">22</span><span class="go">  b6(1):  [&#39;a4&#39;, &#39;a3&#39;, &#39;a1&#39;, &#39;a5&#39;, &#39;a6&#39;, &#39;a2&#39;]</span>
</span><span class="linenos">23</span><span class="go">   # voters:  6</span>
</pre></div>
</div>
<p>The individual pairing preferences are very contradictory. For instance, Person’s <em>a2</em> first choice is <em>b6</em> whereas Person <em>b6</em> dislikes Person <em>a2</em> most. Similar situation is given with Persons <em>a5</em> and <em>b3</em>.</p>
<p>In this pairing problem there does exist only one matching which is actually stable and it is a very unfair pairing. Its fairness index is 140 (see Line 3-4 below).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fp</span> <span class="o">=</span> <span class="n">FairestInterGroupPairing</span><span class="p">(</span><span class="n">lvA3</span><span class="p">,</span><span class="n">lvB3</span><span class="p">,</span>
<span class="linenos"> 2</span><span class="gp">... </span>                 <span class="n">StableMatchings</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="hll"><span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fp</span><span class="o">.</span><span class="n">stableIndex</span>
</span><span class="hll"><span class="linenos"> 4</span><span class="go"> [140]</span>
</span><span class="linenos"> 5</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g1</span> <span class="o">=</span> <span class="n">fp</span><span class="o">.</span><span class="n">computeGaleShapleyMatching</span><span class="p">()</span>
<span class="linenos"> 6</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fp</span><span class="o">.</span><span class="n">showMatchingFairness</span><span class="p">(</span><span class="n">g1</span><span class="p">,</span>
<span class="linenos"> 7</span><span class="gp">... </span>             <span class="n">WithIndividualCorrelations</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos"> 8</span><span class="go">*------------------------------*</span>
<span class="linenos"> 9</span><span class="go"> [&#39;a1&#39;, &#39;b1&#39;]</span>
<span class="linenos">10</span><span class="go"> [&#39;a2&#39;, &#39;b4&#39;]</span>
<span class="linenos">11</span><span class="go"> [&#39;a3&#39;, &#39;b6&#39;]</span>
<span class="linenos">12</span><span class="go"> [&#39;a4&#39;, &#39;b3&#39;]</span>
<span class="linenos">13</span><span class="go"> [&#39;a5&#39;, &#39;b2&#39;]</span>
<span class="linenos">14</span><span class="go"> [&#39;a6&#39;, &#39;b5&#39;]</span>
<span class="linenos">15</span><span class="go">------</span>
<span class="linenos">16</span><span class="go">group A correlations:</span>
<span class="linenos">17</span><span class="go"> &#39;a1&#39;: -0.600</span>
<span class="linenos">18</span><span class="go"> &#39;a2&#39;: +0.200</span>
<span class="hll"><span class="linenos">19</span><span class="go"> &#39;a3&#39;: +1.000</span>
</span><span class="hll"><span class="linenos">20</span><span class="go"> &#39;a4&#39;: +1.000</span>
</span><span class="hll"><span class="linenos">21</span><span class="go"> &#39;a5&#39;: -1.000</span>
</span><span class="linenos">22</span><span class="go"> &#39;a6&#39;: +0.600</span>
<span class="linenos">23</span><span class="go">group A average correlation (a) : 0.200</span>
<span class="linenos">24</span><span class="go">group A standard deviation      : 0.839</span>
<span class="linenos">25</span><span class="go">-----</span>
<span class="linenos">26</span><span class="go">group B correlations:</span>
<span class="hll"><span class="linenos">27</span><span class="go"> &#39;b1&#39;: -0.200</span>
</span><span class="hll"><span class="linenos">28</span><span class="go"> &#39;b2&#39;: -0.600</span>
</span><span class="hll"><span class="linenos">29</span><span class="go"> &#39;b3&#39;: +0.200</span>
</span><span class="hll"><span class="linenos">30</span><span class="go"> &#39;b4&#39;: +0.600</span>
</span><span class="hll"><span class="linenos">31</span><span class="go"> &#39;b5&#39;: -0.200</span>
</span><span class="hll"><span class="linenos">32</span><span class="go"> &#39;b6&#39;: +0.600</span>
</span><span class="linenos">33</span><span class="go">group B average correlation (b) : 0.067</span>
<span class="linenos">34</span><span class="go">group B standard deviation      : 0.484</span>
<span class="linenos">35</span><span class="go">-----</span>
<span class="linenos">36</span><span class="go">Average correlation    : 0.133</span>
<span class="linenos">37</span><span class="go">Standard Deviation     : 0.657</span>
<span class="linenos">38</span><span class="go">Unfairness |(a) - (b)| : 0.133</span>
</pre></div>
</div>
<p>Indeed, both group correlations are very weak and show furthermore high standard deviations. Five out of the twelve persons obtain a negative correlation with their respective pairing preferences. Only two persons from group <em>A</em> –<em>a3</em> and <em>a4</em>– get their first choice, whereas Person <em>a5</em> is matched with her least preferred partner (see Lines 19-21). In group <em>B</em>, no apparent attention is put on choosing interesting partners (see Lines 27-32).</p>
<p>The fairest matching looks definitely more convincing.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fp</span><span class="o">.</span><span class="n">showMatchingFairness</span><span class="p">(</span><span class="n">fp</span><span class="o">.</span><span class="n">matching</span><span class="p">,</span>
<span class="linenos"> 2</span><span class="gp">... </span>    <span class="n">WithIndividualCorrelations</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="go">*------------------------------*</span>
<span class="linenos"> 4</span><span class="go"> [&#39;a1&#39;, &#39;b6&#39;]</span>
<span class="linenos"> 5</span><span class="go"> [&#39;a2&#39;, &#39;b5&#39;]</span>
<span class="linenos"> 6</span><span class="go"> [&#39;a3&#39;, &#39;b3&#39;]</span>
<span class="linenos"> 7</span><span class="go"> [&#39;a4&#39;, &#39;b2&#39;]</span>
<span class="linenos"> 8</span><span class="go"> [&#39;a5&#39;, &#39;b4&#39;]</span>
<span class="linenos"> 9</span><span class="go"> [&#39;a6&#39;, &#39;b1&#39;]</span>
<span class="linenos">10</span><span class="go"> -----</span>
<span class="linenos">11</span><span class="go"> group A correlations:</span>
<span class="linenos">12</span><span class="go">  &#39;a1&#39;: +0.600</span>
<span class="hll"><span class="linenos">13</span><span class="go">  &#39;a2&#39;: -0.200</span>
</span><span class="linenos">14</span><span class="go">  &#39;a3&#39;: +0.600</span>
<span class="linenos">15</span><span class="go">  &#39;a4&#39;: +0.200</span>
<span class="linenos">16</span><span class="go">  &#39;a5&#39;: +0.600</span>
<span class="linenos">17</span><span class="go">  &#39;a6&#39;: +0.200</span>
<span class="hll"><span class="linenos">18</span><span class="go"> group A average correlation (a) : 0.333</span>
</span><span class="linenos">19</span><span class="go"> group A standard deviation      : 0.327</span>
<span class="linenos">20</span><span class="go"> -----</span>
<span class="linenos">21</span><span class="go"> group B correlations:</span>
<span class="linenos">22</span><span class="go">  &#39;b1&#39;: +0.200</span>
<span class="linenos">23</span><span class="go">  &#39;b2&#39;: +0.600</span>
<span class="linenos">24</span><span class="go">  &#39;b3&#39;: +1.000</span>
<span class="linenos">25</span><span class="go">  &#39;b4&#39;: +0.200</span>
<span class="linenos">26</span><span class="go">  &#39;b5&#39;: +0.600</span>
<span class="linenos">27</span><span class="go">  &#39;b6&#39;: +0.200</span>
<span class="hll"><span class="linenos">28</span><span class="go"> group B average correlation (b) : 0.467</span>
</span><span class="linenos">29</span><span class="go"> group B standard deviation      : 0.327</span>
<span class="linenos">30</span><span class="go"> -----</span>
<span class="linenos">31</span><span class="go"> Average correlation    : 0.400</span>
<span class="linenos">32</span><span class="go"> Standard Deviation     : 0.319</span>
<span class="linenos">33</span><span class="go"> Unfairness |(a) - (b)| : 0.133</span>
</pre></div>
</div>
<p>Despite the very contradictory individual pairing preferences and a same unfairness score, only one person, namely <em>a2</em>, obtains here a choice in negative correlation with her preferences (see Line 13). The group correlations and standard deviations are furthermore very similar (lines 18 and 28).</p>
<p>The fairest solution is however far from being stable. With three couples of pairs that are potentially unstable, the first and stable unique <em>Gale-Shapley</em> matching is with its fairness index 140 indeed far behind many fairer pairing solutions (see below).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fp</span><span class="o">.</span><span class="n">isStableMatching</span><span class="p">(</span><span class="n">fp</span><span class="o">.</span><span class="n">matching</span><span class="p">,</span><span class="n">Comments</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos"> 2</span><span class="go"> Unstable match:  Pair(groupA=&#39;a4&#39;, groupB=&#39;b2&#39;)</span>
<span class="linenos"> 3</span><span class="go">                  Pair(groupA=&#39;a5&#39;, groupB=&#39;b4&#39;)</span>
<span class="linenos"> 4</span><span class="go">   a4 b2 &lt;-- b4</span>
<span class="linenos"> 5</span><span class="go">   b4 a5 &lt;-- a4</span>
<span class="linenos"> 6</span><span class="go"> Unstable match:  Pair(groupA=&#39;a2&#39;, groupB=&#39;b5&#39;)</span>
<span class="linenos"> 7</span><span class="go">                  Pair(groupA=&#39;a5&#39;, groupB=&#39;b4&#39;)</span>
<span class="linenos"> 8</span><span class="go">   a2 b5 &lt;-- b4</span>
<span class="linenos"> 9</span><span class="go">   b4 a5 &lt;-- a2</span>
<span class="linenos">10</span><span class="go"> Unstable match:  Pair(groupA=&#39;a3&#39;, groupB=&#39;b3&#39;)</span>
<span class="linenos">11</span><span class="go">                  Pair(groupA=&#39;a1&#39;, groupB=&#39;b6&#39;)</span>
<span class="linenos">12</span><span class="go">   a3 b3 &lt;-- b6</span>
<span class="linenos">13</span><span class="go">   b6 a1 &lt;-- a3</span>
</pre></div>
</div>
<p>How likely is it to obtain such an unfair <em>Gale-Shapley</em> matching? With our Monte Carlo simulation of 1000 random pairing problems of order 5, we may empirically check the likely fairness index of the fairest of both <em>Gale-Shapley</em> solutions.</p>
<figure class="align-center" id="distgsfairness">
<a class="reference internal image-reference" href="_images/distGSFairness.png"><img alt="Distribution of the index of the fairest *Gale-Shapley* matching" src="_images/distGSFairness.png" style="width: 500px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.42 </span><span class="caption-text">Distribution of the fairness index of the fairest <em>Gale-Shapley</em> matching</span><a class="headerlink" href="#distgsfairness" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>In <a class="reference internal" href="#distgsfairness"><span class="std std-numref">Fig. 1.42</span></a>, we see that the fairest of both <em>Gale-Shapley</em> solutions will correspond to the overall fairest pairing (index = 0) in about <em>36%</em> out of the 1000 random cases. Yet, it is indeed the complexity in <img class="math" src="_images/math/0c54ec2390ec7c7cc19ef74f38272948b253af7d.png" alt="O(k^2)"/> of the <em>Gale-Shapley</em> algorithm that makes it an interesting alternative to our brute force approach in complexity <img class="math" src="_images/math/bbe5265a958faff3be9508581bc41b22abf52988.png" alt="O(k!)"/>.</p>
<p>It is worthwhile noticing furthermore that the number of stable matchings is in general  very small compared to the size of the huge set of potential maximal matchings as shown in <a class="reference internal" href="#stablefreq"><span class="std std-numref">Fig. 1.43</span></a>.</p>
<figure class="align-center" id="stablefreq">
<a class="reference internal image-reference" href="_images/stableFreq.png"><img alt="Frequency of stable matchings" src="_images/stableFreq.png" style="width: 500px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.43 </span><span class="caption-text">Distribution of the number of stable matchings</span><a class="headerlink" href="#stablefreq" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>In the simulation of 1000 random pairing problems of order 5, we observe indeed never more than seven stable matchings and the expected number of stable matchings is between one and two out of 120. It could therefore be opportune to limit our potential set of maximal matchings –the decisions actions– to solely stable matchings, as is currently the usual professional solving approach in pairing problems of this kind. Even if we would very likely miss the overall fairest pairing solution.</p>
<p><strong>Dropping the stability requirement</strong></p>
<p>Dropping however the <em>stability</em> requirement opens a second way of reducing the actual complexity of the fair pairing problem. This way  goes by trying to enhance the fairness of a <em>Gale-Shapley</em> matching via a <em>hill-climbing</em> heuristic where we swap partners in couples of pairs that mostly increase the average ordinal correlation and decrease the gap between the groups’ correlations.</p>
<p>With this strategy we may hence expect to likely reach one of the fairest possible matching solutions. In a Monte Carlo simulation of 1000 random pairing problems of order 6 we may indeed notice in <a class="reference internal" href="#enhancedfreq"><span class="std std-numref">Fig. 1.44</span></a> that we reach in a very limited number  of swaps –less than <img class="math" src="_images/math/cb534cef97900c662dc4c4d5630c8e170c732771.png" alt="2 \times k"/>– a fairness index less than [3] in nearly 95% of the cases. The weakest fairness index found is 16.</p>
<figure class="align-center" id="enhancedfreq">
<a class="reference internal image-reference" href="_images/enhancedFreq.png"><img alt="Distribution of the fairness index of enhanced Gale-Shapley solutions" src="_images/enhancedFreq.png" style="width: 500px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.44 </span><span class="caption-text">Distribution of the fairness index of enhanced Gale-Shapley solutions</span><a class="headerlink" href="#enhancedfreq" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>In the following example of a pairing problem of order 6, we observe only one unique stable matching with fairness index [12], in fact a very unfair <em>Gale-Shapley</em> matching completely ignoring the individual pairing preferences of the persons in group <em>B</em> (see Line 15 below).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">gs</span> <span class="o">=</span> <span class="n">FairestGaleShapleyMatching</span><span class="p">(</span><span class="n">lvA</span><span class="p">,</span><span class="n">lvB</span><span class="p">,</span>
<span class="linenos"> 2</span><span class="gp">... </span>                 <span class="n">Comments</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="go"> Fairest Gale-Shapley matching</span>
<span class="linenos"> 4</span><span class="go"> -----------------------------</span>
<span class="linenos"> 5</span><span class="go">  [&#39;a1&#39;, &#39;b3&#39;]</span>
<span class="linenos"> 6</span><span class="go">  [&#39;a2&#39;, &#39;b5&#39;]</span>
<span class="linenos"> 7</span><span class="go">  [&#39;a3&#39;, &#39;b4&#39;]</span>
<span class="linenos"> 8</span><span class="go">  [&#39;a4&#39;, &#39;b1&#39;]</span>
<span class="linenos"> 9</span><span class="go">  [&#39;a5&#39;, &#39;b6&#39;]</span>
<span class="linenos">10</span><span class="go">  [&#39;a6&#39;, &#39;b2&#39;]</span>
<span class="linenos">11</span><span class="go">  -----</span>
<span class="linenos">12</span><span class="go">  group A average correlation (a) : 0.867</span>
<span class="linenos">13</span><span class="go">  group A standard deviation      : 0.327</span>
<span class="linenos">14</span><span class="go">  -----</span>
<span class="hll"><span class="linenos">15</span><span class="go">  group B average correlation (b) : 0.000</span>
</span><span class="linenos">16</span><span class="go">  group B standard deviation      : 0.704</span>
<span class="linenos">17</span><span class="go">  -----</span>
<span class="linenos">18</span><span class="go">  Average correlation    : 0.433</span>
<span class="linenos">19</span><span class="go">  Standard Deviation     : 0.692</span>
<span class="linenos">20</span><span class="go">  Unfairness |(a) - (b)| : 0.867</span>
</pre></div>
</div>
<p>Taking this <em>Gale-Shapley</em> solution –<em>gs.matching</em>–  as initial starting point, we try to swapp partners in couple of pairs in order to improve the average ordinal correlation with all the individual pairing preferences and to reduce the gap between both groups. The <a class="reference internal" href="techDoc.html#module-pairings" title="pairings"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pairings</span></code></a> module provides the <a class="reference internal" href="techDoc.html#pairings.FairnessEnhancedInterGroupMatching" title="pairings.FairnessEnhancedInterGroupMatching"><code class="xref py py-class docutils literal notranslate"><span class="pre">FairnessEnhancedInterGroupMatching</span></code></a> class for this purpose.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pairings</span> <span class="kn">import</span> \
<span class="linenos"> 2</span><span class="gp">... </span>      <span class="n">FairnessEnhancedInterGroupMatching</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">egs</span> <span class="o">=</span> <span class="n">FairnessEnhancedInterGroupMatching</span><span class="p">(</span>
<span class="linenos"> 4</span><span class="gp">... </span>         <span class="n">lvA</span><span class="p">,</span><span class="n">lvB</span><span class="p">,</span><span class="n">initialMatching</span><span class="o">=</span><span class="n">gs</span><span class="o">.</span><span class="n">matching</span><span class="p">)</span>
<span class="linenos"> 5</span><span class="gp">&gt;&gt;&gt; </span><span class="n">egs</span><span class="o">.</span><span class="n">iterations</span>
<span class="linenos"> 6</span><span class="go"> 4</span>
<span class="linenos"> 7</span><span class="gp">&gt;&gt;&gt; </span><span class="n">egs</span><span class="o">.</span><span class="n">showMatchingFairness</span><span class="p">(</span><span class="n">egs</span><span class="o">.</span><span class="n">matching</span><span class="p">)</span>
<span class="linenos"> 8</span><span class="go"> Fairness enhanced matching</span>
<span class="linenos"> 9</span><span class="go"> --------------------------</span>
<span class="linenos">10</span><span class="go">  [&#39;a1&#39;, &#39;b3&#39;]</span>
<span class="linenos">11</span><span class="go">  [&#39;a2&#39;, &#39;b2&#39;]</span>
<span class="linenos">12</span><span class="go">  [&#39;a3&#39;, &#39;b4&#39;]</span>
<span class="linenos">13</span><span class="go">  [&#39;a4&#39;, &#39;b6&#39;]</span>
<span class="linenos">14</span><span class="go">  [&#39;a5&#39;, &#39;b5&#39;]</span>
<span class="linenos">15</span><span class="go">  [&#39;a6&#39;, &#39;b1&#39;]</span>
<span class="linenos">16</span><span class="go">  -----</span>
<span class="hll"><span class="linenos">17</span><span class="go">  group A average correlation (a) : 0.533</span>
</span><span class="linenos">18</span><span class="go">  group A standard deviation      : 0.468</span>
<span class="linenos">19</span><span class="go">  -----</span>
<span class="hll"><span class="linenos">20</span><span class="go">  group B average correlation (b) : 0.533</span>
</span><span class="linenos">21</span><span class="go">  group B standard deviation      : 0.641</span>
<span class="linenos">22</span><span class="go">  -----</span>
<span class="linenos">23</span><span class="go">  Average correlation    : 0.533</span>
<span class="linenos">24</span><span class="go">  Standard Deviation     : 0.535</span>
<span class="hll"><span class="linenos">25</span><span class="go">  Unfairness |(a) - (b)| : 0.000</span>
</span><span class="linenos">26</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fp</span> <span class="o">=</span> <span class="n">FairestInterGroupPairing</span><span class="p">(</span><span class="n">lvA</span><span class="p">,</span><span class="n">lvB</span><span class="p">)</span>
<span class="linenos">27</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fp</span><span class="o">.</span><span class="n">computeMatchingFairnessIndex</span><span class="p">(</span><span class="n">egs</span><span class="o">.</span><span class="n">matching</span><span class="p">)</span>
<span class="linenos">28</span><span class="go"> 0</span>
</pre></div>
</div>
<p>With a slightly enhanced overall correlation (+0.533 versus +0.433), both groups obtain after four swapping iterations the same group correlation of +0.533 (Unfairness score = 0.0, see Lines 17, 20 and 25 above). And, furthermore, the fairness enhancing procedure attains the fairest possible pairing solution (see last Line).</p>
<p>Our <em>hill-climbing</em> fairness enhancing algorithm seams hence to be quite efficient. Considering that its complexity is about <img class="math" src="_images/math/7d94406637d8795c370b7fbc6f4af0e183f92b52.png" alt="O(k^3)"/>, we are effectively able to solve pairing problems of realistic orders.</p>
<p>Do we really need to start the fairness enhancing strategy from a previously computed <em>Gale-Shapley</em> solution? No, we may start from any initial matching. This opens the way for taking into account more realistic versions of the individual pairing preferences than complete reciprocal linear voting profiles.</p>
</section>
<section id="relaxing-the-requirement-for-complete-linear-voting-profiles">
<h4><a class="toc-backref" href="#id383" role="doc-backlink"><span class="section-number">1.3.9.6. </span>Relaxing the requirement for complete linear voting profiles</a><a class="headerlink" href="#relaxing-the-requirement-for-complete-linear-voting-profiles" title="Link to this heading"></a></h4>
<p><strong>Partial individual pairing preferences</strong></p>
<p>In the classical approach to the pairing decision problem, it is indeed required that each person communicates a complete linearly ordered list of the potential partners. It seams more adequate to ask for only partially ordered lists of potential partners. With the <em>PartialLinearBallots</em> flag and the <em>lengthProbability</em> parameter the <code class="xref py py-class docutils literal notranslate"><span class="pre">RandomLinearVotingProfile</span></code> class provides a random generator for such a kind of individual pairing preferences (see Lines 5-6 below).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">votingProfiles</span> <span class="kn">import</span> <span class="n">RandomLinearVotingProfile</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">vpA</span> <span class="o">=</span> <span class="n">RandomLinearVotingProfile</span><span class="p">(</span>
<span class="linenos"> 3</span><span class="gp">... </span>           <span class="n">numberOfVoters</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span><span class="n">numberOfCandidates</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span>
<span class="linenos"> 4</span><span class="gp">... </span>           <span class="n">votersIdPrefix</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="n">candidatesIdPrefix</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">,</span>
<span class="hll"><span class="linenos"> 5</span><span class="gp">... </span>           <span class="n">PartialLinearBallots</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span class="hll"><span class="linenos"> 6</span><span class="gp">... </span>           <span class="n">lengthProbability</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
</span><span class="linenos"> 7</span><span class="gp">... </span>           <span class="n">seed</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="linenos"> 8</span><span class="gp">&gt;&gt;&gt; </span><span class="n">vpA</span><span class="o">.</span><span class="n">showLinearBallots</span><span class="p">()</span>
<span class="linenos"> 9</span><span class="go">  voters           marginal</span>
<span class="linenos">10</span><span class="go"> (weight)     candidates rankings</span>
<span class="linenos">11</span><span class="go">  a1(1):      [&#39;b4&#39;, &#39;b7&#39;, &#39;b6&#39;, &#39;b3&#39;, &#39;b1&#39;]</span>
<span class="linenos">12</span><span class="go">  a2(1):      [&#39;b7&#39;, &#39;b5&#39;, &#39;b2&#39;, &#39;b6&#39;]</span>
<span class="hll"><span class="linenos">13</span><span class="go">  a3(1):      [&#39;b1&#39;]</span>
</span><span class="hll"><span class="linenos">14</span><span class="go">  a4(1):      [&#39;b2&#39;, &#39;b3&#39;, &#39;b5&#39;]</span>
</span><span class="linenos">15</span><span class="go">  a5(1):      [&#39;b2&#39;, &#39;b1&#39;, &#39;b4&#39;]</span>
<span class="linenos">16</span><span class="go">  a6(1):      [&#39;b6&#39;, &#39;b7&#39;, &#39;b2&#39;, &#39;b3&#39;]</span>
<span class="linenos">17</span><span class="go">  a7(1):      [&#39;b7&#39;, &#39;b6&#39;, &#39;b1&#39;, &#39;b3&#39;, &#39;b5&#39;]</span>
<span class="linenos">18</span><span class="go"> # voters:  7</span>
</pre></div>
</div>
<p>With length probability of 0.5, we obtain here for the seven persons in group <em>A</em> the partial lists shown above. Person <em>a3</em>, for instance, only likes to be paired with Person <em>b1</em>, whereas Person <em>a4</em> indicates three preferred partners in decreasing order of preference (see Lines 13-14 above).</p>
<p>We may generate similar reciprocal partial linear voting profiles for the seven persons in group <em>B</em>.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">vpB</span> <span class="o">=</span> <span class="n">RandomLinearVotingProfile</span><span class="p">(</span>
<span class="linenos"> 2</span><span class="gp">... </span>         <span class="n">numberOfVoters</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span><span class="n">numberOfCandidates</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span>
<span class="linenos"> 3</span><span class="gp">... </span>         <span class="n">votersIdPrefix</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">,</span>
<span class="linenos"> 4</span><span class="gp">... </span>         <span class="n">candidatesIdPrefix</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span>
<span class="hll"><span class="linenos"> 5</span><span class="gp">... </span>         <span class="n">PartialLinearBallots</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span class="hll"><span class="linenos"> 6</span><span class="gp">... </span>         <span class="n">lengthProbability</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
</span><span class="linenos"> 7</span><span class="gp">... </span>         <span class="n">seed</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="linenos"> 8</span><span class="gp">&gt;&gt;&gt; </span><span class="n">vpB</span><span class="o">.</span><span class="n">showLinearBallots</span><span class="p">()</span>
<span class="linenos"> 9</span><span class="go">  voters           marginal</span>
<span class="linenos">10</span><span class="go"> (weight)     candidates rankings</span>
<span class="hll"><span class="linenos">11</span><span class="go">  b1(1):      [&#39;a3&#39;, &#39;a4&#39;]</span>
</span><span class="hll"><span class="linenos">12</span><span class="go">  b2(1):      [&#39;a3&#39;, &#39;a4&#39;]</span>
</span><span class="linenos">13</span><span class="go">  b3(1):      [&#39;a2&#39;, &#39;a6&#39;, &#39;a3&#39;, &#39;a1&#39;]</span>
<span class="linenos">14</span><span class="go">  b4(1):      [&#39;a2&#39;, &#39;a6&#39;, &#39;a4&#39;]</span>
<span class="linenos">15</span><span class="go">  b5(1):      [&#39;a2&#39;, &#39;a1&#39;, &#39;a5&#39;]</span>
<span class="linenos">16</span><span class="go">  b6(1):      [&#39;a2&#39;, &#39;a7&#39;]</span>
<span class="linenos">17</span><span class="go">  b7(1):      [&#39;a7&#39;, &#39;a2&#39;, &#39;a1&#39;, &#39;a4&#39;]</span>
<span class="linenos">18</span><span class="go"> # voters:  7</span>
</pre></div>
</div>
<p>This time, Persons <em>b1</em> and <em>b2</em> indicate only two preferred pairing partners, namely both times Person <em>a3</em> before Person <em>a4</em> (see Lines 11-12 above).</p>
<p>Yet, it may be even more effective to only ask for reciprocal <strong>approvals</strong> and <strong>disapprovals</strong> of potential pairing partners.</p>
<p><strong>Reciprocal bipolar approval voting profiles</strong></p>
<p>Such random <em>bipolar approval</em> voting profiles may be generated with the <a class="reference internal" href="techDoc.html#votingProfiles.RandomBipolarApprovalVotingProfile" title="votingProfiles.RandomBipolarApprovalVotingProfile"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomBipolarApprovalVotingProfile</span></code></a> class (see below).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">votingProfiles</span> <span class="kn">import</span> \
<span class="linenos"> 2</span><span class="gp">... </span>      <span class="n">RandomBipolarApprovalVotingProfile</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">k</span> <span class="o">=</span> <span class="mi">5</span>
<span class="linenos"> 4</span><span class="gp">&gt;&gt;&gt; </span><span class="n">apA1</span> <span class="o">=</span> <span class="n">RandomBipolarApprovalVotingProfile</span><span class="p">(</span>
<span class="linenos"> 5</span><span class="gp">... </span>             <span class="n">numberOfVoters</span><span class="o">=</span><span class="n">k</span><span class="p">,</span>
<span class="linenos"> 6</span><span class="gp">... </span>             <span class="n">numberOfCandidates</span><span class="o">=</span><span class="n">k</span><span class="p">,</span>
<span class="linenos"> 7</span><span class="gp">... </span>             <span class="n">votersIdPrefix</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span>
<span class="linenos"> 8</span><span class="gp">... </span>             <span class="n">candidatesIdPrefix</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">,</span>
<span class="hll"><span class="linenos"> 9</span><span class="gp">... </span>             <span class="n">approvalProbability</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
</span><span class="hll"><span class="linenos">10</span><span class="gp">... </span>             <span class="n">disapprovalProbability</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
</span><span class="linenos">11</span><span class="gp">... </span>             <span class="n">seed</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="linenos">12</span><span class="gp">&gt;&gt;&gt; </span><span class="n">apA1</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;apA1&#39;</span><span class="p">)</span>
<span class="linenos">13</span><span class="gp">&gt;&gt;&gt; </span><span class="n">apA1</span><span class="o">.</span><span class="n">showBipolarApprovals</span><span class="p">()</span>
<span class="linenos">14</span><span class="go"> Bipolar approval ballots</span>
<span class="linenos">15</span><span class="go"> ------------------------</span>
<span class="linenos">16</span><span class="go"> a1 :</span>
<span class="hll"><span class="linenos">17</span><span class="go"> Approvals   : [&#39;b1&#39;, &#39;b5&#39;]</span>
</span><span class="hll"><span class="linenos">18</span><span class="go"> Disapprovals: [&#39;b2&#39;]</span>
</span><span class="linenos">19</span><span class="go"> a2 :</span>
<span class="linenos">20</span><span class="go"> Approvals   : [&#39;b2&#39;]</span>
<span class="linenos">21</span><span class="go"> Disapprovals: [&#39;b1&#39;, &#39;b3&#39;, &#39;b4&#39;]</span>
<span class="linenos">22</span><span class="go"> a3 :</span>
<span class="linenos">23</span><span class="go"> Approvals   : []</span>
<span class="linenos">24</span><span class="go"> Disapprovals: [&#39;b3&#39;, &#39;b5&#39;]</span>
<span class="linenos">25</span><span class="go"> a4 :</span>
<span class="linenos">26</span><span class="go"> Approvals   : [&#39;b1&#39;, &#39;b5&#39;]</span>
<span class="linenos">27</span><span class="go"> Disapprovals: [&#39;b2&#39;, &#39;b3&#39;, &#39;b4&#39;]</span>
<span class="linenos">28</span><span class="go"> a5 :</span>
<span class="linenos">29</span><span class="go"> Approvals   : [&#39;b2&#39;, &#39;b3&#39;]</span>
<span class="linenos">30</span><span class="go"> Disapprovals: [&#39;b1&#39;, &#39;b5&#39;]</span>
<span class="linenos">31</span><span class="go"> Bipolar approval ballots</span>
</pre></div>
</div>
<p>The <em>approvalProbability</em> and <em>disapprovalProbability</em> parameters determine the expected number of approved, respectively disapproved, potential pairing partners (see Lines 9-10). Person <em>a1</em>, for instance, approves two persons –<em>b1</em> and <em>b5</em>– and disapproves only Person <em>b2</em> (see Lines 17-18). Whereas Person <em>a3</em> does not approve anybody from group <em>B</em>, yet, disapproves <em>b3</em> and <em>b5</em>.</p>
<p>We may generate a similar random reciprocal bipolar approval voting profile for the persons in group <em>B</em>.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">apB1</span> <span class="o">=</span> <span class="n">RandomBipolarApprovalVotingProfile</span><span class="p">(</span>
<span class="linenos"> 2</span><span class="gp">... </span>          <span class="n">numberOfVoters</span><span class="o">=</span><span class="n">k</span><span class="p">,</span>
<span class="linenos"> 3</span><span class="gp">... </span>          <span class="n">numberOfCandidates</span><span class="o">=</span><span class="n">k</span><span class="p">,</span>
<span class="hll"><span class="linenos"> 4</span><span class="gp">... </span>          <span class="n">votersIdPrefix</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">,</span>
</span><span class="hll"><span class="linenos"> 5</span><span class="gp">... </span>          <span class="n">candidatesIdPrefix</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span>
</span><span class="hll"><span class="linenos"> 6</span><span class="gp">... </span>          <span class="n">approvalProbability</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
</span><span class="hll"><span class="linenos"> 7</span><span class="gp">... </span>          <span class="n">disapprovalProbability</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
</span><span class="linenos"> 8</span><span class="gp">... </span>          <span class="n">seed</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="linenos"> 9</span><span class="gp">&gt;&gt;&gt; </span><span class="n">apB1</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;apB1&#39;</span><span class="p">)</span>
<span class="linenos">10</span><span class="gp">&gt;&gt;&gt; </span><span class="n">apB1</span><span class="o">.</span><span class="n">showBipolarApprovals</span><span class="p">()</span>
<span class="linenos">11</span><span class="go"> Bipolar approval ballots</span>
<span class="linenos">12</span><span class="go"> ------------------------</span>
<span class="linenos">13</span><span class="go"> b1 :</span>
<span class="hll"><span class="linenos">14</span><span class="go"> Approvals   : [&#39;a2&#39;, &#39;a3&#39;]</span>
</span><span class="hll"><span class="linenos">15</span><span class="go"> Disapprovals: [&#39;a1&#39;, &#39;a4&#39;, &#39;a5&#39;]</span>
</span><span class="linenos">16</span><span class="go"> b2 :</span>
<span class="linenos">17</span><span class="go"> Approvals   : [&#39;a1&#39;, &#39;a2&#39;]</span>
<span class="linenos">18</span><span class="go"> Disapprovals: [&#39;a4&#39;]</span>
<span class="linenos">19</span><span class="go"> b3 :</span>
<span class="linenos">20</span><span class="go"> Approvals   : [&#39;a5&#39;]</span>
<span class="linenos">21</span><span class="go"> Disapprovals: [&#39;a2&#39;, &#39;a3&#39;]</span>
<span class="linenos">22</span><span class="go"> b4 :</span>
<span class="linenos">23</span><span class="go"> Approvals   : [&#39;a2&#39;]</span>
<span class="linenos">24</span><span class="go"> Disapprovals: [&#39;a3&#39;, &#39;a5&#39;]</span>
<span class="linenos">25</span><span class="go"> b5 :</span>
<span class="linenos">26</span><span class="go"> Approvals   : [&#39;a4&#39;]</span>
<span class="linenos">27</span><span class="go"> Disapprovals: [&#39;a1&#39;]</span>
</pre></div>
</div>
<p>This time, Person <em>b1</em> approves two persons –<em>a2</em> and <em>a3</em>– and disapproves three persons –<em>a1</em>, <em>a4</em>, and <em>a5</em>– (see Lines 14-15 above).</p>
</section>
<section id="using-copeland-scores-for-guiding-the-fairness-enhancement">
<h4><a class="toc-backref" href="#id384" role="doc-backlink"><span class="section-number">1.3.9.7. </span>Using Copeland scores for guiding the fairness enhancement</a><a class="headerlink" href="#using-copeland-scores-for-guiding-the-fairness-enhancement" title="Link to this heading"></a></h4>
<p>The partial linear voting profiles as well as the bipolar approval profiles determine for each person in both groups only a partial order on their potential pairing partners. In order to enhance the fairness of any given maximal matching, we must therefore replace the rank information of the complete linear voting profiles, as used in the <em>Gale-Shapley</em> algorithm, with the <em>Copeland</em> ranking scores obtained from the partial pairwise comparisons of potential partners. For this purpose we reuse again the <a class="reference internal" href="techDoc.html#pairings.FairnessEnhancedInterGroupMatching" title="pairings.FairnessEnhancedInterGroupMatching"><code class="xref py py-class docutils literal notranslate"><span class="pre">FairnessEnhancedInterGroupMatching</span></code></a> class , but without providing any initial matching (see below <a class="footnote-reference brackets" href="#id253" id="id100" role="doc-noteref"><span class="fn-bracket">[</span>49<span class="fn-bracket">]</span></a> ).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pairings</span> <span class="kn">import</span> \
<span class="linenos"> 2</span><span class="gp">... </span>        <span class="n">FairnessEnhancedInterGroupMatching</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">votingProfiles</span> <span class="kn">import</span> <span class="n">BipolarApprovalVotingProfile</span>
<span class="linenos"> 4</span><span class="gp">&gt;&gt;&gt; </span><span class="n">apA1</span> <span class="o">=</span> <span class="n">BipolarApprovalVotingProfile</span><span class="p">(</span><span class="s1">&#39;apA1&#39;</span><span class="p">)</span>
<span class="linenos"> 5</span><span class="gp">&gt;&gt;&gt; </span><span class="n">apB1</span> <span class="o">=</span> <span class="n">BipolarApprovalVotingProfile</span><span class="p">(</span><span class="s1">&#39;apB1&#39;</span><span class="p">)</span>
<span class="linenos"> 6</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fem</span> <span class="o">=</span> <span class="n">FairnessEnhancedInterGroupMatching</span><span class="p">(</span>
<span class="hll"><span class="linenos"> 7</span><span class="gp">... </span>           <span class="n">apA1</span><span class="p">,</span><span class="n">apB1</span><span class="p">,</span><span class="n">initialMatching</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span class="hll"><span class="linenos"> 8</span><span class="gp">... </span>           <span class="n">maxIterations</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="n">k</span><span class="p">,</span>
</span><span class="linenos"> 9</span><span class="gp">... </span>           <span class="n">Comments</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="linenos">10</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fem</span>
<span class="linenos">11</span><span class="go"> *------- InterGroupPairing instance description ------*</span>
<span class="linenos">12</span><span class="go"> Instance class     : FairnessEnhancedInterGroupMatching</span>
<span class="linenos">13</span><span class="go"> Instance name      : fairness-enhanced-matching</span>
<span class="linenos">14</span><span class="go"> Group sizes        : 5</span>
<span class="linenos">15</span><span class="go"> Graph Order        : 10</span>
<span class="linenos">16</span><span class="go"> Graph size         : 5</span>
<span class="linenos">17</span><span class="go"> Partners swappings : 5</span>
<span class="linenos">18</span><span class="go"> Attributes         : [&#39;runTimes&#39;, &#39;vpA&#39;, &#39;vpB&#39;,</span>
<span class="linenos">19</span><span class="go">               &#39;verticesKeysA&#39;, &#39;verticesKeysB&#39;, &#39;name&#39;,</span>
<span class="linenos">20</span><span class="go">               &#39;order&#39;, &#39;maxIterations&#39;, &#39;copelandScores&#39;,</span>
<span class="hll"><span class="linenos">21</span><span class="go">               &#39;initialMatching&#39;, &#39;matching&#39;, &#39;iterations&#39;, &#39;history&#39;,</span>
</span><span class="linenos">22</span><span class="go">               &#39;maxCorr&#39;, &#39;stDev&#39;, &#39;groupAScores&#39;, &#39;groupBScores&#39;,</span>
<span class="hll"><span class="linenos">23</span><span class="go">               &#39;vertices&#39;, &#39;valuationDomain&#39;, &#39;edges&#39;, &#39;size&#39;, &#39;gamma&#39;]</span>
</span></pre></div>
</div>
<p>When no initial matching is given –<em>initialMatching</em> = <em>None</em>, which is the default setting– two initial matchings –the left matching (<em>ai</em>, <em>bi</em>)  and the right matching (<em>ai</em>, <em>b-i</em>) for i = 1, … k– are used for starting the fairness enhancing procedure (see Line 7). The best solution of both is eventually retained. When the <em>initialMatching</em> parameter is set to <em>‘random’</em>, a random shuffling –with given seed– of the persons in group <em>B</em> preceeds the construction of the right and left initial matchings. By default, the computation is limited to <img class="math" src="_images/math/cb534cef97900c662dc4c4d5630c8e170c732771.png" alt="2 \times k"/> swappings of partners in order to master the potential occurrence of cycling situations. This limit may be adjusted if necessary with the <em>maxIterations</em> parameter (see Line 8). Such cycling swappings are furthermore controlled by the <em>history</em> attribute (see Line 21). The fairness enhanced <em>fem.matching</em> solution determines in fact a <a class="reference internal" href="techDoc.html#graphs.BipartiteGraph" title="graphs.BipartiteGraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">BipartiteGraph</span></code></a> object (see last Line 23).</p>
<p>The actual pairing result obtained with the given bipolar approval ballots above is shown with the <code class="xref py py-meth docutils literal notranslate"><span class="pre">showMatchingFairness()</span></code> method (see the Listing below). The <em>WithIndividualCorrelations</em> flag allows to print out the inidividual pairing preference correlations for all persons in both groups (see Line 2).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fem</span><span class="o">.</span><span class="n">showMatchingFairness</span><span class="p">(</span>
<span class="hll"><span class="linenos"> 2</span><span class="gp">... </span>            <span class="n">WithIndividualCorrelations</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span class="linenos"> 3</span><span class="go"> *------------------------------*</span>
<span class="linenos"> 4</span><span class="go"> [&#39;a1&#39;, &#39;b4&#39;]</span>
<span class="linenos"> 5</span><span class="go"> [&#39;a2&#39;, &#39;b2&#39;]</span>
<span class="linenos"> 6</span><span class="go"> [&#39;a3&#39;, &#39;b1&#39;]</span>
<span class="linenos"> 7</span><span class="go"> [&#39;a4&#39;, &#39;b5&#39;]</span>
<span class="linenos"> 8</span><span class="go"> [&#39;a5&#39;, &#39;b3&#39;]</span>
<span class="linenos"> 9</span><span class="go"> -----</span>
<span class="linenos">10</span><span class="go"> group A correlations:</span>
<span class="hll"><span class="linenos">11</span><span class="go">  &#39;a1&#39;: -0.333</span>
</span><span class="linenos">12</span><span class="go">  &#39;a2&#39;: +1.000</span>
<span class="linenos">13</span><span class="go">  &#39;a3&#39;: +1.000</span>
<span class="linenos">14</span><span class="go">  &#39;a4&#39;: +1.000</span>
<span class="linenos">15</span><span class="go">  &#39;a5&#39;: +1.000</span>
<span class="hll"><span class="linenos">16</span><span class="go"> group A average correlation (a) : 0.733</span>
</span><span class="linenos">17</span><span class="go"> group A standard deviation      : 0.596</span>
<span class="linenos">18</span><span class="go"> -----</span>
<span class="linenos">19</span><span class="go"> group B correlations:</span>
<span class="linenos">20</span><span class="go">  &#39;b1&#39;: +1.000</span>
<span class="linenos">21</span><span class="go">  &#39;b2&#39;: +1.000</span>
<span class="linenos">22</span><span class="go">  &#39;b3&#39;: +1.000</span>
<span class="hll"><span class="linenos">23</span><span class="go">  &#39;b4&#39;: +0.333</span>
</span><span class="linenos">24</span><span class="go">  &#39;b5&#39;: +1.000</span>
<span class="hll"><span class="linenos">25</span><span class="go"> group B average correlation (b) : 0.867</span>
</span><span class="linenos">26</span><span class="go"> group B standard deviation      : 0.298</span>
<span class="linenos">27</span><span class="go"> -----</span>
<span class="hll"><span class="linenos">28</span><span class="go"> Average correlation    : 0.800</span>
</span><span class="linenos">29</span><span class="go"> Standard Deviation     : 0.450</span>
<span class="linenos">30</span><span class="go"> Unfairness |(a) - (b)| : 0.133</span>
</pre></div>
</div>
<p>In group <em>A</em> and group <em>B</em>, all persons except <em>a1</em> and <em>b4</em> get an approved partner (see Lines 11 and 23). Yet, Persons <em>a1</em> and <em>b4</em> do not actually disapprove their respective match. Hence, the resulting overall ordinal correlation is very high (+0.800, see Line 28) and both groups show quite similar marginal correlation values (+0.733 versus +0.867, see Lines 16 and 25). The fairness enhanced matching we obtain in this case corresponds actually to the very fairest among all potential maximal matchings (see Lines 2-3 below).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pairings</span> <span class="kn">import</span> <span class="n">FairestInterGroupPairing</span>
<span class="hll"><span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fp</span> <span class="o">=</span> <span class="n">FairestInterGroupPairing</span><span class="p">(</span><span class="n">apA1</span><span class="p">,</span><span class="n">apB1</span><span class="p">)</span>
</span><span class="hll"><span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fp</span><span class="o">.</span><span class="n">computeMatchingFairnessIndex</span><span class="p">(</span><span class="n">fem</span><span class="o">.</span><span class="n">matching</span><span class="p">)</span>
</span><span class="linenos">4</span><span class="go"> 0</span>
</pre></div>
</div>
<p>Mind however that our fairness enhancing algorithm does not guarantee to end always in the very fairest potential maximal matching. In <a class="reference internal" href="#intergroupquality-6-52"><span class="std std-numref">Fig. 1.45</span></a> is shown the result of a Monte Carlo simulation of 1000 random intergroup pairing problems of order 6 envolving bipolar approval voting profiles with approval, resp. disapproval probalities of 50%, resp. 20%. The failure rate to obtain the fairest pairing solution amounts to 12.4% with an average failure –optimal minus fairness enhanced average ordinal correlation– of -0.056 and a maximum failure of -0.292.</p>
<figure class="align-center" id="intergroupquality-6-52">
<a class="reference internal image-reference" href="_images/interGroupQuality_6_52.png"><img alt="Optimal versus fairness enhanced pairings" src="_images/interGroupQuality_6_52.png" style="width: 500px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.45 </span><span class="caption-text">Optimal versus fairness enhanced ordinal correlations</span><a class="headerlink" href="#intergroupquality-6-52" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>The proportion of failures depends evidently on the difficulty and the order of the pairing problem. We may however enhance the success rate of the fairness enhancing heuristic by choosing, like a Gale-Shapley stable in the case of linear voting profiles, a best determined <em>Copeland</em> ranking scores based initial matching.</p>
</section>
<section id="starting-the-fairness-enhancement-from-a-best-determined-copeland-matching">
<h4><a class="toc-backref" href="#id385" role="doc-backlink"><span class="section-number">1.3.9.8. </span>Starting the fairness enhancement from a best determined Copeland matching</a><a class="headerlink" href="#starting-the-fairness-enhancement-from-a-best-determined-copeland-matching" title="Link to this heading"></a></h4>
<p>The partner swapping strategy relies on the <em>Copeland</em> ranking scores of a potential pairing candidate for all persons in both groups. These scores are precomputed and stored in the <em>copelandScores</em> attribute of the <a class="reference internal" href="techDoc.html#pairings.FairnessEnhancedInterGroupMatching" title="pairings.FairnessEnhancedInterGroupMatching"><code class="xref py py-class docutils literal notranslate"><span class="pre">FairnessEnhancedInterGroupMatching</span></code></a> object. When we add, for a pair {<em>ai</em>, <em>bj</em>} both the <em>Copeland</em> ranking score of partner <em>bj</em> from the perspective of Person <em>ai</em> to the corresponding <em>Copeland</em> ranking score of partner <em>ai</em> from the perspective of Person <em>bj</em> to two times the observed minimal <em>Copeland</em> ranking score, we obtain a weakly determined complete bipartite graph object.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pairings</span> <span class="kn">import</span> <span class="n">BestCopelandInterGroupMatching</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">bcop</span> <span class="o">=</span> <span class="n">BestCopelandInterGroupMatching</span><span class="p">(</span><span class="n">apA1</span><span class="p">,</span><span class="n">apB1</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">bcop</span><span class="o">.</span><span class="n">showEdgesCharacteristicValues</span><span class="p">()</span>
<span class="linenos"> 4</span><span class="go">         |   &#39;b1&#39;    &#39;b2&#39;    &#39;b3&#39;    &#39;b4&#39;    &#39;b5&#39;</span>
<span class="linenos"> 5</span><span class="go"> --------|---------------------------------------</span>
<span class="hll"><span class="linenos"> 6</span><span class="go">    &#39;a1&#39; |  +0.56   +0.44   +0.50   +0.50   +0.44</span>
</span><span class="hll"><span class="linenos"> 7</span><span class="go">    &#39;a2&#39; |  +0.56   +0.94   +0.19   +0.62   +0.62</span>
</span><span class="hll"><span class="linenos"> 8</span><span class="go">    &#39;a3&#39; |  +0.81   +0.56   +0.12   +0.44   +0.31</span>
</span><span class="hll"><span class="linenos"> 9</span><span class="go">    &#39;a4&#39; |  +0.56   +0.12   +0.44   +0.44   +0.94</span>
</span><span class="hll"><span class="linenos">10</span><span class="go">    &#39;a5&#39; |  +0.19   +0.62   +0.94   +0.31   +0.31</span>
</span><span class="linenos">11</span><span class="go">  Valuation domain: [-1.00;1.00]</span>
<span class="linenos">12</span><span class="gp">&gt;&gt;&gt; </span><span class="n">bcop</span><span class="o">.</span><span class="n">showPairing</span><span class="p">()</span>
<span class="linenos">13</span><span class="go"> *------------------------------*</span>
<span class="linenos">14</span><span class="go"> [&#39;a1&#39;, &#39;b4&#39;]</span>
<span class="linenos">15</span><span class="go"> [&#39;a2&#39;, &#39;b2&#39;]</span>
<span class="linenos">16</span><span class="go"> [&#39;a3&#39;, &#39;b1&#39;]</span>
<span class="linenos">17</span><span class="go"> [&#39;a4&#39;, &#39;b5&#39;]</span>
<span class="linenos">18</span><span class="go"> [&#39;a5&#39;, &#39;b3&#39;]</span>
</pre></div>
</div>
<p>By following a kind of ranked pairs rule, we may construct in this graph a best determined bipartite maximal matching. The matches [<em>a2</em>, <em>b2</em>], [<em>a4</em>, <em>b5</em>] and [<em>a5</em>, <em>b3</em>] show the highest Copeland scores (+0.94, see Lines 7,9-10), followed by [<em>a3</em>, <em>b1</em>] (+0.81 Line 6). For Person <em>a1</em>, the best eventually available partner is <em>b4</em> (+050, line 6).</p>
<p>We are lucky here with the given example of reciprocal bipolar approval voting profiles <em>apA1</em> and <em>apB1</em> as we recover immediately the fairest enhanced matching obtained previously. The best determined <em>Copeland</em> matching is hence very opportune to take as initial start for the fairness enhancing procedure as it may similarly drastically reduce the potential number of fairness enhancing partner swappings (see Lines 3 and last below).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fecop</span> <span class="o">=</span> <span class="n">FairnessEnhancedInterGroupMatching</span><span class="p">(</span>
<span class="linenos"> 2</span><span class="gp">... </span>                   <span class="n">apA1</span><span class="p">,</span><span class="n">apB1</span><span class="p">,</span>
<span class="hll"><span class="linenos"> 3</span><span class="gp">... </span>                   <span class="n">initialMatching</span><span class="o">=</span><span class="s1">&#39;bestCopeland&#39;</span><span class="p">,</span>
</span><span class="linenos"> 4</span><span class="gp">... </span>                   <span class="n">Comments</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="linenos"> 5</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fecop</span><span class="o">.</span><span class="n">showPairing</span><span class="p">()</span>
<span class="linenos"> 6</span><span class="go"> *------------------------------*</span>
<span class="hll"><span class="linenos"> 7</span><span class="go"> [&#39;a1&#39;, &#39;b4&#39;]</span>
</span><span class="hll"><span class="linenos"> 8</span><span class="go"> [&#39;a2&#39;, &#39;b2&#39;]</span>
</span><span class="hll"><span class="linenos"> 9</span><span class="go"> [&#39;a3&#39;, &#39;b1&#39;]</span>
</span><span class="hll"><span class="linenos">10</span><span class="go"> [&#39;a4&#39;, &#39;b5&#39;]</span>
</span><span class="hll"><span class="linenos">11</span><span class="go"> [&#39;a5&#39;, &#39;b3&#39;]</span>
</span><span class="linenos">12</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fecop</span><span class="o">.</span><span class="n">Iterations</span>
<span class="linenos">13</span><span class="go"> 0</span>
</pre></div>
</div>
<p>A Monte Carlo simulation with 1000 intergroup pairing problems of order 6 with approval and disapproval probabilities of 30% shows actually that both starting points –<em>initialMatching</em> = <em>None</em> and <em>initialMatching</em> = ‘bestCopeland’– of the fairness enhancing heuristic may diverge positively and negatively in their respective best solutions.</p>
<figure class="align-center" id="femfecopcomparison">
<a class="reference internal image-reference" href="_images/femfecopComparison.png"><img alt="Influence of the fairness enhancing start matching" src="_images/femfecopComparison.png" style="width: 500px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.46 </span><span class="caption-text">Influence of the starting point on the fainess enhanced pairing solution</span><a class="headerlink" href="#femfecopcomparison" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Discuss <a class="reference internal" href="#femfecopcomparison"><span class="std std-numref">Fig. 1.46</span></a>
fem 78.18% success rate
fecop 75.78% success rate</p>
<p>If we run the fairness enhancing heuristic from both the left and right initial matchings as well as from the best determined Copeland matching and retain in fact the respective fairest solution of these three, we obtain, as shown in <a class="reference internal" href="#femfecopquality"><span class="std std-numref">Fig. 1.47</span></a>, a success rate of 87.39% for reaching the fairest possible pairing solution with an average failure of -0.036 and a maximum failure of -0.150.</p>
<figure class="align-center" id="femfecopquality">
<a class="reference internal image-reference" href="_images/femfecopQuality.png"><img alt="Optimal versus best fairness enhanced pairing solution" src="_images/femfecopQuality.png" style="width: 500px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.47 </span><span class="caption-text">Optimal versus best fairness enhanced pairing solution</span><a class="headerlink" href="#femfecopquality" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>For intergroup pairing problems of higher order, it appears however that the best determined <em>Copeland</em> matching gives in general a more efficient initial starting point for the fairness enhancing heuristic than both the left and right initial ones. In a Monte Carlo simulation with 1000 random bipolar approval pairing problems of order 50 and approval-disapproval probabilities of 20%, we obtain the results shown below.</p>
<blockquote>
<div><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Variables</p></th>
<th class="head"><p>Mean</p></th>
<th class="head"><p>Median</p></th>
<th class="head"><p>S.D.</p></th>
<th class="head"><p>Min</p></th>
<th class="head"><p>Max</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Correlation</p></td>
<td><p>+0.886</p></td>
<td><p>+0.888</p></td>
<td><p>0.018</p></td>
<td><p>+0.850</p></td>
<td><p>+0.923</p></td>
</tr>
<tr class="row-odd"><td><p>Unfairness</p></td>
<td><p>0.053</p></td>
<td><p>0.044</p></td>
<td><p>0.037</p></td>
<td><p>0.000</p></td>
<td><p>0.144</p></td>
</tr>
<tr class="row-even"><td><p>Run time (sec.)</p></td>
<td><p>1.901</p></td>
<td><p>1.895</p></td>
<td><p>0.029</p></td>
<td><p>1.868</p></td>
<td><p>2.142</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>The median overall average correlation with the individual pairing preferences amounts to +0.886 with a maximum at +0.923. The <em>Unfairness</em> statistic indicates the absolute difference between the average correlations obtained in group A versus group B.</p>
<p>In order to study the potential difference in quality and fairness of the pairing solutions obtained by starting the fairness enhancing procedure from both the left and right initial matching, from the best determined <em>Copeland</em> matching as well as from the fairest <em>Gale-Shapley</em> we ran a Monte Carlo simulation with 1000 random intergroup pairing problems of order 20 and where the individual pairing preferences were given with complete linear voting profiles (see <a class="reference internal" href="#compfemcopgs"><span class="std std-numref">Fig. 1.48</span></a>).</p>
<figure class="align-center" id="compfemcopgs">
<a class="reference internal image-reference" href="_images/compFemCopGS.png"><img alt="Comapring fairness enhancing results from different initial matchings" src="_images/compFemCopGS.png" style="width: 600px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.48 </span><span class="caption-text">Comparing pairing results from different fairnesss enhancing start points</span><a class="headerlink" href="#compfemcopgs" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>If the average ordinal correlations obtained with the three starting matchings are quite similar –means within +0.690 and +0.693– the differences between the average correlations of group <em>A</em> and group <em>B</em> show a potential advantage for the left&amp;right initial matchings (mean unfairness: 0.065) versus the best <em>Copeland</em> (mean unfairness: 0.078) and, even more versus the fairest <em>Gale-Shapley</em> matching (mean unfairness: 0.203, see <a class="reference internal" href="#compfemcopgs"><span class="std std-numref">Fig. 1.48</span></a>). The essential unfairness of stable <em>Gale-Shapley</em> matchings may in fact not being corrected with our fairness enhancing procedure.</p>
<p>Back to <a class="reference internal" href="#tutorial-label"><span class="std std-ref">Content Table</span></a></p>
<hr class="docutils" />
</section>
</section>
<section id="on-computing-fair-intragroup-pairings">
<span id="fair-intragroup-pairings-label"></span><h3><a class="toc-backref" href="#id334" role="doc-backlink"><span class="section-number">1.3.10. </span>On computing fair intragroup pairings</a><a class="headerlink" href="#on-computing-fair-intragroup-pairings" title="Link to this heading"></a></h3>
<nav class="contents local" id="id101">
<ul class="simple">
<li><p><a class="reference internal" href="#the-fair-intragroup-pairing-problem" id="id386">The fair intragroup pairing problem</a></p></li>
<li><p><a class="reference internal" href="#generating-random-intragroup-bipolar-approval-voting-profiles" id="id387">Generating random intragroup bipolar approval voting profiles</a></p></li>
<li><p><a class="reference internal" href="#the-set-of-potential-intragroup-pairing-decisions" id="id388">The set of potential ìntragroup pairing decisions</a></p></li>
<li><p><a class="reference internal" href="#computing-the-fairest-intragroup-pairing" id="id389">Computing the fairest intragroup pairing</a></p></li>
<li><p><a class="reference internal" href="#fairness-enhancing-of-a-given-pairing-decision" id="id390">Fairness enhancing of a given pairing decision</a></p></li>
</ul>
</nav>
<section id="the-fair-intragroup-pairing-problem">
<h4><a class="toc-backref" href="#id386" role="doc-backlink"><span class="section-number">1.3.10.1. </span>The fair intragroup pairing problem</a><a class="headerlink" href="#the-fair-intragroup-pairing-problem" title="Link to this heading"></a></h4>
<p>A very similar decision problem to the intergroup pairing one appears when, instead of pairing two different sets of persons, we are asked to pair an even-sized set of persons by fairly balancing again the individual pairing preferences of each person.</p>
<p>Let us consider a set of four persons {<em>p1</em>, <em>p2</em>, <em>p3</em>, <em>p4</em>} to be paired. We may propose three potential pairing decisions :</p>
<blockquote>
<div><div class="line-block">
<div class="line">(1) <em>p1</em> with <em>p2</em> and <em>p3</em> with <em>p4</em>,</div>
<div class="line">(2) <em>p1</em> with <em>p3</em> and <em>p2</em> with <em>p4</em>, and</div>
<div class="line">(3) <em>p1</em> with <em>p4</em> and <em>p2</em> with <em>p3</em>.</div>
</div>
</div></blockquote>
<p>The individual pairing preferences, expressed under the format of bipolar approval ballots, are shown below:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="go"> Bipolar approval ballots</span>
<span class="linenos"> 2</span><span class="go"> ------------------------</span>
<span class="hll"><span class="linenos"> 3</span><span class="go"> p1 :</span>
</span><span class="hll"><span class="linenos"> 4</span><span class="go"> Approvals   : [&#39;p3&#39;, &#39;p4&#39;]</span>
</span><span class="hll"><span class="linenos"> 5</span><span class="go"> Disapprovals: [&#39;p2&#39;]</span>
</span><span class="linenos"> 6</span><span class="go"> p2 :</span>
<span class="linenos"> 7</span><span class="go"> Approvals   : [&#39;p1&#39;]</span>
<span class="linenos"> 8</span><span class="go"> Disapprovals: [&#39;p3&#39;]</span>
<span class="hll"><span class="linenos"> 9</span><span class="go"> p3 :</span>
</span><span class="hll"><span class="linenos">10</span><span class="go"> Approvals   : [&#39;p1&#39;, &#39;p2&#39;, &#39;p4&#39;]</span>
</span><span class="hll"><span class="linenos">11</span><span class="go"> Disapprovals: []</span>
</span><span class="linenos">12</span><span class="go"> p4 :</span>
<span class="linenos">13</span><span class="go"> Approvals   : [&#39;p2&#39;]</span>
<span class="linenos">14</span><span class="go"> Disapprovals: [&#39;p1&#39;, &#39;p3&#39;]</span>
</pre></div>
</div>
<p>Person <em>p1</em>, for instance, approves as potential partner both Persons <em>p3</em> and <em>p4</em>, but disapproves Person <em>p2</em> (see Lines 3-5). Person <em>p3</em> approves all potential partners, i.e. disapproves none of them (see Lines 9-11).</p>
<p>Out of the three potential pairing decision, which is the one that most fairly balances the given individual pairing preferences shown above? If we take decision (1), Person <em>p1</em> will be paired with a disapproved partner. If we take decision (3), Person <em>p2</em> will be paired with a disapproved partner. Only pairing decision (2) allocates no disapproved partner to all the persons.</p>
<p>We will generalise this approach to larger groups of persons in a similar way as we do in the intergroup pairing case.</p>
</section>
<section id="generating-random-intragroup-bipolar-approval-voting-profiles">
<h4><a class="toc-backref" href="#id387" role="doc-backlink"><span class="section-number">1.3.10.2. </span>Generating random intragroup bipolar approval voting profiles</a><a class="headerlink" href="#generating-random-intragroup-bipolar-approval-voting-profiles" title="Link to this heading"></a></h4>
<p>Let us consider a group of six persons. Individual intragroup pairing preferences may be randomly generated with the <a class="reference internal" href="techDoc.html#votingProfiles.RandomBipolarApprovalVotingProfile" title="votingProfiles.RandomBipolarApprovalVotingProfile"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomBipolarApprovalVotingProfile</span></code></a> class by setting the <em>IntraGroup</em> parameter to <em>True</em> (see Line 6 below)</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">votingProfiles</span> <span class="kn">import</span>\
<span class="linenos"> 2</span><span class="gp">... </span>                  <span class="n">RandomBipolarApprovalVotingProfile</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">vpG</span> <span class="o">=</span> <span class="n">RandomBipolarApprovalVotingProfile</span><span class="p">(</span>
<span class="linenos"> 4</span><span class="gp">... </span>                       <span class="n">numberOfVoters</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span>
<span class="linenos"> 5</span><span class="gp">... </span>                       <span class="n">votersIdPrefix</span><span class="o">=</span><span class="s1">&#39;p&#39;</span><span class="p">,</span>
<span class="hll"><span class="linenos"> 6</span><span class="gp">... </span>                       <span class="n">IntraGroup</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span class="linenos"> 7</span><span class="gp">... </span>                       <span class="n">approvalProbability</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
<span class="linenos"> 8</span><span class="gp">... </span>                       <span class="n">disapprovalProbability</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span>
<span class="linenos"> 9</span><span class="gp">... </span>                       <span class="n">seed</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="linenos">10</span><span class="gp">&gt;&gt;&gt; </span><span class="n">vpG</span><span class="o">.</span><span class="n">showBipolarApprovals</span><span class="p">()</span>
<span class="linenos">11</span><span class="go"> Bipolar approval ballots</span>
<span class="linenos">12</span><span class="go"> ------------------------</span>
<span class="linenos">13</span><span class="go"> p1 :</span>
<span class="hll"><span class="linenos">14</span><span class="go"> Approvals   : [&#39;p4&#39;, &#39;p5&#39;]</span>
</span><span class="hll"><span class="linenos">15</span><span class="go"> Disapprovals: []</span>
</span><span class="linenos">16</span><span class="go"> p2 :</span>
<span class="hll"><span class="linenos">17</span><span class="go"> Approvals   : [&#39;p1&#39;]</span>
</span><span class="hll"><span class="linenos">18</span><span class="go"> Disapprovals: [&#39;p5&#39;]</span>
</span><span class="linenos">19</span><span class="go"> p3 :</span>
<span class="linenos">20</span><span class="go"> Approvals   : []</span>
<span class="linenos">21</span><span class="go"> Disapprovals: [&#39;p2&#39;]</span>
<span class="linenos">22</span><span class="go"> p4 :</span>
<span class="linenos">23</span><span class="go"> Approvals   : [&#39;p1&#39;, &#39;p2&#39;, &#39;p3&#39;]</span>
<span class="linenos">24</span><span class="go"> Disapprovals: [&#39;p5&#39;]</span>
<span class="linenos">25</span><span class="go"> p5 :</span>
<span class="linenos">26</span><span class="go"> Approvals   : [&#39;p1&#39;, &#39;p2&#39;, &#39;p3&#39;, &#39;p6&#39;]</span>
<span class="linenos">27</span><span class="go"> Disapprovals: [&#39;p4&#39;]</span>
<span class="linenos">28</span><span class="go"> p6 :</span>
<span class="linenos">29</span><span class="go"> Approvals   : [&#39;p1&#39;, &#39;p2&#39;, &#39;p3&#39;, &#39;p4&#39;]</span>
<span class="linenos">30</span><span class="go"> Disapprovals: []</span>
</pre></div>
</div>
<p>With an approval probability of 50% and a disapproval probability of 20% we obtain the bipolar approvals shown above. Person <em>p1</em> approves <em>p4</em> and <em>p5</em> and disapproves nobody, whereas Person <em>p2</em> approves <em>p1</em> and disapproves <em>p5</em> (see Lines 14-15 and 17-18). To solve this intragroup pairing problem, we need to generate the set of potential matching decisions.</p>
</section>
<section id="the-set-of-potential-intragroup-pairing-decisions">
<h4><a class="toc-backref" href="#id388" role="doc-backlink"><span class="section-number">1.3.10.3. </span>The set of potential ìntragroup pairing decisions</a><a class="headerlink" href="#the-set-of-potential-intragroup-pairing-decisions" title="Link to this heading"></a></h4>
<p>In the intergroup pairing problem, the potential pairing decisions are given by the maximal independent sets of the line graph of the bipartite graph formed between two even-sized groups of persons. Here the set of potential pairing decisions is given by the maximal independents sets –the perfect matchings <a class="footnote-reference brackets" href="#id252" id="id102" role="doc-noteref"><span class="fn-bracket">[</span>48<span class="fn-bracket">]</span></a>– of the line graph of the complete graph obtained from the given set of six persons (see below).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">persons</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">vpG</span><span class="o">.</span><span class="n">voters</span><span class="p">]</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">persons</span>
<span class="linenos"> 3</span><span class="go"> [&#39;p1&#39;, &#39;p2&#39;, &#39;p3&#39;, &#39;p4&#39;, &#39;p5&#39;, &#39;p6&#39;]</span>
<span class="linenos"> 4</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">graphs</span> <span class="kn">import</span> <span class="n">CompleteGraph</span><span class="p">,</span> <span class="n">LineGraph</span>
<span class="linenos"> 5</span><span class="gp">&gt;&gt;&gt; </span><span class="n">cg</span> <span class="o">=</span> <span class="n">CompleteGraph</span><span class="p">(</span><span class="n">verticesKeys</span><span class="o">=</span><span class="n">persons</span><span class="p">)</span>
<span class="hll"><span class="linenos"> 6</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lcg</span> <span class="o">=</span> <span class="n">LineGraph</span><span class="p">(</span><span class="n">cg</span><span class="p">)</span>
</span><span class="linenos"> 7</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lcg</span><span class="o">.</span><span class="n">computeMIS</span><span class="p">()</span>
<span class="linenos"> 8</span><span class="gp">... </span><span class="c1"># result is stored into lcg.misset</span>
<span class="linenos"> 9</span><span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">lcg</span><span class="o">.</span><span class="n">misset</span><span class="p">)</span>
<span class="hll"><span class="linenos">10</span><span class="go"> 15</span>
</span><span class="linenos">11</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lcg</span><span class="o">.</span><span class="n">misset</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="linenos">12</span><span class="go"> frozenset({frozenset({&#39;p5&#39;, &#39;p2&#39;}),</span>
<span class="linenos">13</span><span class="go">            frozenset({&#39;p1&#39;, &#39;p6&#39;}),</span>
<span class="linenos">14</span><span class="go">            frozenset({&#39;p3&#39;, &#39;p4&#39;})})</span>
</pre></div>
</div>
<p>In the intragroup case we observe 15 potential pairing decisions (see Line 10). For a set of persons of size <img class="math" src="_images/math/cb534cef97900c662dc4c4d5630c8e170c732771.png" alt="2 \times k"/>, the number of potential intragroup pairing decisions is actually given by the <em>double factorial of odd numbers</em>
<a class="footnote-reference brackets" href="#id251" id="id103" role="doc-noteref"><span class="fn-bracket">[</span>47<span class="fn-bracket">]</span></a> .</p>
<div class="math">
<p><img src="_images/math/2028b608bb610a9b8ca0fb0bb310e3c3578a810c.png" alt="1 \times 3 \times 5 \times ... \times (2 \times k -1) \;=\; (2 \times k - 1)!!"/></p>
</div><p>For the first pair we have indeed <img class="math" src="_images/math/8aceb42d9ae9f5468b2211d4ef53b13ccebb54b5.png" alt="(2 \times k)-1"/> partner choices, for the second pair we have <img class="math" src="_images/math/033d34f0284d3dafb8caeef04ad8b3ece825c01a.png" alt="(2 \times k)-3"/> partner choices, etc. This double factorial of odd numbers is far larger than the simple <em>k!</em> number of potential pairing decisions in a corresponding intergroup pairing problem of order <em>k</em>.</p>
<p>In order to find now the fairest pairing among this potentially huge set of intragroup pairing decisions, we will reuse the same strategy as for the intergroup case. For each potential pairing solution, we are computing the average ordinal correlation between each potential pairing solution and the individual pairing preferences. The fairest pairing decision is eventually determined by the highest average coupled with the lowest standard deviation of the individual ordinal correlation indexes.</p>
</section>
<section id="computing-the-fairest-intragroup-pairing">
<h4><a class="toc-backref" href="#id389" role="doc-backlink"><span class="section-number">1.3.10.4. </span>Computing the fairest intragroup pairing</a><a class="headerlink" href="#computing-the-fairest-intragroup-pairing" title="Link to this heading"></a></h4>
<p>For a pairing problem of tiny order <img class="math" src="_images/math/62f7ae31225427e967697b851752ebbb70146fbf.png" alt="(2 \times k = 6)"/> we may use the <a class="reference internal" href="techDoc.html#pairings.FairestIntraGroupPairing" title="pairings.FairestIntraGroupPairing"><code class="xref py py-class docutils literal notranslate"><span class="pre">FairestIntraGroupPairing</span></code></a> class for computing in a brute force approach the fairest possible pairing solution :</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pairings</span> <span class="kn">import</span> <span class="n">FairestIntraGroupPairing</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fp</span> <span class="o">=</span> <span class="n">FairestIntraGroupPairing</span><span class="p">(</span><span class="n">vpG</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fp</span><span class="o">.</span><span class="n">nbrOfMatchings</span>
<span class="hll"><span class="linenos"> 4</span><span class="go"> 15</span>
</span><span class="linenos"> 5</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fp</span><span class="o">.</span><span class="n">showMatchingFairness</span><span class="p">()</span>
<span class="linenos"> 6</span><span class="go"> Matched pairs</span>
<span class="hll"><span class="linenos"> 7</span><span class="go"> {&#39;p1&#39;, &#39;p4&#39;}, {&#39;p3&#39;, &#39;p5&#39;}, {&#39;p6&#39;, &#39;p2&#39;}</span>
</span><span class="linenos"> 8</span><span class="go"> ----</span>
<span class="linenos"> 9</span><span class="go"> Individual correlations:</span>
<span class="hll"><span class="linenos">10</span><span class="go">  &#39;p1&#39;: +1.000, &#39;p2&#39;: +0.000, &#39;p3&#39;: +1.000</span>
</span><span class="hll"><span class="linenos">11</span><span class="go">  &#39;p4&#39;: +1.000, &#39;p5&#39;: +1.000, &#39;p6&#39;: +1.000</span>
</span><span class="linenos">12</span><span class="go"> -----</span>
<span class="linenos">13</span><span class="go"> Average correlation : +0.833</span>
<span class="hll"><span class="linenos">14</span><span class="go"> Unfairness (stdev)    : 0.408</span>
</span></pre></div>
</div>
<p>As expected, we observe with a problem of order 6 a set of 1 x 3 x 5 = 15 potential pairings (see Line 4) and the fairest pairing solution  –highest correlation (+0.833) with given individual pairing preferences– is shown in Line 7 above. All persons, except <em>p2</em> are paired with an approved partner and nobody is paired with a disapproved partner (see Lines 10-11).</p>
<p>In the intergroup pairing case, an indicator of the actual fairness of a pairing solution is given by the absolute difference between both group correlation values. In the intragroup case here, an indicator of the fairness is given by the standard deviation of the individual correlations (see Line 14). The lower this standard deviation with a same overall correlation result, the fairer appears to be in fact the pairing solution <a class="footnote-reference brackets" href="#id254" id="id104" role="doc-noteref"><span class="fn-bracket">[</span>50<span class="fn-bracket">]</span></a> .</p>
<p>The <em>fp</em> object models in fact a generic <a class="reference internal" href="techDoc.html#graphs.Graph" title="graphs.Graph"><code class="xref py py-class docutils literal notranslate"><span class="pre">Graph</span></code></a> object whose edges correspond to the fairest possible pairing solution (see Lines 11-12). We may hence produce in <a class="reference internal" href="#fairestintragrouppairing"><span class="std std-numref">Fig. 1.49</span></a> a drawing of the fairest pairing solution by using the standard <a class="reference internal" href="techDoc.html#graphs.Graph.exportGraphViz" title="graphs.Graph.exportGraphViz"><code class="xref py py-meth docutils literal notranslate"><span class="pre">exportGraphViz()</span></code></a> method for undirected graphs.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fp</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">(</span><span class="s1">&#39;fairestIntraGroupPairing&#39;</span><span class="p">)</span>
<span class="go"> *---- exporting a dot file for GraphViz tools ---------*</span>
<span class="go"> Exporting to fairestIntraGroupPairing.dot</span>
<span class="go"> fdp -Tpng fairestIntraGroupPairing.dot -o fairestIntraGroupPairing.png</span>
</pre></div>
</div>
<figure class="align-center" id="fairestintragrouppairing">
<a class="reference internal image-reference" href="_images/fairestIntraGroupPairing.png"><img alt="Fairest Pairing" src="_images/fairestIntraGroupPairing.png" style="width: 250px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.49 </span><span class="caption-text">Fairest intragroup pairing solution</span><a class="headerlink" href="#fairestintragrouppairing" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Unfortunately, this brute force approach to find the fairest possible pairing solution fails in view of the explosive character of the double factorial of odd numbers. For a group of 20 persons, we observe indeed already more than 650 millions of potential pairing decisions. Similar to the intergroup pairing case, we may use instead a kind of hill climbing heuristic for computing a fair intragroup pairing solution.</p>
</section>
<section id="fairness-enhancing-of-a-given-pairing-decision">
<h4><a class="toc-backref" href="#id390" role="doc-backlink"><span class="section-number">1.3.10.5. </span>Fairness enhancing of a given pairing decision</a><a class="headerlink" href="#fairness-enhancing-of-a-given-pairing-decision" title="Link to this heading"></a></h4>
<p>The <a class="reference internal" href="techDoc.html#pairings.FairnessEnhancedIntraGroupMatching" title="pairings.FairnessEnhancedIntraGroupMatching"><code class="xref py py-class docutils literal notranslate"><span class="pre">FairnessEnhancedIntraGroupMatching</span></code></a> class delivers such a solution. When no initial matching is given (see Line 3 below), our hill climbing strategy will start, similar to the intergroup pairing case, from two initial maximal matchings. The <em>left</em> one matches Person <em>pi</em> with Person <em>pi+1</em> for i in range 1 to 5 by step 3 (see Line 5-6) and the right one matches Person <em>pi</em> with Person <em>p-i</em> for i in range 1 to 3  (see Line 8-9).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pairings</span> <span class="kn">import</span> <span class="n">FairnessEnhancedIntraGroupMatching</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fem</span> <span class="o">=</span> <span class="n">FairnessEnhancedIntraGroupMatching</span><span class="p">(</span><span class="n">vpG</span><span class="p">,</span>
<span class="hll"><span class="linenos"> 3</span><span class="gp">... </span>         <span class="n">initialMatching</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">Comments</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span class="linenos"> 4</span><span class="go"> ===&gt;&gt;&gt; Enhancing left initial matching</span>
<span class="linenos"> 5</span><span class="go"> Initial left matching</span>
<span class="hll"><span class="linenos"> 6</span><span class="go"> [[&#39;p1&#39;, &#39;p2&#39;], [&#39;p3&#39;, &#39;p4&#39;], [&#39;p5&#39;, &#39;p6&#39;]]</span>
</span><span class="linenos"> 7</span><span class="go"> Fairness enhanced left matching</span>
<span class="hll"><span class="linenos"> 8</span><span class="go"> [[&#39;p1&#39;, &#39;p4&#39;], [&#39;p3&#39;, &#39;p5&#39;], [&#39;p2&#39;, &#39;p6&#39;]] , correlation: 0.833</span>
</span><span class="linenos"> 9</span><span class="go"> ===&gt;&gt;&gt; Enhancing right initial matching</span>
<span class="linenos">10</span><span class="go"> Initial right matching</span>
<span class="hll"><span class="linenos">11</span><span class="go"> [[&#39;p1&#39;, &#39;p6&#39;], [&#39;p3&#39;, &#39;p4&#39;], [&#39;p5&#39;, &#39;p2&#39;]]</span>
</span><span class="linenos">12</span><span class="go"> Fairness enhanced right matching</span>
<span class="hll"><span class="linenos">13</span><span class="go"> [[&#39;p1&#39;, &#39;p4&#39;], [&#39;p3&#39;, &#39;p5&#39;], [&#39;p6&#39;, &#39;p2&#39;]] , correlation: 0.833</span>
</span><span class="linenos">14</span><span class="go"> ===&gt;&gt;&gt; Best fairness enhanced matching</span>
<span class="linenos">15</span><span class="go"> Matched pairs</span>
<span class="hll"><span class="linenos">16</span><span class="go"> {&#39;p1&#39;, &#39;p4&#39;}, {&#39;p2&#39;, &#39;p6&#39;}, {&#39;p3&#39;, &#39;p5&#39;}</span>
</span><span class="hll"><span class="linenos">17</span><span class="go"> Average correlation: +0.833</span>
</span></pre></div>
</div>
<p>The correlation enhancing search is similar to the one used for the intergroup heuristic. For each couple of pairs [{<em>pi</em>, <em>pj</em>}, {<em>pr</em>, <em>ps</em>}] in the respective initial matchings we have in the intragroup case in fact <strong>two</strong> partners swapping opportunities: (1) <em>pj</em> &lt;-&gt; <em>ps</em> or, (2) <em>pj</em> &lt;-&gt; <em>pr</em>. For both ways, we assess the expected individual correlation gains with the differences of the <em>Copeland</em> scores induced by the potential swappings. And we eventually proceed with a swapping of highest expected average correlation gain among all couple of pairs.</p>
<p>In the case of the previous bipolar approval intragroup voting profile <em>vpG</em>, both starting points for the hill climbing heuristic give the same solution, in fact the fairest possible pairing solution we have already obtained with the brute force algorithm in the preceding Section (see above).</p>
<p>To illustrate why starting from two initial matchings may be useful, we solve below a random intragroup pairing problem of order 20 where we assume an approval probability of 30% and a disapproval probability of 20% (see Line 3 below).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">vpG1</span> <span class="o">=</span> <span class="n">RandomBipolarApprovalVotingProfile</span><span class="p">(</span>
<span class="linenos"> 2</span><span class="gp">... </span>          <span class="n">numberOfVoters</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span><span class="n">votersIdPrefix</span><span class="o">=</span><span class="s1">&#39;p&#39;</span><span class="p">,</span>
<span class="hll"><span class="linenos"> 3</span><span class="gp">... </span>          <span class="n">IntraGroup</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">approvalProbability</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span>
</span><span class="linenos"> 4</span><span class="gp">... </span>          <span class="n">disapprovalProbability</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="linenos"> 5</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fem1</span> <span class="o">=</span> <span class="n">FairnessEnhancedIntraGroupMatching</span><span class="p">(</span><span class="n">vpG1</span><span class="p">,</span>
<span class="linenos"> 6</span><span class="gp">... </span>          <span class="n">initialMatching</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">Comments</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos"> 7</span><span class="go"> ===&gt;&gt;&gt; Enhancing left initial matching</span>
<span class="linenos"> 8</span><span class="go"> Initial left matching</span>
<span class="linenos"> 9</span><span class="go"> [[&#39;p01&#39;, &#39;p02&#39;], [&#39;p03&#39;, &#39;p04&#39;], [&#39;p05&#39;, &#39;p06&#39;], [&#39;p07&#39;, &#39;p08&#39;], [&#39;p09&#39;, &#39;p10&#39;],</span>
<span class="linenos">10</span><span class="go">  [&#39;p11&#39;, &#39;p12&#39;], [&#39;p13&#39;, &#39;p14&#39;], [&#39;p15&#39;, &#39;p16&#39;], [&#39;p17&#39;, &#39;p18&#39;], [&#39;p19&#39;, &#39;p20&#39;]]</span>
<span class="linenos">11</span><span class="go"> Fairness enhanced left matching</span>
<span class="linenos">12</span><span class="go"> [[&#39;p01&#39;, &#39;p02&#39;], [&#39;p03&#39;, &#39;p04&#39;], [&#39;p05&#39;, &#39;p15&#39;], [&#39;p06&#39;, &#39;p11&#39;], [&#39;p09&#39;, &#39;p17&#39;],</span>
<span class="linenos">13</span><span class="go">  [&#39;p07&#39;, &#39;p12&#39;], [&#39;p13&#39;, &#39;p14&#39;], [&#39;p08&#39;, &#39;p16&#39;], [&#39;p20&#39;, &#39;p18&#39;], [&#39;p19&#39;, &#39;p10&#39;]],</span>
<span class="hll"><span class="linenos">14</span><span class="go">  correlation: +0.785</span>
</span><span class="linenos">15</span><span class="go"> ===&gt;&gt;&gt; Enhancing right initial matching</span>
<span class="linenos">16</span><span class="go"> Initialright matching</span>
<span class="linenos">17</span><span class="go"> [[&#39;p01&#39;, &#39;p20&#39;], [&#39;p03&#39;, &#39;p18&#39;], [&#39;p05&#39;, &#39;p16&#39;], [&#39;p07&#39;, &#39;p14&#39;], [&#39;p09&#39;, &#39;p12&#39;],</span>
<span class="linenos">18</span><span class="go">  [&#39;p11&#39;, &#39;p10&#39;], [&#39;p13&#39;, &#39;p08&#39;], [&#39;p15&#39;, &#39;p06&#39;], [&#39;p17&#39;, &#39;p04&#39;], [&#39;p19&#39;, &#39;p02&#39;]]</span>
<span class="linenos">19</span><span class="go"> Fairness enhanced right matching</span>
<span class="linenos">20</span><span class="go"> [[&#39;p01&#39;, &#39;p19&#39;], [&#39;p03&#39;, &#39;p02&#39;], [&#39;p05&#39;, &#39;p15&#39;], [&#39;p07&#39;, &#39;p18&#39;], [&#39;p09&#39;, &#39;p17&#39;],</span>
<span class="linenos">21</span><span class="go">  [&#39;p14&#39;, &#39;p13&#39;], [&#39;p10&#39;, &#39;p04&#39;], [&#39;p08&#39;, &#39;p12&#39;], [&#39;p20&#39;, &#39;p16&#39;], [&#39;p06&#39;, &#39;p11&#39;]],</span>
<span class="hll"><span class="linenos">22</span><span class="go">  correlation: +0.851</span>
</span><span class="linenos">23</span><span class="go"> ===&gt;&gt;&gt; Best fairness enhanced matching</span>
<span class="linenos">24</span><span class="go"> Matched pairs</span>
<span class="linenos">25</span><span class="go"> {&#39;p01&#39;, &#39;p19&#39;}, {&#39;p03&#39;, &#39;p02&#39;}, {&#39;p05&#39;, &#39;p15&#39;}, {&#39;p06&#39;, &#39;p11&#39;},</span>
<span class="linenos">26</span><span class="go"> {&#39;p07&#39;, &#39;p18&#39;}, {&#39;p08&#39;, &#39;p12&#39;}, {&#39;p09&#39;, &#39;p17&#39;}, {&#39;p10&#39;, &#39;p04&#39;},</span>
<span class="linenos">27</span><span class="go"> {&#39;p14&#39;, &#39;p13&#39;}, {&#39;p20&#39;, &#39;p16&#39;}</span>
<span class="linenos">28</span><span class="go"> Average correlation: +0.851</span>
</pre></div>
</div>
<p>The hill climbing from the left initial matching attains an average ordinal correlation of +0.785, whereas the one starting from the right initial matching improves this result to an average ordinal correlation of +0.851 (see Lines 14 and 22).</p>
<p>We may below inspect with the <a class="reference internal" href="techDoc.html#pairings.IntraGroupPairing.showMatchingFairness" title="pairings.IntraGroupPairing.showMatchingFairness"><code class="xref py py-meth docutils literal notranslate"><span class="pre">showMatchingFairness()</span></code></a> method the individual ordinal correlation indexes obtained this way.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fem1</span><span class="o">.</span><span class="n">showMatchingFairness</span><span class="p">(</span><span class="n">WithIndividualCorrelations</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos"> 2</span><span class="go"> Matched pairs</span>
<span class="linenos"> 3</span><span class="go"> {&#39;p01&#39;, &#39;p19&#39;}, {&#39;p03&#39;, &#39;p02&#39;}, {&#39;p05&#39;, &#39;p15&#39;},</span>
<span class="linenos"> 4</span><span class="go"> {&#39;p06&#39;, &#39;p11&#39;}, {&#39;p07&#39;, &#39;p18&#39;}, {&#39;p08&#39;, &#39;p12&#39;},</span>
<span class="linenos"> 5</span><span class="go"> {&#39;p09&#39;, &#39;p17&#39;}, {&#39;p10&#39;, &#39;p04&#39;}, {&#39;p14&#39;, &#39;p13&#39;},</span>
<span class="linenos"> 6</span><span class="go"> {&#39;p20&#39;, &#39;p16&#39;}</span>
<span class="linenos"> 7</span><span class="go"> ----</span>
<span class="linenos"> 8</span><span class="go"> Individual correlations:</span>
<span class="hll"><span class="linenos"> 9</span><span class="go">  &#39;p01&#39;: +1.000, &#39;p02&#39;: +1.000, &#39;p03&#39;: +1.000, &#39;p04&#39;: -0.143, &#39;p05&#39;: +1.000,</span>
</span><span class="hll"><span class="linenos">10</span><span class="go">  &#39;p06&#39;: +1.000, &#39;p07&#39;: +0.500, &#39;p08&#39;: -0.333, &#39;p09&#39;: +1.000, &#39;p10&#39;: +1.000,</span>
</span><span class="linenos">11</span><span class="go">  &#39;p11&#39;: +1.000, &#39;p12&#39;: +1.000, &#39;p13&#39;: +1.000, &#39;p14&#39;: +1.000, &#39;p15&#39;: +1.000,</span>
<span class="linenos">12</span><span class="go">  &#39;p16&#39;: +1.000, &#39;p17&#39;: +1.000, &#39;p18&#39;: +1.000, &#39;p19&#39;: +1.000, &#39;p20&#39;: +1.000</span>
<span class="linenos">13</span><span class="go"> -----</span>
<span class="linenos">14</span><span class="go"> Average correlation : +0.851</span>
<span class="linenos">15</span><span class="go"> Standard Deviation  :  0.390</span>
</pre></div>
</div>
<p>Only three persons –<em>p04</em>, <em>p07</em> and <em>p08</em>– are not matched with a mutually approved partner (see Lines 9-10 above). Yet, they are all three actually matched with a partner they neither approve nor disapprove but who in return approves them as partner(see Lines 10, 19 and 27 below).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">vpG1</span><span class="o">.</span><span class="n">showBipolarApprovals</span><span class="p">()</span>
<span class="linenos"> 2</span><span class="go"> Bipolar approval ballots</span>
<span class="linenos"> 3</span><span class="go"> ------------------------</span>
<span class="linenos"> 4</span><span class="go"> ...</span>
<span class="linenos"> 5</span><span class="go"> ...</span>
<span class="linenos"> 6</span><span class="go"> p04 :</span>
<span class="linenos"> 7</span><span class="go"> Approvals   : [&#39;p03&#39;, &#39;p12&#39;, &#39;p14&#39;, &#39;p19&#39;]</span>
<span class="linenos"> 8</span><span class="go"> Disapprovals: [&#39;p15&#39;, &#39;p18&#39;, &#39;p20&#39;]</span>
<span class="linenos"> 9</span><span class="go"> p10 :</span>
<span class="hll"><span class="linenos">10</span><span class="go"> Approvals   : [&#39;p04&#39;, &#39;p17&#39;, &#39;p20&#39;]</span>
</span><span class="linenos">11</span><span class="go"> Disapprovals: [&#39;p01&#39;, &#39;p02&#39;, &#39;p05&#39;, &#39;p06&#39;, &#39;p07&#39;, &#39;p08&#39;,</span>
<span class="linenos">12</span><span class="go">                &#39;p09&#39;, &#39;p11&#39;, &#39;p12&#39;, &#39;p16&#39;, &#39;p18&#39;]</span>
<span class="linenos">13</span><span class="go"> ...</span>
<span class="linenos">14</span><span class="go"> ...</span>
<span class="linenos">15</span><span class="go"> p07 :</span>
<span class="linenos">16</span><span class="go"> Approvals   : [&#39;p11&#39;]</span>
<span class="linenos">17</span><span class="go"> Disapprovals: [&#39;p01&#39;, &#39;p14&#39;, &#39;p19&#39;]</span>
<span class="linenos">18</span><span class="go"> p12 :</span>
<span class="hll"><span class="linenos">19</span><span class="go"> Approvals   : [&#39;p06&#39;, &#39;p07&#39;, &#39;p08&#39;, &#39;p10&#39;, &#39;p16&#39;, &#39;p19&#39;]</span>
</span><span class="linenos">20</span><span class="go"> Disapprovals: [&#39;p11&#39;, &#39;p14&#39;]</span>
<span class="linenos">21</span><span class="go"> ...</span>
<span class="linenos">22</span><span class="go"> ...</span>
<span class="linenos">23</span><span class="go"> p08 :</span>
<span class="linenos">24</span><span class="go"> Approvals   : [&#39;p02&#39;, &#39;p05&#39;, &#39;p06&#39;, &#39;p14&#39;, &#39;p16&#39;, &#39;p19&#39;]</span>
<span class="linenos">25</span><span class="go"> Disapprovals: [&#39;p01&#39;, &#39;p13&#39;, &#39;p15&#39;]</span>
<span class="linenos">26</span><span class="go"> p05 :</span>
<span class="hll"><span class="linenos">27</span><span class="go"> Approvals   : [&#39;p01&#39;, &#39;p04&#39;, &#39;p06&#39;, &#39;p07&#39;, &#39;p08&#39;, &#39;p11&#39;, &#39;p15&#39;, &#39;p16&#39;, &#39;p18&#39;]</span>
</span><span class="linenos">28</span><span class="go"> Disapprovals: [&#39;p13&#39;, &#39;p19&#39;]</span>
<span class="linenos">29</span><span class="go"> ...</span>
<span class="linenos">30</span><span class="go"> ...</span>
</pre></div>
</div>
<p>As the size of the potential maximal matchings with a pairing problem of order 20 exceeds 650 million instances, computing the overall fairest pairing solution becomes intractable and we are unable to check if we reached or not this optimal pairing solution. A Monte Carlo simulation with 1000 random intragroup pairing problem of order 8, applying an approval probability of 50% and a disapproval probability of 20%, shows however in <a class="reference internal" href="#intragroupquality8"><span class="std std-numref">Fig. 1.50</span></a> the apparent operational efficiency of our hill climbing heuristic, at least for small orders.</p>
<figure class="align-center" id="intragroupquality8">
<a class="reference internal image-reference" href="_images/intraGroupQuality.png"><img alt="Quality of fairness enhanced intragroup pairing solutions" src="_images/intraGroupQuality.png" style="width: 500px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.50 </span><span class="caption-text">Quality of fairness enhanced intragroup pairing solutions of order 8</span><a class="headerlink" href="#intragroupquality8" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Only 43 failures to reach the optimal average correlation were counted among the 1000 computations (4.3%) with a maximal difference in between of +0.250.</p>
<p>A similar simulation with more constrained random intragroup pairing problems of order 10, applying an approval and disapproval probability of only 30%, gives a failure rate of 19.1% to attain the optimal fairest pairing solution (see <a class="reference internal" href="#intragroupquality10"><span class="std std-numref">Fig. 1.51</span></a>).</p>
<figure class="align-center" id="intragroupquality10">
<a class="reference internal image-reference" href="_images/intraGroupQuality10.png"><img alt="Quality of fairness enhanced intragroup pairing solutions" src="_images/intraGroupQuality10.png" style="width: 500px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.51 </span><span class="caption-text">Quality of fairness enhanced intragroup pairing solutions of order 10</span><a class="headerlink" href="#intragroupquality10" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Choosing, as in the intergroup pairing case, a more efficient initial matching for the fairness enhancing procedure becomes essential. For this purpose we may rely again on the best determined <em>Copeland</em> matching obtained with the pairwise <em>Copeland</em> scores computed on the complete intragroup graph. When we add indeed, for a pair {<em>pi</em>, <em>pj</em>} both the <em>Copeland</em> ranking score of partner <em>pj</em> from the perspective of Person <em>pi</em> to the corresponding <em>Copeland</em> ranking score of partner <em>pi</em> from the perspective of Person <em>pj</em> we may obtain a complete positively valued graph object. In this graph we can, with a greedy ranked pairs rule, construct a best determined perfect matching which we may use as efficient initial start for the fairness enhancing heuristic (see below).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pairings</span> <span class="kn">import</span> <span class="n">BestCopelandIntraGroupMatching</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">cop</span> <span class="o">=</span> <span class="n">BestCopelandIntraGroupMatching</span><span class="p">(</span><span class="n">vpG1</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">cop</span><span class="o">.</span><span class="n">showPairing</span><span class="p">(</span><span class="n">cop</span><span class="o">.</span><span class="n">matching</span><span class="p">)</span>
<span class="linenos"> 4</span><span class="go"> Matched pairs</span>
<span class="linenos"> 5</span><span class="go"> {&#39;p02&#39;, &#39;p15&#39;}, {&#39;p04&#39;, &#39;p03&#39;}, {&#39;p08&#39;, &#39;p05&#39;}, {&#39;p09&#39;, &#39;p20&#39;}</span>
<span class="linenos"> 6</span><span class="go"> {&#39;p11&#39;, &#39;p06&#39;}, {&#39;p12&#39;, &#39;p16&#39;}, {&#39;p14&#39;, &#39;p13&#39;}, {&#39;p17&#39;, &#39;p10&#39;}</span>
<span class="linenos"> 7</span><span class="go"> {&#39;p18&#39;, &#39;p07&#39;}, {&#39;p19&#39;, &#39;p01&#39;}</span>
<span class="linenos"> 8</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fem2</span> <span class="o">=</span> <span class="n">FairnessEnhancedIntraGroupMatching</span><span class="p">(</span><span class="n">vpG1</span><span class="p">,</span>
<span class="linenos"> 9</span><span class="gp">... </span>                 <span class="n">initialMatching</span><span class="o">=</span><span class="n">cop</span><span class="o">.</span><span class="n">matching</span><span class="p">,</span><span class="n">Comments</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos">10</span><span class="go"> *---- Initial matching ----*</span>
<span class="hll"><span class="linenos">11</span><span class="go"> [[&#39;p02&#39;, &#39;p15&#39;], [&#39;p04&#39;, &#39;p03&#39;], [&#39;p08&#39;, &#39;p05&#39;], [&#39;p09&#39;, &#39;p20&#39;],</span>
</span><span class="hll"><span class="linenos">12</span><span class="go">  [&#39;p11&#39;, &#39;p06&#39;], [&#39;p12&#39;, &#39;p16&#39;], [&#39;p14&#39;, &#39;p13&#39;], [&#39;p17&#39;, &#39;p10&#39;],</span>
</span><span class="linenos">13</span><span class="go">  [&#39;p18&#39;, &#39;p07&#39;], [&#39;p19&#39;, &#39;p01&#39;]]</span>
<span class="hll"><span class="linenos">14</span><span class="go"> Enhancing iteration :  1</span>
</span><span class="linenos">15</span><span class="go"> Enhancing iteration :  2</span>
<span class="linenos">16</span><span class="go"> ===&gt;&gt;&gt; Best fairness enhanced matching</span>
<span class="linenos">17</span><span class="go"> Matched pairs</span>
<span class="linenos">18</span><span class="go"> {&#39;p02&#39;, &#39;p04&#39;}, {&#39;p08&#39;, &#39;p05&#39;}, {&#39;p09&#39;, &#39;p20&#39;},</span>
<span class="linenos">19</span><span class="go"> {&#39;p11&#39;, &#39;p06&#39;}, {&#39;p12&#39;, &#39;p16&#39;}, {&#39;p14&#39;, &#39;p13&#39;},</span>
<span class="linenos">20</span><span class="go"> {&#39;p15&#39;, &#39;p03&#39;}, {&#39;p17&#39;, &#39;p10&#39;}, {&#39;p18&#39;, &#39;p07&#39;},</span>
<span class="linenos">21</span><span class="go"> {&#39;p19&#39;, &#39;p01&#39;}</span>
<span class="linenos">22</span><span class="go"> Average correlation: +0.872</span>
<span class="linenos">23</span><span class="go"> Total run time: 0.193 sec.</span>
</pre></div>
</div>
<p>With the best determined <em>Copeland</em> matching we actually reach in two partner swappings a fairer pairing solution (+0.872) than the fairest one obtained with the default left and right initial matchings (+0.851). This is however not always the case. In order to check this issue, we ran a Monte Carlo experiment with 1000 random intragroup pairing problems of order 30 where approval and disapproval probabilities were set to 20%. Summary statistics of the results are shown in the Table below.</p>
<blockquote>
<div><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Variables</p></th>
<th class="head"><p>Mean</p></th>
<th class="head"><p>Median</p></th>
<th class="head"><p>S.D.</p></th>
<th class="head"><p>Min</p></th>
<th class="head"><p>Max</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Correlation</p></td>
<td><p>+0.823</p></td>
<td><p>+0.825</p></td>
<td><p>0.044</p></td>
<td><p>+0.682</p></td>
<td><p>+0.948</p></td>
</tr>
<tr class="row-odd"><td><p>Std deviation</p></td>
<td><p>0.361</p></td>
<td><p>0.362</p></td>
<td><p>0.051</p></td>
<td><p>0.186</p></td>
<td><p>0.575</p></td>
</tr>
<tr class="row-even"><td><p>Iterations</p></td>
<td><p>23.69</p></td>
<td><p>23.000</p></td>
<td><p>3.818</p></td>
<td><p>14.00</p></td>
<td><p>36.00</p></td>
</tr>
<tr class="row-odd"><td><p>Run time</p></td>
<td><p>3.990</p></td>
<td><p>3.910</p></td>
<td><p>0.636</p></td>
<td><p>2.340</p></td>
<td><p>6.930</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>These statistics were obtained by trying both the left and right initial matchings as well as the best determined <em>Copeland</em> matching as starting point for the fairness enhancing procedure and keeping eventually the best average correlation result. The overall ordinal correlation hence obtained is convincingly high with a mean of +0.823, coupled with a reasonable mean standard deviation of 0.361 over the 30 personal correlations. Run times depend essentially on the number of enhancing iterations. On average, about 24 partner swappings were sufficient for computing all three variants in less than 4 seconds. In slightly more than two third only of the random pairing problems (69.4%), starting the fairness enhancing procedure from the best determined <em>Copeland</em> matching leads indeed to the best overall ordinal correlation with the individual pairing preferences.</p>
<p>When enhancing thus the fairness solely by starting from the best determined <em>Copeland</em> matching, we may solve with the <a class="reference internal" href="techDoc.html#pairings.FairnessEnhancedIntraGroupMatching" title="pairings.FairnessEnhancedIntraGroupMatching"><code class="xref py py-class docutils literal notranslate"><span class="pre">FairnessEnhancedIntraGroupMatching</span></code></a> solver in on average about 30 seconds an intragroup pairing problem of order 100 with random bipolar approval voting profiles and approval and disapproval probabilities of 10%. The average overall ordinal correlation we may obtain is about +0.800.</p>
<p>Mind however that the higher the order of the pairing problem, the more likely gets the fact that we actually may miss the overall fairest pairing solution. Eventually, a good expertise in metaheuristics is needed in order to effectively solve big intragroup pairing problems (<em>Avis aux amateurs</em>).</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#roommatesmatching-tutorial-label"><span class="std std-ref">The case study on matching classmates into partner pairs</span></a></p>
</div>
<p>Back to <a class="reference internal" href="#tutorial-label"><span class="std std-ref">Content Table</span></a></p>
<hr class="docutils" />
</section>
</section>
</section>
<section id="evaluation-and-decision-case-studies">
<span id="case-studies-label"></span><h2><span class="section-number">1.4. </span>Evaluation and decision case studies<a class="headerlink" href="#evaluation-and-decision-case-studies" title="Link to this heading"></a></h2>
<p>This part of the tutorails presents three decision making case studies, followed by a set of homework and exam questions.</p>
<nav class="contents local" id="id105">
<ul class="simple">
<li><p><a class="reference internal" href="#alice-s-best-choice-a-selection-case-study-19" id="id391">Alice’s best choice: A <em>selection</em> case study </a></p></li>
<li><p><a class="reference internal" href="#the-best-academic-computer-science-depts-a-ranking-case-study" id="id392">The best academic <em>Computer Science</em> Depts: a <em>ranking</em> case study</a></p></li>
<li><p><a class="reference internal" href="#the-best-students-where-do-they-study-a-rating-case-study" id="id393">The best students, where do they study? A <em>rating</em> case study</a></p></li>
<li><p><a class="reference internal" href="#classmates-matching-an-intragroup-pairing-case-study" id="id394">Classmates matching: An <em>intragroup pairing</em> case study</a></p></li>
<li><p><a class="reference internal" href="#fairest-internship-matching-an-intergroup-pairing-case-study" id="id395">Fairest internship matching: An <em>intergroup pairing</em> case study</a></p></li>
<li><p><a class="reference internal" href="#exercises" id="id396">Exercises</a></p></li>
</ul>
</nav>
<section id="alice-s-best-choice-a-selection-case-study-19">
<span id="alice-tutorial-label"></span><h3><a class="toc-backref" href="#id391" role="doc-backlink"><span class="section-number">1.4.1. </span>Alice’s best choice: A <em>selection</em> case study <a class="footnote-reference brackets" href="#id223" id="id106" role="doc-noteref"><span class="fn-bracket">[</span>19<span class="fn-bracket">]</span></a></a><a class="headerlink" href="#alice-s-best-choice-a-selection-case-study-19" title="Link to this heading"></a></h3>
<nav class="contents local" id="id107">
<ul class="simple">
<li><p><a class="reference internal" href="#the-decision-problem" id="id397">The decision problem</a></p></li>
<li><p><a class="reference internal" href="#id109" id="id398">The performance tableau</a></p></li>
<li><p><a class="reference internal" href="#building-a-best-choice-recommendation" id="id399">Building a best choice recommendation</a></p></li>
<li><p><a class="reference internal" href="#robustness-analysis" id="id400">Robustness analysis</a></p></li>
</ul>
</nav>
<aside class="sidebar">
<p class="sidebar-title">Alice D.</p>
<a class="reference internal image-reference" href="_images/AliceF.png"><img alt="_images/AliceF.png" class="align-center" src="_images/AliceF.png" style="width: 150px;" />
</a>
</aside>
<p>Alice D. , 19 years old German student finishing her secondary studies in Köln (Germany), desires to undertake foreign languages studies. She will probably receive her ‘Abitur’ with satisfactory and/or good marks and  wants to start her further studies thereafter.</p>
<p>She would not mind staying in Köln, yet is ready to move elsewhere if necessary. The length of the higher studies do concern her, as she wants to earn her life as soon as possible.  Her parents however agree to financially support her study fees as well as her living costs during her studies.</p>
<section id="the-decision-problem">
<h4><a class="toc-backref" href="#id397" role="doc-backlink"><span class="section-number">1.4.1.1. </span>The decision problem</a><a class="headerlink" href="#the-decision-problem" title="Link to this heading"></a></h4>
<p>Alice has already identified 10 <strong>potential study programs</strong>.</p>
<table class="docutils align-default" id="studprogs">
<caption><span class="caption-number">Table 1.4 </span><span class="caption-text">Alice’s potential study programs</span><a class="headerlink" href="#studprogs" title="Link to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>ID</p></th>
<th class="head"><p>Diploma</p></th>
<th class="head"><p>Institution</p></th>
<th class="head"><p>City</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>T-UD</p></td>
<td><p>Qualified translator (T)</p></td>
<td><p>University (UD)</p></td>
<td><p>Düsseldorf</p></td>
</tr>
<tr class="row-odd"><td><p>T-FHK</p></td>
<td><p>Qualified translator (T)</p></td>
<td><p>Higher Technical School (FHK)</p></td>
<td><p>Köln</p></td>
</tr>
<tr class="row-even"><td><p>T-FHM</p></td>
<td><p>Qualified translator (T)</p></td>
<td><p>Higher Technical School (FHM)</p></td>
<td><p>München</p></td>
</tr>
<tr class="row-odd"><td><p>I-FHK</p></td>
<td><p>Graduate interpreter (I)</p></td>
<td><p>Higher Technical School (FHK)</p></td>
<td><p>Köln</p></td>
</tr>
<tr class="row-even"><td><p>T-USB</p></td>
<td><p>Qualified translator (T)</p></td>
<td><p>University (USB)</p></td>
<td><p>Saarbrücken</p></td>
</tr>
<tr class="row-odd"><td><p>I-USB</p></td>
<td><p>Graduate interpreter (I)</p></td>
<td><p>University (USB)</p></td>
<td><p>Saarbrücken</p></td>
</tr>
<tr class="row-even"><td><p>T-UHB</p></td>
<td><p>Qualified translator (T)</p></td>
<td><p>University (UHB)</p></td>
<td><p>Heidelberg</p></td>
</tr>
<tr class="row-odd"><td><p>I-UHB</p></td>
<td><p>Graduate interpreter (I)</p></td>
<td><p>University (UHB)</p></td>
<td><p>Heidelberg</p></td>
</tr>
<tr class="row-even"><td><p>S-HKK</p></td>
<td><p>Specialized secretary (S)</p></td>
<td><p>Chamber of Commerce (HKK)</p></td>
<td><p>Köln</p></td>
</tr>
<tr class="row-odd"><td><p>C-HKK</p></td>
<td><p>Foreign correspondent (C)</p></td>
<td><p>Chamber of Commerce (HKK)</p></td>
<td><p>Köln</p></td>
</tr>
</tbody>
</table>
<p>In <a class="reference internal" href="#studprogs"><span class="std std-numref">Table 1.4</span></a> we notice that Alice considers three <em>Graduate Interpreter</em> studies (8 or 9 Semesters), respectively in Köln, in Saarbrücken or in Heidelberg; and five <em>Qualified translator</em> studies (8 or 9 Semesters), respectively in Köln, in Düsseldorf, in Saarbrücken, in Heidelberg or in Munich. She also considers two short (4 Semesters) study programs at the Chamber of Commerce in Köln.</p>
<p>Four <strong>decision objectives</strong> of more or less equal importance are guiding Alice’s choice:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p><em>maximize</em> the attractiveness of the study place (GEO),</p></li>
<li><p><em>maximize</em> the attractiveness of her further studies (LEA),</p></li>
<li><p><em>minimize</em>  her financial dependency on her parents (FIN),</p></li>
<li><p><em>maximize</em> her professional perspectives (PRA).</p></li>
</ol>
</div></blockquote>
<p>The decision consequences Alice wishes to take into account for evaluating the potential study programs with respect to each of the four objectives are modelled by the following <strong>coherent family of criteria</strong> <a class="footnote-reference brackets" href="#id230" id="id108" role="doc-noteref"><span class="fn-bracket">[</span>26<span class="fn-bracket">]</span></a>.</p>
<table class="docutils align-default" id="famcrit">
<caption><span class="caption-number">Table 1.5 </span><span class="caption-text">Alice’s family of performance criteria</span><a class="headerlink" href="#famcrit" title="Link to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>ID</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Comment</p></th>
<th class="head"><p>Objective</p></th>
<th class="head"><p>Weight</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>DH</p></td>
<td><p>Proximity</p></td>
<td><p>Distance in km to her home (min)</p></td>
<td><p>GEO</p></td>
<td><p>3</p></td>
</tr>
<tr class="row-odd"><td><p>BC</p></td>
<td><p>Big City</p></td>
<td><p>Number of inhabitants (max)</p></td>
<td><p>GEO</p></td>
<td><p>3</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>AS</p></td>
<td><p>Studies</p></td>
<td><p>Attractiveness of the studies (max)</p></td>
<td><p>LEA</p></td>
<td><p>6</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>SF</p></td>
<td><p>Fees</p></td>
<td><p>Annual study fees (min)</p></td>
<td><p>FIN</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-even"><td><p>LC</p></td>
<td><p>Living</p></td>
<td><p>Monthly living costs (min)</p></td>
<td><p>FIN</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>SL</p></td>
<td><p>Length</p></td>
<td><p>Length of the studies (min)</p></td>
<td><p>FIN</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>AP</p></td>
<td><p>Profession</p></td>
<td><p>Attractiveness of the profession (max)</p></td>
<td><p>PRA</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-even"><td><p>AI</p></td>
<td><p>Income</p></td>
<td><p>Annual income after studying (max)</p></td>
<td><p>PRA</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>PR</p></td>
<td><p>Prestige</p></td>
<td><p>Occupational prestige (max)</p></td>
<td><p>PRA</p></td>
<td><p>2</p></td>
</tr>
</tbody>
</table>
<p>Within each decision objective, the performance criteria are considered to be equisignificant. Hence, the four decision objectives show a same importance weight of 6 (see <a class="reference internal" href="#famcrit"><span class="std std-numref">Table 1.5</span></a>).</p>
</section>
<section id="id109">
<h4><a class="toc-backref" href="#id398" role="doc-backlink"><span class="section-number">1.4.1.2. </span>The performance tableau</a><a class="headerlink" href="#id109" title="Link to this heading"></a></h4>
<p>The actual evaluations of Alice’s potential study programs are stored in a file named <a class="reference external" href="_static/AliceChoice.py">AliceChoice.py</a> of <a class="reference internal" href="techDoc.html#perfTabs.PerformanceTableau" title="perfTabs.PerformanceTableau"><code class="xref py py-class docutils literal notranslate"><span class="pre">PerformanceTableau</span></code></a> format <a class="footnote-reference brackets" href="#id225" id="id110" role="doc-noteref"><span class="fn-bracket">[</span>21<span class="fn-bracket">]</span></a>.</p>
<blockquote>
<div></div></blockquote>
<div class="literal-block-wrapper docutils container" id="aliceperftab">
<div class="code-block-caption"><span class="caption-number">Listing 1.85 </span><span class="caption-text">Alice’s performance tableau</span><a class="headerlink" href="#aliceperftab" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">perfTabs</span> <span class="kn">import</span> <span class="n">PerformanceTableau</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">PerformanceTableau</span><span class="p">(</span><span class="s1">&#39;AliceChoice&#39;</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">showObjectives</span><span class="p">()</span>
<span class="linenos"> 4</span><span class="go">  *------ decision objectives -------&quot;</span>
<span class="linenos"> 5</span><span class="go">  GEO: Geographical aspect</span>
<span class="linenos"> 6</span><span class="go">    DH Distance to parent&#39;s home 3</span>
<span class="linenos"> 7</span><span class="go">    BC Number of inhabitants     3</span>
<span class="linenos"> 8</span><span class="go">    Total weight: 6 (2 criteria)</span>
<span class="linenos"> 9</span><span class="go">  LEA: Learning aspect</span>
<span class="linenos">10</span><span class="go">    AS Attractiveness of the study program 6</span>
<span class="linenos">11</span><span class="go">    Total weight: 6.00 (1 criteria)</span>
<span class="linenos">12</span><span class="go">  FIN: Financial aspect</span>
<span class="linenos">13</span><span class="go">    SF Annual registration fees 2</span>
<span class="linenos">14</span><span class="go">    LC Monthly living costs     2</span>
<span class="linenos">15</span><span class="go">    SL Study time               2</span>
<span class="linenos">16</span><span class="go">    Total weight: 6.00 (3 criteria)</span>
<span class="linenos">17</span><span class="go">  PRA: Professional aspect</span>
<span class="linenos">18</span><span class="go">    AP Attractiveness of the profession          2</span>
<span class="linenos">19</span><span class="go">    AI Annual professional income after studying 2</span>
<span class="linenos">20</span><span class="go">    OP Occupational Prestige                     2</span>
<span class="linenos">21</span><span class="go">    Total weight: 6.00 (3 criteria)</span>
</pre></div>
</div>
</div>
<p>Details of the performance criteria may be consulted in a browser view (see <a class="reference internal" href="#alicecriteria"><span class="std std-numref">Fig. 1.52</span></a> below).</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">showHTMLCriteria</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-center" id="alicecriteria">
<a class="reference internal image-reference" href="_images/aliceCriteria.png"><img alt="_images/aliceCriteria.png" src="_images/aliceCriteria.png" style="width: 750px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.52 </span><span class="caption-text">Alice’s performance criteria</span><a class="headerlink" href="#alicecriteria" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>It is worthwhile noticing in <a class="reference internal" href="#alicecriteria"><span class="std std-numref">Fig. 1.52</span></a> above that, on her subjective attractiveness scale of the study programs (criterion <em>AS</em>), Alice considers a performance difference of 7 points to be <em>considerable</em> and triggering, the case given, a <em>polarisation</em> of the outranking situation. Notice also the proportional <em>indifference</em> (1%) and <em>preference</em> (5%) discrimination thresholds shown on criterion <em>BC</em>-number of inhabitants.</p>
<p>In the following <em>heatmap view</em>, we may now consult Alice’s performance evaluations.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">showHTMLPerformanceHeatmap</span><span class="p">(</span>\
<span class="gp">... </span>      <span class="n">colorLevels</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">Correlations</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">ndigits</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="aliceheatmap">
<a class="reference internal image-reference" href="_images/aliceHeatmap.png"><img alt="_images/aliceHeatmap.png" src="_images/aliceHeatmap.png" style="width: 650px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.53 </span><span class="caption-text">Heatmap of Alice’s performance tableau</span><a class="headerlink" href="#aliceheatmap" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Alice is subjectively evaluating the <em>Attractiveness</em> of the studies (criterion <em>AS</em>) on an ordinal scale from 0 (weak) to 10 (excellent). Similarly, she is subjectively evaluating the <em>Attractiveness</em> of the respective professions (criterion <em>AP</em>) on a three level ordinal scale from 0 (<em>weak</em>), 1 (<em>fair</em>) to 2 (<em>good</em>). Considering the <em>Occupational Prestige</em> (criterion <em>OP</em>), she looked up the SIOPS <a class="footnote-reference brackets" href="#id224" id="id111" role="doc-noteref"><span class="fn-bracket">[</span>20<span class="fn-bracket">]</span></a>. All the other evaluation data she found on the internet (see <a class="reference internal" href="#aliceheatmap"><span class="std std-numref">Fig. 1.53</span></a>).</p>
<p>Notice by the way that evaluations on performance criteria to be <em>minimized</em>, like <em>Distance to Home</em> (criterion <em>DH</em>) or <em>Study time</em> (criterion <em>SL</em>), are registered as <em>negative</em> values, so that smaller measures are, in this case, preferred to larger ones.</p>
<p>Her ten potential study programs are ordered with the <em>NetFlows</em> ranking rule applied to the corresponding bipolar-valued outranking digraph <a class="footnote-reference brackets" href="#id227" id="id112" role="doc-noteref"><span class="fn-bracket">[</span>23<span class="fn-bracket">]</span></a>. <em>Graduate interpreter</em> studies in Köln (<em>I-FHK</em>) or Saarbrücken (<em>I-USB</em>), followed by <em>Qualified Translator</em> studies in Köln (<em>T-FHK</em>) appear to be Alice’s most preferred alternatives. The least attractive study programs for her appear to be studies at the Chamber of Commerce of Köln (<em>C-HKK</em>, <em>S-HKK</em>).</p>
<p>It is finally interesting to observe in <a class="reference internal" href="#aliceheatmap"><span class="std std-numref">Fig. 1.53</span></a> (third row) that the <em>most significant</em> performance criteria, appear to be for Alice, on the one side, the <em>Attractiveness</em> of the study program (criterion <em>AS</em>, tau = +0.72) followed by the <em>Attractiveness</em> of the future profession (criterion <em>AP</em>, tau = +0.62). On the other side, <em>Study times</em> (criterion <em>SL</em>, tau = -0.24), <em>Big city</em> (criterion <em>BC</em>, tau = -0.07) as well as <em>Monthly living costs</em> (criterion <em>LC</em>, tau = -0.04) appear to be for her  <em>not so</em> significant <a class="footnote-reference brackets" href="#id231" id="id113" role="doc-noteref"><span class="fn-bracket">[</span>27<span class="fn-bracket">]</span></a>.</p>
</section>
<section id="building-a-best-choice-recommendation">
<h4><a class="toc-backref" href="#id399" role="doc-backlink"><span class="section-number">1.4.1.3. </span>Building a best choice recommendation</a><a class="headerlink" href="#building-a-best-choice-recommendation" title="Link to this heading"></a></h4>
<p>Let us now have a look at the resulting pairwise outranking situations.</p>
<div class="literal-block-wrapper docutils container" id="aliceoutranking">
<div class="code-block-caption"><span class="caption-number">Listing 1.86 </span><span class="caption-text">Alice’s outranking digraph</span><a class="headerlink" href="#aliceoutranking" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">outrankingDigraphs</span> <span class="kn">import</span> <span class="n">BipolarOutrankingDigraph</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">dg</span> <span class="o">=</span> <span class="n">BipolarOutrankingDigraph</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">dg</span>
<span class="linenos"> 4</span><span class="go"> *------- Object instance description ------*</span>
<span class="linenos"> 5</span><span class="go"> Instance class      : BipolarOutrankingDigraph</span>
<span class="linenos"> 6</span><span class="go"> Instance name       : rel_AliceChoice</span>
<span class="linenos"> 7</span><span class="go"> # Actions           : 10</span>
<span class="linenos"> 8</span><span class="go"> # Criteria          : 9</span>
<span class="hll"><span class="linenos"> 9</span><span class="go"> Size                : 67</span>
</span><span class="hll"><span class="linenos">10</span><span class="go"> Determinateness (%) : 73.91</span>
</span><span class="linenos">11</span><span class="go"> Valuation domain    : [-1.00;1.00]</span>
<span class="linenos">12</span><span class="gp">&gt;&gt;&gt; </span><span class="n">dg</span><span class="o">.</span><span class="n">computeSymmetryDegree</span><span class="p">(</span><span class="n">Comments</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="hll"><span class="linenos">13</span><span class="go"> Symmetry degree of graph &lt;rel_AliceChoice&gt; : 0.49</span>
</span></pre></div>
</div>
</div>
<p>From Alice’s performance tableau we obtain 67 positively validated pairwise outranking situations in the digraph <em>dg</em>, supported by a 74% majority of criteria significance (see <a class="reference internal" href="#aliceoutranking"><span class="std std-numref">Listing 1.86</span></a> Line 9-10).</p>
<p>Due to the poorly discriminating performance evaluations, nearly half of these outranking situations (see Line 13) are <em>symmetric</em> and reveal actually <em>more or less indifference</em> situations between the potential study programs. This is well illustrated in the <strong>relation map</strong> of the outranking digraph (see <a class="reference internal" href="#alicerelationmap"><span class="std std-numref">Fig. 1.54</span></a>).</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dg</span><span class="o">.</span><span class="n">showHTMLRelationMap</span><span class="p">(</span>
<span class="gp">... </span>          <span class="n">tableTitle</span><span class="o">=</span><span class="s1">&#39;Outranking relation map&#39;</span><span class="p">,</span>
<span class="gp">... </span>          <span class="n">rankingRule</span><span class="o">=</span><span class="s1">&#39;Copeland&#39;</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="alicerelationmap">
<a class="reference internal image-reference" href="_images/aliceRelationMap.png"><img alt="_images/aliceRelationMap.png" src="_images/aliceRelationMap.png" style="width: 550px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.54 </span><span class="caption-text">‘Copeland’-ranked outranking relation map</span><a class="headerlink" href="#alicerelationmap" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>We have mentioned that Alice considers a performance difference of 7 points on the <em>Attractiveness of studies</em> criterion <em>AS</em> to be considerable which triggers, the case given, a potential polarisation of the outranking characteristics. In <a class="reference internal" href="#alicerelationmap"><span class="std std-numref">Fig. 1.54</span></a> above, these polarisations appear in the last column and last row. We may inspect the occurrence of such polarisations as follows.</p>
<div class="literal-block-wrapper docutils container" id="alicevetos">
<div class="code-block-caption"><span class="caption-number">Listing 1.87 </span><span class="caption-text">Polarised outranking situations</span><a class="headerlink" href="#alicevetos" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">dg</span><span class="o">.</span><span class="n">showPolarisations</span><span class="p">()</span>
</span><span class="linenos"> 2</span><span class="go"> *----  Negative polarisations ----*</span>
<span class="linenos"> 3</span><span class="go"> number of negative polarisations : 3</span>
<span class="linenos"> 4</span><span class="go"> 1: r(S-HKK &gt;= I-FHK) = -0.17</span>
<span class="linenos"> 5</span><span class="go"> criterion: AS</span>
<span class="linenos"> 6</span><span class="go"> Considerable performance difference : -7.00</span>
<span class="linenos"> 7</span><span class="go"> Veto discrimination threshold       : -7.00</span>
<span class="hll"><span class="linenos"> 8</span><span class="go"> Polarisation: r(S-HKK &gt;= I-FHK) = -0.17 ==&gt; -1.00</span>
</span><span class="linenos"> 9</span><span class="go"> 2: r(S-HKK &gt;= I-USB) = -0.17</span>
<span class="linenos">10</span><span class="go"> criterion: AS</span>
<span class="linenos">11</span><span class="go"> Considerable performance difference : -7.00</span>
<span class="linenos">12</span><span class="go"> Veto discrimination threshold       : -7.00</span>
<span class="hll"><span class="linenos">13</span><span class="go"> Polarisation: r(S-HKK &gt;= I-USB) = -0.17 ==&gt; -1.00</span>
</span><span class="linenos">14</span><span class="go"> 3: r(S-HKK &gt;= I-UHB) = -0.17</span>
<span class="linenos">15</span><span class="go"> criterion: AS</span>
<span class="linenos">16</span><span class="go"> Considerable performance difference : -7.00</span>
<span class="linenos">17</span><span class="go"> Veto discrimination threshold       : -7.00</span>
<span class="hll"><span class="linenos">18</span><span class="go"> Polarisation: r(S-HKK &gt;= I-UHB) = -0.17 ==&gt; -1.00</span>
</span><span class="linenos">19</span><span class="go"> *----  Positive polarisations ----*</span>
<span class="linenos">20</span><span class="go"> number of positive polarisations: 3</span>
<span class="linenos">21</span><span class="go"> 1: r(I-FHK &gt;= S-HKK) = 0.83</span>
<span class="linenos">22</span><span class="go"> criterion: AS</span>
<span class="linenos">23</span><span class="go"> Considerable performance difference : 7.00</span>
<span class="linenos">24</span><span class="go"> Counter-veto threshold              : 7.00</span>
<span class="hll"><span class="linenos">25</span><span class="go"> Polarisation: r(I-FHK &gt;= S-HKK) = 0.83 ==&gt; +1.00</span>
</span><span class="linenos">26</span><span class="go"> 2: r(I-USB &gt;= S-HKK) = 0.17</span>
<span class="linenos">27</span><span class="go"> criterion: AS</span>
<span class="linenos">28</span><span class="go"> Considerable performance difference : 7.00</span>
<span class="linenos">29</span><span class="go"> Counter-veto threshold              : 7.00</span>
<span class="hll"><span class="linenos">30</span><span class="go"> Polarisation: r(I-USB &gt;= S-HKK) = 0.17 ==&gt; +1.00</span>
</span><span class="linenos">31</span><span class="go"> 3: r(I-UHB &gt;= S-HKK) = 0.17</span>
<span class="linenos">32</span><span class="go"> criterion: AS</span>
<span class="linenos">33</span><span class="go"> Considerable performance difference : 7.00</span>
<span class="linenos">34</span><span class="go"> Counter-veto threshold              : 7.00</span>
<span class="hll"><span class="linenos">35</span><span class="go"> Polarisation: r(I-UHB &gt;= S-HKK) = 0.17 ==&gt; +1.00</span>
</span></pre></div>
</div>
</div>
<p>In <a class="reference internal" href="#alicevetos"><span class="std std-numref">Listing 1.87</span></a>, we see that <em>considerable performance differences</em> concerning the <em>Attractiveness of the studies</em> (<em>AS</em> criterion) are indeed observed between the <em>Specialised Secretary</em> study programm offered in Köln and the <em>Graduate Interpreter</em> study programs offered in Köln, Saarbrücken and Heidelberg. They polarise, hence, three <em>more or less invalid</em> outranking situations to <em>certainly invalid</em> (Lines 8, 13, 18) and corresponding three <em>more or less valid</em> converse outranking situations to <em>certainly valid</em> ones (Lines 25, 30, 35).</p>
<p>We may furthermore notice in <a class="reference internal" href="#alicerelationmap"><span class="std std-numref">Fig. 1.54</span></a>, that the four first-ranked study programs, <em>I-FHK</em>, <em>I-USB</em>, <em>I-UHB</em> and <em>T-FHK</em>,  are in fact <em>Condorcet</em> winners (see <a class="reference internal" href="#alicebestchoice"><span class="std std-numref">Listing 1.88</span></a> Line 2), i.e. they are all four <em>indifferent</em> one of the other <strong>and</strong> they positively <em>outrank</em> all other alternatives, a result confirmed below by our best choice recommendation (Line 8).</p>
<div class="literal-block-wrapper docutils container" id="alicebestchoice">
<div class="code-block-caption"><span class="caption-number">Listing 1.88 </span><span class="caption-text">Alice’s best choice recommendation</span><a class="headerlink" href="#alicebestchoice" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">dg</span><span class="o">.</span><span class="n">computeCondorcetWinners</span><span class="p">()</span>
<span class="linenos"> 2</span><span class="go"> [&#39;I-FHK&#39;, &#39;I-UHB&#39;, &#39;I-USB&#39;, &#39;T-FHK&#39;]</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">dg</span><span class="o">.</span><span class="n">showBestChoiceRecommendation</span><span class="p">()</span>
<span class="linenos"> 4</span><span class="go"> Best choice recommendation(s) (BCR)</span>
<span class="linenos"> 5</span><span class="go"> (in decreasing order of determinateness)</span>
<span class="linenos"> 6</span><span class="go"> Credibility domain: [-1.00,1.00]</span>
<span class="linenos"> 7</span><span class="go"> === &gt;&gt; potential first choice(s)</span>
<span class="hll"><span class="linenos"> 8</span><span class="go"> choice              : [&#39;I-FHK&#39;,&#39;I-UHB&#39;,&#39;I-USB&#39;,&#39;T-FHK&#39;]</span>
</span><span class="linenos"> 9</span><span class="go">  independence        : 0.17</span>
<span class="linenos">10</span><span class="go">  dominance           : 0.08</span>
<span class="linenos">11</span><span class="go">  absorbency          : -0.83</span>
<span class="linenos">12</span><span class="go">  covering (%)        : 62.50</span>
<span class="linenos">13</span><span class="go">  determinateness (%) : 68.75</span>
<span class="hll"><span class="linenos">14</span><span class="go">  most credible action(s) = {&#39;I-FHK&#39;: 0.75,&#39;T-FHK&#39;: 0.17,</span>
</span><span class="linenos">15</span><span class="go">                             &#39;I-USB&#39;: 0.17,&#39;I-UHB&#39;: 0.17}</span>
<span class="linenos">16</span><span class="go"> === &gt;&gt; potential last choice(s)</span>
<span class="linenos">17</span><span class="go"> choice              : [&#39;C-HKK&#39;, &#39;S-HKK&#39;]</span>
<span class="linenos">18</span><span class="go">  independence        : 0.50</span>
<span class="linenos">19</span><span class="go">  dominance           : -0.83</span>
<span class="linenos">20</span><span class="go">  absorbency          : 0.17</span>
<span class="linenos">21</span><span class="go">  covered (%)         : 100.00</span>
<span class="linenos">22</span><span class="go">  determinateness (%) : 58.33</span>
<span class="linenos">23</span><span class="go">  most credible action(s) = {&#39;S-HKK&#39;: 0.17,&#39;C-HKK&#39;: 0.17}</span>
</pre></div>
</div>
</div>
<p>Notice in Line 14 above that the most credible best choice among the four first-ranked study programs eventually becomes the <em>Graduate Interpreter</em> study program at the <em>Technical High School</em> in <em>Köln</em> supported by a <img class="math" src="_images/math/356069832af8e8b1c29682449232f80318cb11fc.png" alt="(0.75 + 1)/2.0 \,=\,87.5\%"/> (18/24) majority of global criteria significance <a class="footnote-reference brackets" href="#id228" id="id114" role="doc-noteref"><span class="fn-bracket">[</span>24<span class="fn-bracket">]</span></a>.</p>
<p>In the relation map, shown in <a class="reference internal" href="#alicerelationmap"><span class="std std-numref">Fig. 1.54</span></a> above, we finally see in the left corner that the <em>asymmetrical</em> part of the outranking relation, i.e. the corresponding <em>strict</em> outranking relation, is actually <em>transitive</em> (see Lines 3-6 in <a class="reference internal" href="#transitivepart"><span class="std std-numref">Listing 1.89</span></a>). We can hence make usage of the <a class="reference internal" href="techDoc.html#transitiveDigraphs.TransitiveDigraph.showTransitiveDigraph" title="transitiveDigraphs.TransitiveDigraph.showTransitiveDigraph"><code class="xref py py-meth docutils literal notranslate"><span class="pre">showTransitiveDigraph()</span></code></a> method from the <a class="reference internal" href="techDoc.html#transitiveDigraphs.TransitiveDigraph" title="transitiveDigraphs.TransitiveDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">transitiveDigraphs.TransitiveDigraph</span></code></a> to illustrate our previous first choice recommendation.</p>
<div class="literal-block-wrapper docutils container" id="transitivepart">
<div class="code-block-caption"><span class="caption-number">Listing 1.89 </span><span class="caption-text">The asymmetrical outranking is transitive</span><a class="headerlink" href="#transitivepart" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">cdg</span> <span class="o">=</span> <span class="o">~</span><span class="p">(</span><span class="n">dg</span><span class="p">)</span>  <span class="c1"># codual == strict outranking digraph</span>
</span><span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">cdg</span><span class="o">.</span><span class="n">computeTransitivityDegree</span><span class="p">(</span><span class="n">Comments</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="go"> Transitivity degree of digraph &lt;converse-dual-rel_AliceChoice&gt;:</span>
<span class="linenos"> 4</span><span class="go">  #triples x&gt;y&gt;z: 14, #closed: 14, #open: 0</span>
<span class="linenos"> 5</span><span class="go">  (#closed/#triples) =  1.000</span>
<span class="hll"><span class="linenos"> 6</span><span class="go"> Decimal(&#39;1&#39;)</span>
</span><span class="linenos"> 7</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">transitiveDigraphs</span> <span class="kn">import</span> <span class="n">TransitiveDigraph</span>
<span class="linenos"> 8</span><span class="gp">&gt;&gt;&gt; </span><span class="n">TransitiveDigraph</span><span class="o">.</span><span class="n">showTransitiveDigraph</span><span class="p">(</span><span class="n">cdg</span><span class="p">)</span>
<span class="linenos"> 9</span><span class="go"> Ranking by Choosing and Rejecting</span>
<span class="hll"><span class="linenos">10</span><span class="go">  1st ranked [&#39;I-FHK&#39;, &#39;I-UHB&#39;, &#39;I-USB&#39;, &#39;T-FHK&#39;]</span>
</span><span class="hll"><span class="linenos">11</span><span class="go">    2nd ranked [&#39;T-FHM&#39;, &#39;T-UD&#39;, &#39;T-UHB&#39;, &#39;T-USB&#39;]</span>
</span><span class="hll"><span class="linenos">12</span><span class="go">    2nd last ranked [&#39;T-FHM&#39;, &#39;T-UD&#39;, &#39;T-UHB&#39;, &#39;T-USB&#39;])</span>
</span><span class="hll"><span class="linenos">13</span><span class="go">  1st last ranked [&#39;C-HKK&#39;, &#39;S-HKK&#39;])</span>
</span><span class="linenos">14</span><span class="gp">&gt;&gt;&gt; </span><span class="n">TransitiveDigraph</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">(</span><span class="n">cdg</span><span class="p">,</span>
<span class="linenos">15</span><span class="gp">... </span>                <span class="s1">&#39;strictOutranking&#39;</span><span class="p">)</span>
<span class="linenos">16</span><span class="go"> *---- exporting a dot file for GraphViz tools ---------*</span>
<span class="linenos">17</span><span class="go">  Exporting to strictOutranking.dot</span>
<span class="linenos">18</span><span class="go">   0 subgraph { rank=same ; I_FHK; I_UHB; I_USB; T_FHK; }</span>
<span class="linenos">19</span><span class="go">   1 subgraph { rank=same; T_UHB; T_USB; T_UD; T_FHM; }</span>
<span class="linenos">20</span><span class="go">   2 subgraph { rank=same; S_HKK; C_HKK; }</span>
<span class="linenos">21</span><span class="go"> dot -Grankdir=TB -Tpng strictOutranking.dot -o strictOutranking.png</span>
</pre></div>
</div>
</div>
<figure class="align-center" id="strictoutranking1">
<a class="reference internal image-reference" href="_images/strictOutranking.png"><img alt="_images/strictOutranking.png" src="_images/strictOutranking.png" style="width: 350px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.55 </span><span class="caption-text">The strict outranking relation</span><a class="headerlink" href="#strictoutranking1" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>In <a class="reference internal" href="#transitivepart"><span class="std std-numref">Listing 1.89</span></a> and in <a class="reference internal" href="#strictoutranking1"><span class="std std-numref">Fig. 1.55</span></a> we find actually confirmed  that all the <em>Graduate Intergreter</em> studies come first, followed by the <em>Qualified Translator</em> studies. Last come the <em>Köln Chamber of Commerce</em>’s specialized studies. This confirms again the high significance Alice attaches to the <em>attractiveness</em> of her further studies and of her future profession (see criteria <em>AS</em> and <em>AP</em> in <a class="reference internal" href="#aliceheatmap"><span class="std std-numref">Fig. 1.53</span></a>).</p>
<p>Let us now, for instance, check the pairwise outranking situations observed between the <em>Graduate Interpreter</em> studies in <em>Köln</em> and the  <em>Graduate Interpreter</em> studies in <em>Saabrücken</em> (see <em>I-FHK</em> and <em>I-USB</em> in <a class="reference internal" href="#aliceheatmap"><span class="std std-numref">Fig. 1.53</span></a>).</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dg</span><span class="o">.</span><span class="n">showHTMLPairwiseOutrankings</span><span class="p">(</span><span class="s1">&#39;I-FHK&#39;</span><span class="p">,</span><span class="s1">&#39;I-USB&#39;</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="pairwisecomparison">
<a class="reference internal image-reference" href="_images/pairwiseComparison.png"><img alt="_images/pairwiseComparison.png" src="_images/pairwiseComparison.png" style="width: 450px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.56 </span><span class="caption-text">Comparing the first and second best-ranked study programs</span><a class="headerlink" href="#pairwisecomparison" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>The <em>Köln</em> alternative is performing <strong>at least as well as</strong> the <em>Saarbrücken</em> alternative on all the performance criteria, except the <em>Annual income</em> (of significance 2/24). Conversely, the <em>Saarbrücken</em> alternative is clearly <strong>outperformed</strong> from the <em>geographical</em> (0/6) as well as from the <em>financial</em> perspective (2/6) (see <a class="reference internal" href="#alicecriteria"><span class="std std-numref">Fig. 1.52</span></a>).</p>
<p>In a similar way, we may compute a <em>partial ranking</em> of all the potential study programs with the help of the <code class="xref py py-class docutils literal notranslate"><span class="pre">PartialBachetRankingDigraph</span></code> class (see <a class="reference internal" href="#alicerankingbychoosing"><span class="std std-numref">Listing 1.90</span></a> Line 2 below), which computes a <a class="reference internal" href="#partial-ranking-tutorial-label"><span class="std std-ref">partial transitive ranking consensus</span></a> of the five best qualified <a class="reference internal" href="pearls.html#bachet-tutorial-label"><span class="std std-ref">Bachet rankings</span></a>. Such partial transitive digraphs may be shown by <strong>recursively extracting</strong> <a class="reference internal" href="pearls.html#bipolar-valued-kernels-tutorial-label"><span class="std std-ref">initial and terminal kernels</span></a> <a class="reference internal" href="#bis-1999" id="id115"><span>[BIS-1999]</span></a>.</p>
<div class="literal-block-wrapper docutils container" id="alicerankingbychoosing">
<div class="code-block-caption"><span class="caption-number">Listing 1.90 </span><span class="caption-text">Partial ranking from a Bachet rankings consensus</span><a class="headerlink" href="#alicerankingbychoosing" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">transitiveDigraphs</span> <span class="kn">import</span> <span class="n">PartialBachetRankingDigraph</span>
<span class="hll"><span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">pbr</span> <span class="o">=</span> <span class="n">PartialBachetRanking</span><span class="p">(</span><span class="n">dg</span><span class="p">,</span><span class="n">randomized</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span><span class="n">maxNbrOfRankings</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span><span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">pbr</span><span class="o">.</span><span class="n">bachetRankings</span>
<span class="hll"><span class="linenos"> 4</span><span class="go"> [(+0.715,[&#39;I-FHK&#39;,&#39;I-USB&#39;,&#39;T-FHK&#39;,&#39;I-UHB&#39;,&#39;T-UD&#39;, &#39;T-USB&#39;,&#39;T-UHB&#39;,&#39;T-FHM&#39;,&#39;C-HKK&#39;,&#39;S-HKK&#39;]),</span>
</span><span class="hll"><span class="linenos"> 5</span><span class="go">  (+0.700,[&#39;I-FHK&#39;,&#39;I-USB&#39;,&#39;T-FHK&#39;,&#39;T-UD&#39;, &#39;T-USB&#39;,&#39;I-UHB&#39;,&#39;T-UHB&#39;,&#39;T-FHM&#39;,&#39;C-HKK&#39;,&#39;S-HKK&#39;]),</span>
</span><span class="hll"><span class="linenos"> 6</span><span class="go">  (+0.698,[&#39;I-FHK&#39;,&#39;I-UHB&#39;,&#39;I-USB&#39;,&#39;T-FHK&#39;,&#39;T-UD&#39;, &#39;T-USB&#39;,&#39;T-UHB&#39;,&#39;T-FHM&#39;,&#39;C-HKK&#39;,&#39;S-HKK&#39;]),</span>
</span><span class="hll"><span class="linenos"> 7</span><span class="go">  (+0.692,[&#39;I-FHK&#39;,&#39;I-USB&#39;,&#39;I-UHB&#39;,&#39;T-FHK&#39;,&#39;T-UD&#39;, &#39;T-USB&#39;,&#39;T-UHB&#39;,&#39;T-FHM&#39;,&#39;S-HKK&#39;,&#39;C-HKK&#39;]),</span>
</span><span class="hll"><span class="linenos"> 8</span><span class="go">  (+0.684,[&#39;I-FHK&#39;,&#39;I-USB&#39;,&#39;T-FHK&#39;,&#39;T-USB&#39;,&#39;I-UHB&#39;,&#39;T-UD&#39;, &#39;T-UHB&#39;,&#39;T-FHM&#39;,&#39;C-HKK&#39;,&#39;S-HKK&#39;])]</span>
</span><span class="linenos"> 9</span><span class="gp">&gt;&gt;&gt; </span><span class="n">pbr</span><span class="o">.</span><span class="n">showTransitiveDigraph</span><span class="p">()</span>
<span class="linenos">10</span><span class="go"> Ranking by Choosing and Rejecting</span>
<span class="hll"><span class="linenos">11</span><span class="go">  1st ranked [&#39;I-FHK&#39;]</span>
</span><span class="hll"><span class="linenos">12</span><span class="go">    2nd ranked [&#39;I-UHB&#39;, &#39;I-USB&#39;]</span>
</span><span class="hll"><span class="linenos">13</span><span class="go">      3rd ranked [&#39;T-FHK&#39;]</span>
</span><span class="linenos">14</span><span class="go">        4th ranked [&#39;T-UD&#39;, &#39;T-USB&#39;]</span>
<span class="linenos">15</span><span class="go">        4th last ranked [&#39;T-UD&#39;, &#39;T-USB&#39;])</span>
<span class="linenos">16</span><span class="go">      3rd last ranked [&#39;T-UHB&#39;])</span>
<span class="linenos">17</span><span class="go">    2nd last ranked [&#39;T-FHM&#39;])</span>
<span class="hll"><span class="linenos">18</span><span class="go">  1st last ranked [&#39;C-HKK&#39;, &#39;S-HKK&#39;])</span>
</span><span class="linenos">19</span><span class="gp">&gt;&gt;&gt; </span><span class="n">dg</span><span class="o">.</span><span class="n">showCorrelation</span><span class="p">(</span><span class="n">dg</span><span class="o">.</span><span class="n">computeOrdinalCorrelation</span><span class="p">(</span><span class="n">pbr</span><span class="p">))</span>
<span class="linenos">20</span><span class="go"> Correlation indexes:</span>
<span class="hll"><span class="linenos">21</span><span class="go">  Crisp ordinal correlation  : +0.799</span>
</span><span class="linenos">22</span><span class="go">  Epistemic determination    :  0.405</span>
<span class="hll"><span class="linenos">23</span><span class="go">  Bipolar-valued equivalence : +0.323</span>
</span></pre></div>
</div>
</div>
<p>In <a class="reference internal" href="#alicerankingbychoosing"><span class="std std-numref">Listing 1.90</span></a>, we find confirmed that the <em>Köln Interpreter</em> studies appear always first-ranked (Lines 4-8) and all the <em>Interpreter</em> studies are preferrred to the <em>Translator</em> studies (Lines 11-12). The <em>Köln Translater</em> studies are the preferred ones of all the <em>Translater</em> studies (Line 13). The <em>Foreign Correspondent</em> and the <em>Specialised Secretary</em> studies both appear last-ranked (Line 18). Notice by the way the high ordinal correlations of each one of the five <em>Bachet</em> rankings with the digraph <em>dg</em> (Lines 4-8). Their ranking consensus is hence also highly correlated with the given outranking digraph <em>dg</em> (+0.80) and supported by a criteria significance majority of 66% (Lines 21-23).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">pbr</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">(</span><span class="s1">&#39;AlliceBestChoice&#39;</span><span class="p">)</span>
<span class="linenos">2</span><span class="go"> *---- exporting a dot file for GraphViz tools ---------*</span>
<span class="linenos">3</span><span class="go">  Exporting to AlliceBestChoice.dot</span>
<span class="linenos">4</span><span class="go">  dot -Grankdir=TB -Tpng AlliceBestChoice.dot -o AlliceBestChoice.png</span>
</pre></div>
</div>
<figure class="align-center" id="alicepartialranking">
<a class="reference internal image-reference" href="_images/AliceBestChoice.png"><img alt="_images/AliceBestChoice.png" src="_images/AliceBestChoice.png" style="width: 150px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.57 </span><span class="caption-text">Partial ranking of the study programs</span><a class="headerlink" href="#alicepartialranking" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>In <a class="reference internal" href="#alicepartialranking"><span class="std std-numref">Fig. 1.57</span></a> we find the corresponding drawing of the partial ranking of the ten further study alternatives. We may notice there that the <em>Heidelberg</em> Interpreter studies do not compare well with the studies in <em>Saarbrücken</em>, <em>Düsseldorf</em> or <em>Köln</em>.</p>
<p>Yet, how <em>robust</em> are our findings with respect to potential settings of the decision objectives’ importance and the performance criteria significance ?</p>
</section>
<section id="robustness-analysis">
<h4><a class="toc-backref" href="#id400" role="doc-backlink"><span class="section-number">1.4.1.4. </span>Robustness analysis</a><a class="headerlink" href="#robustness-analysis" title="Link to this heading"></a></h4>
<p>Alice considers her four decision objectives as being <em>more or less</em> equally important. Here we have, however, allocated <em>strictly equal</em> importance weights with <em>strictly</em> equi-significant criteria per objective. How robust is our previous best choice recommendation when, now, we would consider the importance of the objectives and, hence, the significance of the respective performance criteria to be <em>more or less uncertain</em> ?</p>
<p>To answer this question, we will consider the respective criteria significance weights <em>wj</em> to be <strong>triangular random variables</strong> in the range 0 to <em>2wj</em> with <em>mode</em> = <em>wj</em>. We may compute a corresponding <strong>90%-confident outranking digraph</strong> with the help of the <a class="reference internal" href="techDoc.html#outrankingDigraphs.ConfidentBipolarOutrankingDigraph" title="outrankingDigraphs.ConfidentBipolarOutrankingDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConfidentBipolarOutrankingDigraph</span></code></a> constructor <a class="footnote-reference brackets" href="#id226" id="id116" role="doc-noteref"><span class="fn-bracket">[</span>22<span class="fn-bracket">]</span></a>.</p>
<div class="literal-block-wrapper docutils container" id="aliceconfidentdigraph">
<div class="code-block-caption"><span class="caption-number">Listing 1.91 </span><span class="caption-text">The 90% confident outranking digraph</span><a class="headerlink" href="#aliceconfidentdigraph" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">outrankingDigraphs</span> <span class="kn">import</span>\
<span class="linenos"> 2</span><span class="gp">... </span>        <span class="n">ConfidentBipolarOutrankingDigraph</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">cdg</span> <span class="o">=</span> <span class="n">ConfidentBipolarOutrankingDigraph</span><span class="p">(</span><span class="n">t</span><span class="p">,</span>
<span class="linenos"> 4</span><span class="gp">... </span>        <span class="n">distribution</span><span class="o">=</span><span class="s1">&#39;triangular&#39;</span><span class="p">,</span><span class="n">confidence</span><span class="o">=</span><span class="mf">90.0</span><span class="p">)</span>
<span class="linenos"> 5</span><span class="gp">&gt;&gt;&gt; </span><span class="n">cdg</span>
<span class="linenos"> 6</span><span class="go"> *------- Object instance description ------*</span>
<span class="linenos"> 7</span><span class="go"> Instance class         : ConfidentBipolarOutrankingDigraph</span>
<span class="linenos"> 8</span><span class="go"> Instance name          : rel_AliceChoice_CLT</span>
<span class="linenos"> 9</span><span class="go"> # Actions              : 10</span>
<span class="linenos">10</span><span class="go"> # Criteria             : 9</span>
<span class="hll"><span class="linenos">11</span><span class="go"> Size                   : 44</span>
</span><span class="linenos">12</span><span class="go"> Valuation domain       : [-1.00;1.00]</span>
<span class="linenos">13</span><span class="go"> Uncertainty model      : triangular(a=0,b=2w)</span>
<span class="linenos">14</span><span class="go"> Likelihood domain      : [-1.0;+1.0]</span>
<span class="hll"><span class="linenos">15</span><span class="go"> Confidence level       : 90.0%</span>
</span><span class="hll"><span class="linenos">16</span><span class="go"> Confident credibility  : &gt; abs(0.167) (58.3%)</span>
</span><span class="linenos">17</span><span class="go"> Determinateness (%)    : 68.19</span>
</pre></div>
</div>
</div>
<p>Of the original 67 valid outranking situations, we retain 44 outranking situations as being 90%-<em>confident</em> (see <a class="reference internal" href="#aliceconfidentdigraph"><span class="std std-numref">Listing 1.91</span></a> Line 11). The corresponding 90%-<em>confident</em> <strong>qualified majority</strong> of criteria significance amounts to 14/24 = 58.3% (Line 15).</p>
<p>Concerning now a 90%-<em>confident</em> best choice recommendation, we are lucky (see <a class="reference internal" href="#aliceconfidentbestchoice"><span class="std std-numref">Listing 1.92</span></a> below).</p>
<div class="literal-block-wrapper docutils container" id="aliceconfidentbestchoice">
<div class="code-block-caption"><span class="caption-number">Listing 1.92 </span><span class="caption-text">The 90% confident best choice recommendation</span><a class="headerlink" href="#aliceconfidentbestchoice" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">cdg</span><span class="o">.</span><span class="n">computeCondorcetWinners</span><span class="p">()</span>
<span class="linenos"> 2</span><span class="go"> [&#39;I-FHK&#39;]</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">cdg</span><span class="o">.</span><span class="n">showBestChoiceRecommendation</span><span class="p">()</span>
<span class="linenos"> 4</span><span class="go"> ***********************</span>
<span class="linenos"> 5</span><span class="go"> Best choice recommendation(s) (BCR)</span>
<span class="linenos"> 6</span><span class="go">  (in decreasing order of determinateness)</span>
<span class="linenos"> 7</span><span class="go">  Credibility domain: [-1.00,1.00]</span>
<span class="linenos"> 8</span><span class="go">  === &gt;&gt; potential first choice(s)</span>
<span class="hll"><span class="linenos"> 9</span><span class="go">  choice              : [&#39;I-FHK&#39;,&#39;I-UHB&#39;,&#39;I-USB&#39;,</span>
</span><span class="hll"><span class="linenos">10</span><span class="go">                         &#39;T-FHK&#39;,&#39;T-FHM&#39;]</span>
</span><span class="linenos">11</span><span class="go">   independence        : 0.00</span>
<span class="linenos">12</span><span class="go">   dominance           : 0.42</span>
<span class="linenos">13</span><span class="go">   absorbency          : 0.00</span>
<span class="linenos">14</span><span class="go">   covering (%)        : 20.00</span>
<span class="linenos">15</span><span class="go">   determinateness (%) : 61.25</span>
<span class="hll"><span class="linenos">16</span><span class="go">   - most credible action(s) = { &#39;I-FHK&#39;: 0.75, }</span>
</span></pre></div>
</div>
</div>
<p>The <em>Graduate Interpreter</em> studies in Köln remain indeed a 90%-confident <em>Condorcet</em> winner (Line 2). Hence, the same study program also remains our 90%-confident most credible best choice supported by a continual 18/24 (87.5%) majority of the global criteria significance (see Lines 9-10 and 16).</p>
<p>When previously comparing the two best-ranked study programs (see <a class="reference internal" href="#pairwisecomparison"><span class="std std-numref">Fig. 1.56</span></a>), we have observed that <em>I-FHK</em> actually positively outranks <em>I-USB</em> on all four decision objectives. When admitting equi-significant criteria significance weights per objective, this outranking situation is hence valid independently of the importance weights Alice may allocate to each of her decision objectives.</p>
<p>We may compute these <strong>unopposed</strong> outranking situations <a class="footnote-reference brackets" href="#id229" id="id117" role="doc-noteref"><span class="fn-bracket">[</span>25<span class="fn-bracket">]</span></a> with help of the <a class="reference internal" href="techDoc.html#outrankingDigraphs.UnOpposedBipolarOutrankingDigraph" title="outrankingDigraphs.UnOpposedBipolarOutrankingDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">UnOpposedBipolarOutrankingDigraph</span></code></a> constructor.</p>
<div class="literal-block-wrapper docutils container" id="aliceunopposedoutrankings">
<div class="code-block-caption"><span class="caption-number">Listing 1.93 </span><span class="caption-text">Computing the unopposed outranking situations</span><a class="headerlink" href="#aliceunopposedoutrankings" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">outrankingDigraphs</span> <span class="kn">import</span> <span class="n">UnOpposedBipolarOutrankingDigraph</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">uop</span> <span class="o">=</span> <span class="n">UnOpposedBipolarOutrankingDigraph</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">uop</span>
<span class="linenos"> 4</span><span class="go"> *------- Object instance description ------*</span>
<span class="linenos"> 5</span><span class="go">  Instance class       : UnOpposedBipolarOutrankingDigraph</span>
<span class="linenos"> 6</span><span class="go">  Instance name        : AliceChoice_unopposed_outrankings</span>
<span class="linenos"> 7</span><span class="go">  # Actions            : 10</span>
<span class="linenos"> 8</span><span class="go">  # Criteria           : 9</span>
<span class="linenos"> 9</span><span class="go">  Size                 : 28</span>
<span class="hll"><span class="linenos">10</span><span class="go">  Oppositeness (%)    : 58.21</span>
</span><span class="linenos">11</span><span class="go">  Determinateness (%)  : 62.94</span>
<span class="linenos">12</span><span class="go">  Valuation domain     : [-1.00;1.00]</span>
<span class="linenos">13</span><span class="gp">&gt;&gt;&gt; </span><span class="n">uop</span><span class="o">.</span><span class="n">isTransitive</span><span class="p">()</span>
<span class="hll"><span class="linenos">14</span><span class="go"> True</span>
</span></pre></div>
</div>
</div>
<p>We keep 28 out the 67 standard outranking situations, which leads to an <strong>oppositeness degree</strong> of (1.0 - 28/67) = 58.21% (<a class="reference internal" href="#aliceunopposedoutrankings"><span class="std std-numref">Listing 1.93</span></a> Line 10). Remarkable furthermore is that this unopposed outranking digraph <em>uop</em> is actually <em>transitive</em>, i.e. modelling a <em>partial ranking</em> of the study programs (Line 14).</p>
<p>We may hence use the <a class="reference internal" href="techDoc.html#transitiveDigraphs.TransitiveDigraph.exportGraphViz" title="transitiveDigraphs.TransitiveDigraph.exportGraphViz"><code class="xref py py-meth docutils literal notranslate"><span class="pre">exportGraphViz()</span></code></a> method of the <a class="reference internal" href="techDoc.html#transitiveDigraphs.TransitiveDigraph" title="transitiveDigraphs.TransitiveDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">TransitiveDigraph</span></code></a> class for drawing the corresponding partial ranking.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">transitiveDigraphs</span> <span class="kn">import</span> <span class="n">TransitiveDigraph</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">TransitiveDigraph</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">(</span><span class="n">uop</span><span class="p">,</span><span class="n">ArrowHeads</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="linenos">3</span><span class="gp">... </span>          <span class="n">fileName</span><span class="o">=</span><span class="s1">&#39;choice_unopposed&#39;</span><span class="p">)</span>
<span class="linenos">4</span><span class="go"> *---- exporting a dot file for GraphViz tools ---------*</span>
<span class="linenos">5</span><span class="go">  Exporting to choice_unopposed.dot</span>
<span class="linenos">6</span><span class="go">  dot -Grankdir=TB -Tpng choice_unopposed.dot -o choice_unopposed.png</span>
</pre></div>
</div>
<figure class="align-center" id="alicechoice-unopposed">
<a class="reference internal image-reference" href="_images/AliceChoice_unopposed.png"><img alt="_images/AliceChoice_unopposed.png" src="_images/AliceChoice_unopposed.png" style="width: 200px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.58 </span><span class="caption-text">Unopposed partial ranking of the potential study programs</span><a class="headerlink" href="#alicechoice-unopposed" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Again, when <em>equi-signficant</em> performance criteria are assumed per decision objective, we observe in <a class="reference internal" href="#alicechoice-unopposed"><span class="std std-numref">Fig. 1.58</span></a> that <em>I-FHK</em> remains the stable best choice, <em>independently</em> of the actual importance weights that Alice may wish to allocate to her four decision objectives.</p>
<p>In view of her performance tableau in <a class="reference internal" href="#aliceheatmap"><span class="std std-numref">Fig. 1.53</span></a>, <em>Graduate Interpreter</em> studies at the <em>Technical High School Köln</em>, thus, represent definitely <strong>Alice’s very best choice</strong>.</p>
<p>For further reading about the Best Choice methodology, one may consult in <a class="reference internal" href="#bis-2015" id="id118"><span>[BIS-2015]</span></a> the study of a <em>real decision aid case</em> about choosing a best poster in a scientific conference.</p>
<p>Back to <a class="reference internal" href="#tutorial-label"><span class="std std-ref">Content Table</span></a></p>
<hr class="docutils" />
</section>
</section>
<section id="the-best-academic-computer-science-depts-a-ranking-case-study">
<span id="theranking-tutorial-label"></span><h3><a class="toc-backref" href="#id392" role="doc-backlink"><span class="section-number">1.4.2. </span>The best academic <em>Computer Science</em> Depts: a <em>ranking</em> case study</a><a class="headerlink" href="#the-best-academic-computer-science-depts-a-ranking-case-study" title="Link to this heading"></a></h3>
<nav class="contents local" id="id119">
<ul class="simple">
<li><p><a class="reference internal" href="#the-the-performance-tableau" id="id401">The THE performance tableau</a></p></li>
<li><p><a class="reference internal" href="#ranking-with-multiple-incommensurable-criteria-of-ordinal-significance" id="id402">Ranking with multiple incommensurable criteria of ordinal significance</a></p></li>
<li><p><a class="reference internal" href="#how-to-judge-the-quality-of-a-ranking-result" id="id403">How to judge the quality of a ranking result?</a></p></li>
</ul>
</nav>
<p>In this tutorial, we are studying a ranking decision problem based on published data from the <em>Times Higher Education</em> (THE) <em>World University Rankings</em> 2016 by <em>Computer Science</em> (CS) subject <a class="footnote-reference brackets" href="#id239" id="id120" role="doc-noteref"><span class="fn-bracket">[</span>36<span class="fn-bracket">]</span></a>. Several hundred academic CS Departments, from all over the world, were ranked that year following an overall numerical score based on the weighted average of five performance criteria: <em>Teaching</em> (the learning environment, 30%), <em>Research</em> (volume, income and reputation, 30%), <em>Citations</em> (research influence, 27.5%), <em>International outlook</em> (staff, students, and research, 7.5%), and <em>Industry income</em> (innovation, 5%).</p>
<p>To illustrate our <em>Digraph3</em> programming resources, we shall first have a look into the THE ranking data with short Python scripts. In a second Section, we shall relax the commensurability hypothesis of the ranking criteria and show how to similarly rank with multiple incommensurable performance criteria of ordinal significance. A third Section is finally devoted to introduce quality measures for qualifying ranking results.</p>
<section id="the-the-performance-tableau">
<h4><a class="toc-backref" href="#id401" role="doc-backlink"><span class="section-number">1.4.2.1. </span>The THE performance tableau</a><a class="headerlink" href="#the-the-performance-tableau" title="Link to this heading"></a></h4>
<p>For our tutorial purpose, an extract of the published THE University rankings 2016 by computer science subject data, concerning the 75 first-ranked academic Institutions, is stored in a file named <a class="reference external" href="_static/the_cs_2016.py">the_cs_2016.py</a> of <a class="reference internal" href="techDoc.html#perfTabs.PerformanceTableau" title="perfTabs.PerformanceTableau"><code class="xref py py-class docutils literal notranslate"><span class="pre">PerformanceTableau</span></code></a> format <a class="footnote-reference brackets" href="#id240" id="id121" role="doc-noteref"><span class="fn-bracket">[</span>37<span class="fn-bracket">]</span></a>.</p>
<div class="literal-block-wrapper docutils container" id="thecsperftab">
<div class="code-block-caption"><span class="caption-number">Listing 1.94 </span><span class="caption-text">The 2016 THE World University Ranking by CS subject</span><a class="headerlink" href="#thecsperftab" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">perfTabs</span> <span class="kn">import</span> <span class="n">PerformanceTableau</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">PerformanceTableau</span><span class="p">(</span><span class="s1">&#39;the_cs_2016&#39;</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span>
<span class="linenos"> 4</span><span class="go"> *------- PerformanceTableau instance description ------*</span>
<span class="linenos"> 5</span><span class="go">  Instance class     : PerformanceTableau</span>
<span class="linenos"> 6</span><span class="go">  Instance name      : the_cs_2016</span>
<span class="linenos"> 7</span><span class="go">  # Actions          : 75</span>
<span class="linenos"> 8</span><span class="go">  # Objectives       : 5</span>
<span class="linenos"> 9</span><span class="go">  # Criteria         : 5</span>
<span class="linenos">10</span><span class="go">  NaN proportion (%) : 0.0</span>
<span class="linenos">11</span><span class="go">  Attributes         : [&#39;name&#39;, &#39;description&#39;, &#39;actions&#39;,</span>
<span class="linenos">12</span><span class="go">                        &#39;objectives&#39;, &#39;criteria&#39;,</span>
<span class="linenos">13</span><span class="go">                        &#39;weightPreorder&#39;, &#39;NA&#39;, &#39;evaluation&#39;]</span>
</pre></div>
</div>
</div>
<p>Potential <em>decision actions</em>, in our case here, are the 75 THE best-ranked <em>CS Departments</em>, all of them located at world renowned Institutions, like <em>California Institute of Technology</em>, <em>Swiss Federal Institute of Technology Zurich</em>, <em>Technical University München</em>, <em>University of Oxford</em> or the <em>National University of Singapore</em> (see <a class="reference internal" href="#thecsactions"><span class="std std-numref">Listing 1.95</span></a> below).</p>
<p>Instead of using prefigured <em>Digraph3</em> <strong>show</strong> methods, readily available for inspecting <em>PerformanceTableau</em> instances, we will illustrate below how to write small Python scripts for printing out its content.</p>
<div class="literal-block-wrapper docutils container" id="thecsactions">
<div class="code-block-caption"><span class="caption-number">Listing 1.95 </span><span class="caption-text">Printing the potential decision actions</span><a class="headerlink" href="#thecsactions" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">t</span><span class="o">.</span><span class="n">actions</span><span class="p">:</span>
<span class="linenos"> 2</span><span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">:</span><span class="se">\t</span><span class="si">%s</span><span class="s1"> (</span><span class="si">%s</span><span class="s1">)&#39;</span> <span class="o">%</span>\
<span class="linenos"> 3</span><span class="gp">... </span>       <span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">t</span><span class="o">.</span><span class="n">actions</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">],</span><span class="n">t</span><span class="o">.</span><span class="n">actions</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="s1">&#39;comment&#39;</span><span class="p">])</span> <span class="p">)</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="go"> albt:       University of Alberta (CA)</span>
<span class="linenos"> 6</span><span class="go"> anu:        Australian National University (AU)</span>
<span class="linenos"> 7</span><span class="go"> ariz:       Arizona State University (US)</span>
<span class="linenos"> 8</span><span class="go"> bju:        Beijing University (CN)</span>
<span class="linenos"> 9</span><span class="go"> bro:        Brown University (US)</span>
<span class="linenos">10</span><span class="go"> calt:       California Institute of Technology (US)</span>
<span class="linenos">11</span><span class="go"> cbu:        Columbia University (US)</span>
<span class="linenos">12</span><span class="go"> chku:       Chinese University of Hong Kong (HK)</span>
<span class="linenos">13</span><span class="go"> cihk:       City University of Hong Kong (HK)</span>
<span class="linenos">14</span><span class="go"> cir:        University of California at Irvine (US)</span>
<span class="linenos">15</span><span class="go"> cmel:       Carnegie Mellon University (US)</span>
<span class="linenos">16</span><span class="go"> cou:        Cornell University (US)</span>
<span class="linenos">17</span><span class="go"> csb:        University of California at Santa Barbara (US)</span>
<span class="linenos">18</span><span class="go"> csd:        University Of California at San Diego (US)</span>
<span class="linenos">19</span><span class="go"> dut:        Delft University of Technology (NL)</span>
<span class="linenos">20</span><span class="go"> eind:       Eindhoven University of Technology (NL)</span>
<span class="linenos">21</span><span class="go"> ens:        Superior Normal School at Paris (FR)</span>
<span class="linenos">22</span><span class="go"> epfl:       Swiss Federal Institute of Technology Lausanne (CH)</span>
<span class="linenos">23</span><span class="go"> epfr:       Polytechnic school of Paris (FR)</span>
<span class="linenos">24</span><span class="go"> ethz:       Swiss Federal Institute of Technology Zurich (CH)</span>
<span class="linenos">25</span><span class="go"> frei:       University of Freiburg (DE)</span>
<span class="linenos">26</span><span class="go"> git:        Georgia Institute of Technology (US)</span>
<span class="linenos">27</span><span class="go"> glas:       University of Glasgow (UK)</span>
<span class="linenos">28</span><span class="go"> hels:       University of Helsinki (FI)</span>
<span class="linenos">29</span><span class="go"> hkpu:       Hong Kong Polytechnic University (CN)</span>
<span class="linenos">30</span><span class="go"> hkst:       Hong Kong University of Science and Technology (HK)</span>
<span class="linenos">31</span><span class="go"> hku:        Hong Kong University (HK)</span>
<span class="linenos">32</span><span class="go"> humb:       Berlin Humboldt University (DE)</span>
<span class="linenos">33</span><span class="go"> icl:        Imperial College London (UK)</span>
<span class="linenos">34</span><span class="go"> indis:      Indian Institute of Science (IN)</span>
<span class="linenos">35</span><span class="go"> itmo:       ITMO University (RU)</span>
<span class="linenos">36</span><span class="go"> kcl:        King&#39;s College London (UK)</span>
<span class="linenos">37</span><span class="go"> kist:       Korea Advances Institute of Science and Technology (KR)</span>
<span class="linenos">38</span><span class="go"> kit:        Karlsruhe Institute of Technology (DE)</span>
<span class="linenos">39</span><span class="go"> kth:        KTH Royal Institute of Technology (SE)</span>
<span class="linenos">40</span><span class="go"> kuj:        Kyoto University (JP)</span>
<span class="linenos">41</span><span class="go"> kul:        Catholic University Leuven (BE)</span>
<span class="linenos">42</span><span class="go"> lms:        Lomonosov Moscow State University (RU)</span>
<span class="linenos">43</span><span class="go"> man:        University of Manchester (UK)</span>
<span class="linenos">44</span><span class="go"> mcp:        University of Maryland College Park (US)</span>
<span class="linenos">45</span><span class="go"> mel:        University of Melbourne (AU)</span>
<span class="linenos">46</span><span class="go"> mil:        Polytechnic University of Milan (IT)</span>
<span class="linenos">47</span><span class="go"> mit:        Massachusetts Institute of Technology (US)</span>
<span class="linenos">48</span><span class="go"> naji:       Nanjing University (CN)</span>
<span class="linenos">49</span><span class="go"> ntu:        Nanyang Technological University of Singapore (SG)</span>
<span class="linenos">50</span><span class="go"> ntw:        National Taiwan University (TW)</span>
<span class="linenos">51</span><span class="go"> nyu:        New York University (US)</span>
<span class="linenos">52</span><span class="go"> oxf:        University of Oxford (UK)</span>
<span class="linenos">53</span><span class="go"> pud:        Purdue University (US)</span>
<span class="linenos">54</span><span class="go"> qut:        Queensland University of Technology (AU)</span>
<span class="linenos">55</span><span class="go"> rcu:        Rice University (US)</span>
<span class="linenos">56</span><span class="go"> rwth:       RWTH Aachen University (DE)</span>
<span class="linenos">57</span><span class="go"> shJi:       Shanghai Jiao Tong University (CN)</span>
<span class="linenos">58</span><span class="go"> sing:       National University of Singapore (SG)</span>
<span class="linenos">59</span><span class="go"> sou:        University of Southhampton (UK)</span>
<span class="linenos">60</span><span class="go"> stut:       University of Stuttgart (DE)</span>
<span class="linenos">61</span><span class="go"> tech:       Technion - Israel Institute of Technology (IL)</span>
<span class="linenos">62</span><span class="go"> tlavu:      Tel Aviv University (IR)</span>
<span class="linenos">63</span><span class="go"> tsu:        Tsinghua University (CN)</span>
<span class="linenos">64</span><span class="go"> tub:        Technical University of Berlin (DE)</span>
<span class="linenos">65</span><span class="go"> tud:        Technical University of Darmstadt (DE)</span>
<span class="linenos">66</span><span class="go"> tum:        Technical University of München (DE)</span>
<span class="linenos">67</span><span class="go"> ucl:        University College London (UK)</span>
<span class="linenos">68</span><span class="go"> ued:        University of Edinburgh (UK)</span>
<span class="linenos">69</span><span class="go"> uiu:        University of Illinois at Urbana-Champagne (US)</span>
<span class="linenos">70</span><span class="go"> unlu:       University of Luxembourg (LU)</span>
<span class="linenos">71</span><span class="go"> unsw:       University of New South Wales (AU)</span>
<span class="linenos">72</span><span class="go"> unt:        University of Toronto (CA)</span>
<span class="linenos">73</span><span class="go"> uta:        University of Texas at Austin (US)</span>
<span class="linenos">74</span><span class="go"> utj:        University of Tokyo (JP)</span>
<span class="linenos">75</span><span class="go"> utw:        University of Twente (NL)</span>
<span class="linenos">76</span><span class="go"> uwa:        University of Waterloo (CA)</span>
<span class="linenos">77</span><span class="go"> wash:       University of Washington (US)</span>
<span class="linenos">78</span><span class="go"> wtu:        Vienna University of Technology (AUS)</span>
<span class="linenos">79</span><span class="go"> zhej:       Zhejiang University (CN)</span>
</pre></div>
</div>
</div>
<p>The THE authors base their ranking decisions on five objectives.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">t</span><span class="o">.</span><span class="n">objectives</span><span class="p">:</span>
<span class="linenos"> 2</span><span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">: </span><span class="si">%s</span><span class="s1"> (</span><span class="si">%.1f%%</span><span class="s1">),</span><span class="se">\n\t</span><span class="si">%s</span><span class="s1">&#39;</span> \
<span class="linenos"> 3</span><span class="gp">... </span>         <span class="o">%</span>  <span class="p">(</span><span class="n">obj</span><span class="p">,</span><span class="n">t</span><span class="o">.</span><span class="n">objectives</span><span class="p">[</span><span class="n">obj</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">],</span>
<span class="linenos"> 4</span><span class="gp">... </span>             <span class="n">t</span><span class="o">.</span><span class="n">objectives</span><span class="p">[</span><span class="n">obj</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">],</span>
<span class="linenos"> 5</span><span class="gp">... </span>             <span class="n">t</span><span class="o">.</span><span class="n">objectives</span><span class="p">[</span><span class="n">obj</span><span class="p">][</span><span class="s1">&#39;comment&#39;</span><span class="p">])</span>
<span class="linenos"> 6</span><span class="gp">... </span>         <span class="p">)</span>
<span class="linenos"> 7</span>
<span class="hll"><span class="linenos"> 8</span><span class="go"> Teaching: Best learning environment (30.0%),</span>
</span><span class="linenos"> 9</span><span class="go">         Reputation survey; Staff-to-student ration;</span>
<span class="linenos">10</span><span class="go">         Doctorate-to-student ratio,</span>
<span class="linenos">11</span><span class="go">         Doctorate-to-academic-staff ratio, Institutional income.</span>
<span class="hll"><span class="linenos">12</span><span class="go"> Research: Highest volume and repustation (30.0%),</span>
</span><span class="linenos">13</span><span class="go">         Reputation survey; Research income; Research productivity</span>
<span class="hll"><span class="linenos">14</span><span class="go"> Citations: Highest research influence (27.5%),</span>
</span><span class="linenos">15</span><span class="go">         Impact.</span>
<span class="hll"><span class="linenos">16</span><span class="go"> International outlook: Most international staff, students and research (7.5%),</span>
</span><span class="linenos">17</span><span class="go">         Proportions of international students; of international staff;</span>
<span class="hll"><span class="linenos">18</span><span class="go">         international collaborations.</span>
</span><span class="linenos">19</span><span class="go"> Industry income: Best knowledge transfer (5.0%),</span>
<span class="linenos">20</span><span class="go">         Volume.</span>
</pre></div>
</div>
<p>With a cumulated importance of 87% (see above), <em>Teaching</em>, <em>Research</em> and <em>Citations</em> represent clearly the <strong>major</strong> ranking objectives. <em>International outlook</em> and <em>Industry income</em> are considered of <strong>minor</strong> importance (12.5%).</p>
<p>THE does, unfortunately, not publish the detail of their performance assessments for grading CS Depts with respect to each one of the five ranking objectives <a class="footnote-reference brackets" href="#id242" id="id122" role="doc-noteref"><span class="fn-bracket">[</span>39<span class="fn-bracket">]</span></a>. The THE 2016 ranking publication reveals solely a compound assessment on a single <em>performance criteria</em> per ranking objective. The five retained performance criteria may be printed out as follows.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">t</span><span class="o">.</span><span class="n">criteria</span><span class="p">:</span>
<span class="linenos"> 2</span><span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">:</span><span class="se">\t</span><span class="si">%s</span><span class="s1">, </span><span class="si">%s</span><span class="s1"> (</span><span class="si">%.1f%%</span><span class="s1">)&#39;</span> \
<span class="linenos"> 3</span><span class="gp">... </span>       <span class="o">%</span> <span class="p">(</span><span class="n">g</span><span class="p">,</span><span class="n">t</span><span class="o">.</span><span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">],</span><span class="n">t</span><span class="o">.</span><span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;comment&#39;</span><span class="p">],</span>
<span class="linenos"> 4</span><span class="gp">... </span>          <span class="n">t</span><span class="o">.</span><span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">])</span> <span class="p">)</span>
<span class="linenos"> 5</span>
<span class="linenos"> 6</span><span class="go"> gtch:       Teaching, The learning environment (30.0%)</span>
<span class="linenos"> 7</span><span class="go"> gres:       Research, Volume, income and reputation (30.0%)</span>
<span class="linenos"> 8</span><span class="go"> gcit:       Citations, Research influence (27.5%)</span>
<span class="linenos"> 9</span><span class="go"> gint:       International outlook, In staff, students and research (7.5%)</span>
<span class="linenos">10</span><span class="go"> gind:       Industry income, knowledge transfer (5.0%)</span>
</pre></div>
</div>
<p>The largest part (87.5%) of criteria significance is, hence canonically, allocated to the major ranking criteria: <em>Teaching</em> (30%), <em>Research</em> (30%) and <em>Citations</em> (27.5%). The small remaining part (12.5%) goes to <em>International outlook</em> (7.5%) and <em>Industry income</em> (5%).</p>
<p>In order to render commensurable these performance criteria, the THE authors replace, per criterion, the actual performance grade obtained by each University with the corresponding <strong>quantile</strong> observed in the <em>cumulative distribution</em> of the performance grades obtained by all the surveyed institutions <a class="footnote-reference brackets" href="#id243" id="id123" role="doc-noteref"><span class="fn-bracket">[</span>40<span class="fn-bracket">]</span></a>. The THE ranking is eventually determined by an <strong>overall score</strong> per University which corresponds to the <strong>weighted average</strong> of these five criteria quantiles (see <a class="reference internal" href="#thecsscores"><span class="std std-numref">Listing 1.96</span></a> below).</p>
<div class="literal-block-wrapper docutils container" id="thecsscores">
<div class="code-block-caption"><span class="caption-number">Listing 1.96 </span><span class="caption-text">Computing the THE overall scores</span><a class="headerlink" href="#thecsscores" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">theScores</span> <span class="o">=</span> <span class="p">[]</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">t</span><span class="o">.</span><span class="n">actions</span><span class="p">:</span>
<span class="linenos">3</span><span class="gp">... </span>    <span class="n">xscore</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0&#39;</span><span class="p">)</span>
<span class="linenos">4</span><span class="gp">... </span>    <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">t</span><span class="o">.</span><span class="n">criteria</span><span class="p">:</span>
<span class="linenos">5</span><span class="gp">... </span>        <span class="n">xscore</span> <span class="o">+=</span> <span class="n">t</span><span class="o">.</span><span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">x</span><span class="p">]</span> <span class="o">*</span>\
<span class="linenos">6</span><span class="gp">... </span>                   <span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span><span class="o">/</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;100&#39;</span><span class="p">))</span>
<span class="linenos">7</span><span class="gp">... </span>    <span class="n">theScores</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">xscore</span><span class="p">,</span><span class="n">x</span><span class="p">))</span>
</pre></div>
</div>
</div>
<p>In <a class="reference internal" href="#printingscores"><span class="std std-numref">Listing 1.97</span></a> Lines 15-16 below, we may thus notice that, in the 2016 edition of the <em>THE World University rankings</em> by CS subject, the <em>Swiss Federal Institute of Technology Zürich</em> is first-ranked with an overall score of 92.9; followed by the <em>California Institute of Technology</em> (overall score: 92.4) <a class="footnote-reference brackets" href="#id241" id="id124" role="doc-noteref"><span class="fn-bracket">[</span>38<span class="fn-bracket">]</span></a>.</p>
<div class="literal-block-wrapper docutils container" id="printingscores">
<div class="code-block-caption"><span class="caption-number">Listing 1.97 </span><span class="caption-text">Printing the ranked performance table</span><a class="headerlink" href="#printingscores" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">theScores</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">reverse</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;##  Univ </span><span class="se">\t</span><span class="s1">gtch  gres  gcit  gint  gind  overall&#39;</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;-------------------------------------------------&#39;</span><span class="p">)</span>
<span class="linenos"> 4</span><span class="gp">&gt;&gt;&gt; </span><span class="n">i</span> <span class="o">=</span> <span class="mi">1</span>
<span class="linenos"> 5</span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">it</span> <span class="ow">in</span> <span class="n">theScores</span><span class="p">:</span>
<span class="linenos"> 6</span><span class="gp">... </span>    <span class="n">x</span> <span class="o">=</span> <span class="n">it</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="linenos"> 7</span><span class="gp">... </span>    <span class="n">xScore</span> <span class="o">=</span> <span class="n">it</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="linenos"> 8</span><span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%2d</span><span class="s1">: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">x</span><span class="p">),</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39; </span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos"> 9</span><span class="gp">... </span>    <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">t</span><span class="o">.</span><span class="n">criteria</span><span class="p">:</span>
<span class="linenos">10</span><span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%.1f</span><span class="s1"> &#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">x</span><span class="p">]),</span><span class="n">end</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
<span class="linenos">11</span><span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39; </span><span class="si">%.1f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">xScore</span><span class="p">)</span>
<span class="linenos">12</span><span class="gp">... </span>    <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="linenos">13</span>
<span class="linenos">14</span><span class="go"> ##  Univ    gtch  gres  gcit  gint  gind  overall</span>
<span class="linenos">15</span><span class="go"> -------------------------------------------------</span>
<span class="hll"><span class="linenos">16</span><span class="go">  1: ethz    89.2  97.3  97.1  93.6  64.1   92.9</span>
</span><span class="hll"><span class="linenos">17</span><span class="go">  2: calt    91.5  96.0  99.8  59.1  85.9   92.4</span>
</span><span class="linenos">18</span><span class="go">  3: oxf     94.0  92.0  98.8  93.6  44.3   92.2</span>
<span class="linenos">19</span><span class="go">  4: mit     87.3  95.4  99.4  73.9  87.5   92.1</span>
<span class="linenos">20</span><span class="go">  5: git     87.2  99.7  91.3  63.0  79.5   89.9</span>
<span class="linenos">21</span><span class="go">  6: cmel    88.1  92.3  99.4  58.9  71.1   89.4</span>
<span class="linenos">22</span><span class="go">  7: icl     90.1  87.5  95.1  94.3  49.9   89.0</span>
<span class="linenos">23</span><span class="go">  8: epfl    86.3  91.6  94.8  97.2  42.7   88.9</span>
<span class="linenos">24</span><span class="go">  9: tum     87.6  95.1  87.9  52.9  95.1   87.7</span>
<span class="linenos">25</span><span class="go"> 10: sing    89.9  91.3  83.0  95.3  50.6   86.9</span>
<span class="linenos">26</span><span class="go"> 11: cou     81.6  94.1  99.7  55.7  45.7   86.6</span>
<span class="linenos">27</span><span class="go"> 12: ucl     85.5  90.3  87.6  94.7  42.4   86.1</span>
<span class="linenos">28</span><span class="go"> 13: wash    84.4  88.7  99.3  57.4  41.2   85.6</span>
<span class="linenos">29</span><span class="go"> 14: hkst    74.3  92.0  96.2  84.4  55.8   85.5</span>
<span class="linenos">30</span><span class="go"> 15: ntu     76.6  87.7  90.4  92.9  86.9   85.5</span>
<span class="linenos">31</span><span class="go"> 16: ued     85.7  85.3  89.7  95.0  38.8   85.0</span>
<span class="linenos">32</span><span class="go"> 17: unt     79.9  84.4  99.6  77.6  38.4   84.4</span>
<span class="linenos">33</span><span class="go"> 18: uiu     85.0  83.1  99.2  51.4  42.2   83.7</span>
<span class="linenos">34</span><span class="go"> 19: mcp     79.7  89.3  94.6  29.8  51.7   81.5</span>
<span class="linenos">35</span><span class="go"> 20: cbu     81.2  78.5  94.7  66.9  45.7   81.3</span>
<span class="linenos">36</span><span class="go"> 21: tsu     88.1  90.2  76.7  27.1  85.9   80.9</span>
<span class="linenos">37</span><span class="go"> 22: csd     75.2  81.6  99.8  39.7  59.8   80.5</span>
<span class="linenos">38</span><span class="go"> 23: uwa     75.3  82.6  91.3  72.9  41.5   80.0</span>
<span class="linenos">39</span><span class="go"> 24: nyu     71.1  77.4  99.4  78.0  39.8   79.7</span>
<span class="linenos">40</span><span class="go"> 25: uta     72.6  85.3  99.6  31.6  49.7   79.6</span>
<span class="linenos">41</span><span class="go"> 26: kit     73.8  85.5  84.4  41.3  76.8   77.9</span>
<span class="linenos">42</span><span class="go"> 27: bju     83.0  85.3  70.1  30.7  99.4   77.0</span>
<span class="linenos">43</span><span class="go"> 28: csb     65.6  70.9  94.8  72.9  74.9   76.2</span>
<span class="linenos">44</span><span class="go"> 29: rwth    77.8  85.0  70.8  43.7  89.4   76.1</span>
<span class="linenos">45</span><span class="go"> 30: hku     77.0  73.0  77.0  96.8  39.5   75.4</span>
<span class="linenos">46</span><span class="go"> 31: pud     76.9  84.8  70.8  58.1  56.7   75.2</span>
<span class="linenos">47</span><span class="go"> 32: kist    79.4  88.2  64.2  31.6  92.8   74.9</span>
<span class="linenos">48</span><span class="go"> 33: kcl     45.5  94.6  86.3  95.1  38.3   74.8</span>
<span class="linenos">49</span><span class="go"> 34: chku    64.1  69.3  94.7  75.6  49.9   74.2</span>
<span class="linenos">50</span><span class="go"> 35: epfr    81.7  60.6  78.1  85.3  62.9   73.7</span>
<span class="linenos">51</span><span class="go"> 36: dut     64.1  78.3  76.3  69.8  90.1   73.4</span>
<span class="linenos">52</span><span class="go"> 37: tub     66.2  82.4  71.0  55.4  99.9   73.3</span>
<span class="linenos">53</span><span class="go"> 38: utj     92.0  91.7  48.7  25.8  49.6   72.9</span>
<span class="linenos">54</span><span class="go"> 39: cir     68.8  64.6  93.0  65.1  40.4   72.5</span>
<span class="linenos">55</span><span class="go"> 40: ntw     81.5  79.8  66.6  25.5  67.6   72.0</span>
<span class="linenos">56</span><span class="go"> 41: anu     47.2  73.0  92.2  90.0  48.1   70.6</span>
<span class="linenos">57</span><span class="go"> 42: rcu     64.1  53.8  99.4  63.7  46.1   69.8</span>
<span class="linenos">58</span><span class="go"> 43: mel     56.1  70.2  83.7  83.3  50.4   69.7</span>
<span class="linenos">59</span><span class="go"> 44: lms     81.5  68.1  61.0  31.1  87.8   68.4</span>
<span class="linenos">60</span><span class="go"> 45: ens     71.8  40.9  98.7  69.6  43.5   68.3</span>
<span class="linenos">61</span><span class="go"> 46: wtu     61.8  73.5  73.7  51.9  62.2   67.9</span>
<span class="linenos">62</span><span class="go"> 47: tech    54.9  71.0  85.1  51.7  40.1   67.1</span>
<span class="linenos">63</span><span class="go"> 48: bro     58.5  54.9  96.8  52.3  38.6   66.5</span>
<span class="linenos">64</span><span class="go"> 49: man     63.5  71.9  62.9  84.1  42.1   66.3</span>
<span class="linenos">65</span><span class="go"> 50: zhej    73.5  70.4  60.7  22.6  75.7   65.3</span>
<span class="linenos">66</span><span class="go"> 51: frei    54.2  51.6  89.5  49.7  99.9   65.1</span>
<span class="linenos">67</span><span class="go"> 52: unsw    60.2  58.2  70.5  87.0  44.3   63.6</span>
<span class="linenos">68</span><span class="go"> 53: kuj     75.4  72.8  49.5  28.3  51.4   62.8</span>
<span class="linenos">69</span><span class="go"> 54: sou     48.2  60.7  75.5  87.4  43.2   62.1</span>
<span class="linenos">70</span><span class="go"> 55: shJi    66.9  68.3  62.4  22.8  38.5   61.4</span>
<span class="linenos">71</span><span class="go"> 56: itmo    58.0  32.0  98.7  39.2  68.7   60.5</span>
<span class="linenos">72</span><span class="go"> 57: kul     35.2  55.8  92.0  46.0  88.3   60.5</span>
<span class="linenos">73</span><span class="go"> 58: glas    35.2  52.5  91.2  85.8  39.2   59.8</span>
<span class="linenos">74</span><span class="go"> 59: utw     38.2  52.8  87.0  69.0  60.0   59.4</span>
<span class="linenos">75</span><span class="go"> 60: stut    54.2  60.6  61.1  36.3  97.8   58.9</span>
<span class="linenos">76</span><span class="go"> 61: naji    51.4  76.9  48.8  39.7  74.4   58.6</span>
<span class="linenos">77</span><span class="go"> 62: tud     46.6  53.6  75.9  53.7  66.5   58.3</span>
<span class="linenos">78</span><span class="go"> 63: unlu    35.2  44.2  87.4  99.7  54.1   58.0</span>
<span class="linenos">79</span><span class="go"> 64: qut     45.5  42.6  82.8  75.2  63.0   58.0</span>
<span class="linenos">80</span><span class="go"> 65: hkpu    46.8  36.5  91.4  73.2  41.5   57.7</span>
<span class="linenos">81</span><span class="go"> 66: albt    39.2  53.3  69.9  91.9  75.4   57.6</span>
<span class="linenos">82</span><span class="go"> 67: mil     46.4  64.3  69.2  44.1  38.5   57.5</span>
<span class="linenos">83</span><span class="go"> 68: hels    48.8  49.6  80.4  50.6  39.5   57.4</span>
<span class="linenos">84</span><span class="go"> 69: cihk    42.4  44.9  80.1  76.2  67.9   57.3</span>
<span class="linenos">85</span><span class="go"> 70: tlavu   34.1  57.2  89.0  45.3  38.6   57.2</span>
<span class="linenos">86</span><span class="go"> 71: indis   56.9  76.1  49.3  20.1  41.5   57.0</span>
<span class="linenos">87</span><span class="go"> 72: ariz    28.4  61.8  84.3  59.3  42.0   56.8</span>
<span class="linenos">88</span><span class="go"> 73: kth     44.8  42.0  83.6  71.6  39.2   56.4</span>
<span class="linenos">89</span><span class="go"> 74: humb    48.4  31.3  94.7  41.5  45.5   55.3</span>
<span class="linenos">90</span><span class="go"> 75: eind    32.4  48.4  81.5  72.2  45.8   54.4</span>
</pre></div>
</div>
</div>
<p>It is important to notice that a ranking by weighted average scores requires <em>commensurable ranking criteria</em> of <em>precise decimal significance</em> and on wich a <em>precise decimal performance grading</em> is given. It is very unlikely that the THE 2016 performance assessments indeed verify these conditions. This tutorial shows how to relax these methodological requirements -precise commensurable criteria and numerical assessments- by following instead an epistemic bipolar-valued logic based ranking methodology.</p>
</section>
<section id="ranking-with-multiple-incommensurable-criteria-of-ordinal-significance">
<h4><a class="toc-backref" href="#id402" role="doc-backlink"><span class="section-number">1.4.2.2. </span>Ranking with multiple incommensurable criteria of ordinal significance</a><a class="headerlink" href="#ranking-with-multiple-incommensurable-criteria-of-ordinal-significance" title="Link to this heading"></a></h4>
<p>Let us, first, have a critical look at the THE performance criteria.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">showHTMLCriteria</span><span class="p">(</span><span class="n">Sorted</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="thecscriteria">
<a class="reference internal image-reference" href="_images/the_cs_2016Criteria.png"><img alt="_images/the_cs_2016Criteria.png" src="_images/the_cs_2016Criteria.png" style="width: 500pt;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.59 </span><span class="caption-text">The THE ranking criteria</span><a class="headerlink" href="#thecscriteria" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Considering a very likely imprecision of the performance grading procedure, followed by some potential violation of uniform distributed quantile classes, we assume here that a performance quantile difference of up to <strong>abs(2.5)%</strong> is <strong>insignificant</strong>, whereas a difference of <strong>abs(5)%</strong> warrants a <strong>clearly better</strong>, resp. <strong>clearly less good</strong>, performance. With quantiles 94%, resp. 87.3%, <em>Oxford</em>’s CS teaching environment, for instance, is thus clearly better evaluated than that of the <em>MIT</em> (see <a class="reference internal" href="#thecsscores"><span class="std std-numref">Listing 1.96</span></a> Lines 27-28). We shall furthermore assume that a <strong>considerable</strong> performance quantile difference of <strong>abs(60)%</strong>, observed on the three major ranking criteria: <em>Teaching</em>, <em>Research</em> and <em>Citations</em>, will trigger a <strong>veto</strong>, respectively a <strong>counter-veto</strong> against a <em>pairwise outranking</em>, respectively a <em>pairwise outranked</em> situation <a class="reference internal" href="#bis-2013" id="id125"><span>[BIS-2013]</span></a>.</p>
<p>The effect of these performance discrimination thresholds on the preference modelling may be inspected as follows.</p>
<div class="literal-block-wrapper docutils container" id="thecsdiscriminationthresholds">
<div class="code-block-caption"><span class="caption-number">Listing 1.98 </span><span class="caption-text">Inspecting the performance discrimination thresholds</span><a class="headerlink" href="#thecsdiscriminationthresholds" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">showCriteria</span><span class="p">()</span>
<span class="linenos"> 2</span><span class="go"> *----  criteria -----*</span>
<span class="linenos"> 3</span><span class="go"> gtch &#39;Teaching&#39;</span>
<span class="linenos"> 4</span><span class="go">   Scale = (Decimal(&#39;0.00&#39;), Decimal(&#39;100.00&#39;))</span>
<span class="linenos"> 5</span><span class="go">   Weight = 0.300</span>
<span class="linenos"> 6</span><span class="go">   Threshold ind : 2.50 + 0.00x ;   percentile:  8.07</span>
<span class="linenos"> 7</span><span class="go">   Threshold pref : 5.00 + 0.00x ;  percentile: 15.75</span>
<span class="linenos"> 8</span><span class="go">   Threshold veto : 60.00 + 0.00x ; percentile: 99.75</span>
<span class="linenos"> 9</span><span class="go"> gres &#39;Research&#39;</span>
<span class="linenos">10</span><span class="go">   Scale = (Decimal(&#39;0.00&#39;), Decimal(&#39;100.00&#39;))</span>
<span class="linenos">11</span><span class="go">   Weight = 0.300</span>
<span class="linenos">12</span><span class="go">   Threshold ind : 2.50 + 0.00x ;   percentile:  7.86</span>
<span class="linenos">13</span><span class="go">   Threshold pref : 5.00 + 0.00x ;  percentile: 16.14</span>
<span class="linenos">14</span><span class="go">   Threshold veto : 60.00 + 0.00x ; percentile: 99.21</span>
<span class="linenos">15</span><span class="go"> gcit &#39;Citations&#39;</span>
<span class="linenos">16</span><span class="go">   Scale = (Decimal(&#39;0.00&#39;), Decimal(&#39;100.00&#39;))</span>
<span class="linenos">17</span><span class="go">   Weight = 0.275</span>
<span class="linenos">18</span><span class="go">   Threshold ind : 2.50 + 0.00x ;   percentile:  11.82</span>
<span class="linenos">19</span><span class="go">   Threshold pref : 5.00 + 0.00x ;  percentile:  22.99</span>
<span class="linenos">20</span><span class="go">   Threshold veto : 60.00 + 0.00x ; percentile: 100.00</span>
<span class="linenos">21</span><span class="go"> gint &#39;International outlook&#39;</span>
<span class="linenos">22</span><span class="go">   Scale = (Decimal(&#39;0.00&#39;), Decimal(&#39;100.00&#39;))</span>
<span class="linenos">23</span><span class="go">   Weight = 0.075</span>
<span class="linenos">24</span><span class="go">   Threshold ind : 2.50 + 0.00x ;  percentile:  6.45</span>
<span class="linenos">25</span><span class="go">   Threshold pref : 5.00 + 0.00x ; percentile: 11.75</span>
<span class="linenos">26</span><span class="go"> gind &#39;Industry income&#39;</span>
<span class="linenos">27</span><span class="go">   Scale = (Decimal(&#39;0.00&#39;), Decimal(&#39;100.00&#39;))</span>
<span class="linenos">28</span><span class="go">   Weight = 0.050</span>
<span class="linenos">29</span><span class="go">   Threshold ind : 2.50 + 0.00x ;  percentile: 11.82</span>
<span class="linenos">30</span><span class="go">   Threshold pref : 5.00 + 0.00x ; percentile: 21.51</span>
</pre></div>
</div>
</div>
<p>Between 6% and 12% of the observed quantile differences are, thus, considered to be <em>insignificant</em>. Similarly, between 77% and 88% are considered to be <em>significant</em>. Less than 1% correspond to <em>considerable</em> quantile differences on both the <em>Teaching</em> and <em>Research</em> criteria; actually triggering an epistemic <em>polarisation</em> effect <a class="reference internal" href="#bis-2013" id="id126"><span>[BIS-2013]</span></a>.</p>
<p>Beside the likely imprecise performance discrimination, the <strong>precise decimal</strong> significance weights, as allocated by the THE authors to the five ranking criteria (see <a class="reference internal" href="#thecscriteria"><span class="std std-numref">Fig. 1.59</span></a> Column <em>Weight</em>) are, as well, quite <strong>questionable</strong>. Significance weights may carry usually hidden strategies for rendering the performance evaluations commensurable in view of a numerical computation of the overall ranking scores. The eventual ranking result is thus as much depending on the precise values of the given criteria significance weights as, vice versa, the given precise significance weights are depending on the subjectively expected and accepted ranking results <a class="footnote-reference brackets" href="#id245" id="id127" role="doc-noteref"><span class="fn-bracket">[</span>42<span class="fn-bracket">]</span></a>. We will therefore drop such precise weights and, instead, only require a corresponding criteria significance preorder: <em>gtch</em> = <em>gres</em> &gt; <em>gcit</em> &gt; <em>gint</em> &gt; <em>gind</em>. <em>Teaching environment</em> and <em>Research volume and reputation</em> are equally considered most important, followed by <em>Research influence</em>. Than comes <em>International outlook in staff, students and research</em> and, least important finally, <em>Industry income and innovation</em>.</p>
<p>Both these working hypotheses: performance <em>discrimitation</em> thresholds and solely <em>ordinal</em> criteria significance, give us way to a ranking methodology based on <strong>robust pairwise outranking</strong> situations <a class="reference internal" href="#bis-2004b" id="id128"><span>[BIS-2004b]</span></a>:</p>
<blockquote>
<div><ul class="simple">
<li><p>We say that CS Dept <em>x</em> <strong>robustly outranks</strong> CS Dept <em>y</em> when <em>x</em> positively outranks <em>y</em> with <strong>all</strong> significance weight vectors that are <strong>compatible</strong> with the <em>significance preorder</em>: <em>gtch</em> = <em>gres</em> &gt; <em>gcit</em> &gt; <em>gint</em> &gt; <em>gind</em>;</p></li>
<li><p>We say that CS Dept <em>x</em> is <strong>robustly outranked</strong> by CS Dept <em>y</em> when <em>x</em> is positively outranked by <em>y</em> with <strong>all</strong> significance weight vectors that are <strong>compatible</strong> with the <em>significance preorder</em>: <em>gtch</em> = <em>gres</em> &gt; <em>gcit</em> &gt; <em>gint</em> &gt; <em>gind</em>;</p></li>
<li><p>Otherwise, CS Depts <em>x</em> and <em>y</em> are considered to be <strong>incomparable</strong>.</p></li>
</ul>
</div></blockquote>
<p>A corresponding digraph constructor is provided by the <a class="reference internal" href="techDoc.html#outrankingDigraphs.RobustOutrankingDigraph" title="outrankingDigraphs.RobustOutrankingDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">RobustOutrankingDigraph</span></code></a> class.</p>
<div class="literal-block-wrapper docutils container" id="robustthecsoutranking">
<div class="code-block-caption"><span class="caption-number">Listing 1.99 </span><span class="caption-text">Computing the robust outranking digraph</span><a class="headerlink" href="#robustthecsoutranking" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">outrankingDigraphs</span> <span class="kn">import</span> <span class="n">RobustOutrankingDigraph</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rdg</span> <span class="o">=</span> <span class="n">RobustOutrankingDigraph</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rdg</span>
<span class="linenos"> 4</span><span class="go"> *------- Object instance description ------*</span>
<span class="linenos"> 5</span><span class="go"> Instance class       : RobustOutrankingDigraph</span>
<span class="linenos"> 6</span><span class="go"> Instance name        : robust_the_cs_2016</span>
<span class="linenos"> 7</span><span class="go"> # Actions            : 75</span>
<span class="hll"><span class="linenos"> 8</span><span class="go"> # Criteria           : 5</span>
</span><span class="linenos"> 9</span><span class="go"> Size                 : 2993</span>
<span class="linenos">10</span><span class="go"> Determinateness (%)  : 78.16</span>
<span class="linenos">11</span><span class="go"> Valuation domain     : [-1.00;1.00]</span>
<span class="linenos">12</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rdg</span><span class="o">.</span><span class="n">computeIncomparabilityDegree</span><span class="p">(</span><span class="n">Comments</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="hll"><span class="linenos">13</span><span class="go"> Incomparability degree (%) of digraph &lt;robust_the_cs_2016&gt;:</span>
</span><span class="linenos">14</span><span class="go">  #links x&lt;-&gt;y y: 2775, #incomparable: 102, #comparable: 2673</span>
<span class="linenos">15</span><span class="go">  (#incomparable/#links) =  0.037</span>
<span class="linenos">16</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rdg</span><span class="o">.</span><span class="n">computeTransitivityDegree</span><span class="p">(</span><span class="n">Comments</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos">17</span><span class="go"> Transitivity degree of digraph &lt;robust_the_cs_2016&gt;:</span>
<span class="hll"><span class="linenos">18</span><span class="go">  #triples x&gt;y&gt;z: 405150, #closed: 218489, #open: 186661</span>
</span><span class="linenos">19</span><span class="go">  (#closed/#triples) =  0.539</span>
<span class="linenos">20</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rdg</span><span class="o">.</span><span class="n">computeSymmetryDegree</span><span class="p">(</span><span class="n">Comments</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos">21</span><span class="go"> Symmetry degree (%) of digraph &lt;robust_the_cs_2016&gt;:</span>
<span class="hll"><span class="linenos">22</span><span class="go">  #arcs x&gt;y: 2673, #symmetric: 320, #asymmetric: 2353</span>
</span><span class="linenos">23</span><span class="go">  (#symmetric/#arcs) =  0.12</span>
</pre></div>
</div>
</div>
<p>In the resulting digraph instance <em>rdg</em> (see <a class="reference internal" href="#robustthecsoutranking"><span class="std std-numref">Listing 1.99</span></a> Line 8), we observe 2993 such <strong>robust pairwise outranking</strong> situations validated with a mean significance of 78% (Line 9). Unfortunately, in our case here, they do not deliver any complete linear ranking relation. The robust outranking digraph <em>rdg</em> contains in fact 102 incomparability situations (3.7%, Line 13); nearly half of its transitive closure is missing (46.1%, Line 18) and 12% of the positive outranking situations correspond in fact to symmetric <em>indifference</em> situations (Line 22).</p>
<p>Worse even, the digraph <em>rdg</em> admits furthermore a high number of outranking circuits.</p>
<div class="literal-block-wrapper docutils container" id="robustcircuits">
<div class="code-block-caption"><span class="caption-number">Listing 1.100 </span><span class="caption-text">Inspecting outranking circuits</span><a class="headerlink" href="#robustcircuits" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rdg</span><span class="o">.</span><span class="n">computeChordlessCircuits</span><span class="p">()</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rdg</span><span class="o">.</span><span class="n">showChordlessCircuits</span><span class="p">()</span>
<span class="linenos"> 3</span><span class="go"> *---- Chordless circuits ----*</span>
<span class="linenos"> 4</span><span class="go"> 145 circuits.</span>
<span class="hll"><span class="linenos"> 5</span><span class="go">   1:  [&#39;albt&#39;, &#39;unlu&#39;, &#39;ariz&#39;, &#39;hels&#39;] , credibility : 0.300</span>
</span><span class="linenos"> 6</span><span class="go">   2:  [&#39;albt&#39;, &#39;tlavu&#39;, &#39;hels&#39;] , credibility : 0.150</span>
<span class="linenos"> 7</span><span class="go">   3:  [&#39;anu&#39;, &#39;man&#39;, &#39;itmo&#39;] , credibility : 0.250</span>
<span class="linenos"> 8</span><span class="go">   4:  [&#39;anu&#39;, &#39;zhej&#39;, &#39;rcu&#39;] , credibility : 0.250</span>
<span class="linenos"> 9</span><span class="go"> ...</span>
<span class="linenos">10</span><span class="go"> ...</span>
<span class="linenos">11</span><span class="go">  82:  [&#39;csb&#39;, &#39;epfr&#39;, &#39;rwth&#39;] , credibility : 0.250</span>
<span class="hll"><span class="linenos">12</span><span class="go">  83:  [&#39;csb&#39;, &#39;epfr&#39;, &#39;pud&#39;, &#39;nyu&#39;] , credibility : 0.250</span>
</span><span class="linenos">13</span><span class="go">  84:  [&#39;csd&#39;, &#39;kcl&#39;, &#39;kist&#39;] , credibility : 0.250</span>
<span class="linenos">14</span><span class="go"> ...</span>
<span class="linenos">15</span><span class="go"> ...</span>
<span class="linenos">16</span><span class="go"> 142:  [&#39;kul&#39;, &#39;qut&#39;, &#39;mil&#39;] , credibility : 0.250</span>
<span class="linenos">17</span><span class="go"> 143:  [&#39;lms&#39;, &#39;rcu&#39;, &#39;tech&#39;] , credibility : 0.300</span>
<span class="linenos">18</span><span class="go"> 144:  [&#39;mil&#39;, &#39;stut&#39;, &#39;qut&#39;] , credibility : 0.300</span>
<span class="linenos">19</span><span class="go"> 145:  [&#39;mil&#39;, &#39;stut&#39;, &#39;tud&#39;] , credibility : 0.300</span>
</pre></div>
</div>
</div>
<p>Among the 145 detected robust outranking circuits reported in <a class="reference internal" href="#robustcircuits"><span class="std std-numref">Listing 1.100</span></a>, we notice, for instance, two outranking circuits of length 4 (see circuits #1 and #83). Let us explore below the bipolar-valued robust outranking characteristics <img class="math" src="_images/math/bdaafcd4d24eb3ad63ff8748325475a2e2e7f1c2.png" alt="r(x \succsim y)"/> of the first circuit.</p>
<div class="literal-block-wrapper docutils container" id="robustdenotation">
<div class="code-block-caption"><span class="caption-number">Listing 1.101 </span><span class="caption-text">Showing the relation table with stability denotation</span><a class="headerlink" href="#robustdenotation" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rdg</span><span class="o">.</span><span class="n">showRelationTable</span><span class="p">(</span><span class="n">actionsSubset</span><span class="o">=</span> <span class="p">[</span><span class="s1">&#39;albt&#39;</span><span class="p">,</span><span class="s1">&#39;unlu&#39;</span><span class="p">,</span><span class="s1">&#39;ariz&#39;</span><span class="p">,</span><span class="s1">&#39;hels&#39;</span><span class="p">],</span>
<span class="linenos"> 2</span><span class="gp">... </span>                      <span class="n">Sorted</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="go"> * ---- Relation Table -----</span>
<span class="linenos"> 5</span><span class="go">  r/(stab)|  &#39;albt&#39; &#39;unlu&#39; &#39;ariz&#39; &#39;hels&#39;</span>
<span class="linenos"> 6</span><span class="go">     -----|------------------------------------------------------------</span>
<span class="linenos"> 7</span><span class="go">   &#39;albt&#39; |  +1.00  +0.30  +0.00  +0.00</span>
<span class="linenos"> 8</span><span class="go">          |   (+4)   (+2)   (-1)   (-1)</span>
<span class="linenos"> 9</span><span class="go">   &#39;unlu&#39; |  +0.00  +1.00  +0.40  +0.00</span>
<span class="linenos">10</span><span class="go">          |   (+0)   (+4)   (+2)   (-1)</span>
<span class="linenos">11</span><span class="go">   &#39;ariz&#39; |  +0.00  -0.12  +1.00  +0.40</span>
<span class="linenos">12</span><span class="go">          |   (+1)   (-2)   (+4)   (+2)</span>
<span class="linenos">13</span><span class="go">   &#39;hels&#39; |  +0.45  +0.00  -0.03  +1.00</span>
<span class="linenos">14</span><span class="go">          |   (+2)   (+1)   (-2)   (+4)</span>
<span class="linenos">15</span><span class="go"> Valuation domain: [-1.0; 1.0]</span>
<span class="linenos">16</span><span class="go"> Stability denotation semantics:</span>
<span class="linenos">17</span><span class="go">  +4|-4 : unanimous outranking | outranked situation;</span>
<span class="linenos">18</span><span class="go">  +2|-2 : outranking | outranked situation validated</span>
<span class="linenos">19</span><span class="go">          with all potential significance weights that are</span>
<span class="linenos">20</span><span class="go">          compatible with the given significance preorder;</span>
<span class="linenos">21</span><span class="go">  +1|-1 : validated outranking | outranked situation with</span>
<span class="linenos">22</span><span class="go">          the given significance weights;</span>
<span class="linenos">23</span><span class="go">    0   : indeterminate relational situation.</span>
</pre></div>
</div>
</div>
<p>In <a class="reference internal" href="#robustdenotation"><span class="std std-numref">Listing 1.101</span></a>, we may notice that the robust outranking circuit [‘albt’, ‘unlu’, ‘ariz’, ‘hels’]  will reappear with all potential criteria significance weight vectors that are compatible with given preorder: <em>gtch</em> = <em>gres</em> &gt; <em>gcit</em> &gt; <em>gint</em> &gt; <em>gind</em>. Notice also the (+1|-1) marked outranking situations, like the one between ‘albt’ and ‘ariz’. The statement that ‘<em>Arizona State University</em> strictly  outranks <em>University of Alberta</em>’ is in fact valid with the precise THE weight vector, but not with all potential weight vectors compatible with the given significance preorder. All these outranking situations are hence put into <strong>doubt</strong> (<img class="math" src="_images/math/8a30d39afc7c614ad6549b81a5a868b3609170ef.png" alt="r(x \succsim y) = 0.00"/>) and the corresponding CS Depts, like <em>University of Alberta</em> and <em>Arizona State University</em>, become <strong>incomparable</strong> in a <em>robust outranking</em> sense.</p>
<p>Showing many incomparabilities and indifferences; not being transitive and containing many robust outranking circuits; all these relational characteristics, make that no ranking algorithm, applied to digraph <em>rdg</em>, does exist that would produce a <em>unique</em> optimal linear ranking result. Methodologically, we are only left with <em>ranking heuristics</em>. In the previous tutorial on <a class="reference internal" href="#ranking-tutorial-label"><span class="std std-ref">ranking with multiple criteria</span></a> we have seen now several potential heuristic ranking rules that may be applied to rank from a pairwise outranking digraph; yet, delivering all potentially more or less diverging results. Considering the order of digraph <em>rdg</em> (75) and the largely unequal THE criteria significance weights, we rather opt, in this tutorial, for the <a class="reference internal" href="#netflows-ranking-label"><span class="std std-ref">NetFlows ranking rule</span></a> <a class="footnote-reference brackets" href="#id244" id="id129" role="doc-noteref"><span class="fn-bracket">[</span>41<span class="fn-bracket">]</span></a>. Its complexity in <img class="math" src="_images/math/cb487c73415b93656e35ddcbb45a04f8f8ee33fa.png" alt="O(n^2)"/> is indeed quite tractable and, by avoiding potential <em>tyranny of short majority</em> effects, the <em>NetFlows</em> rule specifically takes the ranking criteria significance into a more fairly balanced account.</p>
<p>The <em>NetFlows</em> ranking result of the CS Depts may be computed explicitly as follows.</p>
<div class="literal-block-wrapper docutils container" id="robustnetflowsranking">
<div class="code-block-caption"><span class="caption-number">Listing 1.102 </span><span class="caption-text">Computing the robust <em>NetFlows</em> ranking</span><a class="headerlink" href="#robustnetflowsranking" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">nfRanking</span> <span class="o">=</span> <span class="n">rdg</span><span class="o">.</span><span class="n">computeNetFlowsRanking</span><span class="p">()</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">nfRanking</span>
<span class="linenos"> 3</span><span class="go"> [&#39;ethz&#39;, &#39;calt&#39;, &#39;mit&#39;,  &#39;oxf&#39;,   &#39;cmel&#39;, &#39;git&#39;,  &#39;epfl&#39;,</span>
<span class="linenos"> 4</span><span class="go">  &#39;icl&#39;,  &#39;cou&#39;,  &#39;tum&#39;,  &#39;wash&#39;,  &#39;sing&#39;, &#39;hkst&#39;, &#39;ucl&#39;,</span>
<span class="linenos"> 5</span><span class="go">  &#39;uiu&#39;,  &#39;unt&#39;,  &#39;ued&#39;,  &#39;ntu&#39;,   &#39;mcp&#39;,  &#39;csd&#39;,  &#39;cbu&#39;,</span>
<span class="linenos"> 6</span><span class="go">  &#39;uta&#39;,  &#39;tsu&#39;,  &#39;nyu&#39;,  &#39;uwa&#39;,   &#39;csb&#39;,  &#39;kit&#39;,  &#39;utj&#39;,</span>
<span class="linenos"> 7</span><span class="go">  &#39;bju&#39;,  &#39;kcl&#39;,  &#39;chku&#39;, &#39;kist&#39;,  &#39;rwth&#39;, &#39;pud&#39;,  &#39;epfr&#39;,</span>
<span class="linenos"> 8</span><span class="go">  &#39;hku&#39;,  &#39;rcu&#39;,  &#39;cir&#39;,  &#39;dut&#39;,   &#39;ens&#39;,  &#39;ntw&#39;,  &#39;anu&#39;,</span>
<span class="linenos"> 9</span><span class="go">  &#39;tub&#39;,  &#39;mel&#39;,  &#39;lms&#39;,  &#39;bro&#39;,   &#39;frei&#39;, &#39;wtu&#39;,  &#39;tech&#39;,</span>
<span class="linenos">10</span><span class="go">  &#39;itmo&#39;, &#39;zhej&#39;, &#39;man&#39;,  &#39;kuj&#39;,   &#39;kul&#39;,  &#39;unsw&#39;, &#39;glas&#39;,</span>
<span class="linenos">11</span><span class="go">  &#39;utw&#39;,  &#39;unlu&#39;, &#39;naji&#39;, &#39;sou&#39;,   &#39;hkpu&#39;, &#39;qut&#39;,  &#39;humb&#39;,</span>
<span class="linenos">12</span><span class="go">  &#39;shJi&#39;, &#39;stut&#39;, &#39;tud&#39;,  &#39;tlavu&#39;, &#39;cihk&#39;, &#39;albt&#39;, &#39;indis&#39;,</span>
<span class="linenos">13</span><span class="go">  &#39;ariz&#39;, &#39;kth&#39;,  &#39;hels&#39;, &#39;eind&#39;,  &#39;mil&#39;]</span>
</pre></div>
</div>
</div>
<p>We actually obtain a very similar ranking result as the one obtained with the THE overall scores. The same group of seven Depts: <em>ethz</em>, <em>calt</em>, <em>mit</em>, <em>oxf</em>, <em>cmel</em>, <em>git</em> and <em>epfl</em>, is top-ranked. And a same group of Depts: <em>tlavu</em>, <em>cihk</em>, <em>indis</em>, <em>ariz</em>, <em>kth</em>, <em>‘hels</em>, <em>eind</em>, and <em>mil</em> appears at the end of the list.</p>
<p>We may print out the difference between the <em>overall scores</em> based THE ranking and our <em>NetFlows</em> ranking with the following short Python script, where we make use of an ordered Python dictionary with <em>net flow scores</em>, stored in the <em>rdg.netFlowsRankingDict</em> attribute by the previous computation.</p>
<div class="literal-block-wrapper docutils container" id="printrobustnetflowsranking">
<div class="code-block-caption"><span class="caption-number">Listing 1.103 </span><span class="caption-text">Comparing the robust <em>NetFlows</em> ranking with the THE ranking</span><a class="headerlink" href="#printrobustnetflowsranking" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># rdg.netFlowsRankingDict: ordered dictionary with net flow</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># scores stored in rdg by the computeNetFlowsRanking() method</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># theScores = [(xScore_1,x_1), (xScore_2,x_2),... ]</span>
<span class="linenos"> 4</span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># is sorted in decreasing order of xscores_i</span>
<span class="linenos"> 5</span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span>\
<span class="linenos"> 6</span><span class="gp">... </span> <span class="s1">&#39; NetFlows ranking   gtch  gres  gcit  gint  gind   THE ranking&#39;</span><span class="p">)</span>
<span class="linenos"> 7</span>
<span class="linenos"> 8</span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">75</span><span class="p">):</span>
<span class="linenos"> 9</span><span class="gp">... </span>    <span class="n">x</span> <span class="o">=</span> <span class="n">nfRanking</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="linenos">10</span><span class="gp">... </span>    <span class="n">xScore</span> <span class="o">=</span> <span class="n">rdg</span><span class="o">.</span><span class="n">netFlowsRankingDict</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="s1">&#39;netFlow&#39;</span><span class="p">]</span>
<span class="linenos">11</span><span class="gp">... </span>    <span class="n">thexScore</span><span class="p">,</span><span class="n">thex</span> <span class="o">=</span> <span class="n">theScores</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="linenos">12</span><span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%2d</span><span class="s1">: </span><span class="si">%s</span><span class="s1"> (</span><span class="si">%.2f</span><span class="s1">) &#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">xScore</span><span class="p">),</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39; </span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">13</span><span class="gp">... </span>    <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">rdg</span><span class="o">.</span><span class="n">criteria</span><span class="p">:</span>
<span class="linenos">14</span><span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%.1f</span><span class="s1"> &#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">x</span><span class="p">]),</span><span class="n">end</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
<span class="linenos">15</span><span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39; </span><span class="si">%s</span><span class="s1"> (</span><span class="si">%.2f</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">thex</span><span class="p">,</span><span class="n">thexScore</span><span class="p">)</span> <span class="p">)</span>
<span class="linenos">16</span>
<span class="linenos">17</span><span class="go">  NetFlows ranking   gtch  gres  gcit  gint  gind   THE ranking</span>
<span class="linenos">18</span><span class="go">  1: ethz (116.95)   89.2  97.3  97.1  93.6  64.1   ethz (92.88)</span>
<span class="linenos">19</span><span class="go">  2: calt (116.15)   91.5  96.0  99.8  59.1  85.9   calt (92.42)</span>
<span class="hll"><span class="linenos">20</span><span class="go">  3: mit (112.72)    87.3  95.4  99.4  73.9  87.5   oxf (92.20)</span>
</span><span class="hll"><span class="linenos">21</span><span class="go">  4: oxf (112.00)    94.0  92.0  98.8  93.6  44.3   mit (92.06)</span>
</span><span class="linenos">22</span><span class="go">  5: cmel (101.60)   88.1  92.3  99.4  58.9  71.1   git (89.88)</span>
<span class="linenos">23</span><span class="go">  6: git (93.40)     87.2  99.7  91.3  63.0  79.5   cmel (89.43)</span>
<span class="linenos">24</span><span class="go">  7: epfl (90.88)    86.3  91.6  94.8  97.2  42.7   icl (89.00)</span>
<span class="linenos">25</span><span class="go">  8: icl (90.62)     90.1  87.5  95.1  94.3  49.9   epfl (88.86)</span>
<span class="linenos">26</span><span class="go">  9: cou (84.60)     81.6  94.1  99.7  55.7  45.7   tum (87.70)</span>
<span class="linenos">27</span><span class="go"> 10: tum (80.42)     87.6  95.1  87.9  52.9  95.1   sing (86.86)</span>
<span class="linenos">28</span><span class="go"> 11: wash (76.28)    84.4  88.7  99.3  57.4  41.2   cou (86.59)</span>
<span class="linenos">29</span><span class="go"> 12: sing (73.05)    89.9  91.3  83.0  95.3  50.6   ucl (86.05)</span>
<span class="linenos">30</span><span class="go"> 13: hkst (71.05)    74.3  92.0  96.2  84.4  55.8   wash (85.60)</span>
<span class="linenos">31</span><span class="go"> 14: ucl (66.78)     85.5  90.3  87.6  94.7  42.4   hkst (85.47)</span>
<span class="linenos">32</span><span class="go"> 15: uiu (64.80)     85.0  83.1  99.2  51.4  42.2   ntu (85.46)</span>
<span class="linenos">33</span><span class="go"> 16: unt (62.65)     79.9  84.4  99.6  77.6  38.4   ued (85.03)</span>
<span class="linenos">34</span><span class="go"> 17: ued (58.67)     85.7  85.3  89.7  95.0  38.8   unt (84.42)</span>
<span class="linenos">35</span><span class="go"> 18: ntu (57.88)     76.6  87.7  90.4  92.9  86.9   uiu (83.67)</span>
<span class="linenos">36</span><span class="go"> 19: mcp (54.08)     79.7  89.3  94.6  29.8  51.7   mcp (81.53)</span>
<span class="linenos">37</span><span class="go"> 20: csd (46.62)     75.2  81.6  99.8  39.7  59.8   cbu (81.25)</span>
<span class="linenos">38</span><span class="go"> 21: cbu (44.27)     81.2  78.5  94.7  66.9  45.7   tsu (80.91)</span>
<span class="linenos">39</span><span class="go"> 22: uta (43.27)     72.6  85.3  99.6  31.6  49.7   csd (80.45)</span>
<span class="linenos">40</span><span class="go"> 23: tsu (42.42)     88.1  90.2  76.7  27.1  85.9   uwa (80.02)</span>
<span class="linenos">41</span><span class="go"> 24: nyu (35.30)     71.1  77.4  99.4  78.0  39.8   nyu (79.72)</span>
<span class="linenos">42</span><span class="go"> 25: uwa (28.88)     75.3  82.6  91.3  72.9  41.5   uta (79.61)</span>
<span class="linenos">43</span><span class="go"> 26: csb (18.18)     65.6  70.9  94.8  72.9  74.9   kit (77.94)</span>
<span class="linenos">44</span><span class="go"> 27: kit (16.32)     73.8  85.5  84.4  41.3  76.8   bju (77.04)</span>
<span class="linenos">45</span><span class="go"> 28: utj (15.95)     92.0  91.7  48.7  25.8  49.6   csb (76.23)</span>
<span class="linenos">46</span><span class="go"> 29: bju (15.45)     83.0  85.3  70.1  30.7  99.4   rwth (76.06)</span>
<span class="linenos">47</span><span class="go"> 30: kcl (11.95)     45.5  94.6  86.3  95.1  38.3   hku (75.41)</span>
<span class="linenos">48</span><span class="go"> 31: chku (9.43)     64.1  69.3  94.7  75.6  49.9   pud (75.17)</span>
<span class="linenos">49</span><span class="go"> 32: kist (7.30)     79.4  88.2  64.2  31.6  92.8   kist (74.94)</span>
<span class="linenos">50</span><span class="go"> 33: rwth (5.00)     77.8  85.0  70.8  43.7  89.4   kcl (74.81)</span>
<span class="linenos">51</span><span class="go"> 34: pud (2.40)      76.9  84.8  70.8  58.1  56.7   chku (74.23)</span>
<span class="linenos">52</span><span class="go"> 35: epfr (-1.70)    81.7  60.6  78.1  85.3  62.9   epfr (73.71)</span>
<span class="hll"><span class="linenos">53</span><span class="go"> 36: hku (-3.83)     77.0  73.0  77.0  96.8  39.5   dut (73.44)</span>
</span><span class="linenos">54</span><span class="go"> 37: rcu (-6.38)     64.1  53.8  99.4  63.7  46.1   tub (73.25)</span>
<span class="linenos">55</span><span class="go"> 38: cir (-8.20)     68.8  64.6  93.0  65.1  40.4   utj (72.92)</span>
<span class="linenos">56</span><span class="go"> 39: dut (-8.85)     64.1  78.3  76.3  69.8  90.1   cir (72.50)</span>
<span class="linenos">57</span><span class="go"> 40: ens (-8.97)     71.8  40.9  98.7  69.6  43.5   ntw (72.00)</span>
<span class="linenos">58</span><span class="go"> 41: ntw (-11.15)    81.5  79.8  66.6  25.5  67.6   anu (70.57)</span>
<span class="linenos">59</span><span class="go"> 42: anu (-11.50)    47.2  73.0  92.2  90.0  48.1   rcu (69.79)</span>
<span class="linenos">60</span><span class="go"> 43: tub (-12.20)    66.2  82.4  71.0  55.4  99.9   mel (69.67)</span>
<span class="linenos">61</span><span class="go"> 44: mel (-23.98)    56.1  70.2  83.7  83.3  50.4   lms (68.38)</span>
<span class="linenos">62</span><span class="go"> 45: lms (-25.43)    81.5  68.1  61.0  31.1  87.8   ens (68.35)</span>
<span class="linenos">63</span><span class="go"> 46: bro (-27.18)    58.5  54.9  96.8  52.3  38.6   wtu (67.86)</span>
<span class="linenos">64</span><span class="go"> 47: frei (-34.42)   54.2  51.6  89.5  49.7  99.9   tech (67.06)</span>
<span class="linenos">65</span><span class="go"> 48: wtu (-35.05)    61.8  73.5  73.7  51.9  62.2   bro (66.49)</span>
<span class="linenos">66</span><span class="go"> 49: tech (-37.95)   54.9  71.0  85.1  51.7  40.1   man (66.33)</span>
<span class="linenos">67</span><span class="go"> 50: itmo (-38.50)   58.0  32.0  98.7  39.2  68.7   zhej (65.34)</span>
<span class="linenos">68</span><span class="go"> 51: zhej (-43.70)   73.5  70.4  60.7  22.6  75.7   frei (65.08)</span>
<span class="linenos">69</span><span class="go"> 52: man (-44.83)    63.5  71.9  62.9  84.1  42.1   unsw (63.65)</span>
<span class="linenos">70</span><span class="go"> 53: kuj (-47.40)    75.4  72.8  49.5  28.3  51.4   kuj (62.77)</span>
<span class="linenos">71</span><span class="go"> 54: kul (-49.98)    35.2  55.8  92.0  46.0  88.3   sou (62.15)</span>
<span class="linenos">72</span><span class="go"> 55: unsw (-54.88)   60.2  58.2  70.5  87.0  44.3   shJi (61.35)</span>
<span class="linenos">73</span><span class="go"> 56: glas (-56.98)   35.2  52.5  91.2  85.8  39.2   itmo (60.52)</span>
<span class="linenos">74</span><span class="go"> 57: utw (-59.27)    38.2  52.8  87.0  69.0  60.0   kul (60.47)</span>
<span class="linenos">75</span><span class="go"> 58: unlu (-60.08)   35.2  44.2  87.4  99.7  54.1   glas (59.78)</span>
<span class="linenos">76</span><span class="go"> 59: naji (-60.52)   51.4  76.9  48.8  39.7  74.4   utw (59.40)</span>
<span class="linenos">77</span><span class="go"> 60: sou (-60.83)    48.2  60.7  75.5  87.4  43.2   stut (58.85)</span>
<span class="linenos">78</span><span class="go"> 61: hkpu (-62.05)   46.8  36.5  91.4  73.2  41.5   naji (58.61)</span>
<span class="linenos">79</span><span class="go"> 62: qut (-66.17)    45.5  42.6  82.8  75.2  63.0   tud (58.28)</span>
<span class="hll"><span class="linenos">80</span><span class="go"> 63: humb (-68.10)   48.4  31.3  94.7  41.5  45.5   unlu (58.04)</span>
</span><span class="linenos">81</span><span class="go"> 64: shJi (-69.72)   66.9  68.3  62.4  22.8  38.5   qut (57.99)</span>
<span class="linenos">82</span><span class="go"> 65: stut (-69.90)   54.2  60.6  61.1  36.3  97.8   hkpu (57.69)</span>
<span class="linenos">83</span><span class="go"> 66: tud (-70.83)    46.6  53.6  75.9  53.7  66.5   albt (57.63)</span>
<span class="linenos">84</span><span class="go"> 67: tlavu (-71.50)  34.1  57.2  89.0  45.3  38.6   mil (57.47)</span>
<span class="linenos">85</span><span class="go"> 68: cihk (-72.20)   42.4  44.9  80.1  76.2  67.9   hels (57.40)</span>
<span class="linenos">86</span><span class="go"> 69: albt (-72.33)   39.2  53.3  69.9  91.9  75.4   cihk (57.33)</span>
<span class="linenos">87</span><span class="go"> 70: indis (-72.53)  56.9  76.1  49.3  20.1  41.5   tlavu (57.19)</span>
<span class="linenos">88</span><span class="go"> 71: ariz (-75.10)   28.4  61.8  84.3  59.3  42.0   indis (57.04)</span>
<span class="linenos">89</span><span class="go"> 72: kth (-77.10)    44.8  42.0  83.6  71.6  39.2   ariz (56.79)</span>
<span class="linenos">90</span><span class="go"> 73: hels (-79.55)   48.8  49.6  80.4  50.6  39.5   kth (56.36)</span>
<span class="linenos">91</span><span class="go"> 74: eind (-82.85)   32.4  48.4  81.5  72.2  45.8   humb (55.34)</span>
<span class="linenos">92</span><span class="go"> 75: mil (-83.67)    46.4  64.3  69.2  44.1  38.5   eind (54.36)</span>
</pre></div>
</div>
</div>
<p>The first inversion we observe in <a class="reference internal" href="#printrobustnetflowsranking"><span class="std std-numref">Listing 1.103</span></a> (Lines 20-21) concerns <em>Oxford University</em> and the <em>MIT</em>, switching positions 3 and 4. Most inversions are similarly short and concern only switching very close positions in either way. There are some slightly more important inversions concerning, for instance, the <em>Hong Kong University</em> CS Dept, ranked into position 30 in the THE ranking and here in the position 36 (Line 53). The opposite situation may also happen; the <em>Berlin Humboldt University</em> CS Dept, occupying the 74th position in the THE ranking, advances in the <em>NetFlows</em> ranking to position 63 (Line 80).</p>
<p>In our bipolar-valued epistemic framework, the <em>NetFlows</em> score of any CS Dept <em>x</em> (see <a class="reference internal" href="#printrobustnetflowsranking"><span class="std std-numref">Listing 1.103</span></a>) corresponds to the criteria significance support for the logical statement (<em>x</em> is <em>first</em>-ranked). Formally</p>
<blockquote>
<div><p>r(<em>x</em> is <em>first</em>-ranked) <img class="math" src="_images/math/b5934071c456b1a8a5cee45b60323cd3a218652f.png" alt="= \; \sum_{y \neq x} r\big((x \succsim y) \,+\, (y \not\succsim x)\big) \;=\; \sum_{y \neq x} \big(r(x \succsim y) - r(y \succsim x)\big)"/></p>
</div></blockquote>
<p>Using the robust outranking characteristics of digraph <em>rdg</em>, we may thus explicitly compute, for instance, <em>ETH Zürich</em>’s score, denoted <em>nfx</em> below.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;ethz&#39;</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">nfx</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0&#39;</span><span class="p">)</span>
<span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">rdg</span><span class="o">.</span><span class="n">actions</span><span class="p">:</span>
<span class="linenos">4</span><span class="gp">... </span>    <span class="k">if</span> <span class="n">x</span> <span class="o">!=</span> <span class="n">y</span><span class="p">:</span>
<span class="linenos">5</span><span class="gp">... </span>        <span class="n">nfx</span> <span class="o">+=</span> <span class="p">(</span><span class="n">rdg</span><span class="o">.</span><span class="n">relation</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="p">]</span> <span class="o">-</span> <span class="n">rdg</span><span class="o">.</span><span class="n">relation</span><span class="p">[</span><span class="n">y</span><span class="p">][</span><span class="n">x</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">nfx</span><span class="p">)</span>
<span class="linenos">2</span><span class="go"> ethz 116.950</span>
</pre></div>
</div>
<p>In <a class="reference internal" href="#printrobustnetflowsranking"><span class="std std-numref">Listing 1.103</span></a> (Line 18), we may now verify that <em>ETH Zürich</em> obtains indeed the highest <em>NetFlows</em> score, and gives, hence the <strong>most credible</strong> <em>first</em>-ranked CS Dept of the 75 potential candidates.</p>
<p>How may we now convince the reader, that our pairwise outranking based ranking result here appears more objective and trustworthy, than the classic value theory based THE ranking by overall scores?</p>
</section>
<section id="how-to-judge-the-quality-of-a-ranking-result">
<h4><a class="toc-backref" href="#id403" role="doc-backlink"><span class="section-number">1.4.2.3. </span>How to judge the quality of a ranking result?</a><a class="headerlink" href="#how-to-judge-the-quality-of-a-ranking-result" title="Link to this heading"></a></h4>
<p>In a multiple criteria based ranking problem, inspecting pairwise marginal performance differences may give objectivity to global preferential statements. That a CS Dept <em>x</em> convincingly outranks Dept <em>y</em> may thus conveniently be checked. The <em>ETH Zürich</em> CS Dept is, for instance, first ranked before <em>Caltech</em>’s Dept in both previous rankings. Lest us check the preferential reasons.</p>
<div class="literal-block-wrapper docutils container" id="pairwisecomparisons">
<div class="code-block-caption"><span class="caption-number">Listing 1.104 </span><span class="caption-text">Comparing pairwise criteria performances</span><a class="headerlink" href="#pairwisecomparisons" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rdg</span><span class="o">.</span><span class="n">showPairwiseOutrankings</span><span class="p">(</span><span class="s1">&#39;ethz&#39;</span><span class="p">,</span><span class="s1">&#39;calt&#39;</span><span class="p">)</span>
<span class="linenos"> 2</span><span class="go"> *------------  pairwise comparisons ----*</span>
<span class="linenos"> 3</span><span class="go"> Valuation in range: -100.00 to +100.00</span>
<span class="linenos"> 4</span><span class="go"> Comparing actions : (ethz, calt)</span>
<span class="linenos"> 5</span><span class="go"> crit. wght.  g(x)  g(y)    diff     | ind   pref    r()     |</span>
<span class="linenos"> 6</span><span class="go"> -------------------------------      ------------------------</span>
<span class="linenos"> 7</span><span class="go"> gcit   27.50  97.10  99.80  -2.70   | 2.50  5.00   +0.00    |</span>
<span class="linenos"> 8</span><span class="go"> gind   5.00  64.10  85.90  -21.80   | 2.50  5.00   -5.00    |</span>
<span class="hll"><span class="linenos"> 9</span><span class="go"> gint   7.50  93.60  59.10  +34.50   | 2.50  5.00   +7.50    |</span>
</span><span class="linenos">10</span><span class="go"> gres   30.00  97.30  96.00  +1.30   | 2.50  5.00   +30.00   |</span>
<span class="linenos">11</span><span class="go"> gtch   30.00  89.20  91.50  -2.30   | 2.50  5.00   +30.00   |</span>
<span class="linenos">12</span><span class="go">                                         r(x &gt;= y): +62.50</span>
<span class="linenos">13</span><span class="go"> crit. wght.  g(y)  g(x)    diff     | ind   pref    r()     |</span>
<span class="linenos">14</span><span class="go"> -------------------------------      ------------------------</span>
<span class="linenos">15</span><span class="go"> gcit   27.50  99.80  97.10  +2.70   | 2.50  5.00   +27.50   |</span>
<span class="hll"><span class="linenos">16</span><span class="go"> gind   5.00  85.90  64.10  +21.80   | 2.50  5.00    +5.00   |</span>
</span><span class="linenos">17</span><span class="go"> gint   7.50  59.10  93.60  -34.50   | 2.50  5.00    -7.50   |</span>
<span class="linenos">18</span><span class="go"> gres   30.00  96.00  97.30  -1.30   | 2.50  5.00   +30.00   |</span>
<span class="linenos">19</span><span class="go"> gtch   30.00  91.50  89.20  +2.30   | 2.50  5.00   +30.00   |</span>
<span class="linenos">20</span><span class="go">                                         r(y &gt;= x): +85.00</span>
</pre></div>
</div>
</div>
<p>A significant positive performance difference (+34.50), concerning the <em>International outlook</em> criterion (of 7,5% significance), may be observed in favour of the <em>ETH Zürich</em> Dept (Line 9 above). Similarly, a significant positive performance difference (+21.80), concerning the <em>Industry income</em> criterion (of 5% significance), may be observed, this time, in favour of the <em>Caltech</em> Dept. The former, larger positive, performance difference, observed on a more significant criterion, gives so far a first convincing argument of 12.5% significance for putting <em>ETH Zürich</em> first, before <em>Caltech</em>. Yet, the slightly positive performance difference (+2.70) between <em>Caltech</em> and <em>ETH Zürich</em> on the <em>Citations</em> criterion (of 27.5% significance) confirms an <em>at least as good as</em> situation in favour of the <em>Caltech</em> Dept.</p>
<p>The inverse negative performance difference (-2.70), however, is neither <em>significant</em> (&lt; -5.00), nor insignificant (&gt; -2.50), and does hence <strong>neither confirm nor infirm</strong> a <em>not at least as good as</em> situation in disfavour of <em>ETH Zürich</em>. We observe here a convincing argument of 27.5% significance for putting <em>Caltech</em> first, before <em>ETH Zürich</em>.</p>
<p>Notice finally, that, on the <em>Teaching</em> and <em>Research</em> criteria of total significance 60%, both Depts do, with performance differences &lt; abs(2.50), one as well as the other. As these two major performance criteria necessarily support together always the highest significance with the imposed significance weight preorder: <em>gtch</em> = <em>gres</em> &gt; <em>gcit</em> &gt; <em>gint</em> &gt; <em>gind</em>, both outranking situations get in fact globally confirmed at stability level <em>+2</em> (see the advanced topic <a class="reference internal" href="pearls.html#stable-outranking-tutorial-label"><span class="std std-ref">on stable outrankings with multiple criteria of ordinal significance</span></a>).</p>
<p>We may well illustrate all such <em>stable outranking</em> situations with a browser view of the corresponding robust relation map using our <em>NetFlows</em> ranking.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rdg</span><span class="o">.</span><span class="n">showHTMLRelationMap</span><span class="p">(</span><span class="n">tableTitle</span><span class="o">=</span><span class="s1">&#39;Robust Outranking Map&#39;</span><span class="p">,</span>
<span class="gp">... </span>                        <span class="n">rankingRule</span><span class="o">=</span><span class="s1">&#39;NetFlows&#39;</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="therelationmap">
<a class="reference internal image-reference" href="_images/the_cs_RelationMap.png"><img alt="_images/the_cs_RelationMap.png" src="_images/the_cs_RelationMap.png" style="width: 600px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.60 </span><span class="caption-text">Relation map of the robust outranking relation</span><a class="headerlink" href="#therelationmap" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>In <a class="reference internal" href="#therelationmap"><span class="std std-numref">Fig. 1.60</span></a>, <strong>dark green</strong>, resp. <strong>light green</strong> marked positions show <em>certainly</em>, resp. <em>positively</em> valid <strong>outranking</strong> situations, whereas <strong>dark red</strong>, resp. <strong>light red</strong> marked positions show <em>certainly</em>, respectively <em>positively</em> valid <strong>outranked</strong> situations. In the left upper corner we may verify that the five top-ranked Depts ([‘ethz’, ‘calt’, ‘oxf’, ‘mit’, ‘cmel’]) are indeed mutually outranking each other and thus are to be considered all <em>indifferent</em>. They are even robust <em>Condorcet</em> winners, i.e positively outranking all other Depts. We may by the way notice that no certainly valid outranking (dark green) and no certainly valid outranked situations (dark red) appear <strong>below</strong>, resp. <strong>above</strong> the principal diagonal; none of these are hence violated by our <em>netFlows</em> ranking.</p>
<p>The non reflexive <strong>white</strong> positions in the relation map, mark outranking or outranked situations that are <strong>not robust</strong> with respect to the given significance weight preorder. They are, hence, put into doubt and set to the <em>indeterminate</em> characteristic value <strong>0</strong>.</p>
<p>By measuring the <strong>ordinal correlation</strong> with the underlying pairwise <em>global</em> and <em>marginal</em> robust outranking situations, the <strong>quality</strong> of the robust <em>netFlows</em> ranking result may be formally evaluated <a class="footnote-reference brackets" href="#id231" id="id130" role="doc-noteref"><span class="fn-bracket">[</span>27<span class="fn-bracket">]</span></a>.</p>
<div class="literal-block-wrapper docutils container" id="robustnetflowsrankingquality">
<div class="code-block-caption"><span class="caption-number">Listing 1.105 </span><span class="caption-text">Measuring the quality of the <em>NetFlows</em> ranking result</span><a class="headerlink" href="#robustnetflowsrankingquality" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">corrnf</span> <span class="o">=</span> <span class="n">rdg</span><span class="o">.</span><span class="n">computeRankingCorrelation</span><span class="p">(</span><span class="n">nfRanking</span><span class="p">)</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rdg</span><span class="o">.</span><span class="n">showCorrelation</span><span class="p">(</span><span class="n">corrnf</span><span class="p">)</span>
<span class="linenos">3</span><span class="go"> Correlation indexes:</span>
<span class="linenos">4</span><span class="go">  Crisp ordinal correlation  : +0.901</span>
<span class="linenos">5</span><span class="go">  Epistemic determination    :  0.563</span>
<span class="linenos">6</span><span class="go">  Bipolar-valued equivalence : +0.507</span>
</pre></div>
</div>
</div>
<p>In <a class="reference internal" href="#robustnetflowsrankingquality"><span class="std std-numref">Listing 1.105</span></a> (Line 4), we may notice that the <em>NetFlows</em> ranking result is indeed highly ordinally correlated (+0.901, in <em>Kendall</em>’s index <em>tau</em> sense) with the pairwise global robust outranking relation. Their bipolar-valued <em>relational equivalence</em>  value (+0.51, Line 6) indicates a more than 75% criteria significance support.</p>
<p>We may as well check how the <em>netFlows</em> ranking rule is actually balancing the five ranking criteria.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rdg</span><span class="o">.</span><span class="n">showRankingConsensusQuality</span><span class="p">(</span><span class="n">nfRanking</span><span class="p">)</span>
<span class="linenos"> 2</span><span class="go"> Criterion (weight): correlation</span>
<span class="linenos"> 3</span><span class="go"> -------------------------------</span>
<span class="linenos"> 4</span><span class="go">   gtch (0.300): +0.660</span>
<span class="linenos"> 5</span><span class="go">   gres (0.300): +0.638</span>
<span class="linenos"> 6</span><span class="go">   gcit (0.275): +0.370</span>
<span class="linenos"> 7</span><span class="go">   gint (0.075): +0.155</span>
<span class="linenos"> 8</span><span class="go">   gind (0.050): +0.101</span>
<span class="linenos"> 9</span><span class="go">  Summary:</span>
<span class="linenos">10</span><span class="go">  Weighted mean marginal correlation (a): +0.508</span>
<span class="linenos">11</span><span class="go">  Standard deviation (b)                : +0.187</span>
<span class="linenos">12</span><span class="go">  Ranking fairness (a)-(b)              : +0.321</span>
</pre></div>
</div>
<p>The correlations with the marginal performance criterion rankings are nearly respecting the given significance weights preorder: <em>gtch</em> ~ <em>gres</em> &gt; <em>gcit</em> &gt; <em>gint</em> &gt; <em>gind</em> (see above Lines 4-8). The mean <em>marginal correlation</em> is quite high (+0.51). Coupled with a low standard deviation (0.187), we obtain a rather fairly balanced ranking result (Lines 10-12).</p>
<p>We may also inspect the mutual correlation indexes observed between the marginal criterion robust outranking relations.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rdg</span><span class="o">.</span><span class="n">showCriteriaCorrelationTable</span><span class="p">()</span>
<span class="linenos">2</span><span class="go"> Criteria ordinal correlation index</span>
<span class="linenos">3</span><span class="go">      |  gcit    gind    gint    gres    gtch</span>
<span class="linenos">4</span><span class="go"> -----|------------------------------------------</span>
<span class="linenos">5</span><span class="go"> gcit | +1.00   -0.11   +0.24   +0.13   +0.17</span>
<span class="linenos">6</span><span class="go"> gind |         +1.00   -0.18   +0.15   +0.15</span>
<span class="linenos">7</span><span class="go"> gint |                 +1.00   +0.04   -0.00</span>
<span class="linenos">8</span><span class="go"> gres |                         +1.00   +0.67</span>
<span class="linenos">9</span><span class="go"> gtch |                                 +1.00</span>
</pre></div>
</div>
<p>Slightly contradictory (-0.11) appear the <em>Citations</em> and <em>Industrial income</em> criteria (Line 5 Column 3). Due perhaps to potential confidentiality clauses, it seams not always possible to publish industrially relevant research results in highly ranked journals. However, criteria <em>Citations</em> and <em>International outlook</em> show a slightly positive correlation (+0.24, Column 4), whereas the <em>International outlook</em> criterion shows no apparent correlation with both the major <em>Teaching</em> and <em>Research</em> criteria. The latter are however highly correlated (+0.67. Line 9 Column 6).</p>
<p>A <em>Principal Component Analysis</em> may well illustrate the previous findings.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rdg</span><span class="o">.</span><span class="n">export3DplotOfCriteriaCorrelation</span><span class="p">(</span><span class="n">graphType</span><span class="o">=</span><span class="s1">&#39;png&#39;</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="thecs3dcorrelation">
<a class="reference internal image-reference" href="_images/the_cs_3Dcorrelation.png"><img alt="_images/the_cs_3Dcorrelation.png" src="_images/the_cs_3Dcorrelation.png" style="width: 400pt;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.61 </span><span class="caption-text">3D PCA plot of the pairwise criteria correlation table</span><a class="headerlink" href="#thecs3dcorrelation" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>In <a class="reference internal" href="#thecs3dcorrelation"><span class="std std-numref">Fig. 1.61</span></a> (factors 1 and 2 plot) we may notice, first, that more than 80% of the total variance of the previous correlation table is explained by the apparent opposition between the marginal outrankings of criteria: <em>Teaching</em>, <em>Research</em> &amp; <em>Industry income</em> on the left side, and the marginal outrankings of criteria: <em>Citations</em> &amp; <em>international outlook</em> on the right side. Notice also in the left lower corner the nearly identical positions of the marginal outrankings of the major <em>Teaching</em> &amp; <em>Research</em> criteria. In the factors 2 and 3 plot, about 30% of the total variance is captured by the opposition between the marginal outrankings of the <em>Teaching</em> &amp; <em>Research</em> criteria and the marginal outrankings of the <em>Industrial income</em> criterion. Finally, in the factors 1 and 3 plot, nearly 15% of the total variance is explained by the opposition between the marginal outrankings of the <em>International outlook</em> criterion and the marginal outrankings of the <em>Citations</em> criterion.</p>
<p>It may, finally, be interesting to assess, similarly, the ordinal correlation of the THE overall scores based ranking with respect to our robust outranking situations.</p>
<div class="literal-block-wrapper docutils container" id="therankingquality">
<div class="code-block-caption"><span class="caption-number">Listing 1.106 </span><span class="caption-text">Computing the ordinal quality of the THE ranking</span><a class="headerlink" href="#therankingquality" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># theScores = [(xScore_1,x_1), (xScore_2,x_2),... ]</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># is sorted in decreasing order of xscores</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">theRanking</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">theScores</span><span class="p">]</span>
<span class="linenos"> 4</span><span class="gp">&gt;&gt;&gt; </span><span class="n">corrthe</span> <span class="o">=</span> <span class="n">rdg</span><span class="o">.</span><span class="n">computeRankingCorrelation</span><span class="p">(</span><span class="n">theRanking</span><span class="p">)</span>
<span class="linenos"> 5</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rdg</span><span class="o">.</span><span class="n">showCorrelation</span><span class="p">(</span><span class="n">corrthe</span><span class="p">)</span>
<span class="linenos"> 6</span><span class="go"> Correlation indexes:</span>
<span class="linenos"> 7</span><span class="go">  Crisp ordinal correlation  : +0.907</span>
<span class="linenos"> 8</span><span class="go">  Epistemic determination    :  0.563</span>
<span class="linenos"> 9</span><span class="go">  Bipolar-valued equivalence : +0.511</span>
<span class="linenos">10</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rdg</span><span class="o">.</span><span class="n">showRankingConsensusQuality</span><span class="p">(</span><span class="n">theRanking</span><span class="p">)</span>
<span class="linenos">11</span><span class="go"> Criterion (weight): correlation</span>
<span class="linenos">12</span><span class="go"> -------------------------------</span>
<span class="linenos">13</span><span class="go">  gtch (0.300): +0.683</span>
<span class="linenos">14</span><span class="go">  gres (0.300): +0.670</span>
<span class="linenos">15</span><span class="go">  gcit (0.275): +0.319</span>
<span class="linenos">16</span><span class="go">  gint (0.075): +0.161</span>
<span class="linenos">17</span><span class="go">  gind (0.050): +0.106</span>
<span class="linenos">18</span><span class="go"> Summary:</span>
<span class="linenos">19</span><span class="go">  Weighted mean marginal correlation (a): +0.511</span>
<span class="linenos">20</span><span class="go">  Standard deviation (b)                : +0.210</span>
<span class="linenos">21</span><span class="go">  Ranking fairness (a)-(b)              : +0.302</span>
</pre></div>
</div>
</div>
<p>The THE ranking result is similarly correlated (+0.907, Line 7) with the pairwise global robust outranking relation. By its overall weighted scoring rule, the THE ranking induces marginal criterion correlations that are naturally compatible with the given significance weight preorder (Lines 13-17). Notice that the mean marginal correlation is of a similar value (+0.51, Line 19) as the <em>netFlows</em> ranking’s. Yet, its standard deviation is higher, which leads to a slightly less fair balancing of the three major ranking criteria.</p>
<p>To conclude, let us emphasize, that, without any commensurability hypothesis and by taking, furthermore, into account, first, the always present more or less imprecision of any performance grading and, secondly, solely ordinal criteria significance weights, we may obtain here with our robust outranking approach a very similar ranking result with more or less a same, when not better, preference modelling quality. A convincing heatmap view of the 25 first-ranked Institutions may be generated in the default system browser with following command.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rdg</span><span class="o">.</span><span class="n">showHTMLPerformanceHeatmap</span><span class="p">(</span>
<span class="linenos">2</span><span class="gp">... </span>      <span class="n">WithActionNames</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="linenos">3</span><span class="gp">... </span>      <span class="n">outrankingModel</span><span class="o">=</span><span class="s1">&#39;this&#39;</span><span class="p">,</span>
<span class="linenos">4</span><span class="gp">... </span>      <span class="n">rankingRule</span><span class="o">=</span><span class="s1">&#39;NetFlows&#39;</span><span class="p">,</span>
<span class="linenos">5</span><span class="gp">... </span>      <span class="n">ndigits</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<span class="linenos">6</span><span class="gp">... </span>      <span class="n">Correlations</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="linenos">7</span><span class="gp">... </span>      <span class="n">fromIndex</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">toIndex</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="id280">
<a class="reference internal image-reference" href="_images/theHeatmap.png"><img alt="_images/theHeatmap.png" src="_images/theHeatmap.png" style="width: 600pt;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.62 </span><span class="caption-text">Extract of a heatmap browser view on the <em>NetFlows</em> ranking result</span><a class="headerlink" href="#id280" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>As an exercise, the reader is invited to try out other robust outranking based ranking heuristics. Notice also that we have not challenged in this tutorial the THE provided criteria significance preorder. It would be very interesting to consider the five ranking objectives as equally important and, consequently, consider the ranking criteria to be equisignificant. Curious to see the ranking results under such settings.</p>
<p>Back to <a class="reference internal" href="#tutorial-label"><span class="std std-ref">Content Table</span></a></p>
<hr class="docutils" />
</section>
</section>
<section id="the-best-students-where-do-they-study-a-rating-case-study">
<span id="ratinguniversities-tutorial-label"></span><h3><a class="toc-backref" href="#id393" role="doc-backlink"><span class="section-number">1.4.3. </span>The best students, where do they study? A <em>rating</em> case study</a><a class="headerlink" href="#the-best-students-where-do-they-study-a-rating-case-study" title="Link to this heading"></a></h3>
<nav class="contents local" id="id131">
<ul class="simple">
<li><p><a class="reference internal" href="#id136" id="id404">The performance tableau</a></p></li>
<li><p><a class="reference internal" href="#rating-by-ranking-with-lower-closed-quantile-limits" id="id405">Rating-by-ranking with lower-closed quantile limits</a></p></li>
<li><p><a class="reference internal" href="#inspecting-the-bipolar-valued-outranking-digraph" id="id406">Inspecting the bipolar-valued outranking digraph</a></p></li>
<li><p><a class="reference internal" href="#rating-by-quantiles-sorting" id="id407">Rating by quantiles sorting</a></p></li>
<li><p><a class="reference internal" href="#to-conclude" id="id408">To conclude</a></p></li>
</ul>
</nav>
<p>In 2004, the German magazine <em>Der Spiegel</em>, with the help of <em>McKinsey &amp; Company</em> and <em>AOL</em>, conducted an extensive online survey, assessing the apparent quality of German University students <a class="footnote-reference brackets" href="#id232" id="id132" role="doc-noteref"><span class="fn-bracket">[</span>28<span class="fn-bracket">]</span></a>. More than 80,000 students, by participating, were questioned on their ‘Abitur’ and university exams’ marks, time of studies and age, grants, awards and publications, IT proficiency, linguistic skills, practical work experience, foreign mobility and civil engagement. Each student received in return a <em>quality score</em> through a specific weighing of the collected data which depended on the subject the student is mainly studying. <a class="footnote-reference brackets" href="#id233" id="id133" role="doc-noteref"><span class="fn-bracket">[</span>29<span class="fn-bracket">]</span></a>.</p>
<p>The eventually published results by the <em>Spiegel</em> magazine concerned nearly 50,000 students, enroled in one of fifteen popular academic subjects, like <em>German Studies</em>, <em>Life Sciences</em>, <em>Psychology</em>, <em>Law</em>  or <em>CS</em>. Publishing only those subject-University combinations, where at least 18 students had correctly filled in the questionnaire, left 41 German Universities where, for at least eight out of the fifteen subjects, an average enrolment quality score could be determined <a class="footnote-reference brackets" href="#id233" id="id134" role="doc-noteref"><span class="fn-bracket">[</span>29<span class="fn-bracket">]</span></a>.</p>
<p>Based on this published data <a class="footnote-reference brackets" href="#id232" id="id135" role="doc-noteref"><span class="fn-bracket">[</span>28<span class="fn-bracket">]</span></a>, we would like to present and discuss in this tutorial, how to <strong>rate</strong> the apparent global <em>enrolment quality</em> of these 41 higher education institutions with the help of our <em>Digraph3</em> software ressources.</p>
<section id="id136">
<h4><a class="toc-backref" href="#id404" role="doc-backlink"><span class="section-number">1.4.3.1. </span>The performance tableau</a><a class="headerlink" href="#id136" title="Link to this heading"></a></h4>
<p>Published data of the 2004 <em>Spiegel</em> student survey is stored, for our evaluation purpose here, in a file named <a class="reference external" href="_static/studentenSpiegel04.py">studentenSpiegel04.py</a> of <a class="reference internal" href="techDoc.html#perfTabs.PerformanceTableau" title="perfTabs.PerformanceTableau"><code class="xref py py-class docutils literal notranslate"><span class="pre">PerformanceTableau</span></code></a> format <a class="footnote-reference brackets" href="#id236" id="id137" role="doc-noteref"><span class="fn-bracket">[</span>32<span class="fn-bracket">]</span></a>.</p>
<div class="literal-block-wrapper docutils container" id="stspperftab">
<div class="code-block-caption"><span class="caption-number">Listing 1.107 </span><span class="caption-text">The 2004 Spiegel students survey data</span><a class="headerlink" href="#stspperftab" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">perfTabs</span> <span class="kn">import</span> <span class="n">PerformanceTableau</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">PerformanceTableau</span><span class="p">(</span><span class="s1">&#39;studentenSpiegel04&#39;</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span>
<span class="linenos"> 4</span><span class="go"> *------- PerformanceTableau instance description ------*</span>
<span class="linenos"> 5</span><span class="go">  Instance class    : PerformanceTableau</span>
<span class="linenos"> 6</span><span class="go">  Instance name     : studentenSpiegel04</span>
<span class="linenos"> 7</span><span class="go">  # Actions         : 41 (Universities)</span>
<span class="linenos"> 8</span><span class="go">  # Criteria        : 15 (academic subjects)</span>
<span class="linenos"> 9</span><span class="go">  NA proportion (%) : 27.3</span>
<span class="linenos">10</span><span class="go">  Attributes        : [&#39;name&#39;, &#39;actions&#39;, &#39;objectives&#39;,</span>
<span class="linenos">11</span><span class="go">                       &#39;criteria&#39;, &#39;weightPreorder&#39;,</span>
<span class="linenos">12</span><span class="go">                       &#39;evaluation&#39;]</span>
<span class="linenos">13</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">showHTMLPerformanceHeatmap</span><span class="p">(</span><span class="n">ndigits</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<span class="linenos">14</span><span class="gp">... </span>                             <span class="n">rankingRule</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
</div>
<figure class="align-default" id="qualityscores">
<a class="reference internal image-reference" href="_images/ratingData.png"><img alt="Average quality scores of German University Students" src="_images/ratingData.png" style="width: 600px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.63 </span><span class="caption-text">Average quality of enroled students per academic subject</span><a class="headerlink" href="#qualityscores" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>In <a class="reference internal" href="#qualityscores"><span class="std std-numref">Fig. 1.63</span></a>, the fifteen popular academic subjects are grouped into topical ‘<em>Faculties</em>’: - <em>Humanities</em>; - <em>Law, Economics &amp; Management</em>; - <em>Life Sciences &amp; Medicine</em>; - <em>Natural Sciences &amp; Mathematics</em>; and - <em>Technology</em>. All fifteen subjects are considered <em>equally significant</em> for our evaluation problem (see Row 2). The recorded average enrolment quality scores appear coloured along a 7-tiling scheme per subject (see last Row).</p>
<p>We may by the way notice that <em>TU Dresden</em> is the only Institution showing enrolment quality scores in all the fifteen academic subjects. Whereas, on the one side, <em>TU München</em> and <em>Kaiserslautern</em> are only valuated in <em>Sciences</em> and <em>Technology</em> subjects. On the other side, <em>Mannheim</em>, is only valuated in <em>Humanities</em> and <em>Law, Economics &amp; Management</em> studies. Most of the 41 Universities are not valuated in <em>Engineering</em> studies. We are, hence, facing a large part (27.3%) of irreducible missing data (see <a class="reference internal" href="#stspperftab"><span class="std std-numref">Listing 1.107</span></a> Line 9 and the advanced topic on <a class="reference internal" href="pearls.html#copingmissing-data-label"><span class="std std-ref">coping with missing data</span></a>).</p>
<p>Details of the enrolment quality criteria (the academic subjects) may be consulted in a browser view (see <a class="reference internal" href="#spiegelcriteria"><span class="std std-numref">Fig. 1.64</span></a> below).</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">showHTMLCriteria</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-center" id="spiegelcriteria">
<a class="reference internal image-reference" href="_images/spiegelCriteria.png"><img alt="_images/spiegelCriteria.png" src="_images/spiegelCriteria.png" style="width: 750px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.64 </span><span class="caption-text">Details of the rating criteria</span><a class="headerlink" href="#spiegelcriteria" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>The evaluation of the individual quality score for a participating student actually depends on his or her mainly enroled subject <a class="footnote-reference brackets" href="#id233" id="id138" role="doc-noteref"><span class="fn-bracket">[</span>29<span class="fn-bracket">]</span></a>. The apparent quality measurement scales thus largely differ indeed from subject to subject (see <a class="reference internal" href="#spiegelcriteria"><span class="std std-numref">Fig. 1.64</span></a>), like <em>Law Studies</em> (35.0 - 65-0) and <em>Politology</em> (50.0 - 70.0). The recorded average enrolment quality scores, hence, are in fact <strong>incommensurable</strong> between the subjects.</p>
<p>To take furthermore into account a potential and very likely <em>imprecision</em> of the individual quality scores’ computation, we shall assume that, for all subjects, an average enrolment quality score difference of <strong>0.1</strong> is <strong>insignificant</strong>, wheras a difference of <strong>0.5</strong> is sufficient to <em>positively</em> attest a <strong>better</strong> enrolment quality.</p>
<p>The apparent <em>incommensurability</em> and very likely <em>imprecision</em> of the recorded average enrolment quality scores, renders <strong>meaningless</strong> any global averaging over the subjects per University of the enrolment quality. We shall therefore, similarly to the methodological approach of the <em>Spiegel</em> authors <a class="footnote-reference brackets" href="#id233" id="id139" role="doc-noteref"><span class="fn-bracket">[</span>29<span class="fn-bracket">]</span></a>, proceed with an <strong>order statistics</strong> based <em>rating-by-ranking</em> approach (see tutorial on <a class="reference internal" href="#learnedrating-tutorial-label"><span class="std std-ref">rating with learned quantile norms</span></a>).</p>
</section>
<section id="rating-by-ranking-with-lower-closed-quantile-limits">
<h4><a class="toc-backref" href="#id405" role="doc-backlink"><span class="section-number">1.4.3.2. </span>Rating-by-ranking with lower-closed quantile limits</a><a class="headerlink" href="#rating-by-ranking-with-lower-closed-quantile-limits" title="Link to this heading"></a></h4>
<p>The Spiegel authors opted indeed for a simple 3-tiling of the Universities per valuated academic subject, followed by an average <em>Borda</em> scores based global ranking <a class="footnote-reference brackets" href="#id233" id="id140" role="doc-noteref"><span class="fn-bracket">[</span>29<span class="fn-bracket">]</span></a>. Here, our <strong>epistemic logic</strong> based <strong>outranking approach</strong>, allows us, with adequate choices of <em>indifference</em> (0.1) and <em>preference</em> (0.5) discrimination thresholds, to estimate <strong>lower-closed 9-tiles</strong> of the enrolment quality scores per subject and rank conjointly, with the help of the <em>Copeland</em> ranking rule <a class="footnote-reference brackets" href="#id237" id="id141" role="doc-noteref"><span class="fn-bracket">[</span>34<span class="fn-bracket">]</span></a> applied to a corresponding <em>bipolar-valued outranking</em> digraph, the 41 Universities <strong>and</strong> the lower limits of the estimated 9-tiles limits.</p>
<p>We need therefore to, first, estimate, with the help of the <a class="reference internal" href="techDoc.html#performanceQuantiles.PerformanceQuantiles" title="performanceQuantiles.PerformanceQuantiles"><code class="xref py py-class docutils literal notranslate"><span class="pre">PerformanceQuantiles</span></code></a> constructor, the lowerclosed  9-tiling of the average enrolment quality scores per academic subject.</p>
<div class="literal-block-wrapper docutils container" id="performancequantiles">
<div class="code-block-caption"><span class="caption-number">Listing 1.108 </span><span class="caption-text">Computing 9-tiles of the enrolment quality scores per subject</span><a class="headerlink" href="#performancequantiles" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">performanceQuantiles</span> <span class="kn">import</span> <span class="n">PerformanceQuantiles</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">pq</span> <span class="o">=</span> <span class="n">PerformanceQuantiles</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="n">numberOfBins</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span><span class="n">LowerClosed</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">pq</span>
<span class="linenos"> 4</span><span class="go"> *------- PerformanceQuantiles instance description ------*</span>
<span class="linenos"> 5</span><span class="go">  Instance class   : PerformanceQuantiles</span>
<span class="linenos"> 6</span><span class="go">  Instance name    : 9-tiled_performances</span>
<span class="linenos"> 7</span><span class="go">  # Criteria       : 15</span>
<span class="linenos"> 8</span><span class="go">  # Quantiles      : 9 (LowerClosed)</span>
<span class="linenos"> 9</span><span class="go">  # History sizes  : {&#39;germ&#39;: 39, &#39;pol&#39;: 34, &#39;psy&#39;: 34, &#39;soc&#39;: 32,</span>
<span class="linenos">10</span><span class="go">                      &#39;law&#39;: 32, &#39;eco&#39;: 21, &#39;mgt&#39;: 34,</span>
<span class="linenos">11</span><span class="go">                      &#39;bio&#39;: 34, &#39;med&#39;: 28,</span>
<span class="linenos">12</span><span class="go">                      &#39;phys&#39;: 37, &#39;chem&#39;: 35, &#39;math&#39;: 27,</span>
<span class="linenos">13</span><span class="go">                      &#39;info&#39;: 33, &#39;elec&#39;: 14, &#39;mec&#39;: 13, }</span>
</pre></div>
</div>
</div>
<p>The <em>history sizes</em>, reported in <a class="reference internal" href="#performancequantiles"><span class="std std-numref">Listing 1.108</span></a> above, indicate the number of Universities valuated in each one of the popular fifteen subjects. <em>German Studies</em>, for instance, are valuated for 39 out of 41 Universities, whereas <em>Electrical</em> and <em>Mechanical Engineering</em> are only valuated for 14, respectively 13 Institutions. None of the fifteen subjects are valuated in all the 41 Universities <a class="footnote-reference brackets" href="#id234" id="id142" role="doc-noteref"><span class="fn-bracket">[</span>30<span class="fn-bracket">]</span></a>.</p>
<p>We may inspect the resulting 9-tiling limits in a browser view.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pq</span><span class="o">.</span><span class="n">showHTMLLimitingQuantiles</span><span class="p">(</span><span class="n">Transposed</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">Sorted</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">ndigits</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;9-tiled quality score limits&#39;</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="score9limits">
<a class="reference internal image-reference" href="_images/score9Limits.png"><img alt="_images/score9Limits.png" src="_images/score9Limits.png" style="width: 350px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.65 </span><span class="caption-text">9-tiling quality score limits per academic subject</span><a class="headerlink" href="#score9limits" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>In <a class="reference internal" href="#score9limits"><span class="std std-numref">Fig. 1.65</span></a>, we see confirmed again the <strong>incommensurability</strong> between the subjects, we noticed already in the apparent enrolment quality scoring , especially between <em>Law Studies</em> (39.1 - 51.1) and <em>Politology</em> (50.5 - 65.9). Universities valuated in <em>Law studies</em> but not in <em>Politology</em>, like the University of <em>Bielefeld</em>, would see their enrolment quality <em>unfairly weakened</em> when simply averaging the enrolment quality scores over valuated subjects.</p>
<p>We add, now, these 9-tiling quality score limits to the enrolment quality records of the 41 Universities and rank all these records conjointly together with the help of the <a class="reference internal" href="techDoc.html#sortingDigraphs.LearnedQuantilesRatingDigraph" title="sortingDigraphs.LearnedQuantilesRatingDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">LearnedQuantilesRatingDigraph</span></code></a> constructor and by using the <a class="reference internal" href="#copeland-ranking-label"><span class="std std-ref">Copeland ranking rule</span></a>.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sortingDigraphs</span> <span class="kn">import</span> <span class="n">LearnedQuantilesRatingDigraph</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lqr</span> <span class="o">=</span> <span class="n">LearnedQuantilesRatingDigraph</span><span class="p">(</span><span class="n">pq</span><span class="p">,</span><span class="n">t</span><span class="p">,</span>
<span class="gp">... </span>                                    <span class="n">rankingRule</span><span class="o">=</span><span class="s1">&#39;Copeland&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The resulting ranking of the 41 Universities including the lower-closed 9-tiling score limits may be nicely illustrated  with the help of a corresponding heatmap view (see <a class="reference internal" href="#ninetiledheatmap"><span class="std std-numref">Fig. 1.66</span></a>).</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">lqr</span><span class="o">.</span><span class="n">showHTMLRatingHeatmap</span><span class="p">(</span><span class="n">colorLevels</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span><span class="n">Correlations</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>            <span class="n">ndigits</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">rankingRule</span><span class="o">=</span><span class="s1">&#39;Copeland&#39;</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="ninetiledheatmap">
<a class="reference internal image-reference" href="_images/nineTilingResult.png"><img alt="_images/nineTilingResult.png" src="_images/nineTilingResult.png" style="width: 650px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.66 </span><span class="caption-text">Heatmap view of the 9-tiles rating-by-ranking result</span><a class="headerlink" href="#ninetiledheatmap" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>The <em>ordinal correlation</em> (+0.967) <a class="footnote-reference brackets" href="#id238" id="id143" role="doc-noteref"><span class="fn-bracket">[</span>35<span class="fn-bracket">]</span></a> of the <em>Copeland ranking</em> with the underlying bipolar-valued outranking digraph is very high (see <a class="reference internal" href="#ninetiledheatmap"><span class="std std-numref">Fig. 1.66</span></a> Row 1). Most correlated subjects with this <em>rating-by-ranking</em> result appear to be <em>German Studies</em> (+0.51), <em>Chemistry</em> (+0.48), <em>Management</em> (+0.47) and <em>Physics</em> (+0.46). Both <em>Electrical</em> (+0.07) and <em>Mechanical Engineering</em> (+0.05) are the less correlated subjects (see Row 3).</p>
<p>From the actual ranking position of the lower 9-tiling limits, we may now immediately deduce the 9-tile enrolment quality equivalence classes. No University reaches the highest 9-tile (<img class="math" src="_images/math/09848cd318455634292d2050903b700a04eba743.png" alt="[0.89 - ["/>). In the lowest 9-tile (<img class="math" src="_images/math/3659b07a1fa869323850dff7aa7dbabe245c9aae.png" alt="[0.00- 0.11]"/>) we find the University <em>Duisburg</em>. The complete rating result may be easily printed out as follows.</p>
<div class="literal-block-wrapper docutils container" id="quantilesrating">
<div class="code-block-caption"><span class="caption-number">Listing 1.109 </span><span class="caption-text">Rating the Universities into enrolment quality 9-tiles</span><a class="headerlink" href="#quantilesrating" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lqr</span><span class="o">.</span><span class="n">showQuantilesRating</span><span class="p">()</span>
<span class="linenos"> 2</span><span class="go"> *-------- Quantiles rating result ---------</span>
<span class="linenos"> 3</span><span class="go">  [0.89 - 1.00] []</span>
<span class="linenos"> 4</span><span class="go">  [0.78 - 0.89[ [&#39;tum&#39;, &#39;frei&#39;, &#39;kons&#39;, &#39;leip&#39;, &#39;mu&#39;, &#39;hei&#39;]</span>
<span class="linenos"> 5</span><span class="go">  [0.67 - 0.78[ [&#39;stu&#39;, &#39;berh&#39;]</span>
<span class="linenos"> 6</span><span class="go">  [0.56 - 0.67[ [&#39;aug&#39;, &#39;mnh&#39;, &#39;tueb&#39;, &#39;mnst&#39;, &#39;jena&#39;,</span>
<span class="linenos"> 7</span><span class="go">                 &#39;reg&#39;, &#39;saar&#39;]</span>
<span class="linenos"> 8</span><span class="go">  [0.44 - 0.56[ [&#39;wrzb&#39;, &#39;dres&#39;, &#39;ksl&#39;, &#39;marb&#39;, &#39;berf&#39;,</span>
<span class="linenos"> 9</span><span class="go">                 &#39;chem&#39;, &#39;koel&#39;, &#39;erl&#39;, &#39;tri&#39;]</span>
<span class="linenos">10</span><span class="go">  [0.33 - 0.44[ [&#39;goet&#39;, &#39;main&#39;, &#39;bon&#39;, &#39;brem&#39;]</span>
<span class="linenos">11</span><span class="go">  [0.22 - 0.33[ [&#39;fran&#39;, &#39;ham&#39;, &#39;kiel&#39;, &#39;aach&#39;,</span>
<span class="linenos">12</span><span class="go">                 &#39;bertu&#39;, &#39;brau&#39;, &#39;darm&#39;]</span>
<span class="linenos">13</span><span class="go">  [0.11 - 0.22[ [&#39;gie&#39;, &#39;dsd&#39;, &#39;bie&#39;, &#39;boc&#39;, &#39;han&#39;]</span>
<span class="linenos">14</span><span class="go">  [0.00 - 0.11[ [&#39;duis&#39;]</span>
</pre></div>
</div>
</div>
<p>Following Universities: <em>TU München</em>, <em>Freiburg</em>, <em>Konstanz</em>, <em>Leipzig</em>, <em>München</em> as well as  <em>Heidelberg</em>, appear best rated in the eigth 9-tile (<img class="math" src="_images/math/031bb737116a1a959281087c96c7150f91ae6203.png" alt="[0.78 - 0.89["/>, see <a class="reference internal" href="#quantilesrating"><span class="std std-numref">Listing 1.109</span></a> Line 4). Lowest-rated in the first 9-tile, as mentioned before, appears University <em>Duisburg</em> (Line 14). Midfield, the fifth 9-tile (<img class="math" src="_images/math/f3ad0d24fc9256f1d63f28b48c1d04a73be362bd.png" alt="[0.44 - 0.56["/>), consists of the Universities <em>Würzburg</em>, <em>TU Dresden</em>, <em>Kaiserslautern</em>, <em>Marburg</em>, <em>FU Berlin</em>, <em>Chemnitz</em>, <em>Köln</em> , <em>Erlangen-Nürnberg</em> and <em>Trier</em> (Lines 8-9).</p>
<p>A corresponding <em>graphviz</em> drawing may well illustrate all these enrolment quality equivalence classes.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">lqr</span><span class="o">.</span><span class="n">exportRatingByRankingGraphViz</span><span class="p">(</span><span class="n">fileName</span><span class="o">=</span><span class="s1">&#39;ratingResult&#39;</span><span class="p">,</span>
<span class="gp">... </span>                          <span class="n">graphSize</span><span class="o">=</span><span class="s1">&#39;12,12&#39;</span><span class="p">)</span>
<span class="go"> *---- exporting a dot file for GraphViz tools ---------*</span>
<span class="go">  Exporting to ratingResult.dot</span>
<span class="go">  dot -Grankdir=TB -Tpdf dot -o ratingResult.png</span>
</pre></div>
</div>
<figure class="align-center" id="ratingresult">
<a class="reference internal image-reference" href="_images/ratingResult.png"><img alt="_images/ratingResult.png" src="_images/ratingResult.png" style="width: 500px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.67 </span><span class="caption-text">Drawing of the 9-tiles rating-by-ranking result</span><a class="headerlink" href="#ratingresult" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>We have noticed in the tutorial on <a class="reference internal" href="#ranking-tutorial-label"><span class="std std-ref">ranking with multiple criteria</span></a>, that there is not a single optimal rule for ranking from a given outranking digraph. The <em>Copeland</em> rule, for instance, has the advantage of being <em>Condorcet</em> consistent, i.e. when the outranking digraph models in fact a linear ranking, this ranking will necessarily be the result of the <em>Copeland</em> rule. When this is not the case, and especially when the outranking digraph shows many circuits, all potential ranking rules may give very divergent ranking results, and hence also substantially divergent rating-by-ranking results.</p>
<aside class="sidebar">
<p class="sidebar-title">Fusion of two rating results</p>
<figure class="align-center" id="fusionresult">
<a class="reference internal image-reference" href="_images/fusionResult.png"><img alt="_images/fusionResult.png" src="_images/fusionResult.png" style="width: 150px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.68 </span><span class="caption-text">Fused Copeland and NetFlows ratings</span><a class="headerlink" href="#fusionresult" title="Link to this image"></a></p>
</figcaption>
</figure>
</aside>
<p>It is, hence, interesting, to verify if the <a class="reference internal" href="#epistemic-fusion-label"><span class="std std-ref">epistemic fusion</span></a> of the <em>rating-by-ranking</em> results, one may obtain when applying two different ranking rules, like the <em>Copeland</em> and the <a class="reference internal" href="#netflows-ranking-label"><span class="std std-ref">NetFlows ranking rule</span></a>, does actually confirm our rating-by-ranking result shown in <a class="reference internal" href="#ratingresult"><span class="std std-numref">Fig. 1.67</span></a> above. For this purpose we make usage of the <a class="reference internal" href="techDoc.html#transitiveDigraphs.RankingsFusionDigraph" title="transitiveDigraphs.RankingsFusionDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">RankingsFusionDigraph</span></code></a> constructor (see <a class="reference internal" href="#rankingsfusion"><span class="std std-numref">Listing 1.110</span></a> Line 9).</p>
<div class="literal-block-wrapper docutils container" id="rankingsfusion">
<div class="code-block-caption"><span class="caption-number">Listing 1.110 </span><span class="caption-text">Epistemic fusion of Copeland and Netflows rating-by-ranking results</span><a class="headerlink" href="#rankingsfusion" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lqr</span> <span class="o">=</span> <span class="n">LearnedQuantilesRatingDigraph</span><span class="p">(</span>\
<span class="linenos"> 2</span><span class="gp">... </span>               <span class="n">pq</span><span class="p">,</span><span class="n">t</span><span class="p">,</span><span class="n">rankingRule</span><span class="o">=</span><span class="s1">&#39;Copeland&#39;</span><span class="p">)</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lqr1</span> <span class="o">=</span> <span class="n">LearnedQuantilesRatingDigraph</span><span class="p">(</span>\
<span class="linenos"> 5</span><span class="gp">... </span>               <span class="n">pq</span><span class="p">,</span><span class="n">t</span><span class="p">,</span><span class="n">rankingRule</span><span class="o">=</span><span class="s1">&#39;NetFlows&#39;</span><span class="p">)</span>
<span class="linenos"> 6</span>
<span class="linenos"> 7</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">transitiveDigraphs</span> <span class="kn">import</span>\
<span class="linenos"> 8</span><span class="gp">... </span>               <span class="n">RankingsFusionDigraph</span>
<span class="linenos"> 9</span>
<span class="linenos">10</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rankings</span> <span class="o">=</span> <span class="p">[</span><span class="n">lqr</span><span class="o">.</span><span class="n">actionsRanking</span><span class="p">,</span> \
<span class="linenos">11</span><span class="gp">... </span>               <span class="n">lqr1</span><span class="o">.</span><span class="n">actionsRanking</span><span class="p">]</span>
<span class="linenos">12</span>
<span class="linenos">13</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rf</span> <span class="o">=</span> <span class="n">RankingsFusionDigraph</span><span class="p">(</span><span class="n">lqr</span><span class="p">,</span><span class="n">rankings</span><span class="p">)</span>
<span class="linenos">14</span><span class="gp">&gt;&gt;&gt; </span><span class="n">rf</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">(</span><span class="n">fileName</span><span class="o">=</span><span class="s1">&#39;fusionResult&#39;</span><span class="p">,</span>
<span class="linenos">15</span><span class="gp">... </span>                     <span class="n">WithRatingDecoration</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="linenos">16</span><span class="gp">... </span>                     <span class="n">graphSize</span><span class="o">=</span><span class="s1">&#39;30,30&#39;</span><span class="p">)</span>
<span class="linenos">17</span><span class="go"> *---- exporting a dot file for GraphViz tools ---------*</span>
<span class="linenos">18</span><span class="go">  Exporting to fusionResult.dot</span>
<span class="linenos">19</span><span class="go">  dot -Grankdir=TB -Tpng fusionResult.dot -o fusionResult.png</span>
</pre></div>
</div>
</div>
<p>In <a class="reference internal" href="#fusionresult"><span class="std std-numref">Fig. 1.68</span></a> we notice that many Universities appear now rated into several adjacent 9-tiles. The previously best-rated Universities: <em>TU München</em>, <em>Freiburg</em>, <em>München</em>, <em>Leipzig</em>, as well as  <em>Heidelberg</em>, for instance, appear now sorted into the <em>seventh</em> <strong>and</strong> <em>eigth</em> 9-tile (<img class="math" src="_images/math/fafd5f032bc3a3c1a432c8a41384339b5c51f183.png" alt="[o.67 - 0.89]"/>), whereas <em>Konstanz</em> is now, even <strong>more imprecisely</strong>, rated into the <em>sixth</em>, the <em>seventh</em> and the <em>eight</em> 9-tile.</p>
<p>How <em>confident</em>, hence, is our precise <em>Copeland</em> <em>rating-by-ranking</em> result? To investigate this question, let us now inspect the <strong>outranking digraph</strong> on which we actually apply the <em>Copeland</em> ranking rule.</p>
</section>
<section id="inspecting-the-bipolar-valued-outranking-digraph">
<h4><a class="toc-backref" href="#id406" role="doc-backlink"><span class="section-number">1.4.3.3. </span>Inspecting the bipolar-valued outranking digraph</a><a class="headerlink" href="#inspecting-the-bipolar-valued-outranking-digraph" title="Link to this heading"></a></h4>
<p>We say that University <em>x</em> <strong>outranks</strong> (resp. <strong>is outranked by</strong>) University <em>y</em> in enrolment quality when there exists a <strong>majority</strong> (resp. only a <strong>minority</strong>) of valuated subjects showing an <strong>at least as good as</strong> average enrolment quality score.</p>
<p>To compute these outranking situations, we use the <a class="reference internal" href="techDoc.html#outrankingDigraphs.BipolarOutrankingDigraph" title="outrankingDigraphs.BipolarOutrankingDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">BipolarOutrankingDigraph</span></code></a> constructor.</p>
<div class="literal-block-wrapper docutils container" id="outrankings">
<div class="code-block-caption"><span class="caption-number">Listing 1.111 </span><span class="caption-text">Inspecting the bipolar-valued outranking digraph</span><a class="headerlink" href="#outrankings" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">outrankingDigraphs</span> <span class="kn">import</span> <span class="n">BipolarOutrankingDigraph</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">dg</span> <span class="o">=</span> <span class="n">BipolarOutrankingDigraph</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">dg</span>
<span class="linenos"> 4</span><span class="go"> *------- Object instance description ------*</span>
<span class="linenos"> 5</span><span class="go">  Instance class       : BipolarOutrankingDigraph</span>
<span class="linenos"> 6</span><span class="go">  Instance name        : rel_studentenSpiegel04</span>
<span class="linenos"> 7</span><span class="go">  # Actions            : 41 (Universities)</span>
<span class="linenos"> 8</span><span class="go">  # Criteria           : 15 (subjects)</span>
<span class="linenos"> 9</span><span class="go">  Size                 : 828 (outranking situations)</span>
<span class="linenos">10</span><span class="go">  Determinateness (%)  : 63.67</span>
<span class="linenos">11</span><span class="go">  Valuation domain     : [-1.00;1.00]</span>
<span class="linenos">12</span><span class="gp">&gt;&gt;&gt; </span><span class="n">dg</span><span class="o">.</span><span class="n">computeTransitivityDegree</span><span class="p">(</span><span class="n">Comments</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos">13</span><span class="go"> Transitivity degree of digraph &lt;rel_studentenSpiegel04&gt;:</span>
<span class="linenos">14</span><span class="go">  #triples x&gt;y&gt;z: 57837, #closed: 30714, #open: 27123</span>
<span class="linenos">15</span><span class="go">  (#closed/#triples) =  0.531</span>
<span class="linenos">16</span><span class="gp">&gt;&gt;&gt; </span><span class="n">dg</span><span class="o">.</span><span class="n">computeSymmetryDegree</span><span class="p">(</span><span class="n">Comments</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos">17</span><span class="go"> Symmetry degree of digraph &lt;rel_studentenSpiegel04&gt;:</span>
<span class="linenos">18</span><span class="go">  #arcs x&gt;y: 793, #symmetric: 35, #asymmetric: 758</span>
<span class="linenos">19</span><span class="go">  #symmetric/#arcs =  0.044</span>
</pre></div>
</div>
</div>
<p>The bipolar-valued outranking digraph <em>dg</em> (see <a class="reference internal" href="#stspperftab"><span class="std std-numref">Listing 1.107</span></a> Line 2), obtained with the given performance tableau <em>t</em>, shows 828 positively validated pairwise outranking situations (Line 9). Unfortunately, the transitivity of digraph <em>dg</em> is far from being satisfied: nearly half of the transitive closure is missing (Line 15). Despite the rather large <em>preference discrimination</em> threshold (0.5) we have assumed (see <a class="reference internal" href="#spiegelcriteria"><span class="std std-numref">Fig. 1.64</span></a>), there does not occur many indifference situations (Line 19).</p>
<p>We may furthermore check if there exists any <em>cyclic</em> outranking situations.</p>
<div class="literal-block-wrapper docutils container" id="chordlesscircuits">
<div class="code-block-caption"><span class="caption-number">Listing 1.112 </span><span class="caption-text">Enumerating chordless outranking circuits</span><a class="headerlink" href="#chordlesscircuits" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">dg</span><span class="o">.</span><span class="n">computeChordlessCircuits</span><span class="p">()</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">dg</span><span class="o">.</span><span class="n">showChordlessCircuits</span><span class="p">()</span>
<span class="linenos"> 3</span><span class="go"> *---- Chordless circuits ----*</span>
<span class="linenos"> 4</span><span class="go">  93 circuits.</span>
<span class="linenos"> 5</span><span class="go">   1:  [&#39;aach&#39;, &#39;bie&#39;, &#39;darm&#39;, &#39;brau&#39;] , credibility : 0.067</span>
<span class="linenos"> 6</span><span class="go">   2:  [&#39;aach&#39;, &#39;bertu&#39;, &#39;brau&#39;] , credibility : 0.200</span>
<span class="linenos"> 7</span><span class="go">   3:  [&#39;aach&#39;, &#39;bertu&#39;, &#39;brem&#39;] , credibility : 0.067</span>
<span class="linenos"> 8</span><span class="go">   4:  [&#39;aach&#39;, &#39;bertu&#39;, &#39;ham&#39;] , credibility : 0.200</span>
<span class="linenos"> 9</span><span class="go">   5:  [&#39;aug&#39;, &#39;tri&#39;, &#39;marb&#39;] , credibility : 0.067</span>
<span class="linenos">10</span><span class="go">   6:  [&#39;aug&#39;, &#39;jena&#39;, &#39;marb&#39;] , credibility : 0.067</span>
<span class="linenos">11</span><span class="go">   7:  [&#39;aug&#39;, &#39;jena&#39;, &#39;koel&#39;] , credibility : 0.067</span>
<span class="linenos">12</span><span class="go">  ...</span>
<span class="linenos">13</span><span class="go">  ...</span>
<span class="linenos">14</span><span class="go">  29:  [&#39;berh&#39;, &#39;kons&#39;, &#39;mu&#39;] , credibility : 0.133</span>
<span class="linenos">15</span><span class="go">  ...</span>
<span class="linenos">16</span><span class="go">  ...</span>
<span class="linenos">17</span><span class="go">  88:  [&#39;main&#39;, &#39;mnh&#39;, &#39;marb&#39;] , credibility : 0.067</span>
<span class="linenos">18</span><span class="go">  89:  [&#39;marb&#39;, &#39;saar&#39;, &#39;wrzb&#39;] , credibility : 0.067</span>
<span class="linenos">19</span><span class="go">  90:  [&#39;marb&#39;, &#39;saar&#39;, &#39;reg&#39;] , credibility : 0.067</span>
<span class="linenos">20</span><span class="go">  91:  [&#39;marb&#39;, &#39;saar&#39;, &#39;mnst&#39;] , credibility : 0.133</span>
<span class="linenos">21</span><span class="go">  92:  [&#39;marb&#39;, &#39;saar&#39;, &#39;tri&#39;] , credibility : 0.067</span>
<span class="linenos">22</span><span class="go">  93:  [&#39;mnh&#39;, &#39;mu&#39;, &#39;stu&#39;] , credibility : 0.133</span>
</pre></div>
</div>
</div>
<p>Here we observe indeed 93 such outranking circuits, like: <em>Berlin Humboldt</em> &gt; <em>Konstanz</em> &gt; <em>München</em> &gt; <em>Berlin Humboldt</em> supported by a (0.133 + 1.0)/2 = 56.7% majority of subjects <a class="footnote-reference brackets" href="#id235" id="id144" role="doc-noteref"><span class="fn-bracket">[</span>31<span class="fn-bracket">]</span></a> (see <a class="reference internal" href="#chordlesscircuits"><span class="std std-numref">Listing 1.112</span></a> circuit 29 above). In the <em>Copeland</em> ranking result shown in <a class="reference internal" href="#ninetiledheatmap"><span class="std std-numref">Fig. 1.66</span></a>, these Universities appear positioned respectively at ranks 10, 4 and 6. In the <em>NetFlows</em> ranking result they would appear respectively at ranks 10, 6 and 5, thus inverting the positions of <em>Konstanz</em> and <em>München</em>. The occurrence in digraph <em>dg</em> of so many outranking circuits makes thus <em>doubtful</em> any <em>forced</em> linear ranking, independently of the specific ranking rule we might have applied.</p>
<p>To effectively check the quality of our <em>Copeland</em> <em>rating-by-ranking</em> result, we shall now compute a direct <strong>sorting into 9-tiles</strong> of the enrolment quality scores, without using any outranking digraph based ranking rule.</p>
</section>
<section id="rating-by-quantiles-sorting">
<h4><a class="toc-backref" href="#id407" role="doc-backlink"><span class="section-number">1.4.3.4. </span>Rating by quantiles sorting</a><a class="headerlink" href="#rating-by-quantiles-sorting" title="Link to this heading"></a></h4>
<p>In our case here, the Universities represent the decision actions: <em>where to study</em>. We say now that University <em>x</em> is sorted into the lower-closed 9-tile <em>q</em> when the performance record of <em>x</em> <strong>positively outranks the lower limit</strong> record of 9-tile <em>q</em> and <em>x</em> <strong>does not positively outrank the upper limit</strong> record of 9-tile <em>q</em>.</p>
<div class="literal-block-wrapper docutils container" id="ninetilessorting">
<div class="code-block-caption"><span class="caption-number">Listing 1.113 </span><span class="caption-text">Lower-closed 9-tiles sorting of the 41 Universities</span><a class="headerlink" href="#ninetilessorting" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lqr</span><span class="o">.</span><span class="n">showActionsSortingResult</span><span class="p">()</span>
<span class="linenos"> 2</span><span class="go"> Quantiles sorting result per decision action</span>
<span class="linenos"> 3</span><span class="go"> [0.33 - 0.44[: aach with credibility: 0.13 = min(0.13,0.27)</span>
<span class="linenos"> 4</span><span class="go"> [0.56 - 0.89[: aug with credibility: 0.13 = min(0.13,0.27)</span>
<span class="linenos"> 5</span><span class="go"> [0.44 - 0.67[: berf with credibility: 0.13 = min(0.13,0.20)</span>
<span class="linenos"> 6</span><span class="go"> [0.78 - 0.89[: berh with credibility: 0.13 = min(0.13,0.33)</span>
<span class="linenos"> 7</span><span class="go"> [0.22 - 0.44[: bertu with credibility: 0.20 = min(0.33,0.20)</span>
<span class="linenos"> 8</span><span class="go"> [0.11 - 0.22[: bie with credibility: 0.20 = min(0.33,0.20)</span>
<span class="linenos"> 9</span><span class="go"> [0.22 - 0.33[: boc with credibility: 0.07 = min(0.07,0.07)</span>
<span class="linenos">10</span><span class="go"> [0.44 - 0.56[: bon with credibility: 0.13 = min(0.20,0.13)</span>
<span class="linenos">11</span><span class="go"> [0.33 - 0.44[: brau with credibility: 0.07 = min(0.07,0.27)</span>
<span class="linenos">12</span><span class="go"> [0.33 - 0.44[: brem with credibility: 0.07 = min(0.07,0.07)</span>
<span class="linenos">13</span><span class="go"> [0.44 - 0.56[: chem with credibility: 0.07 = min(0.13,0.07)</span>
<span class="linenos">14</span><span class="go"> [0.22 - 0.56[: darm with credibility: 0.13 = min(0.13,0.13)</span>
<span class="linenos">15</span><span class="go"> [0.56 - 0.67[: dres with credibility: 0.27 = min(0.27,0.47)</span>
<span class="linenos">16</span><span class="go"> [0.22 - 0.33[: dsd with credibility: 0.07 = min(0.07,0.07)</span>
<span class="linenos">17</span><span class="go"> [0.00 - 0.11[: duis with credibility: 0.33 = min(0.73,0.33)</span>
<span class="linenos">18</span><span class="go"> [0.44 - 0.56[: erl with credibility: 0.13 = min(0.27,0.13)</span>
<span class="linenos">19</span><span class="go"> [0.22 - 0.44[: fran with credibility: 0.13 = min(0.13,0.33)</span>
<span class="linenos">20</span><span class="go"> [0.78 - &lt;[: frei with credibility: 0.53 = min(0.53,1.00)</span>
<span class="linenos">21</span><span class="go"> [0.22 - 0.33[: gie with credibility: 0.13 = min(0.13,0.20)</span>
<span class="linenos">22</span><span class="go"> [0.33 - 0.44[: goet with credibility: 0.07 = min(0.47,0.07)</span>
<span class="linenos">23</span><span class="go"> [0.22 - 0.33[: ham with credibility: 0.07 = min(0.33,0.07)</span>
<span class="linenos">24</span><span class="go"> [0.11 - 0.22[: han with credibility: 0.20 = min(0.33,0.20)</span>
<span class="linenos">25</span><span class="go"> [0.78 - 0.89[: hei with credibility: 0.13 = min(0.13,0.27)</span>
<span class="linenos">26</span><span class="go"> [0.56 - 0.67[: jena with credibility: 0.07 = min(0.13,0.07)</span>
<span class="linenos">27</span><span class="go"> [0.33 - 0.44[: kiel with credibility: 0.20 = min(0.20,0.47)</span>
<span class="linenos">28</span><span class="go"> [0.44 - 0.56[: koel with credibility: 0.07 = min(0.27,0.07)</span>
<span class="linenos">29</span><span class="go"> [0.78 - &lt;[: kons with credibility: 0.20 = min(0.20,1.00)</span>
<span class="linenos">30</span><span class="go"> [0.56 - 0.89[: ksl with credibility: 0.13 = min(0.13,0.40)</span>
<span class="linenos">31</span><span class="go"> [0.78 - 0.89[: leip with credibility: 0.07 = min(0.20,0.07)</span>
<span class="linenos">32</span><span class="go"> [0.44 - 0.56[: main with credibility: 0.07 = min(0.07,0.13)</span>
<span class="linenos">33</span><span class="go"> [0.56 - 0.67[: marb with credibility: 0.07 = min(0.07,0.07)</span>
<span class="linenos">34</span><span class="go"> [0.56 - 0.89[: mnh with credibility: 0.20 = min(0.20,0.27)</span>
<span class="linenos">35</span><span class="go"> [0.56 - 0.67[: mnst with credibility: 0.07 = min(0.20,0.07)</span>
<span class="linenos">36</span><span class="go"> [0.78 - 0.89[: mu with credibility: 0.13 = min(0.13,0.47)</span>
<span class="linenos">37</span><span class="go"> [0.56 - 0.67[: reg with credibility: 0.20 = min(0.20,0.27)</span>
<span class="linenos">38</span><span class="go"> [0.56 - 0.78[: saar with credibility: 0.13 = min(0.13,0.20)</span>
<span class="linenos">39</span><span class="go"> [0.78 - 0.89[: stu with credibility: 0.07 = min(0.13,0.07)</span>
<span class="linenos">40</span><span class="go"> [0.44 - 0.56[: tri with credibility: 0.07 = min(0.13,0.07)</span>
<span class="linenos">41</span><span class="go"> [0.67 - 0.78[: tueb with credibility: 0.13 = min(0.13,0.20)</span>
<span class="linenos">42</span><span class="go"> [0.89 - &lt;[: tum with credibility: 0.13 = min(0.13,1.00)</span>
<span class="linenos">43</span><span class="go"> [0.56 - 0.67[: wrzb with credibility: 0.07 = min(0.20,0.07)</span>
</pre></div>
</div>
</div>
<p>In the 9-tiles sorting result, shown in <a class="reference internal" href="#ninetilessorting"><span class="std std-numref">Listing 1.113</span></a>, we notice for instance in Lines 3-4 that the <em>RWTH Aachen</em> is precisely rated into the 4th 9-tile (<img class="math" src="_images/math/b8853c5991441926a3b0582f01134f486f780e13.png" alt="[0.33 - 0.44["/>), whereas the University <em>Augsburg</em> is less precisely rated conjointly into the <em>6th</em>, the <em>7th</em> and the <em>8th</em> 9-tile (<img class="math" src="_images/math/b3fa753e40b57eb448413ea02f6eefc0186fdc97.png" alt="[0.56 - 0.89["/>). In Line 42, <em>TU München</em> appears best rated into the unique highest 9-tile (<img class="math" src="_images/math/e1fb653231d5603f9c98d137ffe8e3578b474754.png" alt="[0.89 - &lt;["/>). All three rating results are supported by a (0.07 + 1.0)/2 = 53.5% majority of valuated subjects <a class="footnote-reference brackets" href="#id235" id="id145" role="doc-noteref"><span class="fn-bracket">[</span>31<span class="fn-bracket">]</span></a>. With the support of a 76.5% majority of valuated subjects (Line 20), the apparent most confident rating result is the one of University <em>Freiburg</em> (see also <a class="reference internal" href="#qualityscores"><span class="std std-numref">Fig. 1.63</span></a> and <a class="reference internal" href="#ninetiledheatmap"><span class="std std-numref">Fig. 1.66</span></a>).</p>
<p>We shall now lexicographically sort these individual rating results per University, by <em>average</em> rated 9-tile limits and <em>highest-rated</em> upper 9-tile limit, into ordered, but not necessarily disjoint, enrolment quality quantiles.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">lqr</span><span class="o">.</span><span class="n">showHTMLQuantilesSorting</span><span class="p">(</span><span class="n">strategy</span><span class="o">=</span><span class="s1">&#39;average&#39;</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="ninetilingordering">
<a class="reference internal image-reference" href="_images/nineTilingOrdering.png"><img alt="_images/nineTilingOrdering.png" src="_images/nineTilingOrdering.png" style="width: 400px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.69 </span><span class="caption-text">The ranked 9-tiles rating-by-sorting result</span><a class="headerlink" href="#ninetilingordering" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>In <a class="reference internal" href="#ninetilingordering"><span class="std std-numref">Fig. 1.69</span></a> we may notice that the Universities: <em>Augsburg</em>, <em>Kaiserslautern</em>, <em>Mannheim</em> and <em>Tübingen</em> for instance, show in fact the same average rated 9-tiles score of 0.725; yet, the rated upper 9-tile limit of <em>Tuebingen</em> is only 0.78, whereas the one of the other Universities reaches 0.89. Hence, <em>Tuebingen</em> is ranked below <em>Augsburg</em>, <em>Kaiserslautern</em> and <em>Mannheim</em> .</p>
<p>With a special <em>graphviz</em> drawing of the <a class="reference internal" href="techDoc.html#sortingDigraphs.LearnedQuantilesRatingDigraph" title="sortingDigraphs.LearnedQuantilesRatingDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">LearnedQuantilesRatingDigraph</span></code></a> instance <em>lqr</em>, we may, without requiring any specific ordering strategy, as well illustrate our 9-tiles <em>rating-by-sorting</em> result.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">lqr</span><span class="o">.</span><span class="n">exportRatingBySortingGraphViz</span><span class="p">(</span>\
<span class="gp">... </span>          <span class="s1">&#39;nineTilingDrawing&#39;</span><span class="p">,</span><span class="n">graphSize</span><span class="o">=</span><span class="s1">&#39;12,12&#39;</span><span class="p">)</span>
<span class="go"> *---- exporting a dot file for GraphViz tools ---------*</span>
<span class="go">  Exporting to nineTilingDrawing.dot</span>
<span class="go">  dot -Grankdir=TB -Tpng nineTilingDrawing.dot -o nineTilingDrawing.png</span>
</pre></div>
</div>
<figure class="align-center" id="ninetilingdrawing">
<a class="reference internal image-reference" href="_images/nineTilingDrawing.png"><img alt="_images/nineTilingDrawing.png" src="_images/nineTilingDrawing.png" style="width: 650px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.70 </span><span class="caption-text">Graphviz drawing of the 9-tiles sorting digraph</span><a class="headerlink" href="#ninetilingdrawing" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>In <a class="reference internal" href="#ninetilingdrawing"><span class="std std-numref">Fig. 1.70</span></a> we actually see the <em>skeleton</em> (transitive closure removed) of a <strong>partial order</strong>, where an oriented arc is drawn between Universities <em>x</em> and <em>y</em> when their 9-tiles sorting results are <strong>disjoint</strong> and the one of <em>x</em> is <strong>higher rated</strong> than the one of <em>y</em>. The rating for <em>TU München</em> (see <a class="reference internal" href="#ninetilessorting"><span class="std std-numref">Listing 1.113</span></a> Lines 45), for instance, is disjoint and higher rated than the one of the Universities <em>Freiburg</em> and <em>Konstanz</em> (Lines 23, 32). And, both the ratings of <em>Feiburg</em> and <em>Konstanz</em> are, however, not disjoint from the one, for instance, of the Universty of <em>Stuttgart</em> (Line 42).</p>
<p>The partial ranking, shown in <a class="reference internal" href="#ninetilingdrawing"><span class="std std-numref">Fig. 1.70</span></a>, is in fact <strong>independent</strong> of any ordering strategy: - <em>average</em>, - <em>optimistic</em> or - <em>pessimistic</em>, of overlapping 9-tiles sorting results, and confirms that the same Universities as with the previous <em>rating-by-ranking</em> approach, namely <em>TU München</em>, <em>Freiburg</em>, <em>Konstanz</em>, <em>Stuttgart</em>, <em>Berlin Humboldt</em>, <em>Heidelberg</em> and <em>Leipzig</em> appear top-rated. Similarly, the Universities of <em>Duisburg</em>, <em>Bielefeld</em>, <em>Hanover</em>, <em>Bochum</em>, <em>Giessen</em>, <em>Düsseldorf</em> and <em>Hamburg</em> give the lowest-rated group. The midfield here is again consisting of more or less the same Universities as the one observed in the previous <em>rating-by-ranking</em> approach (see <a class="reference internal" href="#ratingresult"><span class="std std-numref">Fig. 1.67</span></a>).</p>
</section>
<section id="to-conclude">
<h4><a class="toc-backref" href="#id408" role="doc-backlink"><span class="section-number">1.4.3.5. </span>To conclude</a><a class="headerlink" href="#to-conclude" title="Link to this heading"></a></h4>
<p>In the end, both the <em>Copeland</em> <em>rating-by-ranking</em>, as well as the <em>rating-by-sorting</em> approach give luckily, in our case study here, very similar results. The first approach, with its <em>forced</em> linear ranking, determines on the one hand, <em>precise</em> enrolment quality equivalence classes; a result, depending potentially a lot on the actually applied ranking rule. The <em>rating-by-sorting</em> approach, on the other hand, only determines for each University a less precise but <em>prudent</em> rating of its individual enrolment quality, furthermore supported by a known majority of performance criteria significance; a somehow <em>fairer</em> and <em>robuster</em> result, but, much less evident for easily comparing the apparent enrolment quality among Universities. Contradictorily, or sparsely valuated Universities, for instance, will appear trivially rated into a large midfield of adjacent 9-tiles.</p>
<p>Let us conclude by saying that we prefer this latter <em>rating-by-sorting</em> approach; perhaps impreciser, due the case given, to missing and contradictory performance data; yet, well grounded in a powerful bipolar-valued logical and espistemic framework (see the <a class="reference internal" href="pearls.html#advanced-topics-label"><span class="std std-ref">advanced topics of the Digraph3 documentation</span></a>).</p>
<p>Back to <a class="reference internal" href="#tutorial-label"><span class="std std-ref">Content Table</span></a></p>
<hr class="docutils" />
</section>
</section>
<section id="classmates-matching-an-intragroup-pairing-case-study">
<span id="roommatesmatching-tutorial-label"></span><h3><a class="toc-backref" href="#id394" role="doc-backlink"><span class="section-number">1.4.4. </span>Classmates matching: An <em>intragroup pairing</em> case study</a><a class="headerlink" href="#classmates-matching-an-intragroup-pairing-case-study" title="Link to this heading"></a></h3>
<nav class="contents local" id="id146">
<ul class="simple">
<li><p><a class="reference internal" href="#a-classmates-matching-problem" id="id409">A classmates matching problem</a></p></li>
<li><p><a class="reference internal" href="#computing-a-fair-pairing-solution" id="id410">Computing a fair pairing solution</a></p></li>
<li><p><a class="reference internal" href="#using-a-fairness-enhancing-solver" id="id411">Using a fairness enhancing solver</a></p></li>
<li><p><a class="reference internal" href="#guiding-the-choice-of-the-initial-matching" id="id412">Guiding the choice of the initial matching</a></p></li>
</ul>
</nav>
<section id="a-classmates-matching-problem">
<h4><a class="toc-backref" href="#id409" role="doc-backlink"><span class="section-number">1.4.4.1. </span>A classmates matching problem</a><a class="headerlink" href="#a-classmates-matching-problem" title="Link to this heading"></a></h4>
<p>A class of ten university students has to be matched into partner pairs for a class activity. The students submitted the following approval-disapproval pairing preferences.</p>
<blockquote>
<div><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Student</p></th>
<th class="head" colspan="2"><p>Pairing</p></th>
</tr>
<tr class="row-even"><th class="head"><p>Ids</p></th>
<th class="head"><p>Approvals</p></th>
<th class="head"><p>Disapprovals</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>A (Alice)</p></td>
<td><p>C, F, I</p></td>
<td><p>B, G</p></td>
</tr>
<tr class="row-even"><td><p>B (Bob)</p></td>
<td><p>D, E, G</p></td>
<td><p>H, I, J</p></td>
</tr>
<tr class="row-odd"><td><p>C (Carol))</p></td>
<td><p>A, F</p></td>
<td><p>B, G, I, J</p></td>
</tr>
<tr class="row-even"><td><p>D (Dan)</p></td>
<td><p>H</p></td>
<td><p>A, B, C</p></td>
</tr>
<tr class="row-odd"><td><p>E (Edward)</p></td>
<td><p>B, D, F, H</p></td>
<td><p>A, C, G, I, J</p></td>
</tr>
<tr class="row-even"><td><p>F (Felix)</p></td>
<td><p>C, H, I</p></td>
<td><p>B, J</p></td>
</tr>
<tr class="row-odd"><td><p>G (Gaby)</p></td>
<td><p>E, H</p></td>
<td><p>A, C, D</p></td>
</tr>
<tr class="row-even"><td><p>H (Henry)</p></td>
<td><p>D, F</p></td>
<td><p>B, E</p></td>
</tr>
<tr class="row-odd"><td><p>I (Isabel)</p></td>
<td><p>A, C, G, J</p></td>
<td><p>B, D, E,F, H</p></td>
</tr>
<tr class="row-even"><td><p>J (Jane)</p></td>
<td><p>D, G</p></td>
<td><p>B, C, E</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>The given pairing preferences are gathered in a <a class="reference internal" href="techDoc.html#votingProfiles.BipolarApprovalVotingProfile" title="votingProfiles.BipolarApprovalVotingProfile"><code class="xref py py-class docutils literal notranslate"><span class="pre">BipolarApprovalVotingProfile</span></code></a> object stored under the name <em>classmates.py</em> in the <em>examples</em> directory of the <em>Digraph3</em> resources.</p>
<div class="literal-block-wrapper docutils container" id="classmates1">
<div class="code-block-caption"><span class="caption-number">Listing 1.114 </span><span class="caption-text">Example of intragroup pairing preferences</span><a class="headerlink" href="#classmates1" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">votingProfiles</span> <span class="kn">import</span> <span class="n">BipolarApprovalVotingProfile</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">bavp</span> <span class="o">=</span> <span class="n">BipolarApprovalVotingProfile</span><span class="p">(</span><span class="s1">&#39;classmates&#39;</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">bavp</span><span class="o">.</span><span class="n">showBipolarApprovals</span><span class="p">()</span>
<span class="linenos"> 4</span><span class="go"> Bipolar approval ballots</span>
<span class="linenos"> 5</span><span class="go"> ------------------------</span>
<span class="linenos"> 6</span><span class="go"> A :</span>
<span class="hll"><span class="linenos"> 7</span><span class="go"> Approvals   : [&#39;C&#39;, &#39;F&#39;, &#39;I&#39;]</span>
</span><span class="linenos"> 8</span><span class="go"> Disapprovals: [&#39;B&#39;, &#39;G&#39;]</span>
<span class="linenos"> 9</span><span class="go"> B :</span>
<span class="hll"><span class="linenos">10</span><span class="go"> Approvals   : [&#39;D&#39;, &#39;E&#39;, &#39;G&#39;]</span>
</span><span class="linenos">11</span><span class="go"> Disapprovals: [&#39;H&#39;, &#39;I&#39;, &#39;J&#39;]</span>
<span class="linenos">12</span><span class="go"> C :</span>
<span class="hll"><span class="linenos">13</span><span class="go"> Approvals   : [&#39;A&#39;, &#39;F&#39;]</span>
</span><span class="linenos">14</span><span class="go"> Disapprovals: [&#39;B&#39;, &#39;G&#39;, &#39;I&#39;, &#39;J&#39;]</span>
<span class="linenos">15</span><span class="go"> D :</span>
<span class="hll"><span class="linenos">16</span><span class="go"> Approvals   : [&#39;H&#39;]</span>
</span><span class="linenos">17</span><span class="go"> Disapprovals: [&#39;A&#39;, &#39;B&#39;, &#39;C&#39;]</span>
<span class="hll"><span class="linenos">18</span><span class="go"> E :</span>
</span><span class="linenos">19</span><span class="go"> Approvals   : [&#39;B&#39;, &#39;D&#39;, &#39;F&#39;, &#39;H&#39;]</span>
<span class="linenos">20</span><span class="go"> Disapprovals: [&#39;A&#39;, &#39;C&#39;, &#39;G&#39;, &#39;I&#39;, &#39;J&#39;]</span>
<span class="linenos">21</span><span class="go"> F :</span>
<span class="linenos">22</span><span class="go"> Approvals   : [&#39;C&#39;, &#39;H&#39;, &#39;I&#39;]</span>
<span class="linenos">23</span><span class="go"> Disapprovals: [&#39;B&#39;, &#39;J&#39;]</span>
<span class="linenos">24</span><span class="go"> G :</span>
<span class="hll"><span class="linenos">25</span><span class="go"> Approvals   : [&#39;E&#39;, &#39;H&#39;]</span>
</span><span class="linenos">26</span><span class="go"> Disapprovals: [&#39;A&#39;, &#39;C&#39;, &#39;D&#39;]</span>
<span class="linenos">27</span><span class="go"> H :</span>
<span class="hll"><span class="linenos">28</span><span class="go"> Approvals   : [&#39;D&#39;, &#39;F&#39;]</span>
</span><span class="linenos">29</span><span class="go"> Disapprovals: [&#39;B&#39;, &#39;E&#39;]</span>
<span class="linenos">30</span><span class="go"> I :</span>
<span class="linenos">31</span><span class="go"> Approvals   : [&#39;A&#39;, &#39;C&#39;, &#39;G&#39;, &#39;J&#39;]</span>
<span class="hll"><span class="linenos">32</span><span class="go"> Disapprovals: [&#39;B&#39;, &#39;D&#39;, &#39;E&#39;, &#39;F&#39;, &#39;H&#39;]</span>
</span><span class="linenos">33</span><span class="go"> J :</span>
<span class="linenos">34</span><span class="go"> Approvals   : [&#39;D&#39;, &#39;G&#39;]</span>
<span class="linenos">35</span><span class="go"> Disapprovals: [&#39;B&#39;, &#39;C&#39;, &#39;E&#39;]</span>
</pre></div>
</div>
</div>
<p>In <a class="reference internal" href="#classmates1"><span class="std std-numref">Listing 1.114</span></a> we may notice that pairing <em>Alice</em> with <em>Carol</em> and <em>Bob</em> with <em>Edward</em> is evident as they both approve their reciprocal matches. <em>Gaby</em> however wants to be paired with <em>Edward</em> or <em>Henry</em>. Yet, both do not approve her as potential partner. Notice also that <em>Edward</em> wishes to be paired only with male partners and <em>Isabel</em> only with female ones. What is now a pairing solution which takes the fairest account of these individual approval and disapproval pairing preferences.</p>
</section>
<section id="computing-a-fair-pairing-solution">
<h4><a class="toc-backref" href="#id410" role="doc-backlink"><span class="section-number">1.4.4.2. </span>Computing a fair pairing solution</a><a class="headerlink" href="#computing-a-fair-pairing-solution" title="Link to this heading"></a></h4>
<blockquote class="epigraph">
<div><p>“<strong>Fairness</strong>: <em>impartial and just treatment or behaviour without favouritism or discrimination</em>” – Oxford Languages</p>
</div></blockquote>
<p>The <a class="reference internal" href="techDoc.html#module-pairings" title="pairings"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pairings</span></code></a> module provides the <a class="reference internal" href="techDoc.html#pairings.FairestIntraGroupPairing" title="pairings.FairestIntraGroupPairing"><code class="xref py py-class docutils literal notranslate"><span class="pre">FairestIntraGroupPairing</span></code></a> constructor for computing by brute force over all 9!! = 945 potential matchings the best ordinally correlated pairing solution with respect to the previously given <em>bavp</em> pairing approvals and disapprovals (see <a class="reference internal" href="#fair-intragroup-pairings-label"><span class="std std-ref">tutorial on computing fair intragroup pairings</span></a>).</p>
<div class="literal-block-wrapper docutils container" id="classmates2">
<div class="code-block-caption"><span class="caption-number">Listing 1.115 </span><span class="caption-text">Solving the intragroup pairing problem</span><a class="headerlink" href="#classmates2" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pairings</span> <span class="kn">import</span> <span class="n">FairestIntraGroupPairing</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fp</span> <span class="o">=</span> <span class="n">FairestIntraGroupPairing</span><span class="p">(</span><span class="n">bavp</span><span class="p">,</span><span class="n">orderLimit</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fp</span>
<span class="linenos"> 4</span><span class="go"> *------- IntraGroupPairing instance description ------*</span>
<span class="linenos"> 5</span><span class="go">  Instance class    : FairestIntraGroupPairing</span>
<span class="linenos"> 6</span><span class="go">  Instance name     : IntraGroupPairing</span>
<span class="linenos"> 7</span><span class="go">  Group size        : 10</span>
<span class="linenos"> 8</span><span class="go">  Nbr of matchings  : 945</span>
<span class="linenos"> 9</span><span class="go">  Attributes        : [&#39;name&#39;, &#39;persons&#39;, &#39;order&#39;, &#39;vpA&#39;,</span>
<span class="linenos">10</span><span class="go">                       &#39;nbrOfMatchings&#39;, &#39;pairings&#39;, &#39;matching&#39;,</span>
<span class="linenos">11</span><span class="go">                       &#39;avgCorr&#39;, &#39;stdCorr&#39;, &#39;groupScores&#39;,</span>
<span class="linenos">12</span><span class="go">                       &#39;runTimes&#39;, &#39;vertices&#39;, &#39;valuationDomain&#39;,</span>
<span class="linenos">13</span><span class="go">                       &#39;edges&#39;, &#39;gamma&#39;]</span>
<span class="linenos">14</span><span class="go">  ----  Constructor run times (in sec.) ----</span>
<span class="hll"><span class="linenos">15</span><span class="go">   Total time           : 4.04574</span>
</span><span class="linenos">16</span><span class="go">   Data input           : 0.00001</span>
<span class="linenos">17</span><span class="go">   Maximal matchings    : 0.10362</span>
<span class="linenos">18</span><span class="go">   Pairing correlations : 3.94153</span>
<span class="linenos">19</span><span class="go">   Sorting Fitness      : 0.00052</span>
<span class="linenos">20</span><span class="go">   Storing results      : 0.00006</span>
<span class="linenos">21</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fp</span><span class="o">.</span><span class="n">showMatchingFairness</span><span class="p">()</span>
<span class="linenos">22</span><span class="go"> Matched pairs</span>
<span class="hll"><span class="linenos">23</span><span class="go">  {&#39;A&#39;, &#39;I&#39;}</span>
</span><span class="hll"><span class="linenos">24</span><span class="go">  {&#39;B&#39;, &#39;E&#39;}</span>
</span><span class="hll"><span class="linenos">25</span><span class="go">  {&#39;C&#39;, &#39;F&#39;}</span>
</span><span class="hll"><span class="linenos">26</span><span class="go">  {&#39;G&#39;, &#39;J&#39;}</span>
</span><span class="hll"><span class="linenos">27</span><span class="go">  {&#39;H&#39;, &#39;D&#39;}</span>
</span><span class="linenos">28</span><span class="go"> ----</span>
<span class="linenos">29</span><span class="go"> Individual correlations:</span>
<span class="hll"><span class="linenos">30</span><span class="go">  &#39;A&#39;: +1.000</span>
</span><span class="hll"><span class="linenos">31</span><span class="go">  &#39;B&#39;: +1.000</span>
</span><span class="hll"><span class="linenos">32</span><span class="go">  &#39;C&#39;: +1.000</span>
</span><span class="hll"><span class="linenos">33</span><span class="go">  &#39;D&#39;: +1.000</span>
</span><span class="hll"><span class="linenos">34</span><span class="go">  &#39;E&#39;: +1.000</span>
</span><span class="hll"><span class="linenos">35</span><span class="go">  &#39;F&#39;: +1.000</span>
</span><span class="hll"><span class="linenos">36</span><span class="go">  &#39;G&#39;: +0.200</span>
</span><span class="hll"><span class="linenos">37</span><span class="go">  &#39;H&#39;: +1.000</span>
</span><span class="hll"><span class="linenos">38</span><span class="go">  &#39;I&#39;: +1.000</span>
</span><span class="hll"><span class="linenos">39</span><span class="go">  &#39;J&#39;: +1.000</span>
</span><span class="linenos">40</span><span class="go"> -----</span>
<span class="hll"><span class="linenos">41</span><span class="go">  Average correlation : +0.920</span>
</span><span class="linenos">42</span><span class="go">  Standard deviation  :  0.253</span>
</pre></div>
</div>
</div>
<p>Looking in <a class="reference internal" href="#classmates2"><span class="std std-numref">Listing 1.115</span></a> at the fairest pairing solution, we are lucky here as the pairing result is highly correlated with the pairing preferences of the ten classmates (+0.920, see Line 41). All students, except <em>Gaby</em>, are in fact paired with an approved partner and no student is paired with a disapproved partner. We may illustrate in <a class="reference internal" href="#fairestintragrouppairing2"><span class="std std-numref">Fig. 1.71</span></a> the resulting fairest intragroup pairing solution with a graphviz drawing.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fp</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">(</span><span class="s1">&#39;fairestIntraGroupPairing2&#39;</span><span class="p">)</span>
<span class="go"> *---- exporting a dot file for GraphViz tools ---------*</span>
<span class="go"> Exporting to fairestIntraGroupPairing2.dot</span>
<span class="go"> fdp -Tpng fairestIntraGroupPairing2.dot -o fairestIntraGroupPairing2.png</span>
</pre></div>
</div>
<figure class="align-center" id="fairestintragrouppairing2">
<a class="reference internal image-reference" href="_images/fairestIntraGroupPairing2.png"><img alt="Fairest Pairing Drawing" src="_images/fairestIntraGroupPairing2.png" style="width: 250px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.71 </span><span class="caption-text">Fairest intragroup pairing solution</span><a class="headerlink" href="#fairestintragrouppairing2" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Notice that with such a tiny group, the brute force solving approach –testing all 945 potential matchings– takes only about four seconds (see Line 15 in <a class="reference internal" href="#classmates2"><span class="std std-numref">Listing 1.115</span></a>). We may nevertheless try to reduce this solving runtime figure by using a smart fairness enhancing solver.</p>
</section>
<section id="using-a-fairness-enhancing-solver">
<h4><a class="toc-backref" href="#id411" role="doc-backlink"><span class="section-number">1.4.4.3. </span>Using a fairness enhancing solver</a><a class="headerlink" href="#using-a-fairness-enhancing-solver" title="Link to this heading"></a></h4>
<p>The <a class="reference internal" href="techDoc.html#pairings.FairnessEnhancedIntraGroupMatching" title="pairings.FairnessEnhancedIntraGroupMatching"><code class="xref py py-class docutils literal notranslate"><span class="pre">FairnessEnhancedIntraGroupMatching</span></code></a> constructor, provided by the <a class="reference internal" href="techDoc.html#module-pairings" title="pairings"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pairings</span></code></a> module, may indeed reduce significantly the brute force solving run time, an essential feature when having to match larger groups of persons or items into pairs.</p>
<div class="literal-block-wrapper docutils container" id="classmates3">
<div class="code-block-caption"><span class="caption-number">Listing 1.116 </span><span class="caption-text">Fairness enhanced solving of the matching problem</span><a class="headerlink" href="#classmates3" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pairings</span> <span class="kn">import</span> <span class="n">FairnessEnhancedIntraGroupMatching</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fep</span> <span class="o">=</span> <span class="n">FairnessEnhancedIntraGroupMatching</span><span class="p">(</span><span class="n">bavp</span><span class="p">,</span><span class="n">Comments</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="go"> ===&gt;&gt;&gt; Enhancing left initial matching</span>
<span class="linenos"> 4</span><span class="go">  Initial left matching</span>
<span class="hll"><span class="linenos"> 5</span><span class="go">  [[&#39;A&#39;, &#39;B&#39;], [&#39;C&#39;, &#39;D&#39;], [&#39;E&#39;, &#39;F&#39;], [&#39;G&#39;, &#39;H&#39;], [&#39;I&#39;, &#39;J&#39;]]</span>
</span><span class="linenos"> 6</span><span class="go">  Fairness enhanced left matching</span>
<span class="linenos"> 7</span><span class="go">  [[&#39;A&#39;, &#39;C&#39;], [&#39;B&#39;, &#39;G&#39;], [&#39;E&#39;, &#39;D&#39;], [&#39;F&#39;, &#39;H&#39;], [&#39;I&#39;, &#39;J&#39;]]</span>
<span class="linenos"> 8</span><span class="go">   correlation: 0.790</span>
<span class="linenos"> 9</span><span class="go"> ===&gt;&gt;&gt; Enhancing right initial matching</span>
<span class="linenos">10</span><span class="go">  Initial right matching</span>
<span class="hll"><span class="linenos">11</span><span class="go">  [[&#39;J&#39;, &#39;A&#39;], [&#39;I&#39;, &#39;B&#39;], [&#39;H&#39;, &#39;C&#39;], [&#39;G&#39;, &#39;D&#39;], [&#39;F&#39;, &#39;E&#39;]]</span>
</span><span class="linenos">12</span><span class="go">  Fairness enhanced right matching</span>
<span class="linenos">13</span><span class="go">  [[&#39;A&#39;, &#39;I&#39;], [&#39;C&#39;, &#39;F&#39;], [&#39;E&#39;, &#39;B&#39;], [&#39;G&#39;, &#39;J&#39;], [&#39;D&#39;, &#39;H&#39;]]</span>
<span class="linenos">14</span><span class="go">  correlation: 0.920</span>
<span class="linenos">15</span><span class="go"> ===&gt;&gt;&gt; Best fairness enhanced matching</span>
<span class="linenos">16</span><span class="go">  Matched pairs</span>
<span class="hll"><span class="linenos">17</span><span class="go">   {&#39;A&#39;, &#39;I&#39;}</span>
</span><span class="hll"><span class="linenos">18</span><span class="go">   {&#39;C&#39;, &#39;F&#39;}</span>
</span><span class="hll"><span class="linenos">19</span><span class="go">   {&#39;D&#39;, &#39;H&#39;}</span>
</span><span class="hll"><span class="linenos">20</span><span class="go">   {&#39;E&#39;, &#39;B&#39;}</span>
</span><span class="hll"><span class="linenos">21</span><span class="go">   {&#39;G&#39;, &#39;J&#39;}</span>
</span><span class="linenos">22</span><span class="go">  Average correlation: +0.920</span>
<span class="hll"><span class="linenos">23</span><span class="go">  Total run time: 0.188 sec.</span>
</span></pre></div>
</div>
</div>
<p>In <a class="reference internal" href="#classmates3"><span class="std std-numref">Listing 1.116</span></a> above we may notice that the fairness enhancing procedure  starts by default from two initial matchings, a right one and a left one (see Lines 5 and 11). Starting from each initial matching, the solver tries to swap either the two exterior persons <em>p1</em> &lt;-&gt; <em>p4</em> and/or the interior persons <em>p2</em> &lt;-&gt; <em>p3</em> of two potential student pairs [[<em>p1,p2</em>], [<em>p3,p4</em>]] in order to enhance the fairness of the so far obtained pairing solution. Starting from the right initial matching, we recover here the same optimal fairest pairing result as before in a solving run time of less than one fifth of a second (see Line 23).</p>
</section>
<section id="guiding-the-choice-of-the-initial-matching">
<h4><a class="toc-backref" href="#id412" role="doc-backlink"><span class="section-number">1.4.4.4. </span>Guiding the choice of the initial matching</a><a class="headerlink" href="#guiding-the-choice-of-the-initial-matching" title="Link to this heading"></a></h4>
<p>Instead of starting now from the default initial right and left matchings, we may also start in <a class="reference internal" href="#classmates4"><span class="std std-numref">Listing 1.117</span></a> below the fairness enhancing search from a best <em>Copeland</em> matching, i.e. an initial matching where each student is paired with a partner who shows the highest possible matching fitness score with respect to the given individual student’s pairing preferences <a class="footnote-reference brackets" href="#id273" id="id147" role="doc-noteref"><span class="fn-bracket">[</span>67<span class="fn-bracket">]</span></a>.</p>
<div class="literal-block-wrapper docutils container" id="classmates4">
<div class="code-block-caption"><span class="caption-number">Listing 1.117 </span><span class="caption-text">Matching fitness scores</span><a class="headerlink" href="#classmates4" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pairings</span> <span class="kn">import</span> <span class="n">BestCopelandIntraGroupMatching</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">bcm</span> <span class="o">=</span> <span class="n">BestCopelandIntraGroupMatching</span><span class="p">(</span><span class="n">bavp</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">bcm</span><span class="o">.</span><span class="n">showMatchingFitnessScores</span><span class="p">()</span>
<span class="linenos"> 4</span><span class="go">      | &#39;B&#39; &#39;C&#39; &#39;D&#39; &#39;E&#39; &#39;F&#39; &#39;G&#39; &#39;H&#39; &#39;I&#39; &#39;J&#39;</span>
<span class="linenos"> 5</span><span class="go"> -----|------------------------------------</span>
<span class="hll"><span class="linenos"> 6</span><span class="go">  &#39;A&#39; | -16 +30 -16 -12 +12 -30  -2 +26  +0</span>
</span><span class="hll"><span class="linenos"> 7</span><span class="go">  &#39;B&#39; |     -12  +0 +26 -16 +16 -30 -24 -28</span>
</span><span class="hll"><span class="linenos"> 8</span><span class="go">  &#39;C&#39; |         -10  -6 +30 -26  +4  +0 -26</span>
</span><span class="hll"><span class="linenos"> 9</span><span class="go">  &#39;D&#39; |             +16  +2 -10 +34  -6 +20</span>
</span><span class="hll"><span class="linenos">10</span><span class="go">  &#39;E&#39; |                 +10  +6  -4 -20 -24</span>
</span><span class="hll"><span class="linenos">11</span><span class="go">  &#39;F&#39; |                      +0 +30  +4 -14</span>
</span><span class="hll"><span class="linenos">12</span><span class="go">  &#39;G&#39; |                         +16 +14 +18</span>
</span><span class="hll"><span class="linenos">13</span><span class="go">  &#39;H&#39; |                             -10  +2</span>
</span><span class="hll"><span class="linenos">14</span><span class="go">  &#39;I&#39; |                                 +14</span>
</span><span class="linenos">15</span><span class="go">  Valuation domain: [-34, 34]</span>
</pre></div>
</div>
</div>
<p>The pairwise matching fitness scores shown above in Lines 6-14 result from the sum of the <em>Copeland</em> ranking scores of the respective potential partners of both the paired persons. The fitness figures confirm for instance that the best matching fitness score of 34 is shown for pairing <em>Dan</em> and <em>Henry</em> (Line 9) followed by the best matching fitness score of 30 for pairing <em>Alice</em> is <em>Carol</em> (Line 6). A best matching fitness score of +26 than appears for pairing <em>Bob with *Edward</em> (Line 7). <em>Gaby</em> and <em>Jane</em> show a best matching fitness score of +18 (Line 12). Finally we are only left with <em>Felix</em> and <em>Isabel</em>. <em>Felix</em> approves <em>Isabel</em> but <em>Isabel</em> does only approve female partners; their reciprocal matching fitness score is eventually only +4 (Line 11)). Below is shown the resulting best fitting <em>Copeland</em> matching <a class="footnote-reference brackets" href="#id272" id="id148" role="doc-noteref"><span class="fn-bracket">[</span>66<span class="fn-bracket">]</span></a>.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">bcm</span><span class="o">.</span><span class="n">matching</span>
<span class="go">{{&#39;D&#39;, &#39;H&#39;}, {&#39;A&#39;, &#39;C&#39;}, {&#39;B&#39;, &#39;E&#39;}, {&#39;G&#39;, &#39;J&#39;}, {&#39;F&#39;, &#39;I&#39;}}</span>
</pre></div>
</div>
<p>Starting from this initial matching, we may now reach indeed the fairest possible pairing solution within one fairness enhancing step by exchanging <em>Alice</em> with <em>Felix</em>.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fec</span> <span class="o">=</span> <span class="n">FairnessEnhancedIntraGroupMatching</span><span class="p">(</span><span class="n">bavp</span><span class="p">,</span>
<span class="linenos"> 2</span><span class="gp">... </span>         <span class="n">initialMatching</span><span class="o">=</span><span class="n">bcm</span><span class="o">.</span><span class="n">matching</span><span class="p">)</span>
<span class="hll"><span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fec</span><span class="o">.</span><span class="n">showMatchingFairness</span><span class="p">()</span>
</span><span class="linenos"> 4</span><span class="go"> Matched pairs</span>
<span class="linenos"> 5</span><span class="go">  {&#39;B&#39;, &#39;E&#39;}</span>
<span class="hll"><span class="linenos"> 6</span><span class="go">  {&#39;C&#39;, &#39;F&#39;}</span>
</span><span class="linenos"> 7</span><span class="go">  {&#39;D&#39;, &#39;H&#39;}</span>
<span class="linenos"> 8</span><span class="go">  {&#39;I&#39;, &#39;A&#39;}</span>
<span class="linenos"> 9</span><span class="go">  {&#39;J&#39;, &#39;G&#39;}</span>
<span class="linenos">10</span><span class="go"> ----</span>
<span class="linenos">11</span><span class="go"> Individual correlations:</span>
<span class="linenos">12</span><span class="go">  &#39;A&#39;: +1.000</span>
<span class="linenos">13</span><span class="go">  &#39;B&#39;: +1.000</span>
<span class="linenos">14</span><span class="go">  &#39;C&#39;: +1.000</span>
<span class="linenos">15</span><span class="go">  &#39;D&#39;: +1.000</span>
<span class="linenos">16</span><span class="go">  &#39;E&#39;: +1.000</span>
<span class="linenos">17</span><span class="go">  &#39;F&#39;: +1.000</span>
<span class="linenos">18</span><span class="go">  &#39;G&#39;: +0.200</span>
<span class="linenos">19</span><span class="go">  &#39;H&#39;: +1.000</span>
<span class="linenos">20</span><span class="go">  &#39;I&#39;: +1.000</span>
<span class="linenos">21</span><span class="go">  &#39;J&#39;: +1.000</span>
<span class="linenos">22</span><span class="go"> -----</span>
<span class="hll"><span class="linenos">23</span><span class="go">  Average correlation : +0.920</span>
</span><span class="linenos">24</span><span class="go">  Standard deviation  :  0.253</span>
<span class="linenos">25</span><span class="go">  Total run time      :  0.075 sec.</span>
</pre></div>
</div>
<p>Total solver run time is now reduced to less than a 13th of a second (0.075, see Line 23 above). The initial brute force solving run time of about 4.0 seconds is thus eventually divided by more than <img class="math" src="_images/math/96f18547df5a8815cd8b526705b0a5001f214dfd.png" alt="4.0/0.075 \approx 53"/> (see <a class="reference internal" href="#classmates2"><span class="std std-numref">Listing 1.115</span></a> Line 16). With a polynomial run time for computing a best <em>Copeland</em> initial matching, intragroup pairing problems of larger group sizes become so effectively solvable.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#fair-intragroup-pairings-label"><span class="std std-ref">The tutorial on computing fair intragroup pairings</span></a>.</p>
</div>
<p>Back to <a class="reference internal" href="#tutorial-label"><span class="std std-ref">Content Table</span></a></p>
<hr class="docutils" />
</section>
</section>
<section id="fairest-internship-matching-an-intergroup-pairing-case-study">
<span id="internshipsmatching-tutorial-label"></span><h3><a class="toc-backref" href="#id395" role="doc-backlink"><span class="section-number">1.4.5. </span>Fairest internship matching: An <em>intergroup pairing</em> case study</a><a class="headerlink" href="#fairest-internship-matching-an-intergroup-pairing-case-study" title="Link to this heading"></a></h3>
<nav class="contents local" id="id149">
<ul class="simple">
<li><p><a class="reference internal" href="#a-graduate-internship-matching-problem" id="id413">A graduate internship matching problem</a></p></li>
<li><p><a class="reference internal" href="#computing-a-fair-matching" id="id414">Computing a fair matching</a></p></li>
<li><p><a class="reference internal" href="#using-a-fairness-enhancing-heuristic" id="id415">Using a fairness enhancing heuristic</a></p></li>
<li><p><a class="reference internal" href="#using-bipolar-approval-disapproval-voting-profiles" id="id416">Using bipolar approval-disapproval voting profiles</a></p></li>
</ul>
</nav>
<section id="a-graduate-internship-matching-problem">
<h4><a class="toc-backref" href="#id413" role="doc-backlink"><span class="section-number">1.4.5.1. </span>A graduate internship matching problem</a><a class="headerlink" href="#a-graduate-internship-matching-problem" title="Link to this heading"></a></h4>
<p>A class of ten graduate students in their final medical science study year has to be matched with a set of ten internships offered by different organizations. The students submitted their individual preferences concerning the offered internships in the format of the following linear votings.</p>
<blockquote>
<div><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Student</p></th>
<th class="head"><p>Matching</p></th>
</tr>
<tr class="row-even"><th class="head"><p>Ids</p></th>
<th class="head"><p>Preferences</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>‘s01’</p></td>
<td><p>[i07, i09, i10, i08, i06, i04, i01, i05, i02, i03]</p></td>
</tr>
<tr class="row-even"><td><p>‘s02’</p></td>
<td><p>[i05, i09, i03, i07, i06, i10, i01, i08, i02, i04]</p></td>
</tr>
<tr class="row-odd"><td><p>‘s03’</p></td>
<td><p>[i08, i09, i07, i10, i06, i01, i03, i02, i04, i05]</p></td>
</tr>
<tr class="row-even"><td><p>‘s04’</p></td>
<td><p>[i08, i03, i09, i02, i05, i01, i06, i10, i04, i07]</p></td>
</tr>
<tr class="row-odd"><td><p>‘s05’</p></td>
<td><p>[i03, i01, i05, i10, i07, i08, i02, i06, i04, i09]</p></td>
</tr>
<tr class="row-even"><td><p>‘s06’</p></td>
<td><p>[i04, i10, i05, i01, i03, i06, i08, i02, i09, i07]</p></td>
</tr>
<tr class="row-odd"><td><p>‘s07’</p></td>
<td><p>[i01, i02, i06, i08, i05, i10, i03, i04, i07, i09]</p></td>
</tr>
<tr class="row-even"><td><p>‘s08’</p></td>
<td><p>[i07, i09, i03, i05, i04, i06, i02, i08, i01, i10]</p></td>
</tr>
<tr class="row-odd"><td><p>‘s09’</p></td>
<td><p>[i03, i02, i08, i07, i05, i04, i01, i10, i09, i06]</p></td>
</tr>
<tr class="row-even"><td><p>‘s10’</p></td>
<td><p>[i02, i10, i05, i07, i03, i09, i04, i01, i08, i06]</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Students <em>s01</em> and <em>s08</em>, for instance, both mostly prefer internship <em>i07</em>, whereas students <em>s03</em> and <em>s04</em> both mostly prefer internship <em>i08</em>.</p>
<p>The organizations offering the internship opportunities submitted likewise their reciprocal preferences in the format of the following linear votings.</p>
<blockquote>
<div><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Internship</p></th>
<th class="head"><p>Matching</p></th>
</tr>
<tr class="row-even"><th class="head"><p>Ids</p></th>
<th class="head"><p>Preferences</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>‘i01’</p></td>
<td><p>[s06, s10, s04, s05, s07, s08, s03, s09, s02, s01]</p></td>
</tr>
<tr class="row-even"><td><p>‘i02’</p></td>
<td><p>[s09, s02, s05, s08, s07, s06, s04, s03, s01, s10]</p></td>
</tr>
<tr class="row-odd"><td><p>‘i03’</p></td>
<td><p>[s06, s10, s02, s04, s03, s08, s07, s01, s05, s09]</p></td>
</tr>
<tr class="row-even"><td><p>‘i04’</p></td>
<td><p>[s04, s08, s01, s10, s06, s02, s05, s03, s09, s07]</p></td>
</tr>
<tr class="row-odd"><td><p>‘i05’</p></td>
<td><p>[s01, s10, s04, s02, s08, s07, s05, s09, s03, s06]</p></td>
</tr>
<tr class="row-even"><td><p>‘i06’</p></td>
<td><p>[s01, s05, s07, s08, s02, s04, s03, s10, s06, s09]</p></td>
</tr>
<tr class="row-odd"><td><p>‘i07’</p></td>
<td><p>[s01, s02, s06, s07, s05, s10, s03, s08, s04, s09]</p></td>
</tr>
<tr class="row-even"><td><p>‘i08’</p></td>
<td><p>[s05, s01, s07, s03, s02, s09, s04, s10, s06, s08]</p></td>
</tr>
<tr class="row-odd"><td><p>‘i09’</p></td>
<td><p>[s06, s01, s02, s04, s09, s07, s03, s08, s05, s10]</p></td>
</tr>
<tr class="row-even"><td><p>‘i10’</p></td>
<td><p>[s02, s07, s04, s03, s01, s05, s10, s06, s09, s08]</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>The organizations offering for instance internships <em>i05</em>, <em>i06</em> and <em>i07</em> mostly prefer the same student <em>s01</em>, whereas the organizations offering internships <em>i01</em>, <em>i03</em> and <em>i09</em> mostly prefer student <em>s06</em>. These matching preferences are stored in the format of two reciprocal <a class="reference internal" href="techDoc.html#votingProfiles.LinearVotingProfile" title="votingProfiles.LinearVotingProfile"><code class="xref py py-class docutils literal notranslate"><span class="pre">LinearVotingProfile</span></code></a> objects stored under the names <em>lvpStudents.py</em> and <em>lvpInternships.py</em> in the <em>examples</em> directory of the Digraph3 resources.</p>
<p>How to compute now a matching of students and internships that takes fair account of these reciprocal matching preferences? A fair pairing solution should show a high average overall correlation index with the given reciprocal linear voting profiles and an as small as possible difference between the average correlations of the students and of the internships matching preferences</p>
</section>
<section id="computing-a-fair-matching">
<h4><a class="toc-backref" href="#id414" role="doc-backlink"><span class="section-number">1.4.5.2. </span>Computing a fair matching</a><a class="headerlink" href="#computing-a-fair-matching" title="Link to this heading"></a></h4>
<p>Traditionnally, such intergroup pairing problems are solved by using variants of the <em>deferred acceptance</em> algorithm like the <em>Gale-Shapley</em> or the <em>Roth-Peranson</em> algorithms <a class="footnote-reference brackets" href="#id274" id="id150" role="doc-noteref"><span class="fn-bracket">[</span>68<span class="fn-bracket">]</span></a>. The <a class="reference internal" href="techDoc.html#module-pairings" title="pairings"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pairings</span></code></a> module provides for this purpose the <a class="reference internal" href="techDoc.html#pairings.FairestGaleShapleyMatching" title="pairings.FairestGaleShapleyMatching"><code class="xref py py-class docutils literal notranslate"><span class="pre">FairestGaleShapleyMatching</span></code></a> constructor computing both <em>Gale-Shapley</em> matchings – the students propose as well as the internships propose – and rendering the fairest solution of both (see tutorial on <a class="reference internal" href="#fair-intergroup-pairings-label"><span class="std std-ref">computing fair intergroup pairings</span></a>).</p>
<div class="literal-block-wrapper docutils container" id="internships1">
<div class="code-block-caption"><span class="caption-number">Listing 1.118 </span><span class="caption-text">Fairest Gale-Shapley Matching</span><a class="headerlink" href="#internships1" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">votingProfiles</span> <span class="kn">import</span> <span class="n">LinearVotingProfile</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lvpS</span> <span class="o">=</span> <span class="n">LinearVotingProfile</span><span class="p">(</span><span class="s1">&#39;lvpStudents&#39;</span><span class="p">)</span>
<span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lvpI</span> <span class="o">=</span> <span class="n">LinearVotingProfile</span><span class="p">(</span><span class="s1">&#39;lvpInternships&#39;</span><span class="p">)</span>
<span class="linenos">4</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pairings</span> <span class="kn">import</span> <span class="n">FairestGaleShapleyMatching</span>
<span class="hll"><span class="linenos">5</span><span class="gp">&gt;&gt;&gt; </span><span class="n">gsm</span> <span class="o">=</span> <span class="n">FairestGaleShapleyMatching</span><span class="p">(</span><span class="n">lvpS</span><span class="p">,</span><span class="n">lvpI</span><span class="p">)</span>
</span><span class="linenos">6</span><span class="gp">&gt;&gt;&gt; </span><span class="n">gsm</span><span class="o">.</span><span class="n">showPairing</span><span class="p">()</span>
<span class="hll"><span class="linenos">7</span><span class="go"> [&#39;s01&#39;, &#39;i07&#39;],[&#39;s02&#39;, &#39;i09&#39;],[&#39;s03&#39;, &#39;i10&#39;],[&#39;s04&#39;, &#39;i03&#39;],[&#39;s05&#39;, &#39;i08&#39;],</span>
</span><span class="hll"><span class="linenos">8</span><span class="go"> [&#39;s06&#39;, &#39;i01&#39;],[&#39;s07&#39;, &#39;i06&#39;],[&#39;s08&#39;, &#39;i04&#39;],[&#39;s09&#39;, &#39;i02&#39;],[&#39;s10&#39;, &#39;i05&#39;]</span>
</span></pre></div>
</div>
</div>
<p>In <a class="reference internal" href="#internships1"><span class="std std-numref">Listing 1.118</span></a> above we may notice that student <em>s01</em> is matched with his/her first choice, whereas student <em>s05</em> is matched only with his/her fifth choice. We may inspect in <a class="reference internal" href="#internships2"><span class="std std-numref">Listing 1.119</span></a> below the correlation quality of this fairest <em>Gale-Shapley</em> matching with respect to the individal students and internships matching preferences.</p>
<div class="literal-block-wrapper docutils container" id="internships2">
<div class="code-block-caption"><span class="caption-number">Listing 1.119 </span><span class="caption-text">Correlations with individual students and internships matching preferences</span><a class="headerlink" href="#internships2" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">gsm</span><span class="o">.</span><span class="n">showMatchingFairness</span><span class="p">()</span>
</span><span class="linenos"> 2</span><span class="go"> Students correlations:</span>
<span class="hll"><span class="linenos"> 3</span><span class="go">  &#39;s01&#39;: +1.000, &#39;s02&#39;: +0.778, &#39;s03&#39;: +0.333</span>
</span><span class="hll"><span class="linenos"> 4</span><span class="go">  &#39;s04&#39;: +0.778, &#39;s05&#39;: -0.111, &#39;s06&#39;: +0.333</span>
</span><span class="linenos"> 5</span><span class="go">  &#39;s07&#39;: +0.556, &#39;s08&#39;: +0.111, &#39;s09&#39;: +0.778</span>
<span class="linenos"> 6</span><span class="go">  &#39;s10&#39;: +0.556</span>
<span class="hll"><span class="linenos"> 7</span><span class="go"> Students average correlation (a) : 0.511</span>
</span><span class="linenos"> 8</span><span class="go"> Students standard deviation      : 0.344</span>
<span class="linenos"> 9</span><span class="go"> -----</span>
<span class="linenos">10</span><span class="go"> Internshipy correlations:</span>
<span class="hll"><span class="linenos">11</span><span class="go">  &#39;i01&#39;: +1.000, &#39;i02&#39;: +1.000, &#39;i03&#39;: +0.333</span>
</span><span class="linenos">12</span><span class="go">  &#39;i04&#39;: +0.778, &#39;i05&#39;: +0.778, &#39;i06&#39;: +0.556</span>
<span class="hll"><span class="linenos">13</span><span class="go">  &#39;i07&#39;: +1.000, &#39;i08&#39;: +1.000, &#39;i09&#39;: +0.556</span>
</span><span class="linenos">14</span><span class="go">  &#39;i10&#39;: +0.333</span>
<span class="hll"><span class="linenos">15</span><span class="go"> Internships average correlation (b) : 0.733</span>
</span><span class="linenos">16</span><span class="go"> Internshipy standard deviation      : 0.273</span>
<span class="linenos">17</span><span class="go"> -----</span>
<span class="hll"><span class="linenos">18</span><span class="go"> Average correlation    : 0.622</span>
</span><span class="linenos">19</span><span class="go"> Standard Deviation     : 0.323</span>
<span class="hll"><span class="linenos">20</span><span class="go"> Unfairness |(a) - (b)| : 0.222</span>
</span></pre></div>
</div>
</div>
<p>In <a class="reference internal" href="#internships2"><span class="std std-numref">Listing 1.119</span></a> Line 3 above we see confirmed that student <em>s01</em> gets indeed his/her first choice. Notice also in Line 4 that student <em>s05</em> is the only one who shows a slightly negative correlation (-0.111). On average the students all together obtain a quite high correlation index of +0.511 (see Line 7).</p>
<p>The internships are however better served, as <em>i01</em>, <em>i02</em>, <em>07</em> and <em>i08</em> get their first choices and no internship shows a negative correlation with our fairness enhanced  matching (see Lines 11-14). The average correlation is hence higher (+0.733 see Line 15). The average correlation index considering all students and internships together is also quite high (+0.622), but the difference between the students and the internships average correlations leads to an unfairness index of +0.733 - 0.511 = 0.222. The <em>Gale-Shapley</em> pairing solution clearly better serves the internships than the students.</p>
<p>Mind that all <em>deferred acceptance</em> algorithms, by returning allways the best stable matching for the proposing side and the worst stable matching for the other side, implement indeed essentially unfair intergroup pairing solvers and are hence not recommended for computing <strong>fair</strong> pairing solutions. Yet, finding an optimal fairest pairing solution in our case here would mean to test the fairness of each one of the <em>10! = 3628800</em> potential matching solutions. This brute force approach is not tractable.</p>
</section>
<section id="using-a-fairness-enhancing-heuristic">
<h4><a class="toc-backref" href="#id415" role="doc-backlink"><span class="section-number">1.4.5.3. </span>Using a fairness enhancing heuristic</a><a class="headerlink" href="#using-a-fairness-enhancing-heuristic" title="Link to this heading"></a></h4>
<p>It is recommended to use the <a class="reference internal" href="techDoc.html#pairings.FairnessEnhancedInterGroupMatching" title="pairings.FairnessEnhancedInterGroupMatching"><code class="xref py py-class docutils literal notranslate"><span class="pre">pairings.FairnessEnhancedInterGroupMatching</span></code></a> constructor which implements, starting from any initial potential matching, a fairness enhancing heuristic by testing swappings of right hand sides of pairs. If no initial matching is given, the fairness enhancing procedure starts from two initial matchings, a left one that matches <em>sn</em> with <em>in</em> for <em>n = 1</em> to <em>n = 10</em>, and a right one matching <em>sn</em> with <em>im</em> where <em>n = 1</em> to <em>n = 10</em> and <em>m = 11 - n</em>. The fairest pairing solution will eventually be returned (see tutorial on <a class="reference internal" href="#fair-intergroup-pairings-label"><span class="std std-ref">computing fair intergroup pairings</span></a>).</p>
<div class="literal-block-wrapper docutils container" id="internships3">
<div class="code-block-caption"><span class="caption-number">Listing 1.120 </span><span class="caption-text">Fairness enhanced intergroup matching</span><a class="headerlink" href="#internships3" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pairings</span> <span class="kn">import</span> <span class="n">FairnessEnhancedInterGroupMatching</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fem</span> <span class="o">=</span> <span class="n">FairnessEnhancedInterGroupMatching</span><span class="p">(</span><span class="n">lvpS</span><span class="p">,</span><span class="n">lvpI</span><span class="p">,</span>
<span class="hll"><span class="linenos">3</span><span class="gp">... </span>                                     <span class="n">initialMatching</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</span><span class="linenos">4</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fem</span><span class="o">.</span><span class="n">showPairing</span><span class="p">()</span>
<span class="hll"><span class="linenos">5</span><span class="go"> [&#39;s01&#39;, &#39;i07&#39;],[&#39;s02&#39;, &#39;i09&#39;],[&#39;s03&#39;, &#39;i10&#39;],[&#39;s04&#39;, &#39;i03&#39;],[&#39;s05&#39;, &#39;i08&#39;],</span>
</span><span class="hll"><span class="linenos">6</span><span class="go"> [&#39;s06&#39;, &#39;i01&#39;],[&#39;s07&#39;, &#39;i06&#39;],[&#39;s08&#39;, &#39;i04&#39;],[&#39;s09&#39;, &#39;i02&#39;],[&#39;s10&#39;, &#39;i05&#39;]</span>
</span></pre></div>
</div>
</div>
<p>In <a class="reference internal" href="#internships3"><span class="std std-numref">Listing 1.120</span></a> Lines 5-6 we notice that we recover unfortunately the same previous unfair <em>Gale-Shapley</em> matching.</p>
<p>In order to try to lower the unfairness of the pairing solution, it appears opportune helping the fairness enhancing heuristic by providing as initial matching a best <em>Copeland</em> matching. This matching is assembled via a ranked pairs algorithm based on The <em>Copeland</em> matching fitness scores from the student as well as   the internship perspective already used by the fairness enhancing procedure <a class="footnote-reference brackets" href="#id275" id="id151" role="doc-noteref"><span class="fn-bracket">[</span>69<span class="fn-bracket">]</span></a>. The <a class="reference internal" href="techDoc.html#module-pairings" title="pairings"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pairings</span></code></a> module provides therefore the <a class="reference internal" href="techDoc.html#pairings.BestCopelandInterGroupMatching" title="pairings.BestCopelandInterGroupMatching"><code class="xref py py-class docutils literal notranslate"><span class="pre">BestCopelandInterGroupMatching</span></code></a> class which constructs a complete bipartite graph where the characteristic values of the edges represent such matching fitness scores computed for each individual match (in <a class="reference internal" href="#internships4"><span class="std std-numref">Listing 1.121</span></a> see Lines 4-15 below).</p>
<div class="literal-block-wrapper docutils container" id="internships4">
<div class="code-block-caption"><span class="caption-number">Listing 1.121 </span><span class="caption-text">Best Copeland initial matching</span><a class="headerlink" href="#internships4" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pairings</span> <span class="kn">import</span> <span class="n">BestCopelandInterGroupMatching</span>
<span class="hll"><span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">bcm</span> <span class="o">=</span> <span class="n">BestCopelandInterGroupMatching</span><span class="p">(</span><span class="n">lvpS</span><span class="p">,</span><span class="n">lvpI</span><span class="p">)</span>
</span><span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">bcm</span><span class="o">.</span><span class="n">showEdgesCharacteristicValues</span><span class="p">()</span>
<span class="hll"><span class="linenos"> 4</span><span class="go">        | &#39;i01&#39; &#39;i02&#39; &#39;i03&#39; &#39;i04&#39; &#39;i05&#39; &#39;i06&#39; &#39;i07&#39; &#39;i08&#39; &#39;i09&#39; &#39;i10&#39;</span>
</span><span class="hll"><span class="linenos"> 5</span><span class="go"> -------|--------------------</span>
</span><span class="hll"><span class="linenos"> 6</span><span class="go">  &#39;s01&#39; |  +12    +8    +8   +44   +44   +56   +72   +56   +64   +48</span>
</span><span class="hll"><span class="linenos"> 7</span><span class="go">  &#39;s02&#39; |  +16   +36   +56   +16   +60   +40   +56   +28   +60   +52</span>
</span><span class="hll"><span class="linenos"> 8</span><span class="go">  &#39;s03&#39; |  +28   +16   +32   +12    +4   +32   +40   +60   +44   +48</span>
</span><span class="hll"><span class="linenos"> 9</span><span class="go">  &#39;s04&#39; |  +44   +36   +56   +40   +48   +28    +4   +48   +52   +36</span>
</span><span class="hll"><span class="linenos">10</span><span class="go">  &#39;s05&#39; |  +56   +40   +40   +16   +40   +40   +40   +52    +4   +40</span>
</span><span class="hll"><span class="linenos">11</span><span class="go">  &#39;s06&#39; |  +60   +24   +56   +56   +28   +20   +28   +16   +40   +40</span>
</span><span class="hll"><span class="linenos">12</span><span class="go">  &#39;s07&#39; |  +56   +52   +24    +8   +36   +56   +28   +52   +16   +48</span>
</span><span class="hll"><span class="linenos">13</span><span class="go">  &#39;s08&#39; |  +20   +36   +44   +52   +44   +40   +44    +8   +40    +0</span>
</span><span class="hll"><span class="linenos">14</span><span class="go">  &#39;s09&#39; |  +20   +68   +36   +20   +28    +0   +24   +44   +24   +12</span>
</span><span class="hll"><span class="linenos">15</span><span class="go">  &#39;s10&#39; |  +40   +36   +52   +36   +60    +8   +40   +12   +16   +44</span>
</span><span class="linenos">16</span><span class="go"> Valuation domain: [-72;+72]</span>
<span class="linenos">17</span><span class="gp">&gt;&gt;&gt; </span><span class="n">bcm</span><span class="o">.</span><span class="n">showMatchingWithFitnessScores</span><span class="p">()</span>
<span class="hll"><span class="linenos">18</span><span class="go"> [&#39;s01&#39;, &#39;i07&#39;](72), [&#39;s09&#39;, &#39;i02&#39;](68), [&#39;s02&#39;, &#39;i05&#39;](60),</span>
</span><span class="hll"><span class="linenos">19</span><span class="go"> [&#39;s03&#39;, &#39;i08&#39;](60), [&#39;s06&#39;, &#39;i01&#39;](60), [&#39;s04&#39;, &#39;i03&#39;](56),</span>
</span><span class="hll"><span class="linenos">20</span><span class="go"> [&#39;s07&#39;, &#39;i06&#39;](56), [&#39;s08&#39;, &#39;i04&#39;](52), [&#39;s10&#39;, &#39;i10&#39;](44),</span>
</span><span class="hll"><span class="linenos">21</span><span class="go"> [&#39;s05&#39;, &#39;i09&#39;](+4)</span>
</span></pre></div>
</div>
</div>
<p>In Lines 18-21 above we notice that the pair [‘s01’, ‘i07’] shows the highest matching fitness score of 72, followed by the pair [‘s09’, ‘i02’] with a fitness score of +68. Three further pairs show a fitness score of 60, and so on. The last remaining matched pair is [‘s05’, ‘i09’] with a fitness score of only +4.</p>
<p>This <em>bcm.matching</em> is submitted as initial matching to our fairness enhancing algorithm (see <a class="reference internal" href="#internships5"><span class="std std-numref">Listing 1.122</span></a> Line 2 below). After four enhancing iterations, the resulting fairest pairing solution is shown in Lines 4-5.</p>
<div class="literal-block-wrapper docutils container" id="internships5">
<div class="code-block-caption"><span class="caption-number">Listing 1.122 </span><span class="caption-text">Best Copeland initial matching</span><a class="headerlink" href="#internships5" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fecop</span> <span class="o">=</span> <span class="n">FairnessEnhancedInterGroupMatching</span><span class="p">(</span><span class="n">lvpS</span><span class="p">,</span><span class="n">lvpI</span><span class="p">,</span>
<span class="hll"><span class="linenos"> 2</span><span class="gp">... </span>                       <span class="n">initialMatching</span><span class="o">=</span><span class="n">bcm</span><span class="o">.</span><span class="n">matching</span><span class="p">)</span>
</span><span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fecop</span><span class="o">.</span><span class="n">iterations</span>
<span class="linenos"> 4</span><span class="go"> 4</span>
<span class="linenos"> 5</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fecop</span><span class="o">.</span><span class="n">matching</span>
<span class="hll"><span class="linenos"> 6</span><span class="go"> [&#39;s01&#39;, &#39;i07&#39;],[&#39;s02&#39;, &#39;i09&#39;],[&#39;s03&#39;, &#39;i08&#39;],[&#39;s04&#39;, &#39;i03&#39;],[&#39;s05&#39;, &#39;i10&#39;],</span>
</span><span class="hll"><span class="linenos"> 7</span><span class="go"> [&#39;s06&#39;, &#39;i01&#39;],[&#39;s07&#39;, &#39;i06&#39;],[&#39;s08&#39;, &#39;i04&#39;],[&#39;s09&#39;, &#39;i02&#39;],[&#39;s10&#39;, &#39;i05&#39;]</span>
</span><span class="linenos"> 8</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fecop</span><span class="o">.</span><span class="n">showMatchingFairness</span><span class="p">()</span>
<span class="linenos"> 9</span><span class="go"> Students correlations:</span>
<span class="hll"><span class="linenos">10</span><span class="go">  &#39;s01&#39;: +1.000, &#39;s02&#39;: +0.778, &#39;s03&#39;: +1.000</span>
</span><span class="hll"><span class="linenos">11</span><span class="go">  &#39;s04&#39;: +0.778, &#39;s05&#39;: +0.333, &#39;s06&#39;: +0.333</span>
</span><span class="hll"><span class="linenos">12</span><span class="go">  &#39;s07&#39;: +0.556, &#39;s08&#39;: +0.111, &#39;s09&#39;: +0.778</span>
</span><span class="linenos">13</span><span class="go">  &#39;s10&#39;: +0.556</span>
<span class="hll"><span class="linenos">14</span><span class="go">  Students average correlation (a) : 0.622</span>
</span><span class="linenos">15</span><span class="go">  Students standard deviation      : 0.297</span>
<span class="linenos">16</span><span class="go"> -----</span>
<span class="linenos">17</span><span class="go"> Internshipy correlations:</span>
<span class="hll"><span class="linenos">18</span><span class="go">  &#39;i01&#39;: +1.000, &#39;i02&#39;: +1.000, &#39;i03&#39;: +0.333</span>
</span><span class="hll"><span class="linenos">19</span><span class="go">  &#39;i04&#39;: +0.778, &#39;i05&#39;: +0.778, &#39;i06&#39;: +0.556</span>
</span><span class="hll"><span class="linenos">20</span><span class="go">  &#39;i07&#39;: +1.000, &#39;i08&#39;: +0.333, &#39;i09&#39;: +0.556</span>
</span><span class="hll"><span class="linenos">21</span><span class="go">  &#39;i10&#39;: -0.111</span>
</span><span class="hll"><span class="linenos">22</span><span class="go"> Internships average correlation (b) : 0.622</span>
</span><span class="linenos">23</span><span class="go"> Internships standard deviation      : 0.364</span>
<span class="linenos">24</span><span class="go"> -----</span>
<span class="hll"><span class="linenos">25</span><span class="go"> Average correlation    : 0.622</span>
</span><span class="linenos">26</span><span class="go"> Standard Deviation     : 0.323</span>
<span class="hll"><span class="linenos">27</span><span class="go"> Unfairness |(a) - (b)| : 0.000</span>
</span></pre></div>
</div>
</div>
<p>We get now the same average correlation index of +0.622 for all students and for all internships (see Lines 14 and 24). No unfairness anymore is observed with this pairing solution. Two students get their first choices and three students their second choices. No student gets a negative correlation (see Lines 10-13). Whereas three insternships get their first choices and two their second choices. Internship <em>i10</em> gets however now a slightly negative correlation index as student <em>s05</em> is only its 6th choice (see Lines 18-22).</p>
<p>Contrary to <em>deferred acceptance</em> algorithms, our fairness enhancing heuristic does not require complete linear voting profiles for computing a fair pairing result. Partial linear voting profiles or bipolar approval-disapproval voting profiles may be taken more realistically into account.</p>
</section>
<section id="using-bipolar-approval-disapproval-voting-profiles">
<h4><a class="toc-backref" href="#id416" role="doc-backlink"><span class="section-number">1.4.5.4. </span>Using bipolar approval-disapproval voting profiles</a><a class="headerlink" href="#using-bipolar-approval-disapproval-voting-profiles" title="Link to this heading"></a></h4>
<p>An interesting experiment consists now in dividing the given complete linear voting profiles <em>lvpStudents.py</em> and <em>lvpInternships.py</em> into three parts: the three best-ranked options are considered to be approved and the three last-ranked are considered to be disapproved.</p>
<p>The <a class="reference internal" href="techDoc.html#votingProfiles.LinearVotingProfile" title="votingProfiles.LinearVotingProfile"><code class="xref py py-class docutils literal notranslate"><span class="pre">LinearVotingProfile</span></code></a> class provides a special <a class="reference internal" href="techDoc.html#votingProfiles.LinearVotingProfile.save2BipolarApprovalVotingProfile" title="votingProfiles.LinearVotingProfile.save2BipolarApprovalVotingProfile"><code class="xref py py-class docutils literal notranslate"><span class="pre">save2BipolarApprovalVotingProfile</span></code></a> mathod for extracting from a given complete linear voting profile a corresponding bipolar approval profile with two parameters for controlling the number of approved as well as the number of disapproved candidates. With the <a class="reference internal" href="techDoc.html#votingProfiles.BipolarApprovalVotingProfile" title="votingProfiles.BipolarApprovalVotingProfile"><code class="xref py py-class docutils literal notranslate"><span class="pre">votingProfiles.BipolarApprovalVotingProfile</span></code></a> class we may reload these stored bipolar approval profiles (see <a class="reference internal" href="#internships6"><span class="std std-numref">Listing 1.123</span></a> Line 2-4).</p>
<div class="literal-block-wrapper docutils container" id="internships6">
<div class="code-block-caption"><span class="caption-number">Listing 1.123 </span><span class="caption-text">Bipolar approval matching profiles</span><a class="headerlink" href="#internships6" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lvpS</span><span class="o">.</span><span class="n">save2BipolarApprovalProfile</span><span class="p">(</span><span class="n">fileName</span><span class="o">=</span><span class="s1">&#39;bapStudents&#39;</span><span class="p">,</span>
<span class="hll"><span class="linenos"> 2</span><span class="gp">... </span>                          <span class="n">approvalIndex</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">disapprovalIndex</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span>
</span><span class="hll"><span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">votingProfiles</span> <span class="kn">import</span> <span class="n">BipolarApprovalVotingProfile</span>
</span><span class="hll"><span class="linenos"> 4</span><span class="gp">&gt;&gt;&gt; </span><span class="n">bapS</span> <span class="o">=</span> <span class="n">BipolarApprovalVotingProfile</span><span class="p">(</span><span class="s1">&#39;bapStudents&#39;</span><span class="p">)</span>
</span><span class="linenos"> 5</span><span class="gp">&gt;&gt;&gt; </span><span class="n">bapS</span><span class="o">.</span><span class="n">showBipolarApprovals</span><span class="p">()</span>
<span class="linenos"> 6</span><span class="go"> Bipolar approval ballots</span>
<span class="linenos"> 7</span><span class="go"> ------------------------</span>
<span class="hll"><span class="linenos"> 8</span><span class="go"> &#39;s01&#39;: Approvals: [&#39;i07&#39;,&#39;i09&#39;,&#39;i10&#39;], Disapprovals: [&#39;i05&#39;,&#39;i02&#39;,&#39;i03&#39;]</span>
</span><span class="linenos"> 9</span><span class="go"> &#39;s02&#39;: Approvals: [&#39;i05&#39;,&#39;i09&#39;,&#39;i03&#39;], Disapprovals: [&#39;i08&#39;,&#39;i02&#39;,&#39;i04&#39;]</span>
<span class="linenos">10</span><span class="go"> &#39;s03&#39;: Approvals: [&#39;i08&#39;,&#39;i09&#39;,&#39;i07&#39;], Disapprovals: [&#39;i02&#39;,&#39;i04&#39;,&#39;i05&#39;]</span>
<span class="linenos">11</span><span class="go"> &#39;s04&#39;: Approvals: [&#39;i08&#39;,&#39;i03&#39;,&#39;i09&#39;], Disapprovals: [&#39;i10&#39;,&#39;i04&#39;,&#39;i07&#39;]</span>
<span class="linenos">12</span><span class="go"> &#39;s05&#39;: Approvals: [&#39;i03&#39;,&#39;i01&#39;,&#39;i05&#39;], Disapprovals: [&#39;i06&#39;,&#39;i04&#39;,&#39;i09&#39;]</span>
<span class="linenos">13</span><span class="go"> &#39;s06&#39;: Approvals: [&#39;i04&#39;,&#39;i10&#39;,&#39;i05&#39;], Disapprovals: [&#39;i02&#39;,&#39;i09&#39;,&#39;i07&#39;]</span>
<span class="linenos">14</span><span class="go"> &#39;s07&#39;: Approvals: [&#39;i01&#39;,&#39;i02&#39;,&#39;i06&#39;], Disapprovals: [&#39;i04&#39;,&#39;i07&#39;,&#39;i09&#39;]</span>
<span class="linenos">15</span><span class="go"> &#39;s08&#39;: Approvals: [&#39;i07&#39;,&#39;i09&#39;,&#39;i03&#39;], Disapprovals: [&#39;i08&#39;,&#39;i01&#39;,&#39;i10&#39;]</span>
<span class="linenos">16</span><span class="go"> &#39;s09&#39;: Approvals: [&#39;i03&#39;,&#39;i02&#39;,&#39;i08&#39;], Disapprovals: [&#39;i10&#39;,&#39;i09&#39;,&#39;i06&#39;]</span>
<span class="linenos">17</span><span class="go"> &#39;s10&#39;: Approvals: [&#39;i02&#39;,&#39;i10&#39;,&#39;i05&#39;], Disapprovals: [&#39;i01&#39;,&#39;i08&#39;,&#39;i06&#39;]</span>
<span class="hll"><span class="linenos">18</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lvpI</span><span class="o">.</span><span class="n">save2BipolarApprovalProfile</span><span class="p">(</span><span class="n">fileName</span><span class="o">=</span><span class="s1">&#39;bapInternships&#39;</span><span class="p">,</span>
</span><span class="hll"><span class="linenos">19</span><span class="gp">... </span>                          <span class="n">approvalIndex</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">disapprovalIndex</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span>
</span><span class="linenos">20</span><span class="gp">&gt;&gt;&gt; </span><span class="n">bapI</span> <span class="o">=</span> <span class="n">BipolarApprovalVotingProfile</span><span class="p">(</span><span class="s1">&#39;bapInternships&#39;</span><span class="p">)</span>
<span class="linenos">21</span><span class="gp">&gt;&gt;&gt; </span><span class="n">bapI</span><span class="o">.</span><span class="n">showBipolarApprovals</span><span class="p">()</span>
<span class="linenos">22</span><span class="go"> Bipolar approval ballots</span>
<span class="linenos">23</span><span class="go"> ------------------------</span>
<span class="linenos">24</span><span class="go"> &#39;i01&#39;: Approvals: [&#39;s06&#39;,&#39;s10&#39;,&#39;s04&#39;], Disapprovals: [&#39;s09&#39;,&#39;s02&#39;,&#39;s01&#39;]</span>
<span class="linenos">25</span><span class="go"> &#39;i02&#39;: Approvals: [&#39;s09&#39;,&#39;s02&#39;,&#39;s05&#39;], Disapprovals: [&#39;s03&#39;,&#39;s01&#39;,&#39;s10&#39;]</span>
<span class="linenos">26</span><span class="go"> &#39;i03&#39;: Approvals: [&#39;s06&#39;,&#39;s10&#39;,&#39;s02&#39;], Disapprovals: [&#39;s01&#39;,&#39;s05&#39;,&#39;s09&#39;]</span>
<span class="linenos">27</span><span class="go"> &#39;i04&#39;: Approvals: [&#39;s04&#39;,&#39;s08&#39;,&#39;s01&#39;], Disapprovals: [&#39;s03&#39;,&#39;s09&#39;,&#39;s07&#39;]</span>
<span class="linenos">28</span><span class="go"> &#39;i05&#39;: Approvals: [&#39;s01&#39;,&#39;s10&#39;,&#39;s04&#39;], Disapprovals: [&#39;s09&#39;,&#39;s03&#39;,&#39;s06&#39;]</span>
<span class="linenos">29</span><span class="go"> &#39;i06&#39;: Approvals: [&#39;s01&#39;,&#39;s05&#39;,&#39;s07&#39;], Disapprovals: [&#39;s10&#39;,&#39;s06&#39;,&#39;s09&#39;]</span>
<span class="hll"><span class="linenos">30</span><span class="go"> &#39;i07&#39;: Approvals: [&#39;s01&#39;,&#39;s02&#39;,&#39;s06&#39;], Disapprovals: [&#39;s08&#39;,&#39;s04&#39;,&#39;s09&#39;]</span>
</span><span class="linenos">31</span><span class="go"> &#39;i08&#39;: Approvals: [&#39;s05&#39;,&#39;s01&#39;,&#39;s07&#39;], Disapprovals: [&#39;s10&#39;,&#39;s06&#39;,&#39;s08&#39;]</span>
<span class="linenos">32</span><span class="go"> &#39;i09&#39;: Approvals: [&#39;s06&#39;,&#39;s01&#39;,&#39;s02&#39;], Disapprovals: [&#39;s08&#39;,&#39;s05&#39;,&#39;s10&#39;]</span>
<span class="linenos">33</span><span class="go"> &#39;i10&#39;: Approvals: [&#39;s02&#39;,&#39;s07&#39;,&#39;s04&#39;], Disapprovals: [&#39;s06&#39;,&#39;s09&#39;,&#39;s08&#39;]</span>
</pre></div>
</div>
</div>
<p>In Line 8 above, we may notice for instance that student <em>s01</em> approves the internships <em>i07</em>, <em>i09</em> and <em>i10</em> and disapproves internships <em>i05</em>, <em>i02</em> and <em>i03</em>. Reciprocally, students <em>s01</em>, <em>s02</em> and <em>s06</em> are approved by internship <em>i07</em> whereas students <em>s08</em>, <em>s04</em> and <em>s09</em> are disapproved (see Line 30).</p>
<p>In <a class="reference internal" href="#internships7"><span class="std std-numref">Listing 1.124</span></a> we can now submit these reciprocal bipolar approval profiles <em>bapS</em> and <em>bapI</em> to our fairness enhancing heuristic and starting as before the fairness enhancing procedure from a best <em>Copeland</em> matching.</p>
<div class="literal-block-wrapper docutils container" id="internships7">
<div class="code-block-caption"><span class="caption-number">Listing 1.124 </span><span class="caption-text">Resolving the intergroup group pairing problem</span><a class="headerlink" href="#internships7" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">bcm</span> <span class="o">=</span> <span class="n">BestCopelandInterGroupMatching</span><span class="p">(</span><span class="n">bapS</span><span class="p">,</span><span class="n">bapI</span><span class="p">)</span>
</span><span class="hll"><span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fem</span> <span class="o">=</span> <span class="n">FairnessEnhancedInterGroupMatching</span><span class="p">(</span><span class="n">bapS</span><span class="p">,</span><span class="n">bapI</span><span class="p">,</span>
</span><span class="hll"><span class="linenos"> 3</span><span class="gp">... </span>                              <span class="n">initialMatching</span><span class="o">=</span><span class="n">bcm</span><span class="o">.</span><span class="n">matching</span><span class="p">)</span>
</span><span class="linenos"> 4</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fem</span><span class="o">.</span><span class="n">iterations</span>
<span class="hll"><span class="linenos"> 5</span><span class="go"> 7</span>
</span><span class="linenos"> 6</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fem</span><span class="o">.</span><span class="n">showParing</span><span class="p">()</span>
<span class="hll"><span class="linenos"> 7</span><span class="go"> [&#39;s01&#39;,&#39;i07&#39;],[&#39;s02&#39;,&#39;i09&#39;],[&#39;s03&#39;,&#39;i10&#39;],[&#39;s04&#39;,&#39;i01&#39;],[&#39;s05&#39;,&#39;i08&#39;],</span>
</span><span class="hll"><span class="linenos"> 8</span><span class="go"> [&#39;s06&#39;,&#39;i04&#39;],[&#39;s07&#39;,&#39;i06&#39;],[&#39;s08&#39;,&#39;i03&#39;],[&#39;s09&#39;,&#39;i02&#39;],[&#39;s10&#39;,&#39;i05&#39;]</span>
</span><span class="linenos"> 9</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fem</span><span class="o">.</span><span class="n">showMatchingFairness</span><span class="p">()</span>
<span class="linenos">10</span><span class="go"> -----</span>
<span class="linenos">11</span><span class="go">  Students correlations:</span>
<span class="linenos">12</span><span class="go">   &#39;s01&#39;: +1.000, &#39;s02&#39;: +1.000, &#39;s03&#39;: +0.000, &#39;s04&#39;: +0.000,</span>
<span class="linenos">13</span><span class="go">   &#39;s05&#39;: +0.000, &#39;s06&#39;: +1.000, &#39;s07&#39;: +1.000, &#39;s08&#39;: +1.000,</span>
<span class="linenos">14</span><span class="go">   &#39;s09&#39;: +1.000, &#39;s10&#39;: +1.000</span>
<span class="hll"><span class="linenos">15</span><span class="go">   Average correlation (a) : 0.700</span>
</span><span class="linenos">16</span><span class="go">   Standard deviation      : 0.483</span>
<span class="linenos">17</span><span class="go"> -----</span>
<span class="linenos">18</span><span class="go">  Internships correlations:</span>
<span class="linenos">19</span><span class="go">   &#39;i01&#39;: +1.000, &#39;i02&#39;: +1.000, &#39;i03&#39;: +0.000, &#39;i04&#39;: +0.000,</span>
<span class="linenos">20</span><span class="go">   &#39;i05&#39;: +1.000, &#39;i06&#39;: +1.000, &#39;i07&#39;: +1.000, &#39;i08&#39;: +1.000,</span>
<span class="linenos">21</span><span class="go">   &#39;i09&#39;: +1.000, &#39;i10&#39;: +0.000</span>
<span class="hll"><span class="linenos">22</span><span class="go">   Average correlation (b) : 0.700</span>
</span><span class="linenos">23</span><span class="go">   Standard deviation      : 0.483</span>
<span class="linenos">24</span><span class="go"> -----</span>
<span class="hll"><span class="linenos">25</span><span class="go">  Average overall correlation : 0.700</span>
</span><span class="linenos">26</span><span class="go">  Standard Deviation          : 0.470</span>
<span class="hll"><span class="linenos">27</span><span class="go">  Unfairness |(a) - (b)|      : 0.000</span>
</span></pre></div>
</div>
</div>
<p>Above we may notice that our fainess enhancing heuristic finds in 7 iterations a very fair pairing solution where both the students and the interships are equally served (see Lines 15, 22 and 27). Seven students and seven internships, each out of ten, get proposed an approved match and no student or internship is proposed a disapproved match.</p>
<hr class="docutils" />
</section>
</section>
<section id="exercises">
<span id="exercises-label"></span><h3><a class="toc-backref" href="#id396" role="doc-backlink"><span class="section-number">1.4.6. </span>Exercises</a><a class="headerlink" href="#exercises" title="Link to this heading"></a></h3>
<p>We propose hereafter some decision problems which may serve as exercises and exam questions in an <em>Algorithmic Decision Theory</em> Course. They cover <em>selection</em>, <em>ranking</em> and <em>rating</em> decision problems. The exercises are marked as follows: § (warming up), §§ (home work), §§§ (research work).</p>
<nav class="contents local" id="id152">
<ul class="simple">
<li><p><a class="reference internal" href="#who-will-receive-the-best-student-award" id="id417">Who will receive the best student award? (§)</a></p></li>
<li><p><a class="reference internal" href="#how-to-fairly-rank-movies" id="id418">How to fairly rank movies (§)</a></p></li>
<li><p><a class="reference internal" href="#what-is-your-best-choice-recommendation" id="id419">What is your best choice recommendation? (§)</a></p></li>
<li><p><a class="reference internal" href="#what-is-the-best-public-policy" id="id420">What is the best public policy? (§§)</a></p></li>
<li><p><a class="reference internal" href="#a-fair-diploma-validation-decision" id="id421">A fair diploma validation decision (§§§)</a></p></li>
</ul>
</nav>
<p>Solutions should be supported both by computational Python code using the <strong>Digraph3</strong> programming resources as well as by methodological and algorithmic arguments from the <a class="reference external" href="adtLectures.html">Algorithmic Decision Theory</a> Lectures.</p>
<section id="who-will-receive-the-best-student-award">
<h4><a class="toc-backref" href="#id417" role="doc-backlink"><span class="section-number">1.4.6.1. </span>Who will receive the best student award? (§)</a><a class="headerlink" href="#who-will-receive-the-best-student-award" title="Link to this heading"></a></h4>
<p><strong>Data</strong></p>
<p>Below in <a class="reference internal" href="#gradesex1"><span class="std std-numref">Table 1.6</span></a> you see the actual grades obtained by four students : <em>Ariana</em> (A), <em>Bruce</em> (B), <em>Clare</em> (C) and <em>Daniel</em> (D) in five courses: <em>C1</em>, <em>C2</em>, <em>C3</em>, <em>C4</em> and <em>C5</em> weighted by their respective ECTS points.</p>
<table class="docutils align-default" id="gradesex1">
<caption><span class="caption-number">Table 1.6 </span><span class="caption-text">Grades obtained by the students</span><a class="headerlink" href="#gradesex1" title="Link to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Course</p></th>
<th class="head"><p>C1</p></th>
<th class="head"><p>C2</p></th>
<th class="head"><p>C3</p></th>
<th class="head"><p>C4</p></th>
<th class="head"><p>C5</p></th>
</tr>
<tr class="row-even"><th class="head"><p>ECTS</p></th>
<th class="head"><p>2</p></th>
<th class="head"><p>3</p></th>
<th class="head"><p>4</p></th>
<th class="head"><p>2</p></th>
<th class="head"><p>4</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>Ariana (A)</p></td>
<td><p>11</p></td>
<td><p>13</p></td>
<td><p>9</p></td>
<td><p>15</p></td>
<td><p>11</p></td>
</tr>
<tr class="row-even"><td><p>Bruce (B)</p></td>
<td><p>12</p></td>
<td><p>9</p></td>
<td><p>13</p></td>
<td><p>10</p></td>
<td><p>13</p></td>
</tr>
<tr class="row-odd"><td><p>Clare (C)</p></td>
<td><p>8</p></td>
<td><p>11</p></td>
<td><p>14</p></td>
<td><p>12</p></td>
<td><p>14</p></td>
</tr>
<tr class="row-even"><td><p>Daniel (D)</p></td>
<td><p>15</p></td>
<td><p>10</p></td>
<td><p>12</p></td>
<td><p>8</p></td>
<td><p>13</p></td>
</tr>
</tbody>
</table>
<p>The grades shown in <a class="reference internal" href="#gradesex1"><span class="std std-numref">Table 1.6</span></a> are given on an ordinal performance scale from 0 pts (weakest) to 20 pts (highest). Assume that the grading admits a <em>preference</em> threshold of 1 points. No <em>considerable</em> performance differences are given. The more <strong>ECTS</strong> points, the more importance a course takes in the curriculum of the students. An award is to be granted to the <em>best</em> amongst these four students.</p>
<p><strong>Questions</strong></p>
<ol class="arabic simple">
<li><p>Edit a <a class="reference internal" href="#new-performancetableau-tutorial-label"><span class="std std-ref">PerformanceTableau</span></a> instance with the data shown above.</p></li>
<li><p>Who would you nominate ?</p></li>
<li><p>Explain and motivate your selection algorithm.</p></li>
<li><p>Assume that the grading may actually admit an <em>indifference</em> threshold of 1 point and a <em>preference</em> threshold of 2 points. How stable is your result with respect to the actual preference discrimination power of the grading scale?</p></li>
</ol>
</section>
<section id="how-to-fairly-rank-movies">
<h4><a class="toc-backref" href="#id418" role="doc-backlink"><span class="section-number">1.4.6.2. </span>How to fairly rank movies (§)</a><a class="headerlink" href="#how-to-fairly-rank-movies" title="Link to this heading"></a></h4>
<p><strong>Data</strong></p>
<ul class="simple">
<li><p>File <a class="reference external" href="_static/graffiti03.py">graffiti03.py</a>  contains a performance tableau about the rating of movies to be seen in the city of Luxembourg, February 2003. Its content is shown in <a class="reference internal" href="#graffiti03-1"><span class="std std-numref">Fig. 1.72</span></a> below.</p></li>
</ul>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">perfTabs</span> <span class="kn">import</span> <span class="n">PerformanceTableau</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">PerformanceTableau</span><span class="p">(</span><span class="s1">&#39;graffiti03&#39;</span><span class="p">)</span>
<span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">showHTMLPerformanceHeatmap</span><span class="p">(</span><span class="n">WithActionNames</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="linenos">4</span><span class="gp">... </span>                       <span class="n">pageTitle</span><span class="o">=</span><span class="s1">&#39;Graffiti Star wars&#39;</span><span class="p">,</span>
<span class="linenos">5</span><span class="gp">... </span>                       <span class="n">rankingRule</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">colorLevels</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
<span class="linenos">6</span><span class="gp">... </span>                       <span class="n">ndigits</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="graffiti03-1">
<a class="reference internal image-reference" href="_images/graffiti03_1.png"><img alt="_images/graffiti03_1.png" src="_images/graffiti03_1.png" style="width: 600px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.72 </span><span class="caption-text">Graffiti magazine’s movie ratings from February 2003</span><a class="headerlink" href="#graffiti03-1" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>The critic’s opinions are expressed on a 7-graded scale: -2 (two zeros, <em>I hate</em>), -1 (one zero, <em>I don’t like</em>), 1 (one star, <em>maybe</em>), 2 (two stars, <em>good</em>), 3 (three stars, <em>excellent</em>), 4 (four stars, <em>not to be missed</em>), and 5 (five stares, <em>a master piece</em>). Notice the many missing data (NA) when a critic had not seen the respective movie. Mind also that the ratings of two movie critics (<em>jh</em> and <em>vt</em>) are given a higher significance weight.</p>
<p><strong>Questions</strong></p>
<ol class="arabic simple">
<li><p>The Graffiti magazine suggest a best rated movie with the help of an average number of stars, ignoring the missing data and any significance weights of the critics. By taking into account missing data and varying significance weights, how may one find the best rated movie without computing any average rating scores ?</p></li>
<li><p>How would one rank these movies so as to at best respect the weighted rating opinions of each movie critic ?</p></li>
<li><p>In what ranking position would appear a movie not seen by any movie critic ? Confirm computationally the answer by adding such a fictive, <em>not at all evaluated</em>, movie to the given performance tableau instance.</p></li>
<li><p>How robust are the preceeding results when the significance weights of the movie critics are considered to be only ordinal grades ?</p></li>
</ol>
</section>
<section id="what-is-your-best-choice-recommendation">
<h4><a class="toc-backref" href="#id419" role="doc-backlink"><span class="section-number">1.4.6.3. </span>What is your best choice recommendation? (§)</a><a class="headerlink" href="#what-is-your-best-choice-recommendation" title="Link to this heading"></a></h4>
<p><strong>Data</strong> <a class="footnote-reference brackets" href="#id250" id="id153" role="doc-noteref"><span class="fn-bracket">[</span>46<span class="fn-bracket">]</span></a></p>
<p>A person, who wants to by a TV set, retains after a first selection, eight potential TV models. To make up her choice these eight models were evaluated with respect to three decision objectives of <em>equal importance</em>: - <strong>Costs</strong> of the set (to be minimized); - <strong>Picture and Sound</strong> quality of the TV (to be maximized): - <strong>Maintenace contract</strong> quality of the provider (to be maximized).</p>
<p>The <strong>Costs</strong> objective is assessed by the price of the TV set (criterion <em>Pr</em> to be minimized). <em>Picture</em> quality (criterion <em>Pq</em>), <em>Sound</em> quality (criterion <em>Sq</em>) and <em>Maintenace contract</em> quality (criterion <em>Mq</em>) are each assessed on a four-level qualitative performance scale: -1 (<em>not good</em>), 0 (<em>average</em>), 1 (<em>good</em>) and 2 (<em>very good</em>).</p>
<p>The actual evaluation data are gathered in <a class="reference internal" href="#performancesex2"><span class="std std-numref">Table 1.7</span></a> below.</p>
<table class="docutils align-default" id="performancesex2">
<caption><span class="caption-number">Table 1.7 </span><span class="caption-text">Performance evaluations of the potential TV sets</span><a class="headerlink" href="#performancesex2" title="Link to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Criteria</p></th>
<th class="head"><p>Pr (€)</p></th>
<th class="head"><p>Pq</p></th>
<th class="head"><p>Sq</p></th>
<th class="head"><p>Mq</p></th>
</tr>
<tr class="row-even"><th class="head"><p>Significance</p></th>
<th class="head"><p>2</p></th>
<th class="head"><p>1</p></th>
<th class="head"><p>1</p></th>
<th class="head"><p>2</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>Model T1</p></td>
<td><p>-1300</p></td>
<td><p>2</p></td>
<td><p>2</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>Model T2</p></td>
<td><p>-1200</p></td>
<td><p>2</p></td>
<td><p>2</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>Model T3</p></td>
<td><p>-1150</p></td>
<td><p>2</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>Model T4</p></td>
<td><p>-1000</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>-1</p></td>
</tr>
<tr class="row-odd"><td><p>Model T5</p></td>
<td><p>-950</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>Model T6</p></td>
<td><p>-950</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
<td><p>-1</p></td>
</tr>
<tr class="row-odd"><td><p>Model T7</p></td>
<td><p>-900</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
<td><p>-1</p></td>
</tr>
<tr class="row-even"><td><p>Model T8</p></td>
<td><p>-900</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
</tr>
</tbody>
</table>
<p>The <em>Price</em> criterion <em>Pr</em> supports furthermore an <em>indifference</em> threshold of 25.00 € and a <em>preference</em> threshold of 75.00 €. No considerable performance differences (<em>veto</em> thresholds) are to be considered.</p>
<p><strong>Questions</strong></p>
<ol class="arabic simple">
<li><p>Edit a <a class="reference internal" href="#new-performancetableau-tutorial-label"><span class="std std-ref">PerformanceTableau</span></a> instance with the data shown above and illustrate its content by best showing <em>objectives</em>, <em>criteria</em>, <em>decision alternatives</em> and <em>performance table</em>. If needed, write adequate python code.</p></li>
<li><p>What is the best TV set to recommend?</p></li>
<li><p>Illustrate your best choice recommendation with an adequate graphviz drawing.</p></li>
<li><p>Explain and motivate your selection algorithm.</p></li>
<li><p>Assume that the qualitative criteria: <em>Picture</em> quality (<em>Pq</em>), <em>Sound</em> quality (<em>Sq</em>), and <em>Maintenace contract</em> quality (<em>Mq</em>), are all three considered to be <em>equi-significant</em> and that the significance of the Price criterion (<em>Pr</em>) equals the significance of these three quality criteria taken together. How stable is your best choice recommendation with respect to changing these criteria significance weights?</p></li>
</ol>
</section>
<section id="what-is-the-best-public-policy">
<h4><a class="toc-backref" href="#id420" role="doc-backlink"><span class="section-number">1.4.6.4. </span>What is the best public policy? (§§)</a><a class="headerlink" href="#what-is-the-best-public-policy" title="Link to this heading"></a></h4>
<p><strong>Data files</strong></p>
<ul class="simple">
<li><p>File <a class="reference external" href="_static/perfTab_1.py">perfTab_1.py</a>  contains a <a class="reference internal" href="#three-objectives-performance-tableau-label"><span class="std std-ref">3 Objectives performance tableau</span></a> with 100 performance records concerning public policies evaluated with respect to an economic, a societal and an environmental public decision objective.</p></li>
<li><p>File <a class="reference external" href="_static/historicalData_1.py">historicalData_1.py</a> contains a performance tableau of the same kind with 2000 historical performance records.</p></li>
</ul>
<p><strong>Questions</strong></p>
<ol class="arabic simple">
<li><p>Illustrate the content of the given <em>perfTab_1.py</em> performance tableau by best showing <em>objectives</em>, <em>criteria</em>, <em>decision alternatives</em> and <em>performance table</em>. If needed, write adequate python code.</p></li>
<li><p>Construct the corresponding bipolar-valued outranking digraph. How <em>confident</em> and/or <em>robust</em> are the apparent outranking situations?</p></li>
<li><p>What are apparently the 5 best-ranked decision alternatives in your decision problem from the different decision objectives point of views and from a global fair compromise view? Justify your ranking approach from a methodological point of view.</p></li>
<li><p>How would you rate your 100 public policies into relative deciles classes ?</p></li>
<li><p>Using the given historical records in historicalData_1.py, how would you rate your 100 public policies into absolute deciles classes ? Explain the differencea you may observe between the absolute and the previous relative rating result.</p></li>
<li><p>Select among your 100 potential policies a shortlist of up to 15 potential first policies,  all reaching an absolute performance quantile of at least 66.67%.</p></li>
<li><p>Based on the previous best policies shortlist (see Question 6), what is your eventual best-choice recommendation? Is it perhaps an unopposed best choice by all three objectives?</p></li>
</ol>
</section>
<section id="a-fair-diploma-validation-decision">
<h4><a class="toc-backref" href="#id421" role="doc-backlink"><span class="section-number">1.4.6.5. </span>A fair diploma validation decision (§§§)</a><a class="headerlink" href="#a-fair-diploma-validation-decision" title="Link to this heading"></a></h4>
<p><strong>Data</strong></p>
<p>Use the <a class="reference internal" href="techDoc.html#randomPerfTabs.RandomAcademicPerformanceTableau" title="randomPerfTabs.RandomAcademicPerformanceTableau"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomAcademicPerformanceTableau</span></code></a> constructor from the <strong>Digraph3</strong> Python resources for generating realistic random students performance tableaux concerning a curriculum of nine ECTS weighted Courses. Assume that all the gradings are done on an integer scale from 0 (weakest) to 20 (best). It is known that all grading procedures are inevitably imprecise; therefore we will assume an indifference threshold of 1 point and a preference theshold of 2 points. Thurthermore, a performance difference of more than 12 points is considerable and will trigger an outranking polarisation. To validate eventually their curriculum, the students are required to obtain more or less 10 points in each course.</p>
<p><strong>Questions</strong></p>
<ol class="arabic simple">
<li><p>Design and implement a fair diploma validation decision rule based on the grades obtained in the nine Courses.</p></li>
<li><p>Run simulation tests with random students performance tableaux for validating your design and implementation.</p></li>
</ol>
<p>Back to <a class="reference internal" href="#tutorial-label"><span class="std std-ref">Content Table</span></a></p>
<hr class="docutils" />
</section>
</section>
</section>
<section id="working-with-big-outranking-digraphs">
<span id="bigdigraphs-tutorial-label"></span><h2><span class="section-number">1.5. </span>Working with big outranking digraphs<a class="headerlink" href="#working-with-big-outranking-digraphs" title="Link to this heading"></a></h2>
<p>This part introduces python resources for tackling large and big outranking digraphs. First we introduce a sparse model of large outranking digraphs (order &lt; 1000). In a second section we show how to use multiprocessing resources for working with multiple threads in parallel (order &lt; 10000). Finally, we introduce multiprocessing C-versions of the main Digraph3 modules for working with very big outranking digraphs (order &gt; 10000).</p>
<nav class="contents local" id="id154">
<ul class="simple">
<li><p><a class="reference internal" href="#sparse-bipolar-valued-outranking-digraphs" id="id422">Sparse bipolar-valued outranking digraphs</a></p></li>
<li><p><a class="reference internal" href="#using-digraph3-multiprocessing-resources" id="id423">Using Digraph3 multiprocessing resources</a></p></li>
<li><p><a class="reference internal" href="#on-ranking-big-outranking-digraphs" id="id424">On ranking big outranking digraphs</a></p></li>
</ul>
</nav>
<section id="sparse-bipolar-valued-outranking-digraphs">
<span id="sparseoutranking-tutorial-label"></span><h3><a class="toc-backref" href="#id422" role="doc-backlink"><span class="section-number">1.5.1. </span>Sparse bipolar-valued outranking digraphs</a><a class="headerlink" href="#sparse-bipolar-valued-outranking-digraphs" title="Link to this heading"></a></h3>
<nav class="contents local" id="id155">
<ul class="simple">
<li><p><a class="reference internal" href="#the-sparse-pre-ranked-outranking-digraph-model" id="id425">The sparse pre-ranked outranking digraph model</a></p></li>
<li><p><a class="reference internal" href="#ranking-pre-ranked-sparse-outranking-digraphs" id="id426">Ranking pre-ranked sparse outranking digraphs</a></p></li>
</ul>
</nav>
<p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">RatinbByRelativeQuantilesDigraph</span></code> constructor gives via the rating by relative quantiles a linearly ordered decomposition of the corresponding bipolar-valued outranking digraph (see <a class="reference internal" href="#quantilesordering"><span class="std std-numref">Listing 1.61</span></a>). This decomposition leads us to a new <strong>sparse pre-ranked</strong> outranking digraph model.</p>
<section id="the-sparse-pre-ranked-outranking-digraph-model">
<h4><a class="toc-backref" href="#id425" role="doc-backlink"><span class="section-number">1.5.1.1. </span>The sparse pre-ranked outranking digraph model</a><a class="headerlink" href="#the-sparse-pre-ranked-outranking-digraph-model" title="Link to this heading"></a></h4>
<p>We may notice that a given outranking digraph -the association of a set of decision alternatives and an outranking relation- is, following the methodological requirements of the outranking approach, necessarily associated with a corresponding performance tableau. And, we may use this underlying performance tableau for linearly decomposing the set of potential decision alternatives into <strong>ordered quantiles equivalence classes</strong> by using the quantiles sorting technique seen in the previous Section.</p>
<p>In the coding example shown in <a class="reference internal" href="#prerankedoutrankingdigraph"><span class="std std-numref">Listing 1.125</span></a> below, we generate for instance, first (Lines 2-3), a simple performance tableau of 75 decision alternatives and, secondly (Lines 4), we construct the corresponding <a class="reference internal" href="techDoc.html#sparseOutrankingDigraphs.PreRankedOutrankingDigraph" title="sparseOutrankingDigraphs.PreRankedOutrankingDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">PreRankedOutrankingDigraph</span></code></a> instance called <em>prg</em>. Notice by the way the <em>BigData</em> flag (Line 3) used here for generating a parsimoniously commented performance tableau.</p>
<div class="literal-block-wrapper docutils container" id="prerankedoutrankingdigraph">
<div class="code-block-caption"><span class="caption-number">Listing 1.125 </span><span class="caption-text">Computing a <em>pre-ranked</em> sparse outranking digraph</span><a class="headerlink" href="#prerankedoutrankingdigraph" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">randomPerfTabs</span> <span class="kn">import</span> <span class="n">RandomPerformanceTableau</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">tp</span> <span class="o">=</span> <span class="n">RandomPerformanceTableau</span><span class="p">(</span><span class="n">numberOfActions</span><span class="o">=</span><span class="mi">75</span><span class="p">,</span>
<span class="linenos"> 3</span><span class="gp">... </span>                              <span class="n">BigData</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="linenos"> 4</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sparseOutrankingDigraphs</span> <span class="kn">import</span> \
<span class="linenos"> 5</span><span class="gp">... </span>                        <span class="n">PreRankedOutrankingDigraph</span>
<span class="linenos"> 6</span><span class="gp">&gt;&gt;&gt; </span><span class="n">prg</span> <span class="o">=</span> <span class="n">PreRankedOutrankingDigraph</span><span class="p">(</span><span class="n">tp</span><span class="p">,</span><span class="n">quantiles</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="linenos"> 7</span><span class="gp">&gt;&gt;&gt; </span><span class="n">prg</span>
<span class="linenos"> 8</span><span class="go"> *----- Object instance description ------*</span>
<span class="linenos"> 9</span><span class="go">  Instance class    : PreRankedOutrankingDigraph</span>
<span class="linenos">10</span><span class="go">  Instance name     : randomperftab_pr</span>
<span class="linenos">11</span><span class="go">  # Actions         : 75</span>
<span class="linenos">12</span><span class="go">  # Criteria        : 7</span>
<span class="linenos">13</span><span class="go">  Sorting by        : 5-Tiling</span>
<span class="hll"><span class="linenos">14</span><span class="go">  Ordering strategy : average</span>
</span><span class="linenos">15</span><span class="go">  # Components      : 9</span>
<span class="hll"><span class="linenos">16</span><span class="go">  Minimal order     : 1</span>
</span><span class="hll"><span class="linenos">17</span><span class="go">  Maximal order     : 25</span>
</span><span class="hll"><span class="linenos">18</span><span class="go">  Average order     : 8.3</span>
</span><span class="linenos">19</span><span class="go">  fill rate         : 20.432%</span>
<span class="linenos">20</span><span class="go">  Attributes        : [&#39;actions&#39;, &#39;criteria&#39;, &#39;evaluation&#39;, &#39;NA&#39;, &#39;name&#39;,</span>
<span class="linenos">21</span><span class="go">      &#39;order&#39;, &#39;runTimes&#39;, &#39;dimension&#39;, &#39;sortingParameters&#39;,</span>
<span class="linenos">22</span><span class="go">      &#39;valuationdomain&#39;, &#39;profiles&#39;, &#39;categories&#39;, &#39;sorting&#39;,</span>
<span class="linenos">23</span><span class="go">      &#39;decomposition&#39;, &#39;nbrComponents&#39;, &#39;components&#39;,</span>
<span class="linenos">24</span><span class="go">      &#39;fillRate&#39;, &#39;minimalComponentSize&#39;, &#39;maximalComponentSize&#39;, ... ]</span>
</pre></div>
</div>
</div>
<p>The ordering of the 5-tiling result is following the <strong>average</strong> lower and upper quintile limits strategy (see previous section and <a class="reference internal" href="#prerankedoutrankingdigraph"><span class="std std-numref">Listing 1.125</span></a> Line 14). We obtain here 9 ordered components of minimal order 1 and maximal order 25. The corresponding <strong>pre-ranked decomposition</strong> may be visualized as follows.</p>
<div class="literal-block-wrapper docutils container" id="quantilesdecomposition">
<div class="code-block-caption"><span class="caption-number">Listing 1.126 </span><span class="caption-text">The quantiles decomposition of a pre-ranked outranking digraph</span><a class="headerlink" href="#quantilesdecomposition" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">prg</span><span class="o">.</span><span class="n">showDecomposition</span><span class="p">()</span>
<span class="linenos"> 2</span><span class="go"> *--- quantiles decomposition in decreasing order---*</span>
<span class="hll"><span class="linenos"> 3</span><span class="go">  c1. ]0.80-1.00] : [5, 42, 43, 47]</span>
</span><span class="linenos"> 4</span><span class="go">  c2. ]0.60-1.00] : [73]</span>
<span class="linenos"> 5</span><span class="go">  c3. ]0.60-0.80] : [1, 4, 13, 14, 22, 32, 34, 35, 40,</span>
<span class="linenos"> 6</span><span class="go">                     41, 45, 61, 62, 65, 68, 70, 75]</span>
<span class="linenos"> 7</span><span class="go">  c4. ]0.40-0.80] : [2, 54]</span>
<span class="linenos"> 8</span><span class="go">  c5. ]0.40-0.60] : [3, 6, 7, 10, 15, 18, 19, 21, 23, 24,</span>
<span class="linenos"> 9</span><span class="go">                     27, 30, 36, 37, 48, 51, 52, 56, 58,</span>
<span class="linenos">10</span><span class="go">                     63, 67, 69, 71, 72, 74]</span>
<span class="linenos">11</span><span class="go">  c6. ]0.20-0.60] : [8, 11, 25, 28, 64, 66]</span>
<span class="linenos">12</span><span class="go">  c7. ]0.20-0.40] : [12, 16, 17, 20, 26, 31, 33, 38, 39,</span>
<span class="linenos">13</span><span class="go">                     44, 46, 49, 50, 53, 55]</span>
<span class="linenos">14</span><span class="go">  c8. ]   &lt;-0.40] : [9, 29, 60]</span>
<span class="hll"><span class="linenos">15</span><span class="go">  c9. ]   &lt;-0.20] : [57, 59]</span>
</span></pre></div>
</div>
</div>
<p>The highest quintile class (]80%-100%]) contains decision alternatives <em>5</em>, <em>42</em>, <em>43</em> and <em>47</em>. Lowest quintile class (]-20%]) gathers alternatives <em>57</em> and <em>59</em> (see <a class="reference internal" href="#quantilesdecomposition"><span class="std std-numref">Listing 1.126</span></a> Lines 3 and 15). We may inspect the resulting sparse outranking relation map as follows in a browser view.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">prg</span><span class="o">.</span><span class="n">showHTMLRelationMap</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-center" id="sparse75relationmap">
<a class="reference internal image-reference" href="_images/sparse75RelationMap.png"><img alt="_images/sparse75RelationMap.png" src="_images/sparse75RelationMap.png" style="width: 550px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.73 </span><span class="caption-text">The relation map of a sparse outranking digraph</span><a class="headerlink" href="#sparse75relationmap" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>In <a class="reference internal" href="#sparse75relationmap"><span class="std std-numref">Fig. 1.73</span></a> we easily recognize the 9 linearly ordered quantile equivalence classes. <em>Green</em> and <em>light-green</em> show positive <strong>outranking</strong> situations, whereas positive <strong>outranked</strong> situations are shown in <strong>red</strong> and <strong>light-red</strong>. Indeterminate situations appear in white. In each one of the 9 quantile equivalence classes we recover in fact the corresponding bipolar-valued outranking <em>sub-relation</em>, which leads to an actual <strong>fill-rate</strong> of 20.4% (see <a class="reference internal" href="#prerankedoutrankingdigraph"><span class="std std-numref">Listing 1.125</span></a> Line 20).</p>
<p>We may now check how faithful the sparse model represents the complete outranking relation.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">outrankingDigraphs</span> <span class="kn">import</span> <span class="n">BipolarOutrankingDigraph</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">BipolarOutrankingDigraph</span><span class="p">(</span><span class="n">tp</span><span class="p">)</span>
<span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">corr</span> <span class="o">=</span> <span class="n">prg</span><span class="o">.</span><span class="n">computeOrdinalCorrelation</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="linenos">4</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">showCorrelation</span><span class="p">(</span><span class="n">corr</span><span class="p">)</span>
<span class="linenos">5</span><span class="go"> Correlation indexes:</span>
<span class="linenos">6</span><span class="go">  Crisp ordinal correlation  : +0.863</span>
<span class="linenos">7</span><span class="go">  Epistemic determination    :  0.315</span>
<span class="linenos">8</span><span class="go">  Bipolar-valued equivalence : +0.272</span>
</pre></div>
</div>
<p>The ordinal correlation index between the standard and the sparse outranking relations is quite high (+0.863) and their bipolar-valued equivalence is supported by a mean criteria significance majority of (1.0+0.272)/2 = 64%.</p>
<p>It is worthwhile noticing in <a class="reference internal" href="#prerankedoutrankingdigraph"><span class="std std-numref">Listing 1.125</span></a> Line 18 that sparse pre-ranked outranking digraphs do not contain a <em>relation</em> attribute. The access to pairwise outranking characteristic values is here provided via a corresponding <code class="xref py py-meth docutils literal notranslate"><span class="pre">relation()</span></code> function.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">def</span> <span class="nf">relation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span>
<span class="linenos"> 2</span><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos"> 3</span><span class="sd">    Dynamic construction of the global</span>
<span class="linenos"> 4</span><span class="sd">    outranking characteristic function r(x,y).</span>
<span class="linenos"> 5</span><span class="sd">    &quot;&quot;&quot;</span>
<span class="linenos"> 6</span>    <span class="n">Min</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">valuationdomain</span><span class="p">[</span><span class="s1">&#39;min&#39;</span><span class="p">]</span>
<span class="linenos"> 7</span>    <span class="n">Med</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">valuationdomain</span><span class="p">[</span><span class="s1">&#39;med&#39;</span><span class="p">]</span>
<span class="linenos"> 8</span>    <span class="n">Max</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">valuationdomain</span><span class="p">[</span><span class="s1">&#39;max&#39;</span><span class="p">]</span>
<span class="linenos"> 9</span>    <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="n">y</span><span class="p">:</span>
<span class="linenos">10</span>        <span class="k">return</span> <span class="n">Med</span>
<span class="linenos">11</span>    <span class="n">cx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">actions</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="s1">&#39;component&#39;</span><span class="p">]</span>
<span class="linenos">12</span>    <span class="n">cy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">actions</span><span class="p">[</span><span class="n">y</span><span class="p">][</span><span class="s1">&#39;component&#39;</span><span class="p">]</span>
<span class="linenos">13</span>    <span class="k">if</span> <span class="n">cx</span> <span class="o">==</span> <span class="n">cy</span><span class="p">:</span>
<span class="linenos">14</span>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="p">[</span><span class="n">cx</span><span class="p">][</span><span class="s1">&#39;subGraph&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">relation</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="p">]</span>
<span class="linenos">15</span>    <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="p">[</span><span class="n">cx</span><span class="p">][</span><span class="s1">&#39;rank&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="p">[</span><span class="n">cy</span><span class="p">][</span><span class="s1">&#39;rank&#39;</span><span class="p">]:</span>
<span class="linenos">16</span>        <span class="k">return</span> <span class="n">Min</span>
<span class="linenos">17</span>    <span class="k">else</span><span class="p">:</span>
<span class="linenos">18</span>        <span class="k">return</span> <span class="n">Max</span>
</pre></div>
</div>
<p>All reflexive situations are set to the <em>indeterminate</em> value. When two decision alternatives belong to a same component -quantile equivalence class- we access the relation attribute of the corresponding outranking sub-digraph. Otherwise we just check the respective ranks of the components.</p>
</section>
<section id="ranking-pre-ranked-sparse-outranking-digraphs">
<h4><a class="toc-backref" href="#id426" role="doc-backlink"><span class="section-number">1.5.1.2. </span>Ranking pre-ranked sparse outranking digraphs</a><a class="headerlink" href="#ranking-pre-ranked-sparse-outranking-digraphs" title="Link to this heading"></a></h4>
<p>Each one of these 9 ordered components may now be locally ranked by using a suitable ranking rule. Best operational results, both in run times and quality, are more or less equally given with the <em>Copeland</em> and the <em>NetFlows</em> rules. The eventually obtained linear ordering (from the worst to best) is stored in a <em>prg.boostedOrder</em> attribute. A reversed linear ranking (from the best to the worst) is stored in a <em>prg.boostedRanking</em> attribute.</p>
<div class="literal-block-wrapper docutils container" id="boostedranking">
<div class="code-block-caption"><span class="caption-number">Listing 1.127 </span><span class="caption-text">Showing the component wise <em>Copeland</em> ranking</span><a class="headerlink" href="#boostedranking" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">prg</span><span class="o">.</span><span class="n">boostedRanking</span>
<span class="linenos">2</span><span class="go"> [43, 47, 42, 5, 73, 65, 68, 32, 62, 70, 35, 22, 75, 45, 1,</span>
<span class="linenos">3</span><span class="go">  61, 41, 34, 4, 13, 40, 14, 2, 54, 63, 37, 56, 71, 69, 36,</span>
<span class="linenos">4</span><span class="go">  19, 72, 15, 48, 6, 30, 74, 3, 21, 58, 52, 18, 7, 24, 27,</span>
<span class="linenos">5</span><span class="go">  23, 67, 51, 10, 25, 11, 8, 64, 28, 66, 53, 12, 31, 39, 55,</span>
<span class="linenos">6</span><span class="go">  20, 46, 49, 16, 44, 26, 38, 33, 17, 50, 29, 60, 9, 59, 57]</span>
</pre></div>
</div>
</div>
<p>Alternative <em>43</em> appears <em>first ranked</em>, whereas alternative <em>57</em> is <em>last ranked</em> (see <a class="reference internal" href="#boostedranking"><span class="std std-numref">Listing 1.127</span></a> Line 2 and 6). The quality of this ranking result may be assessed by computing its ordinal correlation with the standard outranking relation.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">corr</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">computeRankingCorrelation</span><span class="p">(</span><span class="n">prg</span><span class="o">.</span><span class="n">boostedRanking</span><span class="p">)</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">showCorrelation</span><span class="p">(</span><span class="n">corr</span><span class="p">)</span>
<span class="linenos">3</span><span class="go"> Correlation indexes:</span>
<span class="linenos">4</span><span class="go">  Crisp ordinal correlation  : +0.807</span>
<span class="linenos">5</span><span class="go">  Epistemic determination    :  0.315</span>
<span class="linenos">6</span><span class="go">  Bipolar-valued equivalence : +0.254</span>
</pre></div>
</div>
<p>We may also verify below that the <em>Copeland</em> ranking obtained from the standard outranking digraph is highly correlated (+0.822) with the one obtained from the sparse outranking digraph.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">linearOrders</span> <span class="kn">import</span> <span class="n">CopelandOrder</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">cop</span> <span class="o">=</span> <span class="n">CopelandOrder</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">cop</span><span class="o">.</span><span class="n">computeRankingCorrelation</span><span class="p">(</span><span class="n">prg</span><span class="o">.</span><span class="n">boostedRanking</span><span class="p">))</span>
<span class="linenos">4</span><span class="go"> {&#39;correlation&#39;: 0.822, &#39;determination&#39;: 1.0}</span>
</pre></div>
</div>
<p>Noticing the computational efficiency of the quantiles sorting construction, coupled with the separability property of the quantile class membership characteristics computation, we will make usage of the <a class="reference internal" href="techDoc.html#sparseOutrankingDigraphs.PreRankedOutrankingDigraph" title="sparseOutrankingDigraphs.PreRankedOutrankingDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">PreRankedOutrankingDigraph</span></code></a> constructor in the <a class="reference internal" href="#hpc-tutorial-label"><span class="std std-ref">cythonized Digraph3 modules</span></a> for HPC ranking big and even huge performance tableaux.</p>
<p>Back to <a class="reference internal" href="#tutorial-label"><span class="std std-ref">Content Table</span></a></p>
<hr class="docutils" />
</section>
</section>
<section id="using-digraph3-multiprocessing-resources">
<span id="multiprocessing-tutorial-label"></span><h3><a class="toc-backref" href="#id423" role="doc-backlink"><span class="section-number">1.5.2. </span>Using Digraph3 multiprocessing resources</a><a class="headerlink" href="#using-digraph3-multiprocessing-resources" title="Link to this heading"></a></h3>
<nav class="contents local" id="id156">
<ul class="simple">
<li><p><a class="reference internal" href="#computing-with-multiple-threads-in-parallel" id="id427">Computing with multiple threads in parallel</a></p></li>
<li><p><a class="reference internal" href="#using-the-mpoutrankingdigraphs-module" id="id428">Using the mpOutrankingDigraphs module</a></p></li>
<li><p><a class="reference internal" href="#setting-the-threading-parameters" id="id429">Setting the Threading parameters</a></p></li>
</ul>
</nav>
<section id="computing-with-multiple-threads-in-parallel">
<h4><a class="toc-backref" href="#id427" role="doc-backlink"><span class="section-number">1.5.2.1. </span>Computing with multiple threads in parallel</a><a class="headerlink" href="#computing-with-multiple-threads-in-parallel" title="Link to this heading"></a></h4>
<p>Modern desktop and laptop computers usually provide a multithreaded CPU which allows to run several threads in parallel <a class="footnote-reference brackets" href="#id257" id="id157" role="doc-noteref"><span class="fn-bracket">[</span>53<span class="fn-bracket">]</span></a>. In the Digraph3 resources we offer this usage with a <em>Threading</em>, a <em>nbrCores</em> or <em>nbrOfCPUs</em> and a <em>startMethod</em> parameter (see below Lines 5-6)</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">randomPerfTabs</span> <span class="kn">import</span> <span class="n">RandomPerformanceTableau</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">RandomPerformanceTableau</span><span class="p">(</span><span class="n">numberOfActions</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span>
<span class="linenos"> 3</span><span class="gp">... </span>                       <span class="n">numberOfCriteria</span><span class="o">=</span><span class="mi">13</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="linenos"> 4</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">outrankingDigraphs</span> <span class="kn">import</span> <span class="n">BipolarOutrankingDigraph</span>
<span class="hll"><span class="linenos"> 5</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">BipolarOutrankingDigraph</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="n">Threading</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span class="hll"><span class="linenos"> 6</span><span class="gp">... </span>                             <span class="n">nbrCores</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span><span class="n">startMethod</span><span class="o">=</span><span class="s1">&#39;spawn&#39;</span><span class="p">)</span>
</span><span class="linenos"> 7</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span>
<span class="linenos"> 8</span><span class="go">*------- Object instance description ------*</span>
<span class="linenos"> 9</span><span class="go">Instance class       : BipolarOutrankingDigraph</span>
<span class="linenos">10</span><span class="go">Instance name        : rel_randomperftab</span>
<span class="linenos">11</span><span class="go">Actions              : 500</span>
<span class="linenos">12</span><span class="go">Criteria             : 13</span>
<span class="linenos">13</span><span class="go">Size                 : 142091</span>
<span class="linenos">14</span><span class="go">Determinateness (%)  : 62.08</span>
<span class="linenos">15</span><span class="go">Valuation domain     : [-1.00;1.00]</span>
<span class="linenos">16</span><span class="go">Attributes           : [&#39;name&#39;, &#39;actions&#39;, &#39;ndigits&#39;, &#39;valuationdomain&#39;,</span>
<span class="linenos">17</span><span class="go">                        &#39;criteria&#39;, &#39;methodData&#39;, &#39;evaluation&#39;, &#39;NA&#39;,</span>
<span class="linenos">18</span><span class="go">                        &#39;order&#39;, &#39;runTimes&#39;, &#39;startMethod&#39;, &#39;nbrThreads&#39;,</span>
<span class="linenos">19</span><span class="go">                        &#39;relation&#39;, &#39;gamma&#39;, &#39;notGamma&#39;]</span>
<span class="linenos">20</span><span class="go">----  Constructor run times (in sec.) ----</span>
<span class="linenos">21</span><span class="go">Threads          : 10</span>
<span class="linenos">22</span><span class="go">Start method     : spawn</span>
<span class="linenos">23</span><span class="go">Total time       : 3.34283</span>
<span class="linenos">24</span><span class="go">Data input       : 0.00941</span>
<span class="hll"><span class="linenos">25</span><span class="go">Compute relation : 3.20870</span>
</span><span class="linenos">26</span><span class="go">Gamma sets       : 0.12471</span>
</pre></div>
</div>
<p>The same computation without threading takes about four times more total run time (see above Line 25 and below Line 20).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">BipolarOutrankingDigraph</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="n">Threading</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="linenos"> 2</span><span class="gp">... </span>               <span class="n">nbrCores</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span><span class="n">startMethod</span><span class="o">=</span><span class="s1">&#39;spawn&#39;</span><span class="p">,</span>
<span class="linenos"> 3</span><span class="gp">... </span>               <span class="n">WithConcordanceRelation</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="linenos"> 4</span><span class="gp">... </span>               <span class="n">WithVetoCounts</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="linenos"> 5</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span>
<span class="linenos"> 6</span><span class="go"> *------- Object instance description ------*</span>
<span class="linenos"> 7</span><span class="go">  Instance class       : BipolarOutrankingDigraph</span>
<span class="linenos"> 8</span><span class="go">  Instance name        : rel_randomperftab</span>
<span class="linenos"> 9</span><span class="go">  Actions              : 500</span>
<span class="linenos">10</span><span class="go">  Criteria             : 13</span>
<span class="linenos">11</span><span class="go">  Size                 : 142091</span>
<span class="linenos">12</span><span class="go">  Determinateness (%)  : 62.08</span>
<span class="linenos">13</span><span class="go">  Valuation domain     : [-1.00;1.00]</span>
<span class="linenos">14</span><span class="go">  Attributes           : [&#39;name&#39;, &#39;actions&#39;, &#39;ndigits&#39;, &#39;valuationdomain&#39;,</span>
<span class="linenos">15</span><span class="go">                          &#39;criteria&#39;, &#39;methodData&#39;, &#39;evaluation&#39;, &#39;NA&#39;,</span>
<span class="linenos">16</span><span class="go">                          &#39;order&#39;, &#39;runTimes&#39;, &#39;nbrThreads&#39;, &#39;startMethod&#39;,</span>
<span class="linenos">17</span><span class="go">                          &#39;relation&#39;, &#39;gamma&#39;, &#39;notGamma&#39;]</span>
<span class="linenos">18</span><span class="go">   ----  Constructor run times (in sec.) ----</span>
<span class="linenos">19</span><span class="go">   Start method     : None</span>
<span class="hll"><span class="linenos">20</span><span class="go">   Total time       : 12.84823</span>
</span><span class="linenos">21</span><span class="go">   Data input       : 0.00941</span>
<span class="linenos">22</span><span class="go">   Compute relation : 12.73070</span>
<span class="linenos">23</span><span class="go">   Gamma sets       : 0.10812</span>
</pre></div>
</div>
<p>These run times were obtained on a common desktop computer equipped with an 11th Gen Intel® Core™ i5-11400 × 12 processor and 16.0 BG of CPU memory.</p>
</section>
<section id="using-the-mpoutrankingdigraphs-module">
<h4><a class="toc-backref" href="#id428" role="doc-backlink"><span class="section-number">1.5.2.2. </span>Using the mpOutrankingDigraphs module</a><a class="headerlink" href="#using-the-mpoutrankingdigraphs-module" title="Link to this heading"></a></h4>
<p>A refactored and streamlined multiprocessing <a class="reference internal" href="techDoc.html#module-mpOutrankingDigraphs" title="mpOutrankingDigraphs"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mpOutrankingDigraphs</span></code></a> module for even faster computing bipolar outranking digraphs with up to several hundreds or thousands of decision actions has been added to the Digraph3 resources (see Lines 2-3 below).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mpOutrankingDigraphs</span> <span class="kn">import</span> <span class="n">MPBipolarOutrankingDigraph</span>
<span class="hll"><span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">mpg</span> <span class="o">=</span> <span class="n">MPBipolarOutrankingDigraph</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="n">nbrCores</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
</span><span class="hll"><span class="linenos"> 3</span><span class="gp">... </span>               <span class="n">Normalized</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">startMethod</span><span class="o">=</span><span class="s1">&#39;spawn&#39;</span><span class="p">)</span>
</span><span class="linenos"> 4</span><span class="gp">&gt;&gt;&gt; </span><span class="n">mpg</span>
<span class="linenos"> 5</span><span class="go"> *------- Object instance description ------*</span>
<span class="linenos"> 6</span><span class="go"> Instance class       : MPBipolarOutrankingDigraph</span>
<span class="linenos"> 7</span><span class="go"> Instance name        : rel_sharedPerfTab</span>
<span class="linenos"> 8</span><span class="go"> Actions              : 500</span>
<span class="linenos"> 9</span><span class="go"> Criteria             : 13</span>
<span class="linenos">10</span><span class="go"> Size                 : 142091</span>
<span class="linenos">11</span><span class="go"> Determinateness (%)  : 62.08</span>
<span class="linenos">12</span><span class="go"> Valuation domain     : [-13.00;13.00]</span>
<span class="linenos">13</span><span class="go"> Attributes           : [&#39;name&#39;, &#39;actions&#39;, &#39;order&#39;, &#39;criteria&#39;,</span>
<span class="linenos">14</span><span class="go">                         &#39;objectives&#39;, &#39;NA&#39;, &#39;evaluation&#39;, &#39;startMethod&#39;,</span>
<span class="linenos">15</span><span class="go">                         &#39;nbrThreads&#39;, &#39;relation&#39;,</span>
<span class="hll"><span class="linenos">16</span><span class="go">                         &#39;largePerformanceDifferencesCount&#39;,</span>
</span><span class="linenos">17</span><span class="go">                         &#39;valuationdomain&#39;, &#39;gamma&#39;, &#39;notGamma&#39;,</span>
<span class="linenos">18</span><span class="go">                         &#39;runTimes&#39;]</span>
<span class="linenos">19</span><span class="go"> ----  Constructor run times (in sec.) ----</span>
<span class="linenos">20</span><span class="go"> Threads            : 10</span>
<span class="linenos">21</span><span class="go"> Start method       : &#39;spawn&#39;</span>
<span class="linenos">22</span><span class="go"> Total time         : 1.41698</span>
<span class="linenos">23</span><span class="go"> Data input         : 0.00006</span>
<span class="linenos">24</span><span class="go"> Compute relation   : 1.27468</span>
<span class="linenos">25</span><span class="go"> Gamma sets         : 0.14207</span>
</pre></div>
</div>
<p>Notice also in Line 16 above, that this computation provides the <em>largePerformanceDifferencesCount</em> attribute containing the results of the considerable performance differences counts. Setting parameter <em>WithVetoCounts</em> to <em>True</em> for the <code class="xref py py-class docutils literal notranslate"><span class="pre">”outrankingDigraphs.BipolarOutrankingDigraph</span></code> constructor provides the same attribute, but adds about a second to the total run time of 13 seconds.</p>
<p>This attribute allows to print out the relation table with the considerable performance differences counts decoration (see Line 1 below).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">mpg</span><span class="o">.</span><span class="n">showRelationTable</span><span class="p">(</span><span class="n">hasLPDDenotation</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">toIndex</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</span><span class="linenos"> 2</span><span class="go">* ---- Relation Table -----</span>
<span class="linenos"> 3</span><span class="go"> r/(lpd)|  &#39;a001&#39;   &#39;a002&#39;   &#39;a003&#39;   &#39;a004&#39;   &#39;a005&#39;</span>
<span class="linenos"> 4</span><span class="go">--------|---------------------------------------------</span>
<span class="linenos"> 5</span><span class="go"> &#39;a001&#39; |  +13.00    -1.00    +1.00    +3.00    -1.00</span>
<span class="linenos"> 6</span><span class="go">        |  (+0,+0)  (+0,+0)  (+0,+0)  (+0,+0)  (+0,+0)</span>
<span class="hll"><span class="linenos"> 7</span><span class="go"> &#39;a002&#39; |   +3.00   +13.00    +2.00   +13.00    +4.00</span>
</span><span class="hll"><span class="linenos"> 8</span><span class="go">        |  (+0,+0)  (+0,+0)  (+0,+0)  (+1,+0)  (+0,+0)</span>
</span><span class="linenos"> 9</span><span class="go"> &#39;a003&#39; |   +1.00    +3.00   +13.00    -1.00    +4.00</span>
<span class="linenos">10</span><span class="go">        |  (+0,+0)  (+0,+0)  (+0,+0)  (+0,+0)  (+0,+0)</span>
<span class="hll"><span class="linenos">11</span><span class="go"> &#39;a004&#39; |   +2.00   -13.00    +4.00   +13.00    +0.00</span>
</span><span class="hll"><span class="linenos">12</span><span class="go">        |  (+0,+0)  (+0,-1)  (+0,+0)  (+0,+0)  (+0,-1)</span>
</span><span class="linenos">13</span><span class="go"> &#39;a005&#39; |   +4.00    +0.00    -3.00   +13.00   +13.00</span>
<span class="linenos">14</span><span class="go">        |  (+0,+0)  (+0,+0)  (+0,+0)  (+1,+0)  (+0,+0)</span>
<span class="linenos">15</span><span class="go">  Valuation domain: [-13.000; 13.000]</span>
</pre></div>
</div>
<p>In Lines 7-8 above, we may for instance notice a considerably large positive performance difference when comparing alternatives ‘a002’ and ‘a004’ which results in a polarised <em>for certain valid</em> outranking situation: <img class="math" src="_images/math/a4a3e22647b37f88122f34450e585223989d23ed.png" alt="r(a_{002} \succsim a_{004}) = +13.00"/>. The converse situation is observed in Lines 11-12 where we may notice the corresponding considerably large negative performance difference leading this time to a polarised <em>for certain invalid</em> outranking situation: <img class="math" src="_images/math/786722952e014ff77e96a786a90fb4994257f2b9.png" alt="r(a_{004} \succsim a_{002}) = -13.00"/>.</p>
</section>
<section id="setting-the-threading-parameters">
<h4><a class="toc-backref" href="#id429" role="doc-backlink"><span class="section-number">1.5.2.3. </span>Setting the Threading parameters</a><a class="headerlink" href="#setting-the-threading-parameters" title="Link to this heading"></a></h4>
<p>Without specifying the number of cores (<em>nbrCores=None</em>) or the threading start method (<em>startMethod=None</em>), the <code class="xref py py-meth docutils literal notranslate"><span class="pre">cpu_count()</span></code> method from the <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="(in Python v3.14)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> module will be used to detect the number of available cores and the threading start method will be set by default to <em>spawn</em>.</p>
<p>It is possible to use instead the <em>forkserver</em> or the more traditional Posix <em>fork</em> start method (default on Linux) <a class="footnote-reference brackets" href="#id256" id="id158" role="doc-noteref"><span class="fn-bracket">[</span>52<span class="fn-bracket">]</span></a>. Mind that the latter method, due to the very architecture of the Python interpreter C code, cannot be safe against specific dead locks leading to  hanging or freezing applications and zombie processes. <a class="footnote-reference brackets" href="#id255" id="id159" role="doc-noteref"><span class="fn-bracket">[</span>51<span class="fn-bracket">]</span></a></p>
<p>As of Python3.14+, it is possible to run multiple isolated python interpreters in parallel. The <a class="reference internal" href="techDoc.html#mpOutrankingDigraphs.MPBipolarOutrankingDigraph" title="mpOutrankingDigraphs.MPBipolarOutrankingDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">MPBipolarOutrankingDigraph</span></code></a> constructor provides the ‘<em>MultipleInterpreters</em> = <em>True</em>’ setting for this purpose. The running interpreter minor version may be checked with ‘<em>sys.version_info[1] &gt;= 14</em>’.</p>
<p>When writing multiprocessing Digraph3 Python scripts not using the Posix <em>fork</em> start method, it is furthermore essential to protect the main program code with a <em>__name__==’__main__’</em> test against recursive re-excution (see below).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mpOutrankingDigraphs</span> <span class="kn">import</span> <span class="n">MPBipolarOutrankingDigraph</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">randomPerfTabs</span> <span class="kn">import</span> <span class="n">RandomPerformanceTableau</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># main program code</span>
<span class="linenos"> 4</span><span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
<span class="linenos"> 5</span><span class="gp">&gt;&gt;&gt; </span>   <span class="kn">import</span> <span class="nn">sys</span>
<span class="linenos"> 6</span><span class="gp">&gt;&gt;&gt; </span>   <span class="n">t</span> <span class="o">=</span> <span class="n">RandomPerformanceTableau</span><span class="p">(</span><span class="n">numberOfActions</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
<span class="linenos"> 7</span><span class="gp">... </span>                               <span class="n">numberOfCriteria</span><span class="o">=</span><span class="mi">13</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="linenos"> 8</span><span class="gp">&gt;&gt;&gt; </span>   <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">version_info</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">14</span><span class="p">:</span>
<span class="linenos"> 9</span><span class="gp">&gt;&gt;&gt; </span>      <span class="n">g</span> <span class="o">=</span> <span class="n">MPBipolarOutrankingDigraph</span><span class="p">(</span><span class="n">t</span><span class="p">,</span>
<span class="linenos">10</span><span class="gp">... </span>                            <span class="n">nbrCores</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
<span class="linenos">11</span><span class="gp">... </span>                            <span class="n">startMethod</span><span class="o">=</span><span class="s1">&#39;spawn&#39;</span><span class="p">,</span>
<span class="linenos">12</span><span class="gp">... </span>                            <span class="n">MultipleInterpreters</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="linenos">13</span><span class="gp">... </span>                            <span class="n">Comments</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos">14</span><span class="gp">&gt;&gt;&gt; </span>   <span class="k">else</span><span class="p">:</span>
<span class="linenos">15</span><span class="gp">&gt;&gt;&gt; </span>      <span class="n">g</span> <span class="o">=</span> <span class="n">MPBipolarOutrankingDigraph</span><span class="p">(</span><span class="n">t</span><span class="p">,</span>
<span class="linenos">16</span><span class="gp">... </span>                            <span class="n">nbrCores</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
<span class="linenos">17</span><span class="gp">... </span>                            <span class="n">startMethod</span><span class="o">=</span><span class="s1">&#39;spawn&#39;</span><span class="p">,</span>
<span class="linenos">18</span><span class="gp">... </span>                            <span class="n">Comments</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos">19</span><span class="gp">&gt;&gt;&gt; </span>   <span class="nb">print</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
</pre></div>
</div>
<p>Back to <a class="reference internal" href="#tutorial-label"><span class="std std-ref">Content Table</span></a></p>
<hr class="docutils" />
</section>
</section>
<section id="on-ranking-big-outranking-digraphs">
<span id="hpc-tutorial-label"></span><h3><a class="toc-backref" href="#id424" role="doc-backlink"><span class="section-number">1.5.3. </span>On ranking big outranking digraphs</a><a class="headerlink" href="#on-ranking-big-outranking-digraphs" title="Link to this heading"></a></h3>
<nav class="contents local" id="id160">
<ul class="simple">
<li><p><a class="reference internal" href="#c-compiled-python-modules" id="id430">C-compiled Python modules</a></p></li>
<li><p><a class="reference internal" href="#big-data-performance-tableaux" id="id431">Big Data performance tableaux</a></p></li>
<li><p><a class="reference internal" href="#c-implemented-integer-valued-outranking-digraphs" id="id432">C-implemented integer-valued outranking digraphs</a></p></li>
<li><p><a class="reference internal" href="#the-sparse-outranking-digraph-implementation" id="id433">The sparse outranking digraph implementation</a></p></li>
<li><p><a class="reference internal" href="#ranking-big-sets-of-decision-alternatives" id="id434">Ranking big sets of decision alternatives</a></p></li>
</ul>
</nav>
<section id="c-compiled-python-modules">
<h4><a class="toc-backref" href="#id430" role="doc-backlink"><span class="section-number">1.5.3.1. </span>C-compiled Python modules</a><a class="headerlink" href="#c-compiled-python-modules" title="Link to this heading"></a></h4>
<p>The Digraph3 collection provides cythonized <a class="footnote-reference brackets" href="#id214" id="id161" role="doc-noteref"><span class="fn-bracket">[</span>6<span class="fn-bracket">]</span></a>, i.e. C-compiled and optimised versions of the main python modules for tackling multiple criteria decision problems facing very large sets of decision alternatives ( &gt; 10000 ). Such problems appear usually with a combinatorial organisation of the potential decision alternatives, as is frequently the case in bioinformatics for instance. If HPC facilities with nodes supporting numerous cores (&gt; 20) and big RAM (&gt; 50GB) are available, ranking up to several millions of alternatives (see <a class="reference internal" href="#bis-2016" id="id162"><span>[BIS-2016]</span></a>) becomes effectively tractable.</p>
<p>Five cythonized Digraph3 modules, prefixed with the letter <em>c</em> and taking a <em>pyx</em> extension, are provided with their corresponding setup tools in the <em>Digraph3/cython</em> directory, namely</p>
<blockquote>
<div><ul class="simple">
<li><p><em>cRandPerfTabs.pyx</em></p></li>
<li><p><em>cIntegerOutrankingDigraphs.pyx</em></p></li>
<li><p><em>cIntegerSortingDigraphs.pyx</em></p></li>
<li><p><em>cSparseIntegerOutrankingDigraphs.pyx</em></p></li>
<li><p><em>cQuantilesRankingDigraphs.pyx</em></p></li>
</ul>
</div></blockquote>
<p>Their automatic compilation and installation (<em>…Digraph3$ make installPip</em>), alongside the standard Digraph3 python3 modules, requires the <em>cython</em> compiler <a class="footnote-reference brackets" href="#id214" id="id163" role="doc-noteref"><span class="fn-bracket">[</span>6<span class="fn-bracket">]</span></a> ( <em>…$ python3 m pip install cython wheel</em> ) and a C compiler ( <em>…$ sudo apt install gcc</em> ). Local <em>inplace</em> compilation and installation ( <em>…/Digraph3/cython$ make</em> ) is provided with a corresponding <em>makefile</em> in the <em>Digraph3/cython</em> directory.</p>
</section>
<section id="big-data-performance-tableaux">
<h4><a class="toc-backref" href="#id431" role="doc-backlink"><span class="section-number">1.5.3.2. </span>Big Data performance tableaux</a><a class="headerlink" href="#big-data-performance-tableaux" title="Link to this heading"></a></h4>
<p>In order to efficiently type the C variables, the <a class="reference internal" href="techDoc.html#module-cRandPerfTabs" title="cRandPerfTabs"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cRandPerfTabs</span></code></a> module provides the usual random performance tableau models, but, with <strong>integer</strong> action keys, <strong>float</strong> performance evaluations, <strong>integer</strong> criteria weights and <strong>float</strong> discrimination thresholds. And, to limit as much as possible memory occupation of class instances, all the usual verbose comments are dropped from the description of the <em>actions</em> and <em>criteria</em> dictionaries.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">cRandPerfTabs</span> <span class="kn">import</span> <span class="n">cRandomPerformanceTableau</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">cRandomPerformanceTableau</span><span class="p">(</span><span class="n">numberOfActions</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span><span class="n">numberOfCriteria</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span>
<span class="linenos"> 4</span><span class="go">    *------- PerformanceTableau instance description ------*</span>
<span class="linenos"> 5</span><span class="go">    Instance class   : cRandomPerformanceTableau</span>
<span class="linenos"> 6</span><span class="go">    Seed             : None</span>
<span class="linenos"> 7</span><span class="go">    Instance name    : cRandomperftab</span>
<span class="linenos"> 8</span><span class="go">    # Actions        : 4</span>
<span class="linenos"> 9</span><span class="go">    # Criteria       : 2</span>
<span class="linenos">10</span><span class="go">    Attributes       : [&#39;randomSeed&#39;, &#39;name&#39;, &#39;actions&#39;, &#39;criteria&#39;,</span>
<span class="linenos">11</span><span class="go">                        &#39;evaluation&#39;, &#39;weightPreorder&#39;]</span>
<span class="linenos">12</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">actions</span>
<span class="linenos">13</span><span class="go">    OrderedDict([(1, {&#39;name&#39;: &#39;#1&#39;}), (2, {&#39;name&#39;: &#39;#2&#39;}),</span>
<span class="linenos">14</span><span class="go">                  (3, {&#39;name&#39;: &#39;#3&#39;}), (4, {&#39;name&#39;: &#39;#4&#39;})])</span>
<span class="linenos">15</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">criteria</span>
<span class="linenos">16</span><span class="go">    OrderedDict([</span>
<span class="linenos">17</span><span class="go">    (&#39;g1&#39;, {&#39;name&#39;: &#39;RandomPerformanceTableau() instance&#39;,</span>
<span class="linenos">18</span><span class="go">            &#39;comment&#39;: &#39;Arguments: ; weightDistribution=equisignificant;</span>
<span class="linenos">19</span><span class="go">                         weightScale=(1, 1); commonMode=None&#39;,</span>
<span class="linenos">20</span><span class="go">            &#39;thresholds&#39;: {&#39;ind&#39;: (10.0, 0.0),</span>
<span class="linenos">21</span><span class="go">                            &#39;pref&#39;: (20.0, 0.0),</span>
<span class="linenos">22</span><span class="go">                            &#39;veto&#39;: (80.0, 0.0)},</span>
<span class="linenos">23</span><span class="go">            &#39;scale&#39;: (0.0, 100.0),</span>
<span class="linenos">24</span><span class="go">            &#39;weight&#39;: 1,</span>
<span class="linenos">25</span><span class="go">            &#39;preferenceDirection&#39;: &#39;max&#39;}),</span>
<span class="linenos">26</span><span class="go">    (&#39;g2&#39;, {&#39;name&#39;: &#39;RandomPerformanceTableau() instance&#39;,</span>
<span class="linenos">27</span><span class="go">            &#39;comment&#39;: &#39;Arguments: ; weightDistribution=equisignificant;</span>
<span class="linenos">28</span><span class="go">                        weightScale=(1, 1); commonMode=None&#39;,</span>
<span class="linenos">29</span><span class="go">            &#39;thresholds&#39;: {&#39;ind&#39;: (10.0, 0.0),</span>
<span class="linenos">30</span><span class="go">                            &#39;pref&#39;: (20.0, 0.0),</span>
<span class="linenos">31</span><span class="go">                            &#39;veto&#39;: (80.0, 0.0)},</span>
<span class="linenos">32</span><span class="go">            &#39;scale&#39;: (0.0, 100.0),</span>
<span class="linenos">33</span><span class="go">            &#39;weight&#39;: 1,</span>
<span class="linenos">34</span><span class="go">            &#39;preferenceDirection&#39;: &#39;max&#39;})])</span>
<span class="linenos">35</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">evaluation</span>
<span class="linenos">36</span><span class="go">     {&#39;g1&#39;: {1: 35.17, 2: 56.4, 3: 1.94, 4: 5.51},</span>
<span class="linenos">37</span><span class="go">      &#39;g2&#39;: {1: 95.12, 2: 90.54, 3: 51.84, 4: 15.42}}</span>
<span class="linenos">38</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">showPerformanceTableau</span><span class="p">()</span>
<span class="linenos">39</span><span class="go">     Criteria |  &#39;g1&#39;    &#39;g2&#39;</span>
<span class="linenos">40</span><span class="go">     Actions  |    1       1</span>
<span class="linenos">41</span><span class="go">     ---------|---------------</span>
<span class="linenos">42</span><span class="go">        &#39;#1&#39;  |  91.18   90.42</span>
<span class="linenos">43</span><span class="go">        &#39;#2&#39;  |  66.82   41.31</span>
<span class="linenos">44</span><span class="go">        &#39;#3&#39;  |  35.76   28.86</span>
<span class="linenos">45</span><span class="go">        &#39;#4&#39;  |   7.78   37.64</span>
</pre></div>
</div>
<p>Conversions from the Big Data model to the standard model and vice versa are provided.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t1</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">convert2Standard</span><span class="p">()</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t1</span><span class="o">.</span><span class="n">convertWeight2Decimal</span><span class="p">()</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t1</span><span class="o">.</span><span class="n">convertEvaluation2Decimal</span><span class="p">()</span>
<span class="linenos"> 4</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t1</span>
<span class="linenos"> 5</span><span class="go"> *------- PerformanceTableau instance description ------*</span>
<span class="linenos"> 6</span><span class="go"> Instance class   : PerformanceTableau</span>
<span class="linenos"> 7</span><span class="go"> Seed             : None</span>
<span class="linenos"> 8</span><span class="go"> Instance name    : std_cRandomperftab</span>
<span class="linenos"> 9</span><span class="go"> # Actions        : 4</span>
<span class="linenos">10</span><span class="go"> # Criteria       : 2</span>
<span class="linenos">11</span><span class="go"> Attributes       : [&#39;name&#39;, &#39;actions&#39;, &#39;criteria&#39;, &#39;weightPreorder&#39;,</span>
<span class="linenos">12</span><span class="go">                     &#39;evaluation&#39;, &#39;randomSeed&#39;]</span>
</pre></div>
</div>
</section>
<section id="c-implemented-integer-valued-outranking-digraphs">
<h4><a class="toc-backref" href="#id432" role="doc-backlink"><span class="section-number">1.5.3.3. </span>C-implemented integer-valued outranking digraphs</a><a class="headerlink" href="#c-implemented-integer-valued-outranking-digraphs" title="Link to this heading"></a></h4>
<p>The C compiled version of the bipolar-valued digraph models takes integer relation characteristic values.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">cRandPerfTabs</span> <span class="kn">import</span> <span class="n">cRandomPerformanceTableau</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">cRandomPerformanceTableau</span><span class="p">(</span><span class="n">numberOfActions</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span><span class="n">numberOfCriteria</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">cIntegerOutrankingDigraphs</span> <span class="kn">import</span> <span class="n">IntegerBipolarOutrankingDigraph</span>
<span class="linenos"> 4</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">IntegerBipolarOutrankingDigraph</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="n">Threading</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">nbrCores</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="linenos"> 5</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span>
<span class="linenos"> 6</span><span class="go">   *------- Object instance description ------*</span>
<span class="linenos"> 7</span><span class="go">   Instance class   : IntegerBipolarOutrankingDigraph</span>
<span class="linenos"> 8</span><span class="go">   Instance name    : rel_cRandomperftab</span>
<span class="linenos"> 9</span><span class="go">   Actions          : 1000</span>
<span class="linenos">10</span><span class="go">   Criteria         : 2</span>
<span class="linenos">11</span><span class="go">   Size             : 465024</span>
<span class="linenos">12</span><span class="go">   Determinateness  : 56.877</span>
<span class="linenos">13</span><span class="go">   Valuation domain : {&#39;min&#39;: -2, &#39;med&#39;: 0, &#39;max&#39;: 2,</span>
<span class="linenos">14</span><span class="go">                       &#39;hasIntegerValuation&#39;: True}</span>
<span class="linenos">15</span><span class="go">   Attributes       : [&#39;name&#39;, &#39;actions&#39;, &#39;criteria&#39;, &#39;totalWeight&#39;,</span>
<span class="linenos">16</span><span class="go">                       &#39;valuationdomain&#39;, &#39;methodData&#39;, &#39;evaluation&#39;,</span>
<span class="linenos">17</span><span class="go">                       &#39;order&#39;, &#39;runTimes&#39;, &#39;startMethod&#39;,</span>
<span class="linenos">18</span><span class="go">                       &#39;nbrThreads&#39;, &#39;relation&#39;,</span>
<span class="linenos">19</span><span class="go">                       &#39;gamma&#39;, &#39;notGamma&#39;]</span>
<span class="linenos">20</span><span class="go">   ----  Constructor run times (in sec.) ----</span>
<span class="linenos">21</span><span class="go">   Threads          : 4</span>
<span class="linenos">22</span><span class="go">   Start method     : spawn</span>
<span class="linenos">23</span><span class="go">   Total time       : 1.19811</span>
<span class="linenos">24</span><span class="go">   Data input       : 0.00183</span>
<span class="linenos">25</span><span class="go">   Compute relation : 0.91961</span>
<span class="linenos">26</span><span class="go">   Gamma sets       : 0.27664</span>
</pre></div>
</div>
<p>On a classic intel-i5-11400x12 equipped PC, the <a class="reference internal" href="techDoc.html#cIntegerOutrankingDigraphs.IntegerBipolarOutrankingDigraph" title="cIntegerOutrankingDigraphs.IntegerBipolarOutrankingDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntegerBipolarOutrankingDigraph</span></code></a> constructor takes with four multiprocessing threads about one second for computing a <strong>million</strong> pairwise outranking characteristic values. In a similar multiprocessing setting, the standard <a class="reference internal" href="techDoc.html#outrankingDigraphs.BipolarOutrankingDigraph" title="outrankingDigraphs.BipolarOutrankingDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">BipolarOutrankingDigraph</span></code></a> class constructor operates about four times slower.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">outrankingDigraphs</span> <span class="kn">import</span> <span class="n">BipolarOutrankingDigraph</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t1</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">convert2Standard</span><span class="p">()</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g1</span> <span class="o">=</span> <span class="n">BipolarOutrankingDigraph</span><span class="p">(</span><span class="n">t1</span><span class="p">,</span><span class="n">Threading</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">nbrCores</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="linenos"> 4</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g1</span>
<span class="linenos"> 5</span><span class="go">   *------- Object instance description ------*</span>
<span class="linenos"> 6</span><span class="go">   Instance class   : BipolarOutrankingDigraph</span>
<span class="linenos"> 7</span><span class="go">   Instance name    : rel_std_cRandomperftab</span>
<span class="linenos"> 8</span><span class="go">   Actions          : 1000</span>
<span class="linenos"> 9</span><span class="go">   Criteria         : 2</span>
<span class="linenos">10</span><span class="go">   Size             : 465024</span>
<span class="linenos">11</span><span class="go">   Determinateness  : 56.817</span>
<span class="linenos">12</span><span class="go">   Valuation domain : {&#39;min&#39;: Decimal(&#39;-1.0&#39;),</span>
<span class="linenos">13</span><span class="go">                       &#39;med&#39;: Decimal(&#39;0.0&#39;),</span>
<span class="linenos">14</span><span class="go">                       &#39;max&#39;: Decimal(&#39;1.0&#39;),</span>
<span class="linenos">15</span><span class="go">                       &#39;precision&#39;: Decimal(&#39;0&#39;)}</span>
<span class="linenos">16</span><span class="go">   ----  Constructor run times (in sec.) ----</span>
<span class="linenos">17</span><span class="go">   Threads          : 4</span>
<span class="linenos">18</span><span class="go">   Start method     : spawn</span>
<span class="linenos">19</span><span class="go">   Total time       : 3.81307</span>
<span class="linenos">20</span><span class="go">   Data input       : 0.00305</span>
<span class="linenos">21</span><span class="go">   Compute relation : 3.41648</span>
<span class="linenos">22</span><span class="go">   Gamma sets       : 0.39353</span>
</pre></div>
</div>
<p>By far, most of the run time is in each case needed for computing the individual pairwise outranking characteristic values. Notice also below the memory occupations of both outranking digraph instances.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">digraphsTools</span> <span class="kn">import</span> <span class="n">total_size</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">total_size</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="linenos">3</span><span class="go"> 108662777</span>
<span class="linenos">4</span><span class="gp">&gt;&gt;&gt; </span><span class="n">total_size</span><span class="p">(</span><span class="n">g1</span><span class="p">)</span>
<span class="linenos">5</span><span class="go"> 113564067</span>
<span class="linenos">6</span><span class="gp">&gt;&gt;&gt; </span><span class="n">total_size</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">relation</span><span class="p">)</span><span class="o">/</span><span class="n">total_size</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="linenos">7</span><span class="go"> 0.34</span>
<span class="linenos">8</span><span class="gp">&gt;&gt;&gt; </span><span class="n">total_size</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">gamma</span><span class="p">)</span><span class="o">/</span><span class="n">total_size</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="linenos">9</span><span class="go"> 0.45</span>
</pre></div>
</div>
<p>About 109MB for <em>g</em> and 114MB for <em>g1</em>. The standard <em>Decimal</em> valued <a class="reference internal" href="techDoc.html#outrankingDigraphs.BipolarOutrankingDigraph" title="outrankingDigraphs.BipolarOutrankingDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">BipolarOutrankingDigraph</span></code></a> instance <em>g1</em> thus adds nearly 10% to the memory occupation of the corresponding <a class="reference internal" href="techDoc.html#cIntegerOutrankingDigraphs.IntegerBipolarOutrankingDigraph" title="cIntegerOutrankingDigraphs.IntegerBipolarOutrankingDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntegerBipolarOutrankingDigraph</span></code></a> <em>g</em> instance (see Line 3 and 5 above). 3/4 of this memory occupation is due to the <em>g.relation</em> (34%) and the <em>g.gamma</em> (45%) dictionaries. And these ratios quadratically grow with the digraph order. To limit the object sizes for really big outranking digraphs, we need to abandon the complete implementation of adjacency tables and gamma functions.</p>
</section>
<section id="the-sparse-outranking-digraph-implementation">
<h4><a class="toc-backref" href="#id433" role="doc-backlink"><span class="section-number">1.5.3.4. </span>The sparse outranking digraph implementation</a><a class="headerlink" href="#the-sparse-outranking-digraph-implementation" title="Link to this heading"></a></h4>
<p>The idea is to first decompose the complete outranking relation into an ordered collection of equivalent quantile performance classes. Let us consider for this illustration a random performance tableau with 100 decision alternatives evaluated on 7 criteria.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">cRandPerfTabs</span> <span class="kn">import</span> <span class="n">cRandomPerformanceTableau</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">cRandomPerformanceTableau</span><span class="p">(</span><span class="n">numberOfActions</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
<span class="linenos">3</span><span class="gp">... </span>                              <span class="n">numberOfCriteria</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
<p>We sort the 100 decision alternatives into overlapping quartile classes and rank with respect to the average quantile limits.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">cSparseIntegerOutrankingDigraphs</span> <span class="kn">import</span> \
<span class="linenos"> 2</span><span class="gp">... </span>     <span class="n">SparseIntegerOutrankingDigraph</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">sg</span> <span class="o">=</span> <span class="n">SparseIntegerOutrankingDigraph</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="n">quantiles</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
<span class="linenos"> 4</span><span class="gp">... </span>                     <span class="n">OptimalQuantileOrdering</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="linenos"> 5</span><span class="gp">... </span>                     <span class="n">Threading</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="linenos"> 6</span><span class="gp">&gt;&gt;&gt; </span><span class="n">sg</span>
<span class="linenos"> 7</span><span class="go"> *----- Object instance description --------------*</span>
<span class="linenos"> 8</span><span class="go"> Instance class    : SparseIntegerOutrankingDigraph</span>
<span class="linenos"> 9</span><span class="go"> Instance name     : cRandomperftab_mp</span>
<span class="linenos">10</span><span class="go"> # Actions         : 100</span>
<span class="linenos">11</span><span class="go"> # Criteria        : 7</span>
<span class="linenos">12</span><span class="go"> Sorting by        : 4-Tiling</span>
<span class="linenos">13</span><span class="go"> Ordering strategy : average</span>
<span class="linenos">14</span><span class="go"> Ranking rule      : Copeland</span>
<span class="linenos">15</span><span class="go"> # Components      : 6</span>
<span class="linenos">16</span><span class="go"> Minimal order     : 1</span>
<span class="linenos">17</span><span class="go"> Maximal order     : 35</span>
<span class="linenos">18</span><span class="go"> Average order     : 16.7</span>
<span class="linenos">19</span><span class="go"> fill rate         : 24.970%</span>
<span class="linenos">20</span><span class="go"> Attributes        : [&#39;runTimes&#39;, &#39;name&#39;, &#39;actions&#39;, &#39;criteria&#39;,</span>
<span class="linenos">21</span><span class="go">                     &#39;evaluation&#39;, &#39;order&#39;, &#39;dimension&#39;,</span>
<span class="linenos">22</span><span class="go">                     &#39;sortingParameters&#39;, &#39;nbrOfCPUs&#39;,</span>
<span class="linenos">23</span><span class="go">                     &#39;valuationdomain&#39;, &#39;profiles&#39;, &#39;categories&#39;,</span>
<span class="linenos">24</span><span class="go">                     &#39;sorting&#39;, &#39;minimalComponentSize&#39;,</span>
<span class="linenos">25</span><span class="go">                     &#39;decomposition&#39;, &#39;nbrComponents&#39;, &#39;nd&#39;,</span>
<span class="linenos">26</span><span class="go">                     &#39;components&#39;, &#39;fillRate&#39;,</span>
<span class="linenos">27</span><span class="go">                     &#39;maximalComponentSize&#39;, &#39;componentRankingRule&#39;,</span>
<span class="linenos">28</span><span class="go">                     &#39;boostedRanking&#39;]</span>
<span class="linenos">29</span><span class="go"> *----  Constructor run times (in sec.) ----</span>
<span class="linenos">30</span><span class="go"> Total time        : 0.02336</span>
<span class="linenos">31</span><span class="go"> QuantilesSorting  : 0.01150</span>
<span class="linenos">32</span><span class="go"> Preordering       : 0.00047</span>
<span class="linenos">33</span><span class="go"> Decomposing       : 0.01135</span>
<span class="linenos">34</span><span class="go"> Ordering          : 0.00001</span>
</pre></div>
</div>
<p>We obtain in this example here a decomposition into 6 linearly ordered components with a maximal component size of 35 for component <em>c3</em>.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">sg</span><span class="o">.</span><span class="n">showDecomposition</span><span class="p">()</span>
<span class="linenos"> 2</span><span class="go"> *--- quantiles decomposition in decreasing order---*</span>
<span class="linenos"> 3</span><span class="go"> c1. ]0.75-1.00] : [3, 22, 24, 34, 41, 44, 50, 53, 56, 62, 93]</span>
<span class="linenos"> 4</span><span class="go"> c2. ]0.50-1.00] : [7, 29, 43, 58, 63, 81, 96]</span>
<span class="linenos"> 5</span><span class="go"> c3. ]0.50-0.75] : [1, 2, 5, 8, 10, 11, 20, 21, 25, 28, 30, 33,</span>
<span class="linenos"> 6</span><span class="go">                    35, 36, 45, 48, 57, 59, 61, 65, 66, 68, 70,</span>
<span class="linenos"> 7</span><span class="go">                    71, 73, 76, 82, 85, 89, 90, 91, 92, 94, 95, 97]</span>
<span class="linenos"> 8</span><span class="go"> c4. ]0.25-0.75] : [17, 19, 26, 27, 40, 46, 55, 64, 69, 87, 98, 100]</span>
<span class="linenos"> 9</span><span class="go"> c5. ]0.25-0.50] : [4, 6, 9, 12, 13, 14, 15, 16, 18, 23, 31, 32,</span>
<span class="linenos">10</span><span class="go">                    37, 38, 39, 42, 47, 49, 51, 52, 54, 60, 67, 72,</span>
<span class="linenos">11</span><span class="go">                    74, 75, 77, 78, 80, 86, 88, 99]</span>
<span class="linenos">12</span><span class="go"> c6. ]&lt;-0.25] : [79, 83, 84]</span>
</pre></div>
</div>
<p>A restricted outranking relation is stored for each component with more than one alternative. The resulting global relation map of the first ranked 75 alternatives looks as follows.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sg</span><span class="o">.</span><span class="n">showRelationMap</span><span class="p">(</span><span class="n">toIndex</span><span class="o">=</span><span class="mi">75</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="id281">
<a class="reference internal image-reference" href="_images/sparseRelationMap.png"><img alt="_images/sparseRelationMap.png" src="_images/sparseRelationMap.png" style="width: 450px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.74 </span><span class="caption-text">Sparse quartiles-sorting decomposed outranking relation (extract). <strong>Legend</strong>: <em>outranking</em> for certain (<img class="math" src="_images/math/e6a8aa777bba61537a83df04f5fadf4cb2ada566.png" alt="\top"/>); <em>outranked</em> for certain (<img class="math" src="_images/math/5fae947ebaf7b6e50c19837002cf26089cf5d923.png" alt="\bot"/>); more or less <em>outranking</em> (<img class="math" src="_images/math/26d77804f7b0232a53e8432702479a275a171831.png" alt="+"/>); more or less <em>outranked</em> (<img class="math" src="_images/math/181cffb4dcf81e4177e5baaa0d4f02b126a745f0.png" alt="-"/>); <em>indeterminate</em> ( ).</span><a class="headerlink" href="#id281" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>With a fill rate of 25%, the memory occupation of this sparse outranking digraph <em>sg</em> instance takes now only 769kB, compared to the 1.7MB required by a corresponding standard IntegerBipolarOutrankingDigraph instance.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%.0f</span><span class="s1">kB&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">total_size</span><span class="p">(</span><span class="n">sg</span><span class="p">)</span><span class="o">/</span><span class="mi">1024</span><span class="p">)</span> <span class="p">)</span>
<span class="go">769kB</span>
</pre></div>
</div>
<p>For sparse outranking digraphs, the adjacency table is implemented as a dynamic <code class="xref py py-func docutils literal notranslate"><span class="pre">relation()</span></code> function instead of a double dictionary.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="go">def relation(self, int x, int y):</span>
<span class="linenos"> 2</span><span class="go">   &quot;&quot;&quot;</span>
<span class="linenos"> 3</span><span class="go">   *Parameters*:</span>
<span class="linenos"> 4</span><span class="go">         * x (int action key),</span>
<span class="linenos"> 5</span><span class="go">         * y (int action key).</span>
<span class="linenos"> 6</span><span class="go">   Dynamic construction of the global outranking</span>
<span class="linenos"> 7</span><span class="go">   characteristic function *r(x S y)*.</span>
<span class="linenos"> 8</span><span class="go">   &quot;&quot;&quot;</span>
<span class="linenos"> 9</span><span class="go">   cdef int Min, Med, Max, rx, ry</span>
<span class="linenos">10</span><span class="go">   Min = self.valuationdomain[&#39;min&#39;]</span>
<span class="linenos">11</span><span class="go">   Med = self.valuationdomain[&#39;med&#39;]</span>
<span class="linenos">12</span><span class="go">   Max = self.valuationdomain[&#39;max&#39;]</span>
<span class="linenos">13</span><span class="go">   if x == y:</span>
<span class="linenos">14</span><span class="go">       return Med</span>
<span class="linenos">15</span><span class="go">   else:</span>
<span class="linenos">16</span><span class="go">       cx = self.actions[x][&#39;component&#39;]</span>
<span class="linenos">17</span><span class="go">       cy = self.actions[y][&#39;component&#39;]</span>
<span class="linenos">18</span><span class="go">       rx = self.components[cx][&#39;rank&#39;]</span>
<span class="linenos">19</span><span class="go">       ry = self.components[cy][&#39;rank&#39;]</span>
<span class="linenos">20</span><span class="go">       if rx == ry:</span>
<span class="linenos">21</span><span class="go">           try:</span>
<span class="linenos">22</span><span class="go">               rxpg = self.components[cx][&#39;subGraph&#39;].relation</span>
<span class="linenos">23</span><span class="go">               return rxpg[x][y]</span>
<span class="linenos">24</span><span class="go">           except AttributeError:</span>
<span class="linenos">25</span><span class="go">               componentRanking = self.components[cx][&#39;componentRanking&#39;]</span>
<span class="linenos">26</span><span class="go">               if componentRanking.index(x) &lt; componentRanking.index(y):</span>
<span class="linenos">27</span><span class="go">                   return Max</span>
<span class="linenos">28</span><span class="go">               else:</span>
<span class="linenos">29</span><span class="go">                   return Min</span>
<span class="linenos">30</span><span class="go">       elif rx &gt; ry:</span>
<span class="linenos">31</span><span class="go">           return Min</span>
<span class="linenos">32</span><span class="go">       else:</span>
<span class="linenos">33</span><span class="go">           return Max</span>
</pre></div>
</div>
</section>
<section id="ranking-big-sets-of-decision-alternatives">
<h4><a class="toc-backref" href="#id434" role="doc-backlink"><span class="section-number">1.5.3.5. </span>Ranking big sets of decision alternatives</a><a class="headerlink" href="#ranking-big-sets-of-decision-alternatives" title="Link to this heading"></a></h4>
<p>We may now rank the complete set of 100 decision alternatives by locally ranking with the <em>Copeland</em> or the <em>NetFlows</em> rule, for instance, all these individual components.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">sg</span><span class="o">.</span><span class="n">boostedRanking</span>
<span class="linenos">2</span><span class="go"> [22, 53, 3, 34, 56, 62, 24, 44, 50, 93, 41, 63, 29, 58,</span>
<span class="linenos">3</span><span class="go">  96, 7, 43, 81, 91, 35, 25, 76, 66, 65, 8, 10, 1, 11, 61,</span>
<span class="linenos">4</span><span class="go">  30, 48, 45, 68, 5, 89, 57, 59, 85, 82, 73, 33, 94, 70,</span>
<span class="linenos">5</span><span class="go">  97, 20, 92, 71, 90, 95, 21, 28, 2, 36, 87, 40, 98, 46, 55,</span>
<span class="linenos">6</span><span class="go">  100, 64, 17, 26, 27, 19, 69, 6, 38, 4, 37, 60, 31, 77, 78,</span>
<span class="linenos">7</span><span class="go">  47, 99, 18, 12, 80, 54, 88, 39, 9, 72, 86, 42, 13, 23, 67,</span>
<span class="linenos">8</span><span class="go">  52, 15, 32, 49, 51, 74, 16, 14, 75, 79, 83, 84]</span>
</pre></div>
</div>
<p>When actually computing linear rankings of a set of alternatives, the local outranking relations are of no practical usage, and we may furthermore reduce the memory occupation of the resulting digraph by</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>refining the ordering of the quantile classes by taking into account how well an alternative is outranking the lower limit of its quantile class, respectively the upper limit of its quantile class is <em>not</em> outranking the alternative;</p></li>
<li><p>dropping the local outranking digraphs and keeping for each quantile class only a locally ranked list of alternatives.</p></li>
</ol>
</div></blockquote>
<p>We provide therefore the <a class="reference internal" href="techDoc.html#cSparseIntegerOutrankingDigraphs.cQuantilesRankingDigraph" title="cSparseIntegerOutrankingDigraphs.cQuantilesRankingDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">cQuantilesRankingDigraph</span></code></a> class.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">cSparseIntegerOutrankingDigraphs</span> <span class="kn">import</span> \
<span class="linenos"> 2</span><span class="gp">... </span>     <span class="n">cQuantilesRankingDigraph</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">qr</span> <span class="o">=</span> <span class="n">cQuantilesRankingDigraph</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="linenos"> 4</span><span class="gp">&gt;&gt;&gt; </span><span class="n">qr</span>
<span class="linenos"> 5</span><span class="go"> *----- Object instance description --------------*</span>
<span class="linenos"> 6</span><span class="go"> Instance class    : cQuantilesRankingDigraph</span>
<span class="linenos"> 7</span><span class="go"> Instance name     : cRandomperftab_mp</span>
<span class="linenos"> 8</span><span class="go"> # Actions         : 100</span>
<span class="linenos"> 9</span><span class="go"> # Criteria        : 7</span>
<span class="linenos">10</span><span class="go"> Sorting by        : 4-Tiling</span>
<span class="linenos">11</span><span class="go"> Ordering strategy : optimal</span>
<span class="linenos">12</span><span class="go"> Ranking rule      : Copeland</span>
<span class="linenos">13</span><span class="go"> # Components      : 47</span>
<span class="linenos">14</span><span class="go"> Minimal order     : 1</span>
<span class="linenos">15</span><span class="go"> Maximal order     : 10</span>
<span class="linenos">16</span><span class="go"> Average order     : 2.1</span>
<span class="linenos">17</span><span class="go"> fill rate         : 2.566%</span>
<span class="linenos">18</span><span class="go"> *----  Constructor run times (in sec.) ----*</span>
<span class="linenos">19</span><span class="go"> Nbr of threads    : 1</span>
<span class="linenos">20</span><span class="go"> Total time        : 0.03702</span>
<span class="linenos">21</span><span class="go"> QuantilesSorting  : 0.01785</span>
<span class="linenos">22</span><span class="go"> Preordering       : 0.00022</span>
<span class="linenos">23</span><span class="go"> Decomposing       : 0.01892</span>
<span class="linenos">24</span><span class="go"> Ordering          : 0.00000</span>
<span class="linenos">25</span><span class="go"> Attributes       : [&#39;runTimes&#39;, &#39;name&#39;, &#39;actions&#39;, &#39;order&#39;,</span>
<span class="linenos">26</span><span class="go">                     &#39;dimension&#39;, &#39;sortingParameters&#39;, &#39;nbrOfCPUs&#39;,</span>
<span class="linenos">27</span><span class="go">                     &#39;valuationdomain&#39;, &#39;profiles&#39;, &#39;categories&#39;,</span>
<span class="linenos">28</span><span class="go">                     &#39;sorting&#39;, &#39;minimalComponentSize&#39;,</span>
<span class="linenos">29</span><span class="go">                     &#39;decomposition&#39;, &#39;nbrComponents&#39;, &#39;nd&#39;,</span>
<span class="linenos">30</span><span class="go">                     &#39;components&#39;, &#39;fillRate&#39;, &#39;maximalComponentSize&#39;,</span>
<span class="linenos">31</span><span class="go">                     &#39;componentRankingRule&#39;, &#39;boostedRanking&#39;]</span>
</pre></div>
</div>
<p>With this <em>optimised</em> quantile ordering strategy, we obtain now 47 performance equivalence classes.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">qr</span><span class="o">.</span><span class="n">components</span>
<span class="linenos"> 2</span><span class="go"> OrderedDict([</span>
<span class="linenos"> 3</span><span class="go"> (&#39;c01&#39;, {&#39;rank&#39;: 1,</span>
<span class="linenos"> 4</span><span class="go">          &#39;lowQtileLimit&#39;: &#39;]0.75&#39;,</span>
<span class="linenos"> 5</span><span class="go">          &#39;highQtileLimit&#39;: &#39;1.00]&#39;,</span>
<span class="linenos"> 6</span><span class="go">          &#39;componentRanking&#39;: [53]}),</span>
<span class="linenos"> 7</span><span class="go"> (&#39;c02&#39;, {&#39;rank&#39;: 2,</span>
<span class="linenos"> 8</span><span class="go">          &#39;lowQtileLimit&#39;: &#39;]0.75&#39;,</span>
<span class="linenos"> 9</span><span class="go">          &#39;highQtileLimit&#39;: &#39;1.00]&#39;,</span>
<span class="linenos">10</span><span class="go">          &#39;componentRanking&#39;: [3, 23, 63, 50]}),</span>
<span class="linenos">11</span><span class="go"> (&#39;c03&#39;, {&#39;rank&#39;: 3,</span>
<span class="linenos">12</span><span class="go">          &#39;lowQtileLimit&#39;: &#39;]0.75&#39;,</span>
<span class="linenos">13</span><span class="go">          &#39;highQtileLimit&#39;: &#39;1.00]&#39;,</span>
<span class="linenos">14</span><span class="go">          &#39;componentRanking&#39;: [34, 44, 56, 24, 93, 41]}),</span>
<span class="linenos">15</span><span class="go"> ...</span>
<span class="linenos">16</span><span class="go"> ...</span>
<span class="linenos">17</span><span class="go"> ...</span>
<span class="linenos">18</span><span class="go"> (&#39;c45&#39;, {&#39;rank&#39;: 45,</span>
<span class="linenos">19</span><span class="go">          &#39;lowQtileLimit&#39;: &#39;]0.25&#39;,</span>
<span class="linenos">20</span><span class="go">          &#39;highQtileLimit&#39;: &#39;0.50]&#39;,</span>
<span class="linenos">21</span><span class="go">          &#39;componentRanking&#39;: [49]}),</span>
<span class="linenos">22</span><span class="go"> (&#39;c46&#39;, {&#39;rank&#39;: 46,</span>
<span class="linenos">23</span><span class="go">          &#39;lowQtileLimit&#39;: &#39;]0.25&#39;,</span>
<span class="linenos">24</span><span class="go">          &#39;highQtileLimit&#39;: &#39;0.50]&#39;,</span>
<span class="linenos">25</span><span class="go">          &#39;componentRanking&#39;: [52, 16, 86]}),</span>
<span class="linenos">26</span><span class="go"> (&#39;c47&#39;, {&#39;rank&#39;: 47,</span>
<span class="linenos">27</span><span class="go">          &#39;lowQtileLimit&#39;: &#39;]&lt;&#39;,</span>
<span class="linenos">28</span><span class="go">          &#39;highQtileLimit&#39;: &#39;0.25]&#39;,</span>
<span class="linenos">29</span><span class="go">          &#39;componentRanking&#39;: [79, 83, 84]})])</span>
<span class="linenos">30</span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%.0f</span><span class="s1">kB&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">total_size</span><span class="p">(</span><span class="n">qr</span><span class="p">)</span><span class="o">/</span><span class="mi">1024</span><span class="p">)</span> <span class="p">)</span>
<span class="linenos">31</span><span class="go"> 208kB</span>
</pre></div>
</div>
<p>We observe an even more considerably less voluminous memory occupation: 208kB compared to the 769kB of the SparseIntegerOutrankingDigraph instance. It is opportune, however, to measure the loss of quality of the resulting <em>Copeland</em> ranking when working with sparse outranking digraphs.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">cIntegerOutrankingDigraphs</span> <span class="kn">import</span> \
<span class="linenos"> 2</span><span class="gp">... </span>     <span class="n">IntegerBipolarOutrankingDigraph</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">ig</span> <span class="o">=</span> <span class="n">IntegerBipolarOutrankingDigraph</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="linenos"> 4</span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Complete outranking : </span><span class="si">%+.4f</span><span class="s1">&#39;</span>\
<span class="linenos"> 5</span><span class="gp">... </span>       <span class="o">%</span> <span class="p">(</span><span class="n">ig</span><span class="o">.</span><span class="n">computeOrderCorrelation</span><span class="p">(</span><span class="n">ig</span><span class="o">.</span><span class="n">computeCopelandOrder</span><span class="p">())</span>\
<span class="linenos"> 6</span><span class="gp">... </span>          <span class="p">[</span><span class="s1">&#39;correlation&#39;</span><span class="p">]))</span>
<span class="linenos"> 7</span>
<span class="linenos"> 8</span><span class="go"> Complete outranking : +0.7474</span>
<span class="linenos"> 9</span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Sparse 4-tiling : </span><span class="si">%+.4f</span><span class="s1">&#39;</span>\
<span class="linenos">10</span><span class="gp">... </span>       <span class="o">%</span> <span class="p">(</span><span class="n">ig</span><span class="o">.</span><span class="n">computeOrderCorrelation</span><span class="p">(</span>\
<span class="linenos">11</span><span class="gp">... </span>          <span class="nb">list</span><span class="p">(</span><span class="nb">reversed</span><span class="p">(</span><span class="n">sg</span><span class="o">.</span><span class="n">boostedRanking</span><span class="p">)))[</span><span class="s1">&#39;correlation&#39;</span><span class="p">]))</span>
<span class="linenos">12</span>
<span class="linenos">13</span><span class="go"> Sparse 4-tiling          : +0.7172</span>
<span class="linenos">14</span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Optimzed sparse 4-tiling: </span><span class="si">%+.4f</span><span class="s1">&#39;</span>\
<span class="linenos">15</span><span class="gp">... </span>        <span class="o">%</span> <span class="p">(</span><span class="n">ig</span><span class="o">.</span><span class="n">computeOrderCorrelation</span><span class="p">(</span>\
<span class="linenos">16</span><span class="gp">... </span>           <span class="nb">list</span><span class="p">(</span><span class="nb">reversed</span><span class="p">(</span><span class="n">qr</span><span class="o">.</span><span class="n">boostedRanking</span><span class="p">)))[</span><span class="s1">&#39;correlation&#39;</span><span class="p">]))</span>
<span class="linenos">17</span>
<span class="linenos">18</span><span class="go"> Optimzed sparse 4-tiling: +0.7051</span>
</pre></div>
</div>
<p>The best ranking correlation with the pairwise outranking situations (+0.75) is naturally given when we apply the <em>Copeland</em> rule to the complete outranking digraph. When we apply the same rule to the sparse 4-tiled outranking digraph, we get a correlation of +0.72, and when applying the <em>Copeland</em> rule to the optimised 4-tiled digraph, we still obtain a correlation of +0.71. These results actually depend on the number of quantiles we use as well as on the given model of random performance tableau. In case of Random3ObjectivesPerformanceTableau instances, for instance, we would get in a similar setting a complete outranking correlation of +0.86, a sparse 4-tiling correlation of +0.82, and an optimzed sparse 4-tiling correlation of +0.81.</p>
<p>Back to <a class="reference internal" href="#tutorial-label"><span class="std std-ref">Content Table</span></a></p>
<hr class="docutils" />
</section>
</section>
</section>
<section id="hpc-ranking-of-big-sparse-outranking-digraphs">
<span id="hpc-ranking-tutorial-label"></span><h2><span class="section-number">1.6. </span>HPC-Ranking of Big Sparse Outranking Digraphs<a class="headerlink" href="#hpc-ranking-of-big-sparse-outranking-digraphs" title="Link to this heading"></a></h2>
<p>Following from the separability property of the <em>q</em>-tiles sorting of each action into each <em>q</em>-tiles class, the <em>q</em>-sorting algorithm may be safely split into as much threads as are multiple processing cores available in parallel. Furthermore, the ranking procedure being local to each diagonal component, these procedures may as well be safely processed in parallel threads on each component restricted outranking digraph. Below some examples on different types of computers.</p>
<nav class="contents local" id="id164">
<ul class="simple">
<li><p><a class="reference internal" href="#on-a-common-2023-desktop-computer" id="id435">On a common 2023 desktop computer</a></p></li>
<li><p><a class="reference internal" href="#on-the-hpc-platform-of-the-university-of-luxembourg-spring-2018" id="id436">On the HPC platform of the University of Luxembourg (Spring 2018)</a></p></li>
<li><p><a class="reference internal" href="#on-the-meluxina-eurohpc-supercomputer-summer-2024-54" id="id437">On the MeluXina EuroHPC supercomputer (Summer 2024) </a></p></li>
</ul>
</nav>
<section id="on-a-common-2023-desktop-computer">
<span id="hpc-commondesktop-tutorial-label"></span><h3><a class="toc-backref" href="#id435" role="doc-backlink"><span class="section-number">1.6.1. </span>On a common 2023 desktop computer</a><a class="headerlink" href="#on-a-common-2023-desktop-computer" title="Link to this heading"></a></h3>
<p>On a common 2023 Terra desktop computer <a class="footnote-reference brackets" href="#id260" id="id165" role="doc-noteref"><span class="fn-bracket">[</span>56<span class="fn-bracket">]</span></a>, equipped with a 11th Gen Intel® Core™ i5-11400 × 12 processor, 64.0 GiB of CPU memory and 762.2 GiB storage space, working under Ubuntu 23.10 we may rank a <a class="reference internal" href="techDoc.html#cRandPerfTabs.cRandom3ObjectivesPerformanceTableau" title="cRandPerfTabs.cRandom3ObjectivesPerformanceTableau"><code class="xref py py-class docutils literal notranslate"><span class="pre">cRandom3ObjectivesPerformanceTableau</span></code></a> instance of <strong>five hundred thousand</strong> multicriteria performance records in about 104 seconds with about 48 seconds for the quantiles sorting step and 55 seconds for the local components ranking step (see below Lines 42-).</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span>../Digraph3/cython$<span class="w"> </span>python3.12
<span class="linenos">2</span>Python<span class="w"> </span><span class="m">3</span>.12.0<span class="w"> </span><span class="o">(</span>main,<span class="w"> </span>Oct<span class="w">  </span><span class="m">4</span><span class="w"> </span><span class="m">2023</span>,<span class="w"> </span><span class="m">06</span>:27:34<span class="o">)</span><span class="w"> </span><span class="o">[</span>GCC<span class="w"> </span><span class="m">13</span>.2.0<span class="o">]</span><span class="w"> </span>on<span class="w"> </span>linux
<span class="linenos">3</span>&gt;&gt;&gt;
</pre></div>
</div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">cRandPerfTabs</span> <span class="kn">import</span>\
<span class="linenos"> 2</span><span class="gp">... </span>      <span class="n">cRandom3ObjectivesPerformanceTableau</span> <span class="k">as</span> <span class="n">cR3ObjPT</span>
<span class="hll"><span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span> <span class="o">=</span> <span class="n">cR3ObjPT</span><span class="p">(</span><span class="n">numberOfActions</span><span class="o">=</span><span class="mi">500000</span><span class="p">,</span>
</span><span class="linenos"> 4</span><span class="gp">... </span>             <span class="n">numberOfCriteria</span><span class="o">=</span><span class="mi">21</span><span class="p">,</span>
<span class="linenos"> 5</span><span class="gp">... </span>             <span class="n">weightDistribution</span><span class="o">=</span><span class="s1">&#39;equiobjectives&#39;</span><span class="p">,</span>
<span class="linenos"> 6</span><span class="gp">... </span>             <span class="n">commonScale</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">1000.0</span><span class="p">),</span>
<span class="linenos"> 7</span><span class="gp">... </span>             <span class="n">commonThresholds</span> <span class="o">=</span> <span class="p">[(</span><span class="mf">1.5</span><span class="p">,</span><span class="mf">0.0</span><span class="p">),(</span><span class="mf">2.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">),(</span><span class="mf">75.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">)],</span>
<span class="linenos"> 8</span><span class="gp">... </span>             <span class="n">commonMode</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;beta&#39;</span><span class="p">,</span><span class="s1">&#39;variable&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">],</span>
<span class="linenos"> 9</span><span class="gp">... </span>             <span class="n">missingDataProbability</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span>
<span class="linenos">10</span><span class="gp">... </span>             <span class="n">seed</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="linenos">11</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">cSparseIntegerOutrankingDigraphs</span> <span class="k">as</span> <span class="nn">iBg</span>
<span class="linenos">12</span><span class="gp">&gt;&gt;&gt; </span><span class="n">qr</span> <span class="o">=</span> <span class="n">iBg</span><span class="o">.</span><span class="n">cQuantilesRankingDigraph</span><span class="p">(</span><span class="n">pt</span><span class="p">,</span><span class="n">quantiles</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span>
<span class="linenos">13</span><span class="gp">... </span>                   <span class="n">quantilesOrderingStrategy</span><span class="o">=</span><span class="s1">&#39;optimal&#39;</span><span class="p">,</span>
<span class="linenos">14</span><span class="gp">... </span>                   <span class="n">minimalComponentSize</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<span class="linenos">15</span><span class="gp">... </span>                   <span class="n">componentRankingRule</span><span class="o">=</span><span class="s1">&#39;Copeland&#39;</span><span class="p">,</span>
<span class="linenos">16</span><span class="gp">... </span>                   <span class="n">LowerClosed</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="linenos">17</span><span class="gp">... </span>                   <span class="n">Threading</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="linenos">18</span><span class="gp">... </span>                   <span class="n">tempDir</span><span class="o">=</span><span class="s1">&#39;/tmp&#39;</span><span class="p">,</span>
<span class="linenos">19</span><span class="gp">... </span>                   <span class="n">nbrOfCPUs</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="linenos">20</span><span class="gp">&gt;&gt;&gt; </span><span class="n">qr</span>
<span class="linenos">21</span><span class="go">*----- Object instance description --------------*</span>
<span class="linenos">22</span><span class="go"> Instance class    : cQuantilesRankingDigraph</span>
<span class="linenos">23</span><span class="go"> Instance name     : random3ObjectivesPerfTab_mp</span>
<span class="linenos">24</span><span class="go"> Actions           : 500000</span>
<span class="linenos">25</span><span class="go"> Criteria          : 21</span>
<span class="linenos">26</span><span class="go"> Sorting by        : 7-Tiling</span>
<span class="linenos">27</span><span class="go"> Ordering strategy : optimal</span>
<span class="linenos">28</span><span class="go"> Ranking rule      : Copeland</span>
<span class="hll"><span class="linenos">29</span><span class="go"> Components        : 146579</span>
</span><span class="hll"><span class="linenos">30</span><span class="go"> Minimal order     : 1</span>
</span><span class="hll"><span class="linenos">31</span><span class="go"> Maximal order     : 115</span>
</span><span class="hll"><span class="linenos">32</span><span class="go"> Average order     : 3.4</span>
</span><span class="hll"><span class="linenos">33</span><span class="go"> fill rate         : 0.002%</span>
</span><span class="linenos">34</span><span class="go"> Attributes        : [&#39;runTimes&#39;, &#39;name&#39;, &#39;actions&#39;, &#39;order&#39;,</span>
<span class="linenos">35</span><span class="go">                      &#39;dimension&#39;, &#39;sortingParameters&#39;,</span>
<span class="linenos">36</span><span class="go">                      &#39;nbrThreads&#39;, &#39;startMethod&#39;, &#39;valuationdomain&#39;,</span>
<span class="linenos">37</span><span class="go">                      &#39;profiles&#39;, &#39;categories&#39;, &#39;sorting&#39;,</span>
<span class="linenos">38</span><span class="go">                      &#39;minimalComponentSize&#39;, &#39;decomposition&#39;,</span>
<span class="linenos">39</span><span class="go">                      &#39;nbrComponents&#39;, &#39;nd&#39;, &#39;components&#39;,</span>
<span class="linenos">40</span><span class="go">                      &#39;fillRate&#39;, &#39;maximalComponentSize&#39;,</span>
<span class="linenos">41</span><span class="go">                      &#39;componentRankingRule&#39;, &#39;boostedRanking&#39;]</span>
<span class="hll"><span class="linenos">42</span><span class="go"> ----  Constructor run times (in sec.) ----</span>
</span><span class="hll"><span class="linenos">43</span><span class="go"> Threads           : 12</span>
</span><span class="hll"><span class="linenos">44</span><span class="go"> StartMethod       : spawn</span>
</span><span class="hll"><span class="linenos">45</span><span class="go"> Total time        : 104.48654</span>
</span><span class="hll"><span class="linenos">46</span><span class="go"> QuantilesSorting  : 48.09243</span>
</span><span class="hll"><span class="linenos">47</span><span class="go"> Preordering       : 1.26480</span>
</span><span class="hll"><span class="linenos">48</span><span class="go"> Decomposing       : 55.12919</span>
</span></pre></div>
</div>
<p>When ordering the 146579 components resulting from a 7-tiling sorting with the <em>optimal</em> quantiles ordering strategy, the order of a local component is limited to a maximal size of 115 actions which results in a total pairwise adjacency table fill rate of 0.002% (see Lines 29-33).</p>
</section>
<section id="on-the-hpc-platform-of-the-university-of-luxembourg-spring-2018">
<span id="hpc-unilu-platform-tutorial-label"></span><h3><a class="toc-backref" href="#id436" role="doc-backlink"><span class="section-number">1.6.2. </span>On the HPC platform of the University of Luxembourg (Spring 2018)</a><a class="headerlink" href="#on-the-hpc-platform-of-the-university-of-luxembourg-spring-2018" title="Link to this heading"></a></h3>
<p>Bigger performance tableaux may definitely be ranked with a larger <em>cpu_count()</em>. We were using therefore in 2018 the HPC Platform of the University of Luxembourg (<a class="reference external" href="https://hpc.uni.lu/">https://hpc.uni.lu/</a>). The following run times for very big quantiles ranking problems of several millions of multicriteria performance records could be achieved both:</p>
<blockquote>
<div><ul class="simple">
<li><p>on Iris -skylake nodes with 28 cores <a class="footnote-reference brackets" href="#id215" id="id166" role="doc-noteref"><span class="fn-bracket">[</span>7<span class="fn-bracket">]</span></a>, and</p></li>
<li><p>on the 3TB -bigmem Gaia-183 node with 64 cores <a class="footnote-reference brackets" href="#id216" id="id167" role="doc-noteref"><span class="fn-bracket">[</span>8<span class="fn-bracket">]</span></a>,</p></li>
</ul>
</div></blockquote>
<p>by running the cythonized python modules in an Intel compiled virtual Python 3.6.5 environment [GCC Intel(R) 17.0.1 –enable-optimizations c++ gcc 6.3 mode] on <em>Debian</em> 8 Linux.</p>
<figure class="align-center" id="id282">
<a class="reference internal image-reference" href="_images/rankingRecords.png"><img alt="_images/rankingRecords.png" src="_images/rankingRecords.png" style="width: 350px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.75 </span><span class="caption-text">HPC-UL Ranking Performance Records (Spring 2018)</span><a class="headerlink" href="#id282" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Example python session on the HPC-UL Iris-126 -skylake node <a class="footnote-reference brackets" href="#id215" id="id168" role="doc-noteref"><span class="fn-bracket">[</span>7<span class="fn-bracket">]</span></a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="o">(</span>myPy365ICC<span class="o">)</span><span class="w"> </span><span class="o">[</span>rbisdorff@iris-126<span class="w"> </span>Test<span class="o">]</span>$<span class="w"> </span>python
<span class="linenos">2</span>Python<span class="w"> </span><span class="m">3</span>.6.5<span class="w"> </span><span class="o">(</span>default,<span class="w"> </span>May<span class="w">  </span><span class="m">9</span><span class="w"> </span><span class="m">2018</span>,<span class="w"> </span><span class="m">09</span>:54:28<span class="o">)</span>
<span class="linenos">3</span><span class="o">[</span>GCC<span class="w"> </span>Intel<span class="o">(</span>R<span class="o">)</span><span class="w"> </span>C++<span class="w"> </span>gcc<span class="w"> </span><span class="m">6</span>.3<span class="w"> </span>mode<span class="o">]</span><span class="w"> </span>on<span class="w"> </span>linux
<span class="linenos">4</span>Type<span class="w"> </span><span class="s2">&quot;help&quot;</span>,<span class="w"> </span><span class="s2">&quot;copyright&quot;</span>,<span class="w"> </span><span class="s2">&quot;credits&quot;</span><span class="w"> </span>or<span class="w"> </span><span class="s2">&quot;license&quot;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>more<span class="w"> </span>information.
<span class="linenos">5</span>&gt;&gt;&gt;
</pre></div>
</div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">cRandPerfTabs</span> <span class="kn">import</span>\
<span class="linenos"> 2</span><span class="gp">... </span>   <span class="n">cRandom3ObjectivesPerformanceTableau</span> <span class="k">as</span> <span class="n">cR3ObjPT</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span> <span class="o">=</span> <span class="n">cR3ObjPT</span><span class="p">(</span><span class="n">numberOfActions</span><span class="o">=</span><span class="mi">1000000</span><span class="p">,</span>
<span class="linenos"> 5</span><span class="gp">... </span>            <span class="n">numberOfCriteria</span><span class="o">=</span><span class="mi">21</span><span class="p">,</span>
<span class="linenos"> 6</span><span class="gp">... </span>            <span class="n">weightDistribution</span><span class="o">=</span><span class="s1">&#39;equiobjectives&#39;</span><span class="p">,</span>
<span class="linenos"> 7</span><span class="gp">... </span>            <span class="n">commonScale</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">1000.0</span><span class="p">),</span>
<span class="linenos"> 8</span><span class="gp">... </span>            <span class="n">commonThresholds</span> <span class="o">=</span> <span class="p">[(</span><span class="mf">2.5</span><span class="p">,</span><span class="mf">0.0</span><span class="p">),(</span><span class="mf">5.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">),(</span><span class="mf">75.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">)],</span>
<span class="linenos"> 9</span><span class="gp">... </span>            <span class="n">commonMode</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;beta&#39;</span><span class="p">,</span><span class="s1">&#39;variable&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">],</span>
<span class="linenos">10</span><span class="gp">... </span>            <span class="n">missingDataProbability</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span>
<span class="linenos">11</span><span class="gp">... </span>            <span class="n">seed</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="linenos">12</span>
<span class="linenos">13</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">cSparseIntegerOutrankingDigraphs</span> <span class="k">as</span> <span class="nn">iBg</span>
<span class="linenos">14</span><span class="gp">&gt;&gt;&gt; </span><span class="n">qr</span> <span class="o">=</span> <span class="n">iBg</span><span class="o">.</span><span class="n">cQuantilesRankingDigraph</span><span class="p">(</span><span class="n">pt</span><span class="p">,</span><span class="n">quantiles</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
<span class="linenos">15</span><span class="gp">... </span>              <span class="n">quantilesOrderingStrategy</span><span class="o">=</span><span class="s1">&#39;optimal&#39;</span><span class="p">,</span>
<span class="linenos">16</span><span class="gp">... </span>              <span class="n">minimalComponentSize</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<span class="linenos">17</span><span class="gp">... </span>              <span class="n">componentRankingRule</span><span class="o">=</span><span class="s1">&#39;NetFlows&#39;</span><span class="p">,</span>
<span class="linenos">18</span><span class="gp">... </span>              <span class="n">LowerClosed</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="linenos">19</span><span class="gp">... </span>              <span class="n">Threading</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="linenos">20</span><span class="gp">... </span>              <span class="n">tempDir</span><span class="o">=</span><span class="s1">&#39;/tmp&#39;</span><span class="p">,</span>
<span class="linenos">21</span><span class="gp">... </span>              <span class="n">nbrOfCPUs</span><span class="o">=</span><span class="mi">28</span><span class="p">)</span>
<span class="linenos">22</span>
<span class="linenos">23</span><span class="gp">&gt;&gt;&gt; </span><span class="n">qr</span>
<span class="linenos">24</span><span class="go"> *----- Object instance description --------------*</span>
<span class="linenos">25</span><span class="go"> Instance class    : cQuantilesRankingDigraph</span>
<span class="linenos">26</span><span class="go"> Instance name     : random3ObjectivesPerfTab_mp</span>
<span class="linenos">27</span><span class="go"> # Actions         : 1000000</span>
<span class="linenos">28</span><span class="go"> # Criteria        : 21</span>
<span class="linenos">29</span><span class="go"> Sorting by        : 10-Tiling</span>
<span class="linenos">30</span><span class="go"> Ordering strategy : optimal</span>
<span class="linenos">31</span><span class="go"> Ranking rule      : NetFlows</span>
<span class="hll"><span class="linenos">32</span><span class="go"> # Components      : 233645</span>
</span><span class="hll"><span class="linenos">33</span><span class="go"> Minimal order     : 1</span>
</span><span class="hll"><span class="linenos">34</span><span class="go"> Maximal order     : 153</span>
</span><span class="hll"><span class="linenos">35</span><span class="go"> Average order     : 4.3</span>
</span><span class="hll"><span class="linenos">36</span><span class="go"> fill rate         : 0.001%</span>
</span><span class="hll"><span class="linenos">37</span><span class="go"> *----  Constructor run times (in sec.) ----*</span>
</span><span class="hll"><span class="linenos">38</span><span class="go"> Nbr of threads    : 28</span>
</span><span class="hll"><span class="linenos">39</span><span class="go"> Start method      : fork</span>
</span><span class="hll"><span class="linenos">40</span><span class="go"> Total time        : 177.02770</span>
</span><span class="hll"><span class="linenos">41</span><span class="go"> QuantilesSorting  : 99.55377</span>
</span><span class="hll"><span class="linenos">42</span><span class="go"> Preordering       : 5.17954</span>
</span><span class="hll"><span class="linenos">43</span><span class="go"> Decomposing       : 72.29356</span>
</span></pre></div>
</div>
<p>On this 2x14c Intel Xeon Gold 6132 &#64; 2.6 GHz equipped HPC node with 132GB RAM <a class="footnote-reference brackets" href="#id215" id="id169" role="doc-noteref"><span class="fn-bracket">[</span>7<span class="fn-bracket">]</span></a>, deciles sorting and locally ranking a <strong>million</strong> decision alternatives evaluated on 21 incommensurable criteria, by balancing an economic, an environmental and a societal decision objective, takes us about <strong>3 minutes</strong> (see Lines 37-42 above); with about 1.5 minutes for the deciles sorting and, a bit more than one minute, for the local ranking of the local components.</p>
<p>The optimised deciles sorting leads to 233645 components (see Lines 32-36 above) with a maximal order of 153. The fill rate of the adjacency table is reduced to 0.001%. Of the potential trillion (10^12) pairwise outrankings, we effectively keep only 10 millions (10^7). This high number of components results from the high number of involved performance criteria (21), leading in fact to a very refined epistemic discrimination of majority outranking margins.</p>
<p>A non-optimised deciles sorting would instead give at most 110 components with inevitably very big intractable local digraph orders. Proceeding with a more detailed quantiles sorting, for reducing the induced decomposing run times, leads however quickly to intractable quantiles sorting times. A good compromise is given when the quantiles sorting and decomposing steps show somehow equivalent run times; as is the case in our two example sessions: 15 versus 14 seconds and 99.6 versus 77.3 seconds (see Listing before and Lines 41 and 43 above).</p>
<p>Let us inspect the 21 marginal performances of the five best-ranked alternatives listed below.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span><span class="o">.</span><span class="n">showPerformanceTableau</span><span class="p">(</span>
<span class="linenos"> 2</span><span class="gp">... </span>              <span class="n">actionsSubset</span><span class="o">=</span><span class="n">qr</span><span class="o">.</span><span class="n">boostedRanking</span><span class="p">[:</span><span class="mi">5</span><span class="p">],</span>
<span class="linenos"> 3</span><span class="gp">... </span>              <span class="n">Transposed</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="go">*----  performance tableau -----*</span>
<span class="linenos"> 6</span><span class="go"> criteria | weights |  #773909  #668947  #567308  #578560  #426464</span>
<span class="linenos"> 7</span><span class="go"> ---------|-------------------------------------------------------</span>
<span class="linenos"> 8</span><span class="go">  &#39;Ec01&#39;  |    42   |   969.81   844.71   917.00     NA     808.35</span>
<span class="linenos"> 9</span><span class="go">  &#39;So02&#39;  |    48   |     NA     891.52   836.43     NA     899.22</span>
<span class="linenos">10</span><span class="go">  &#39;En03&#39;  |    56   |   687.10     NA     503.38   873.90     NA</span>
<span class="linenos">11</span><span class="go">  &#39;So04&#39;  |    48   |   455.05   845.29   866.16   800.39   956.14</span>
<span class="linenos">12</span><span class="go">  &#39;En05&#39;  |    56   |   809.60   846.87   939.46   851.83   950.51</span>
<span class="linenos">13</span><span class="go">  &#39;Ec06&#39;  |    42   |   919.62   802.45   717.39   832.44   974.63</span>
<span class="linenos">14</span><span class="go">  &#39;Ec07&#39;  |    42   |   889.01   722.09   606.11   902.28   574.08</span>
<span class="linenos">15</span><span class="go">  &#39;So08&#39;  |    48   |   862.19   699.38   907.34   571.18   943.34</span>
<span class="linenos">16</span><span class="go">  &#39;En09&#39;  |    56   |   857.34   817.44   819.92   674.60   376.70</span>
<span class="linenos">17</span><span class="go">  &#39;Ec10&#39;  |    42   |     NA     874.86     NA     847.75   739.94</span>
<span class="linenos">18</span><span class="go">  &#39;En11&#39;  |    56   |     NA     824.24   855.76     NA     953.77</span>
<span class="linenos">19</span><span class="go">  &#39;Ec12&#39;  |    42   |   802.18   871.06   488.76   841.41   599.17</span>
<span class="linenos">20</span><span class="go">  &#39;En13&#39;  |    56   |   827.73   839.70   864.48   720.31   877.23</span>
<span class="linenos">21</span><span class="go">  &#39;So14&#39;  |    48   |   943.31   580.69   827.45   815.18   461.04</span>
<span class="linenos">22</span><span class="go">  &#39;En15&#39;  |    56   |   794.57   801.44   924.29   938.70   863.72</span>
<span class="linenos">23</span><span class="go">  &#39;Ec16&#39;  |    42   |   581.15   599.87   949.84   367.34   859.70</span>
<span class="linenos">24</span><span class="go">  &#39;So17&#39;  |    48   |   881.55   856.05     NA     796.10   655.37</span>
<span class="linenos">25</span><span class="go">  &#39;Ec18&#39;  |    42   |   863.44   520.24   919.75   865.14   914.32</span>
<span class="linenos">26</span><span class="go">  &#39;So19&#39;  |    48   |     NA       NA       NA     790.43   842.85</span>
<span class="linenos">27</span><span class="go">  &#39;Ec20&#39;  |    42   |   582.52   831.93   820.92   881.68   864.81</span>
<span class="linenos">28</span><span class="go">  &#39;So21&#39;  |    48   |   880.87     NA     628.96   746.67   863.82</span>
</pre></div>
</div>
<p>The given ranking problem involves 8 criteria assessing the economic performances, 7 criteria assessing the societal performances and 6 criteria assessing the environmental performances of the decision alternatives. The sum of criteria significance weights (336) is the same for all three decision objectives. The five best-ranked alternatives are, in decreasing order: #773909, #668947, #567308, #578560 and #426464.</p>
<p>Their random performance evaluations were obviously drawn on all criteria with a <em>good</em> (+) performance profile, i.e. a Beta(<em>alpha</em> = 5.8661, <em>beta</em> = 2.62203) law (see the tutorial <a class="reference internal" href="#randomperformancetableau-tutorial-label"><span class="std std-ref">generating random performance tableaux</span></a>).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">qr</span><span class="o">.</span><span class="n">boostedRanking</span><span class="p">[:</span><span class="mi">5</span><span class="p">]:</span>
<span class="linenos">2</span><span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">pt</span><span class="o">.</span><span class="n">actions</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">],</span>
<span class="linenos">3</span><span class="gp">... </span>          <span class="n">pt</span><span class="o">.</span><span class="n">actions</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="s1">&#39;profile&#39;</span><span class="p">])</span>
<span class="linenos">4</span>
<span class="linenos">5</span><span class="go"> #773909 {&#39;Eco&#39;: &#39;+&#39;, &#39;Soc&#39;: &#39;+&#39;, &#39;Env&#39;: &#39;+&#39;}</span>
<span class="linenos">6</span><span class="go"> #668947 {&#39;Eco&#39;: &#39;+&#39;, &#39;Soc&#39;: &#39;+&#39;, &#39;Env&#39;: &#39;+&#39;}</span>
<span class="linenos">7</span><span class="go"> #567308 {&#39;Eco&#39;: &#39;+&#39;, &#39;Soc&#39;: &#39;+&#39;, &#39;Env&#39;: &#39;+&#39;}</span>
<span class="linenos">8</span><span class="go"> #578560 {&#39;Eco&#39;: &#39;+&#39;, &#39;Soc&#39;: &#39;+&#39;, &#39;Env&#39;: &#39;+&#39;}</span>
<span class="linenos">9</span><span class="go"> #426464 {&#39;Eco&#39;: &#39;+&#39;, &#39;Soc&#39;: &#39;+&#39;, &#39;Env&#39;: &#39;+&#39;}</span>
</pre></div>
</div>
<p>We consider now a partial performance tableau <em>best10</em>, consisting only, for instance, of the <strong>ten best-ranked alternatives</strong>, with which we may compute a corresponding integer outranking digraph valued in the range (-1008, +1008).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">cRandPerfTabs</span> <span class="kn">import</span> <span class="n">cPartialPerformanceTableau</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">best10</span> <span class="o">=</span> <span class="n">cPartialPerformanceTableau</span><span class="p">(</span><span class="n">pt</span><span class="p">,</span><span class="n">qr</span><span class="o">.</span><span class="n">boostedRanking</span><span class="p">[:</span><span class="mi">10</span><span class="p">])</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">cIntegerOutrankingDigraphs</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos"> 4</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">IntegerBipolarOutrankingDigraph</span><span class="p">(</span><span class="n">best10</span><span class="p">)</span>
<span class="linenos"> 5</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">valuationdomain</span>
<span class="linenos"> 6</span><span class="go"> {&#39;min&#39;: -1008, &#39;med&#39;: 0, &#39;max&#39;: 1008, &#39;hasIntegerValuation&#39;: True}</span>
<span class="linenos"> 7</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">showRelationTable</span><span class="p">(</span><span class="n">ReflexiveTerms</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="linenos"> 8</span><span class="go"> * ---- Relation Table -----</span>
<span class="linenos"> 9</span><span class="go">  r(x&gt;y) | #773909 #668947 #567308 #578560 #426464 #298061 #155874 #815552 #279729 #928564</span>
<span class="linenos">10</span><span class="go"> --------|-----------------------------------------------------------------------------------</span>
<span class="linenos">11</span><span class="go"> #773909 |    -      +390     +90    +270     -50    +340    +220     +60    +116    +222</span>
<span class="linenos">12</span><span class="go"> #668947 |    +78     -       +42    +250     -22    +218     +56    +172     +74     +64</span>
<span class="linenos">13</span><span class="go"> #567308 |    +70    +418     -      +180    +156    +174    +266     +78    +256    +306</span>
<span class="linenos">14</span><span class="go"> #578560 |     -4     +78     +28     -       -12    +100     -48    +154    -110     -10</span>
<span class="linenos">15</span><span class="go"> #426464 |   +202    +258    +284    +138     -      +416    +312    +382    +534    +278</span>
<span class="linenos">16</span><span class="go"> #298061 |    -48     +68    +172     +32     -42      -      +54     +48    +248    +374</span>
<span class="linenos">17</span><span class="go"> #155874 |    +72    +378    +322    +174    +274    +466     -      +212    +308    +418</span>
<span class="linenos">18</span><span class="go"> #815552 |    +78    +126    +272    +318     +54    +194    +172     -       -14     +22</span>
<span class="linenos">19</span><span class="go"> #279729 |   +240    +230    -110    +290     +72    +140    +388     +62     -      +250</span>
<span class="linenos">20</span><span class="go"> #928564 |    +22    +228     -14    +246     +36     +78     +56    +110    +318     -</span>
<span class="linenos">21</span><span class="go"> r(x&gt;y) image range := [-1008;+1008]</span>
<span class="linenos">22</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">condorcetWinners</span><span class="p">()</span>
<span class="linenos">23</span><span class="go"> [155874, 426464, 567308]</span>
<span class="linenos">24</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">computeChordlessCircuits</span><span class="p">()</span>
<span class="linenos">25</span><span class="go"> []</span>
<span class="linenos">26</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">computeTransitivityDegree</span><span class="p">()</span>
<span class="linenos">27</span><span class="go"> 0.78</span>
</pre></div>
</div>
<p>Three alternatives -#155874, #426464 and #567308- qualify as <em>Condorcet</em> winners, i.e. they each <strong>positively outrank</strong> all the other nine alternatives. No chordless outranking circuits are detected, yet the transitivity of the apparent outranking relation is not given. And, no clear ranking alignment hence appears when inspecting the <em>strict</em> outranking digraph (i.e. the codual ~(-<em>g</em>) of <em>g</em>) shown in <a class="reference internal" href="#converse-dual-rel-best10"><span class="std std-numref">Fig. 1.76</span></a>.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="o">~</span><span class="p">(</span><span class="o">-</span><span class="n">g</span><span class="p">))</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">()</span>
<span class="linenos">2</span><span class="go">*---- exporting a dot file for GraphViz tools ---------*</span>
<span class="linenos">3</span><span class="go"> Exporting to converse-dual_rel_best10.dot</span>
<span class="linenos">4</span><span class="go"> dot -Tpng converse-dual_rel_best10.dot -o converse-dual_rel_best10.png</span>
</pre></div>
</div>
<figure class="align-center" id="converse-dual-rel-best10">
<a class="reference internal image-reference" href="_images/converse-dual_rel_best10.png"><img alt="_images/converse-dual_rel_best10.png" src="_images/converse-dual_rel_best10.png" style="width: 400px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.76 </span><span class="caption-text">Validated <em>strict</em> outranking situations between the ten best-ranked alternatives</span><a class="headerlink" href="#converse-dual-rel-best10" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Restricted to these ten best-ranked alternatives, the <em>Copeland</em>, the <em>NetFlows</em> as well as the <em>Kemeny</em> ranking rule will all rank alternative #426464 first and alternative #578560 last. Otherwise the three ranking rules produce in this case more or less different rankings.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">computeCopelandRanking</span><span class="p">()</span>
<span class="linenos">2</span><span class="go"> [426464, 567308, 155874, 279729, 773909, 928564, 668947, 815552, 298061, 578560]</span>
<span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">computeNetFlowsRanking</span><span class="p">()</span>
<span class="linenos">4</span><span class="go"> [426464, 155874, 773909, 567308, 815552, 279729, 928564, 298061, 668947, 578560]</span>
<span class="linenos">5</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">linearOrders</span> <span class="kn">import</span> <span class="n">KemenyOrder</span>
<span class="linenos">6</span><span class="gp">&gt;&gt;&gt; </span><span class="n">ke</span> <span class="o">=</span> <span class="n">KemenyOrder</span><span class="p">(</span><span class="n">g</span><span class="p">,</span><span class="n">orderLimit</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="linenos">7</span><span class="gp">&gt;&gt;&gt; </span><span class="n">ke</span><span class="o">.</span><span class="n">kemenyRanking</span>
<span class="linenos">8</span><span class="go"> [426464, 773909, 155874, 815552, 567308, 298061, 928564, 279729, 668947, 578560]</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is therefore <em>important</em> to always keep in mind that, based on pairwise outranking situations, there <strong>does not exist</strong> any <strong>unique optimal ranking</strong>; especially when we face such big data problems. Changing the number of quantiles, the component ranking rule, the optimised quantile ordering strategy, all this will indeed produce, sometimes even substantially, diverse global ranking results.</p>
</div>
</section>
<section id="on-the-meluxina-eurohpc-supercomputer-summer-2024-54">
<span id="hpc-meluxina-tutorial-label"></span><h3><a class="toc-backref" href="#id437" role="doc-backlink"><span class="section-number">1.6.3. </span>On the MeluXina EuroHPC supercomputer (Summer 2024) <a class="footnote-reference brackets" href="#id258" id="id170" role="doc-noteref"><span class="fn-bracket">[</span>54<span class="fn-bracket">]</span></a></a><a class="headerlink" href="#on-the-meluxina-eurohpc-supercomputer-summer-2024-54" title="Link to this heading"></a></h3>
<p>Summer 2024, the author was granted the opportunity to use HPC resources of the MeluXina EuroHPC supercomputer <a class="footnote-reference brackets" href="#id259" id="id171" role="doc-noteref"><span class="fn-bracket">[</span>55<span class="fn-bracket">]</span></a>  (<a class="reference external" href="https://www.luxprovide.lu/meluxina/">https://www.luxprovide.lu/meluxina/</a>). Special big memory computing nodes on this HPC platform offer a large RAM for particularly demanding workloads. Each such node is composed of 2 AMD Rome CPUs (64 core &#64; 2.6 GHz, 256HT cores total), has 4 TB of memory (4096 GB) and 1.92 TB of local storage.</p>
<p>Following timings (see <a class="reference internal" href="#meluxina"><span class="std std-numref">Table 1.8</span></a>) could be achieved with a specially designed <a class="reference internal" href="techDoc.html#module-cQuantilesRankingDigraphs" title="cQuantilesRankingDigraphs"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cQuantilesRankingDigraphs</span></code></a> module <a class="footnote-reference brackets" href="#id261" id="id172" role="doc-noteref"><span class="fn-bracket">[</span>57<span class="fn-bracket">]</span></a> when q-tiling and ranking multiple incommensurable performance records of 21 criteria assessing three decision objectives, namely economic, environmental and societal aspects ( see the <a class="reference internal" href="#three-objectives-performance-tableau-label"><span class="std std-ref">tutorial</span></a> on generating random three-objectives performance tableaux).</p>
<table class="docutils align-default" id="meluxina">
<caption><span class="caption-number">Table 1.8 </span><span class="caption-text">EuroHPC MeluXina Ranking Performance Records (Summer 2024)</span><a class="headerlink" href="#meluxina" title="Link to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>digraph</p></th>
<th class="head"><p>relation</p></th>
<th class="head"><p>q</p></th>
<th class="head"><p>nbr of</p></th>
<th class="head"><p>q-tiling</p></th>
<th class="head"><p>nbr of</p></th>
<th class="head"><p>nbr of</p></th>
<th class="head"><p>tot.run</p></th>
</tr>
<tr class="row-even"><th class="head"><p>order</p></th>
<th class="head"><p>size</p></th>
<th class="head"></th>
<th class="head"><p>sorters</p></th>
<th class="head"><p>time</p></th>
<th class="head"><p>compon.</p></th>
<th class="head"><p>rankers</p></th>
<th class="head"><p>time</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1000000</p></td>
<td><p>1x10^12</p></td>
<td><p>7</p></td>
<td><p>100</p></td>
<td><p>30”</p></td>
<td><p>251468</p></td>
<td><p>48</p></td>
<td><p>1’07”</p></td>
</tr>
<tr class="row-even"><td><p>2000000</p></td>
<td><p>4x10^12</p></td>
<td><p>9</p></td>
<td><p>128</p></td>
<td><p>1’06”</p></td>
<td><p>313870</p></td>
<td><p>64</p></td>
<td><p>2’43”</p></td>
</tr>
<tr class="row-odd"><td><p>3000000</p></td>
<td><p>9x10^12</p></td>
<td><p>7</p></td>
<td><p>128</p></td>
<td><p>1’44”</p></td>
<td><p>361401</p></td>
<td><p>64</p></td>
<td><p>4’20”</p></td>
</tr>
<tr class="row-even"><td><p>4000000</p></td>
<td><p>16x10^12</p></td>
<td><p>7</p></td>
<td><p>128</p></td>
<td><p>2’26”</p></td>
<td><p>389459</p></td>
<td><p>128</p></td>
<td><p>5’56”</p></td>
</tr>
<tr class="row-odd"><td><p>5000000</p></td>
<td><p>25x10^12</p></td>
<td><p>7</p></td>
<td><p>128</p></td>
<td><p>3’05”</p></td>
<td><p>411422</p></td>
<td><p>84</p></td>
<td><p>8’35”</p></td>
</tr>
<tr class="row-even"><td><p>6000000</p></td>
<td><p>36x10^12</p></td>
<td><p>9</p></td>
<td><p>128</p></td>
<td><p>4’05”</p></td>
<td><p>439443</p></td>
<td><p>128</p></td>
<td><p>12’11”</p></td>
</tr>
<tr class="row-odd"><td><p>7000000</p></td>
<td><p>49x10^12</p></td>
<td><p>7</p></td>
<td><p>128</p></td>
<td><p>4’48”</p></td>
<td><p>444444</p></td>
<td><p>128</p></td>
<td><p>15’06”</p></td>
</tr>
<tr class="row-even"><td><p>8000000</p></td>
<td><p>64x10^12</p></td>
<td><p>7</p></td>
<td><p>192</p></td>
<td><p>5’31”</p></td>
<td><p>457180</p></td>
<td><p>220</p></td>
<td><p>15’33”</p></td>
</tr>
<tr class="row-odd"><td><p>9000000</p></td>
<td><p>81x10^12</p></td>
<td><p>7</p></td>
<td><p>192</p></td>
<td><p>6’02”</p></td>
<td><p>469127</p></td>
<td><p>220</p></td>
<td><p>18’40”</p></td>
</tr>
<tr class="row-even"><td><p>10000000</p></td>
<td><p>1x10^14</p></td>
<td><p>9</p></td>
<td><p>220</p></td>
<td><p>6’46”</p></td>
<td><p>500475</p></td>
<td><p>240</p></td>
<td><p>23’17”</p></td>
</tr>
</tbody>
</table>
<p>One million records could be ranked with 100 sorting and 48 ranking multiprocessing threads in about 67 seconds. The quantiles sorting step is based on 7-tiling. Three million records could be ranked with 128 sorters and 64 rankers in 4 min. and 20 sec. and the quantiles sorting step is here again based on 7-tiling. With 128 sorters and 84 rankers, up to five million records could be 7-tiled and ranked in 8 min. and 35 sec.</p>
<p>Below is shown an example <em>MeluXina</em> session for ranking <strong>six million</strong> incommensurable performance records assessing 3 decision objectives concerning economic, environmental and societal aspects on 21 criteria <a class="footnote-reference brackets" href="#id262" id="id173" role="doc-noteref"><span class="fn-bracket">[</span>58<span class="fn-bracket">]</span></a>. The Python 3.12.4 interpreter, compiled with GCC 8.5.0 RH and enabled optimizations, is running in a virtual environment on RH 8.5.0-20 Linux. All the cythonized modules were compiled with Cython-3.0.10 in the same environment. <a class="footnote-reference brackets" href="#id261" id="id174" role="doc-noteref"><span class="fn-bracket">[</span>57<span class="fn-bracket">]</span></a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="o">(</span>MyPy3124<span class="o">)</span><span class="w"> </span><span class="o">[</span>userRB@mel4005<span class="w"> </span>Digraph3<span class="o">]</span>$<span class="w"> </span>python3
<span class="linenos">2</span>Python<span class="w"> </span><span class="m">3</span>.12.4<span class="w"> </span><span class="o">(</span>main,<span class="w"> </span>Jul<span class="w"> </span><span class="m">19</span><span class="w"> </span><span class="m">2024</span>,<span class="w"> </span><span class="m">15</span>:25:25<span class="o">)</span>
<span class="linenos">3</span><span class="o">[</span>GCC<span class="w"> </span><span class="m">8</span>.5.0<span class="w"> </span><span class="m">20210514</span><span class="w"> </span><span class="o">(</span>Red<span class="w"> </span>Hat<span class="w"> </span><span class="m">8</span>.5.0-20<span class="o">)]</span><span class="w"> </span>on<span class="w"> </span>linux
<span class="linenos">4</span>Type<span class="w"> </span><span class="s2">&quot;help&quot;</span>,<span class="w"> </span><span class="s2">&quot;copyright&quot;</span>,<span class="w"> </span><span class="s2">&quot;credits&quot;</span><span class="w"> </span>or<span class="w"> </span><span class="s2">&quot;license&quot;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>more<span class="w"> </span>information.
<span class="linenos">5</span>&gt;&gt;&gt;
</pre></div>
</div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">cRandPerfTabs</span> <span class="kn">import</span>\
<span class="linenos"> 2</span><span class="gp">... </span>     <span class="n">cRandom3ObjectivesPerformanceTableau</span> <span class="k">as</span> <span class="n">cR3ObjPT</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span> <span class="o">=</span> <span class="n">cR3ObjPT</span><span class="p">(</span><span class="n">numberOfActions</span><span class="o">=</span><span class="mi">6000000</span><span class="p">,</span>
<span class="linenos"> 4</span><span class="gp">... </span>             <span class="n">numberOfCriteria</span><span class="o">=</span><span class="mi">21</span><span class="p">,</span>
<span class="linenos"> 5</span><span class="gp">... </span>             <span class="n">weightDistribution</span><span class="o">=</span><span class="s1">&#39;equiobjectives&#39;</span><span class="p">,</span>
<span class="linenos"> 6</span><span class="gp">... </span>             <span class="n">commonScale</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">1000.0</span><span class="p">),</span>
<span class="linenos"> 7</span><span class="gp">... </span>             <span class="n">commonThresholds</span> <span class="o">=</span> <span class="p">[(</span><span class="mf">1.5</span><span class="p">,</span><span class="mf">0.0</span><span class="p">),(</span><span class="mf">2.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">),(</span><span class="mf">75.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">)],</span>
<span class="linenos"> 8</span><span class="gp">... </span>             <span class="n">commonMode</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;beta&#39;</span><span class="p">,</span><span class="s1">&#39;variable&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">],</span>
<span class="linenos"> 9</span><span class="gp">... </span>             <span class="n">missingDataProbability</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span>
<span class="linenos">10</span><span class="gp">... </span>             <span class="n">seed</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="linenos">11</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">cQuantilesRankingDigraphs</span> <span class="k">as</span> <span class="nn">QRD</span>
<span class="linenos">12</span><span class="gp">&gt;&gt;&gt; </span><span class="n">qr</span> <span class="o">=</span> <span class="n">QRD</span><span class="o">.</span><span class="n">cQuantilesRankingDigraph</span><span class="p">(</span><span class="n">pt</span><span class="p">,</span><span class="n">quantiles</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span>
<span class="linenos">13</span><span class="gp">... </span>                   <span class="n">quantilesOrderingStrategy</span><span class="o">=</span><span class="s1">&#39;optimal&#39;</span><span class="p">,</span>
<span class="linenos">14</span><span class="gp">... </span>                   <span class="n">minimalComponentSize</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<span class="linenos">15</span><span class="gp">... </span>                   <span class="n">componentRankingRule</span><span class="o">=</span><span class="s1">&#39;Copeland&#39;</span><span class="p">,</span>
<span class="linenos">16</span><span class="gp">... </span>                   <span class="n">LowerClosed</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="linenos">17</span><span class="gp">... </span>                   <span class="n">Threading</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="linenos">18</span><span class="gp">... </span>                   <span class="n">nbrOfSorters</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span>
<span class="linenos">19</span><span class="gp">... </span>                   <span class="n">nbrOfRankers</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span>
<span class="linenos">20</span><span class="gp">... </span>                   <span class="n">tempDir</span><span class="o">=</span><span class="s1">&#39;/project/scratch/userRB&#39;</span><span class="p">,</span>
<span class="linenos">21</span><span class="gp">... </span>                   <span class="n">Comments</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="linenos">22</span><span class="gp">&gt;&gt;&gt; </span><span class="n">qr</span>
<span class="linenos">23</span><span class="go"> *----- Object instance description --------------*</span>
<span class="linenos">24</span><span class="go"> Instance class     : cQuantilesRankingDigraph</span>
<span class="linenos">25</span><span class="go"> Instance name      : random3ObjectivesPerfTab_mp</span>
<span class="hll"><span class="linenos">26</span><span class="go"> Actions            : 6000000</span>
</span><span class="linenos">27</span><span class="go"> Criteria           : 21</span>
<span class="hll"><span class="linenos">28</span><span class="go"> Sorting by         : 9-Tiling</span>
</span><span class="linenos">29</span><span class="go"> Ordering strategy  : optimal</span>
<span class="linenos">30</span><span class="go"> Ranking rule       : Copeland</span>
<span class="hll"><span class="linenos">31</span><span class="go"> Components         : 439443</span>
</span><span class="linenos">32</span><span class="go">  Minimal order     : 1</span>
<span class="linenos">33</span><span class="go">  Maximal order     : 924</span>
<span class="linenos">34</span><span class="go">  Average order     : 13.7</span>
<span class="hll"><span class="linenos">35</span><span class="go"> fill rate          : 0.001%</span>
</span><span class="linenos">36</span><span class="go"> Attributes         : [&#39;runTimes&#39;, &#39;name&#39;, &#39;actions&#39;, &#39;order&#39;,</span>
<span class="linenos">37</span><span class="go">                       &#39;dimension&#39;, &#39;sortingParameters&#39;, &#39;nbrOfSorters&#39;,</span>
<span class="linenos">38</span><span class="go">                       &#39;startMethod&#39;, &#39;valuationdomain&#39;, &#39;profiles&#39;,</span>
<span class="linenos">39</span><span class="go">                       &#39;categories&#39;, &#39;sorting&#39;, &#39;minimalComponentSize&#39;,</span>
<span class="linenos">40</span><span class="go">                       &#39;decomposition&#39;, &#39;nbrComponents&#39;, &#39;nd&#39;,</span>
<span class="linenos">41</span><span class="go">                       &#39;nbrOfRankers&#39;, &#39;components&#39;, &#39;fillRate&#39;,</span>
<span class="linenos">42</span><span class="go">                       &#39;maximalComponentSize&#39;, &#39;componentRankingRule&#39;,</span>
<span class="linenos">43</span><span class="go">                       &#39;boostedRanking&#39;]</span>
<span class="linenos">44</span><span class="go"> ----  Constructor run times (in sec.) ----</span>
<span class="hll"><span class="linenos">45</span><span class="go"> Sorting threads    : 128</span>
</span><span class="hll"><span class="linenos">46</span><span class="go"> Ranking threads    : 128</span>
</span><span class="hll"><span class="linenos">47</span><span class="go"> StartMethod        : spawn</span>
</span><span class="hll"><span class="linenos">48</span><span class="go"> Total time         : 730.49080</span>
</span><span class="hll"><span class="linenos">49</span><span class="go"> Data input         : 104.95025</span>
</span><span class="hll"><span class="linenos">50</span><span class="go"> QuantilesSorting   : 245.87293</span>
</span><span class="hll"><span class="linenos">51</span><span class="go"> Preordering        : 21.06959</span>
</span><span class="hll"><span class="linenos">52</span><span class="go"> Components ranking : 354.03710</span>
</span></pre></div>
</div>
<p>With 128 sorting threads and 128 ranking threads, we need about 12 min., 4 min. for the 9-tiling step and 7 min. for locally ranking each one of the 439443 components. The fill-rate of the resulting sparse outranking digraph is 0.001%.</p>
<p>Back to <a class="reference internal" href="#tutorial-label"><span class="std std-ref">Content Table</span></a></p>
<hr class="docutils" />
</section>
</section>
<section id="moving-on-to-undirected-graphs">
<span id="moving-to-graphs-label"></span><h2><span class="section-number">1.7. </span>Moving on to undirected graphs<a class="headerlink" href="#moving-on-to-undirected-graphs" title="Link to this heading"></a></h2>
<p>This last part of the tutorials introduces Python resources for working with undirected graphs.</p>
<nav class="contents local" id="id175">
<ul class="simple">
<li><p><a class="reference internal" href="#working-with-the-graphs-module" id="id438">Working with the <a class="reference internal" href="techDoc.html#module-graphs" title="graphs"><code class="xref py py-mod docutils literal notranslate"><span class="pre">graphs</span></code></a> module</a></p></li>
<li><p><a class="reference internal" href="#computing-the-non-isomorphic-miss-of-the-12-cycle-graph" id="id439">Computing the non isomorphic MISs of the 12-cycle graph</a></p></li>
<li><p><a class="reference internal" href="#about-comparability-split-interval-and-permutation-graphs" id="id440">About comparability, split, interval and permutation graphs</a></p></li>
<li><p><a class="reference internal" href="#on-tree-graphs-and-graph-forests" id="id441">On tree graphs and graph forests</a></p></li>
</ul>
</nav>
<hr class="docutils" />
<section id="working-with-the-graphs-module">
<span id="graphs-tutorial-label"></span><h3><a class="toc-backref" href="#id438" role="doc-backlink"><span class="section-number">1.7.1. </span>Working with the <a class="reference internal" href="techDoc.html#module-graphs" title="graphs"><code class="xref py py-mod docutils literal notranslate"><span class="pre">graphs</span></code></a> module</a><a class="headerlink" href="#working-with-the-graphs-module" title="Link to this heading"></a></h3>
<nav class="contents local" id="id176">
<ul class="simple">
<li><p><a class="reference internal" href="#structure-of-a-graph-object" id="id442">Structure of a <a class="reference internal" href="techDoc.html#graphs.Graph" title="graphs.Graph"><code class="xref py py-class docutils literal notranslate"><span class="pre">Graph</span></code></a> object</a></p></li>
<li><p><a class="reference internal" href="#q-coloring-of-a-graph" id="id443">q-coloring of a graph</a></p></li>
<li><p><a class="reference internal" href="#mis-and-clique-enumeration" id="id444">MIS and clique enumeration</a></p></li>
<li><p><a class="reference internal" href="#line-graphs-and-maximal-matchings" id="id445">Line graphs and maximal matchings</a></p></li>
<li><p><a class="reference internal" href="#grids-and-the-ising-model" id="id446">Grids and the Ising model</a></p></li>
<li><p><a class="reference internal" href="#simulating-metropolis-random-walks" id="id447">Simulating Metropolis random walks</a></p></li>
</ul>
</nav>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>The technical documentation of the <a class="reference internal" href="techDoc.html#graphs-label"><span class="std std-ref">graphs module</span></a>.</p>
</div>
<section id="structure-of-a-graph-object">
<h4><a class="toc-backref" href="#id442" role="doc-backlink"><span class="section-number">1.7.1.1. </span>Structure of a <a class="reference internal" href="techDoc.html#graphs.Graph" title="graphs.Graph"><code class="xref py py-class docutils literal notranslate"><span class="pre">Graph</span></code></a> object</a><a class="headerlink" href="#structure-of-a-graph-object" title="Link to this heading"></a></h4>
<p>In the <a class="reference internal" href="techDoc.html#module-graphs" title="graphs"><code class="xref py py-mod docutils literal notranslate"><span class="pre">graphs</span></code></a> module, the root <a class="reference internal" href="techDoc.html#graphs.Graph" title="graphs.Graph"><code class="xref py py-class docutils literal notranslate"><span class="pre">Graph</span></code></a> class provides a generic <strong>simple graph model</strong>, without loops and multiple links. A given object of this class consists in:</p>
<ol class="arabic simple">
<li><p>the graph <strong>vertices</strong> : a dictionary of vertices with ‘name’ and ‘shortName’ attributes,</p></li>
<li><p>the graph <strong>valuationDomain</strong> , a dictionary with three entries: the minimum (-1, means certainly no link), the median (0, means missing information) and the maximum characteristic value (+1, means certainly a link),</p></li>
<li><p>the graph <strong>edges</strong> : a dictionary with frozensets of pairs of vertices as entries carrying a characteristic value in the range of the previous valuation domain,</p></li>
<li><p>and its associated <strong>gamma function</strong> : a dictionary containing the direct neighbors of each vertex, automatically added by the object constructor.</p></li>
</ol>
<p>See the technical documentation of the <a class="reference internal" href="techDoc.html#graphs-label"><span class="std std-ref">graphs module</span></a>.</p>
<p>Example Python3 session</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">graphs</span> <span class="kn">import</span> <span class="n">Graph</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">Graph</span><span class="p">(</span><span class="n">numberOfVertices</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span><span class="n">edgeProbability</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">fileName</span><span class="o">=</span><span class="s1">&#39;tutorialGraph&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The saved <a class="reference internal" href="techDoc.html#graphs.Graph" title="graphs.Graph"><code class="xref py py-class docutils literal notranslate"><span class="pre">Graph</span></code></a> instance named ‘tutorialGraph.py’ is encoded in python3 as follows.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span> <span class="c1"># Graph instance saved in Python format</span>
<span class="linenos"> 2</span> <span class="n">vertices</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 3</span> <span class="s1">&#39;v1&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;shortName&#39;</span><span class="p">:</span> <span class="s1">&#39;v1&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;random vertex&#39;</span><span class="p">},</span>
<span class="linenos"> 4</span> <span class="s1">&#39;v2&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;shortName&#39;</span><span class="p">:</span> <span class="s1">&#39;v2&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;random vertex&#39;</span><span class="p">},</span>
<span class="linenos"> 5</span> <span class="s1">&#39;v3&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;shortName&#39;</span><span class="p">:</span> <span class="s1">&#39;v3&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;random vertex&#39;</span><span class="p">},</span>
<span class="linenos"> 6</span> <span class="s1">&#39;v4&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;shortName&#39;</span><span class="p">:</span> <span class="s1">&#39;v4&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;random vertex&#39;</span><span class="p">},</span>
<span class="linenos"> 7</span> <span class="s1">&#39;v5&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;shortName&#39;</span><span class="p">:</span> <span class="s1">&#39;v5&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;random vertex&#39;</span><span class="p">},</span>
<span class="linenos"> 8</span> <span class="s1">&#39;v6&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;shortName&#39;</span><span class="p">:</span> <span class="s1">&#39;v6&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;random vertex&#39;</span><span class="p">},</span>
<span class="linenos"> 9</span> <span class="s1">&#39;v7&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;shortName&#39;</span><span class="p">:</span> <span class="s1">&#39;v7&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;random vertex&#39;</span><span class="p">},</span>
<span class="linenos">10</span> <span class="p">}</span>
<span class="linenos">11</span> <span class="n">valuationDomain</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;min&#39;</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;med&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="s1">&#39;max&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">}</span>
<span class="linenos">12</span> <span class="n">edges</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">13</span> <span class="nb">frozenset</span><span class="p">([</span><span class="s1">&#39;v1&#39;</span><span class="p">,</span><span class="s1">&#39;v2&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
<span class="linenos">14</span> <span class="nb">frozenset</span><span class="p">([</span><span class="s1">&#39;v1&#39;</span><span class="p">,</span><span class="s1">&#39;v3&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
<span class="linenos">15</span> <span class="nb">frozenset</span><span class="p">([</span><span class="s1">&#39;v1&#39;</span><span class="p">,</span><span class="s1">&#39;v4&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
<span class="linenos">16</span> <span class="nb">frozenset</span><span class="p">([</span><span class="s1">&#39;v1&#39;</span><span class="p">,</span><span class="s1">&#39;v5&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="linenos">17</span> <span class="nb">frozenset</span><span class="p">([</span><span class="s1">&#39;v1&#39;</span><span class="p">,</span><span class="s1">&#39;v6&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
<span class="linenos">18</span> <span class="nb">frozenset</span><span class="p">([</span><span class="s1">&#39;v1&#39;</span><span class="p">,</span><span class="s1">&#39;v7&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
<span class="linenos">19</span> <span class="nb">frozenset</span><span class="p">([</span><span class="s1">&#39;v2&#39;</span><span class="p">,</span><span class="s1">&#39;v3&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="linenos">20</span> <span class="nb">frozenset</span><span class="p">([</span><span class="s1">&#39;v2&#39;</span><span class="p">,</span><span class="s1">&#39;v4&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="linenos">21</span> <span class="nb">frozenset</span><span class="p">([</span><span class="s1">&#39;v2&#39;</span><span class="p">,</span><span class="s1">&#39;v5&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
<span class="linenos">22</span> <span class="nb">frozenset</span><span class="p">([</span><span class="s1">&#39;v2&#39;</span><span class="p">,</span><span class="s1">&#39;v6&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="linenos">23</span> <span class="nb">frozenset</span><span class="p">([</span><span class="s1">&#39;v2&#39;</span><span class="p">,</span><span class="s1">&#39;v7&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
<span class="linenos">24</span> <span class="nb">frozenset</span><span class="p">([</span><span class="s1">&#39;v3&#39;</span><span class="p">,</span><span class="s1">&#39;v4&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
<span class="linenos">25</span> <span class="nb">frozenset</span><span class="p">([</span><span class="s1">&#39;v3&#39;</span><span class="p">,</span><span class="s1">&#39;v5&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
<span class="linenos">26</span> <span class="nb">frozenset</span><span class="p">([</span><span class="s1">&#39;v3&#39;</span><span class="p">,</span><span class="s1">&#39;v6&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
<span class="linenos">27</span> <span class="nb">frozenset</span><span class="p">([</span><span class="s1">&#39;v3&#39;</span><span class="p">,</span><span class="s1">&#39;v7&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
<span class="linenos">28</span> <span class="nb">frozenset</span><span class="p">([</span><span class="s1">&#39;v4&#39;</span><span class="p">,</span><span class="s1">&#39;v5&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="linenos">29</span> <span class="nb">frozenset</span><span class="p">([</span><span class="s1">&#39;v4&#39;</span><span class="p">,</span><span class="s1">&#39;v6&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
<span class="linenos">30</span> <span class="nb">frozenset</span><span class="p">([</span><span class="s1">&#39;v4&#39;</span><span class="p">,</span><span class="s1">&#39;v7&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="linenos">31</span> <span class="nb">frozenset</span><span class="p">([</span><span class="s1">&#39;v5&#39;</span><span class="p">,</span><span class="s1">&#39;v6&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="linenos">32</span> <span class="nb">frozenset</span><span class="p">([</span><span class="s1">&#39;v5&#39;</span><span class="p">,</span><span class="s1">&#39;v7&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
<span class="linenos">33</span> <span class="nb">frozenset</span><span class="p">([</span><span class="s1">&#39;v6&#39;</span><span class="p">,</span><span class="s1">&#39;v7&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
<span class="linenos">34</span> <span class="p">}</span>
</pre></div>
</div>
<p>The stored graph can be recalled and plotted with the generic <a class="reference internal" href="techDoc.html#graphs.Graph.exportGraphViz" title="graphs.Graph.exportGraphViz"><code class="xref py py-func docutils literal notranslate"><span class="pre">exportGraphViz()</span></code></a> <a class="footnote-reference brackets" href="#id208" id="id177" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a> method as follows.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">Graph</span><span class="p">(</span><span class="s1">&#39;tutorialGraph&#39;</span><span class="p">)</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">()</span>
<span class="linenos">3</span><span class="go"> *---- exporting a dot file for GraphViz tools ---------*</span>
<span class="linenos">4</span><span class="go"> Exporting to tutorialGraph.dot</span>
<span class="linenos">5</span><span class="go"> fdp -Tpng tutorialGraph.dot -o tutorialGraph.png</span>
</pre></div>
</div>
<figure class="align-center" id="id283">
<a class="reference internal image-reference" href="_images/tutorialGraph.png"><img alt="_images/tutorialGraph.png" src="_images/tutorialGraph.png" style="width: 400px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.77 </span><span class="caption-text">Tutorial graph instance</span><a class="headerlink" href="#id283" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Properties, like the gamma function and vertex degrees and neighbourhood depths may be shown with a <cite>graphs.Graph.showShort()</cite> method.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">showShort</span><span class="p">()</span>
<span class="linenos"> 2</span><span class="go"> *---- short description of the graph ----*</span>
<span class="linenos"> 3</span><span class="go"> Name             : &#39;tutorialGraph&#39;</span>
<span class="linenos"> 4</span><span class="go"> Vertices         :  [&#39;v1&#39;, &#39;v2&#39;, &#39;v3&#39;, &#39;v4&#39;, &#39;v5&#39;, &#39;v6&#39;, &#39;v7&#39;]</span>
<span class="linenos"> 5</span><span class="go"> Valuation domain :  {&#39;min&#39;: -1, &#39;med&#39;: 0, &#39;max&#39;: 1}</span>
<span class="linenos"> 6</span><span class="go"> Gamma function   :</span>
<span class="linenos"> 7</span><span class="go"> v1 -&gt; [&#39;v5&#39;]</span>
<span class="linenos"> 8</span><span class="go"> v2 -&gt; [&#39;v6&#39;, &#39;v4&#39;, &#39;v3&#39;]</span>
<span class="linenos"> 9</span><span class="go"> v3 -&gt; [&#39;v2&#39;]</span>
<span class="linenos">10</span><span class="go"> v4 -&gt; [&#39;v5&#39;, &#39;v2&#39;, &#39;v7&#39;]</span>
<span class="linenos">11</span><span class="go"> v5 -&gt; [&#39;v1&#39;, &#39;v6&#39;, &#39;v4&#39;]</span>
<span class="linenos">12</span><span class="go"> v6 -&gt; [&#39;v2&#39;, &#39;v5&#39;]</span>
<span class="linenos">13</span><span class="go"> v7 -&gt; [&#39;v4&#39;]</span>
<span class="linenos">14</span><span class="go"> degrees      :  [0, 1, 2, 3, 4, 5, 6]</span>
<span class="linenos">15</span><span class="go"> distribution :  [0, 3, 1, 3, 0, 0, 0]</span>
<span class="linenos">16</span><span class="go"> nbh depths   :  [0, 1, 2, 3, 4, 5, 6, &#39;inf.&#39;]</span>
<span class="linenos">17</span><span class="go"> distribution :  [0, 0, 1, 4, 2, 0, 0, 0]</span>
</pre></div>
</div>
<p>A <a class="reference internal" href="techDoc.html#graphs.Graph" title="graphs.Graph"><code class="xref py py-class docutils literal notranslate"><span class="pre">Graph</span></code></a> instance corresponds bijectively to a symmetric <a class="reference internal" href="techDoc.html#digraphs.Digraph" title="digraphs.Digraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">Digraph</span></code></a> instance and we may easily convert from one to the other with the <a class="reference internal" href="techDoc.html#graphs.Graph.graph2Digraph" title="graphs.Graph.graph2Digraph"><code class="xref py py-func docutils literal notranslate"><span class="pre">graph2Digraph()</span></code></a>, and vice versa with the <a class="reference internal" href="techDoc.html#digraphs.Digraph.digraph2Graph" title="digraphs.Digraph.digraph2Graph"><code class="xref py py-func docutils literal notranslate"><span class="pre">digraph2Graph()</span></code></a> method. Thus, all resources of the <a class="reference internal" href="techDoc.html#digraphs.Digraph" title="digraphs.Digraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">Digraph</span></code></a> class, suitable for symmetric digraphs, become readily available, and vice versa.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">dg</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">graph2Digraph</span><span class="p">()</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">dg</span><span class="o">.</span><span class="n">showRelationTable</span><span class="p">(</span><span class="n">ndigits</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">ReflexiveTerms</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="go"> * ---- Relation Table -----</span>
<span class="linenos"> 4</span><span class="go">   S  |  &#39;v1&#39;  &#39;v2&#39;  &#39;v3&#39;  &#39;v4&#39;  &#39;v5&#39;  &#39;v6&#39;  &#39;v7&#39;</span>
<span class="linenos"> 5</span><span class="go"> -----|------------------------------------------</span>
<span class="linenos"> 6</span><span class="go"> &#39;v1&#39; |    -    -1    -1    -1     1    -1    -1</span>
<span class="linenos"> 7</span><span class="go"> &#39;v2&#39; |   -1     -     1     1    -1     1    -1</span>
<span class="linenos"> 8</span><span class="go"> &#39;v3&#39; |   -1     1     -    -1    -1    -1    -1</span>
<span class="linenos"> 9</span><span class="go"> &#39;v4&#39; |   -1     1    -1     -     1    -1     1</span>
<span class="linenos">10</span><span class="go"> &#39;v5&#39; |    1    -1    -1     1     -     1    -1</span>
<span class="linenos">11</span><span class="go"> &#39;v6&#39; |   -1     1    -1    -1     1     -    -1</span>
<span class="linenos">12</span><span class="go"> &#39;v7&#39; |   -1    -1    -1     1    -1    -1     -</span>
<span class="linenos">13</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g1</span> <span class="o">=</span> <span class="n">dg</span><span class="o">.</span><span class="n">digraph2Graph</span><span class="p">()</span>
<span class="linenos">14</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g1</span><span class="o">.</span><span class="n">showShort</span><span class="p">()</span>
<span class="linenos">15</span><span class="go"> *---- short description of the graph ----*</span>
<span class="linenos">16</span><span class="go"> Name             : &#39;tutorialGraph&#39;</span>
<span class="linenos">17</span><span class="go"> Vertices         :  [&#39;v1&#39;, &#39;v2&#39;, &#39;v3&#39;, &#39;v4&#39;, &#39;v5&#39;, &#39;v6&#39;, &#39;v7&#39;]</span>
<span class="linenos">18</span><span class="go"> Valuation domain :  {&#39;med&#39;: 0, &#39;min&#39;: -1, &#39;max&#39;: 1}</span>
<span class="linenos">19</span><span class="go"> Gamma function   :</span>
<span class="linenos">20</span><span class="go"> v1 -&gt; [&#39;v5&#39;]</span>
<span class="linenos">21</span><span class="go"> v2 -&gt; [&#39;v3&#39;, &#39;v6&#39;, &#39;v4&#39;]</span>
<span class="linenos">22</span><span class="go"> v3 -&gt; [&#39;v2&#39;]</span>
<span class="linenos">23</span><span class="go"> v4 -&gt; [&#39;v5&#39;, &#39;v7&#39;, &#39;v2&#39;]</span>
<span class="linenos">24</span><span class="go"> v5 -&gt; [&#39;v6&#39;, &#39;v1&#39;, &#39;v4&#39;]</span>
<span class="linenos">25</span><span class="go"> v6 -&gt; [&#39;v5&#39;, &#39;v2&#39;]</span>
<span class="linenos">26</span><span class="go"> v7 -&gt; [&#39;v4&#39;]</span>
<span class="linenos">27</span><span class="go"> degrees      :  [0, 1, 2, 3, 4, 5, 6]</span>
<span class="linenos">28</span><span class="go"> distribution :  [0, 3, 1, 3, 0, 0, 0]</span>
<span class="linenos">29</span><span class="go"> nbh depths   :  [0, 1, 2, 3, 4, 5, 6, &#39;inf.&#39;]</span>
<span class="linenos">30</span><span class="go"> distribution :  [0, 0, 1, 4, 2, 0, 0, 0]</span>
</pre></div>
</div>
</section>
<section id="q-coloring-of-a-graph">
<h4><a class="toc-backref" href="#id443" role="doc-backlink"><span class="section-number">1.7.1.2. </span>q-coloring of a graph</a><a class="headerlink" href="#q-coloring-of-a-graph" title="Link to this heading"></a></h4>
<p>A 3-coloring of the tutorial graph <em>g</em> may for instance be computed and plotted with the <a class="reference internal" href="techDoc.html#graphs.Q_Coloring" title="graphs.Q_Coloring"><code class="xref py py-class docutils literal notranslate"><span class="pre">Q_Coloring</span></code></a> class as follows.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">graphs</span> <span class="kn">import</span> <span class="n">Q_Coloring</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">qc</span> <span class="o">=</span> <span class="n">Q_Coloring</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="go"> Running a Gibbs Sampler for 42 step !</span>
<span class="linenos"> 4</span><span class="go"> The q-coloring with 3 colors is feasible !!</span>
<span class="linenos"> 5</span><span class="gp">&gt;&gt;&gt; </span><span class="n">qc</span><span class="o">.</span><span class="n">showConfiguration</span><span class="p">()</span>
<span class="linenos"> 6</span><span class="go"> v5 lightblue</span>
<span class="linenos"> 7</span><span class="go"> v3 gold</span>
<span class="linenos"> 8</span><span class="go"> v7 gold</span>
<span class="linenos"> 9</span><span class="go"> v2 lightblue</span>
<span class="linenos">10</span><span class="go"> v4 lightcoral</span>
<span class="linenos">11</span><span class="go"> v1 gold</span>
<span class="linenos">12</span><span class="go"> v6 lightcoral</span>
<span class="linenos">13</span><span class="gp">&gt;&gt;&gt; </span><span class="n">qc</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">(</span><span class="s1">&#39;tutorial-3-coloring&#39;</span><span class="p">)</span>
<span class="linenos">14</span><span class="go"> *---- exporting a dot file for GraphViz tools ---------*</span>
<span class="linenos">15</span><span class="go"> Exporting to tutorial-3-coloring.dot</span>
<span class="linenos">16</span><span class="go"> fdp -Tpng tutorial-3-coloring.dot -o tutorial-3-coloring.png</span>
</pre></div>
</div>
<figure class="align-center" id="id284">
<a class="reference internal image-reference" href="_images/tutorial-3-coloring.png"><img alt="_images/tutorial-3-coloring.png" src="_images/tutorial-3-coloring.png" style="width: 400px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.78 </span><span class="caption-text">3-Coloring of the tutorial graph</span><a class="headerlink" href="#id284" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Actually, with the given tutorial graph instance, a 2-coloring is already feasible.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">qc</span> <span class="o">=</span> <span class="n">Q_Coloring</span><span class="p">(</span><span class="n">g</span><span class="p">,</span><span class="n">colors</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;gold&#39;</span><span class="p">,</span><span class="s1">&#39;coral&#39;</span><span class="p">])</span>
<span class="linenos"> 2</span><span class="go"> Running a Gibbs Sampler for 42 step !</span>
<span class="linenos"> 3</span><span class="go"> The q-coloring with 2 colors is feasible !!</span>
<span class="linenos"> 4</span><span class="gp">&gt;&gt;&gt; </span><span class="n">qc</span><span class="o">.</span><span class="n">showConfiguration</span><span class="p">()</span>
<span class="linenos"> 5</span><span class="go"> v5 gold</span>
<span class="linenos"> 6</span><span class="go"> v3 coral</span>
<span class="linenos"> 7</span><span class="go"> v7 gold</span>
<span class="linenos"> 8</span><span class="go"> v2 gold</span>
<span class="linenos"> 9</span><span class="go"> v4 coral</span>
<span class="linenos">10</span><span class="go"> v1 coral</span>
<span class="linenos">11</span><span class="go"> v6 coral</span>
<span class="linenos">12</span><span class="go"> &gt;&gt;&gt; qc.exportGraphViz(&#39;tutorial-2-coloring&#39;)</span>
<span class="linenos">13</span><span class="go"> Exporting to tutorial-2-coloring.dot</span>
<span class="linenos">14</span><span class="go"> fdp -Tpng tutorial-2-coloring.dot -o tutorial-2-coloring.png</span>
</pre></div>
</div>
<figure class="align-center" id="id285">
<a class="reference internal image-reference" href="_images/tutorial-2-coloring.png"><img alt="_images/tutorial-2-coloring.png" src="_images/tutorial-2-coloring.png" style="width: 400px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.79 </span><span class="caption-text">2-coloring of the tutorial graph</span><a class="headerlink" href="#id285" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="mis-and-clique-enumeration">
<h4><a class="toc-backref" href="#id444" role="doc-backlink"><span class="section-number">1.7.1.3. </span>MIS and clique enumeration</a><a class="headerlink" href="#mis-and-clique-enumeration" title="Link to this heading"></a></h4>
<p>2-colorings define independent sets of vertices that are maximal in cardinality; for short called a <strong>MIS</strong>. Computing such MISs in a given <a class="reference internal" href="techDoc.html#graphs.Graph" title="graphs.Graph"><code class="xref py py-class docutils literal notranslate"><span class="pre">Graph</span></code></a> instance may be achieved by the <code class="xref py py-meth docutils literal notranslate"><span class="pre">showMIS()</span></code> method.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">Graph</span><span class="p">(</span><span class="s1">&#39;tutorialGraph&#39;</span><span class="p">)</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">showMIS</span><span class="p">()</span>
<span class="linenos"> 3</span><span class="go"> *---  Maximal Independent Sets ---*</span>
<span class="linenos"> 4</span><span class="go"> [&#39;v2&#39;, &#39;v5&#39;, &#39;v7&#39;]</span>
<span class="linenos"> 5</span><span class="go"> [&#39;v3&#39;, &#39;v5&#39;, &#39;v7&#39;]</span>
<span class="linenos"> 6</span><span class="go"> [&#39;v1&#39;, &#39;v2&#39;, &#39;v7&#39;]</span>
<span class="linenos"> 7</span><span class="go"> [&#39;v1&#39;, &#39;v3&#39;, &#39;v6&#39;, &#39;v7&#39;]</span>
<span class="linenos"> 8</span><span class="go"> [&#39;v1&#39;, &#39;v3&#39;, &#39;v4&#39;, &#39;v6&#39;]</span>
<span class="linenos"> 9</span><span class="go"> number of solutions:  5</span>
<span class="linenos">10</span><span class="go"> cardinality distribution</span>
<span class="linenos">11</span><span class="go"> card.:  [0, 1, 2, 3, 4, 5, 6, 7]</span>
<span class="linenos">12</span><span class="go"> freq.:  [0, 0, 0, 3, 2, 0, 0, 0]</span>
<span class="linenos">13</span><span class="go"> execution time: 0.00032 sec.</span>
<span class="linenos">14</span><span class="go"> Results in self.misset</span>
<span class="linenos">15</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">misset</span>
<span class="linenos">16</span><span class="go"> [frozenset({&#39;v7&#39;, &#39;v2&#39;, &#39;v5&#39;}),</span>
<span class="linenos">17</span><span class="go">  frozenset({&#39;v3&#39;, &#39;v7&#39;, &#39;v5&#39;}),</span>
<span class="linenos">18</span><span class="go">  frozenset({&#39;v1&#39;, &#39;v2&#39;, &#39;v7&#39;}),</span>
<span class="linenos">19</span><span class="go">  frozenset({&#39;v1&#39;, &#39;v6&#39;, &#39;v7&#39;, &#39;v3&#39;}),</span>
<span class="linenos">20</span><span class="go">  frozenset({&#39;v1&#39;, &#39;v6&#39;, &#39;v4&#39;, &#39;v3&#39;})]</span>
</pre></div>
</div>
<p>A MIS in the dual of a graph instance <em>g</em> (its negation <em>-g</em> <a class="footnote-reference brackets" href="#id218" id="id178" role="doc-noteref"><span class="fn-bracket">[</span>14<span class="fn-bracket">]</span></a>), corresponds to a maximal <strong>clique</strong>, i.e. a maximal complete subgraph in <em>g</em>. Maximal cliques may be directly enumerated with the <code class="xref py py-meth docutils literal notranslate"><span class="pre">showCliques()</span></code> method.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">showCliques</span><span class="p">()</span>
<span class="linenos"> 2</span><span class="go"> *---  Maximal Cliques ---*</span>
<span class="linenos"> 3</span><span class="go"> [&#39;v2&#39;, &#39;v3&#39;]</span>
<span class="linenos"> 4</span><span class="go"> [&#39;v4&#39;, &#39;v7&#39;]</span>
<span class="linenos"> 5</span><span class="go"> [&#39;v2&#39;, &#39;v4&#39;]</span>
<span class="linenos"> 6</span><span class="go"> [&#39;v4&#39;, &#39;v5&#39;]</span>
<span class="linenos"> 7</span><span class="go"> [&#39;v1&#39;, &#39;v5&#39;]</span>
<span class="linenos"> 8</span><span class="go"> [&#39;v2&#39;, &#39;v6&#39;]</span>
<span class="linenos"> 9</span><span class="go"> [&#39;v5&#39;, &#39;v6&#39;]</span>
<span class="linenos">10</span><span class="go"> number of solutions:  7</span>
<span class="linenos">11</span><span class="go"> cardinality distribution</span>
<span class="linenos">12</span><span class="go"> card.:  [0, 1, 2, 3, 4, 5, 6, 7]</span>
<span class="linenos">13</span><span class="go"> freq.:  [0, 0, 7, 0, 0, 0, 0, 0]</span>
<span class="linenos">14</span><span class="go"> execution time: 0.00049 sec.</span>
<span class="linenos">15</span><span class="go"> Results in self.cliques</span>
<span class="linenos">16</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">cliques</span>
<span class="linenos">17</span><span class="go"> [frozenset({&#39;v2&#39;, &#39;v3&#39;}), frozenset({&#39;v4&#39;, &#39;v7&#39;}),</span>
<span class="linenos">18</span><span class="go">  frozenset({&#39;v2&#39;, &#39;v4&#39;}), frozenset({&#39;v4&#39;, &#39;v5&#39;}),</span>
<span class="linenos">19</span><span class="go">  frozenset({&#39;v1&#39;, &#39;v5&#39;}), frozenset({&#39;v6&#39;, &#39;v2&#39;}),</span>
<span class="linenos">20</span><span class="go">  frozenset({&#39;v6&#39;, &#39;v5&#39;})]</span>
</pre></div>
</div>
</section>
<section id="line-graphs-and-maximal-matchings">
<h4><a class="toc-backref" href="#id445" role="doc-backlink"><span class="section-number">1.7.1.4. </span>Line graphs and maximal matchings</a><a class="headerlink" href="#line-graphs-and-maximal-matchings" title="Link to this heading"></a></h4>
<p>The module also provides a <a class="reference internal" href="techDoc.html#graphs.LineGraph" title="graphs.LineGraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">LineGraph</span></code></a> constructor. A <strong>line graph</strong> represents the <strong>adjacencies between edges</strong> of the given graph instance. We may compute for instance the line graph of the 5-cycle graph.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">graphs</span> <span class="kn">import</span> <span class="n">CycleGraph</span><span class="p">,</span> <span class="n">LineGraph</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">CycleGraph</span><span class="p">(</span><span class="n">order</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span>
<span class="linenos"> 4</span><span class="go"> *------- Graph instance description ------*</span>
<span class="linenos"> 5</span><span class="go"> Instance class   : CycleGraph</span>
<span class="linenos"> 6</span><span class="go"> Instance name    : cycleGraph</span>
<span class="linenos"> 7</span><span class="go"> Graph Order      : 5</span>
<span class="linenos"> 8</span><span class="go"> Graph Size       : 5</span>
<span class="linenos"> 9</span><span class="go"> Valuation domain : [-1.00; 1.00]</span>
<span class="linenos">10</span><span class="go"> Attributes       : [&#39;name&#39;, &#39;order&#39;, &#39;vertices&#39;, &#39;valuationDomain&#39;,</span>
<span class="linenos">11</span><span class="go">                     &#39;edges&#39;, &#39;size&#39;, &#39;gamma&#39;]</span>
<span class="linenos">12</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lg</span> <span class="o">=</span> <span class="n">LineGraph</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="linenos">13</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lg</span>
<span class="linenos">14</span><span class="go"> *------- Graph instance description ------*</span>
<span class="linenos">15</span><span class="go"> Instance class   : LineGraph</span>
<span class="linenos">16</span><span class="go"> Instance name    : line-cycleGraph</span>
<span class="linenos">17</span><span class="go"> Graph Order      : 5</span>
<span class="linenos">18</span><span class="go"> Graph Size       : 5</span>
<span class="linenos">19</span><span class="go"> Valuation domain : [-1.00; 1.00]</span>
<span class="linenos">20</span><span class="go"> Attributes       : [&#39;name&#39;, &#39;graph&#39;, &#39;valuationDomain&#39;, &#39;vertices&#39;,</span>
<span class="linenos">21</span><span class="go">                     &#39;order&#39;, &#39;edges&#39;, &#39;size&#39;, &#39;gamma&#39;]</span>
<span class="linenos">22</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lg</span><span class="o">.</span><span class="n">showShort</span><span class="p">()</span>
<span class="linenos">23</span><span class="go"> *---- short description of the graph ----*</span>
<span class="linenos">24</span><span class="go"> Name             : &#39;line-cycleGraph&#39;</span>
<span class="linenos">25</span><span class="go"> Vertices         :  [frozenset({&#39;v1&#39;, &#39;v2&#39;}), frozenset({&#39;v1&#39;, &#39;v5&#39;}), frozenset({&#39;v2&#39;, &#39;v3&#39;}),</span>
<span class="linenos">26</span><span class="go">                      frozenset({&#39;v3&#39;, &#39;v4&#39;}), frozenset({&#39;v4&#39;, &#39;v5&#39;})]</span>
<span class="linenos">27</span><span class="go"> Valuation domain :  {&#39;min&#39;: Decimal(&#39;-1&#39;), &#39;med&#39;: Decimal(&#39;0&#39;), &#39;max&#39;: Decimal(&#39;1&#39;)}</span>
<span class="linenos">28</span><span class="go"> Gamma function   :</span>
<span class="linenos">29</span><span class="go"> frozenset({&#39;v1&#39;, &#39;v2&#39;}) -&gt; [frozenset({&#39;v2&#39;, &#39;v3&#39;}), frozenset({&#39;v1&#39;, &#39;v5&#39;})]</span>
<span class="linenos">30</span><span class="go"> frozenset({&#39;v1&#39;, &#39;v5&#39;}) -&gt; [frozenset({&#39;v1&#39;, &#39;v2&#39;}), frozenset({&#39;v4&#39;, &#39;v5&#39;})]</span>
<span class="linenos">31</span><span class="go"> frozenset({&#39;v2&#39;, &#39;v3&#39;}) -&gt; [frozenset({&#39;v1&#39;, &#39;v2&#39;}), frozenset({&#39;v3&#39;, &#39;v4&#39;})]</span>
<span class="linenos">32</span><span class="go"> frozenset({&#39;v3&#39;, &#39;v4&#39;}) -&gt; [frozenset({&#39;v2&#39;, &#39;v3&#39;}), frozenset({&#39;v4&#39;, &#39;v5&#39;})]</span>
<span class="linenos">33</span><span class="go"> frozenset({&#39;v4&#39;, &#39;v5&#39;}) -&gt; [frozenset({&#39;v4&#39;, &#39;v3&#39;}), frozenset({&#39;v1&#39;, &#39;v5&#39;})]</span>
<span class="linenos">34</span><span class="go"> degrees      :  [0, 1, 2, 3, 4]</span>
<span class="linenos">35</span><span class="go"> distribution :  [0, 0, 5, 0, 0]</span>
<span class="linenos">36</span><span class="go"> nbh depths   :  [0, 1, 2, 3, 4, &#39;inf.&#39;]</span>
<span class="linenos">37</span><span class="go"> distribution :  [0, 0, 5, 0, 0, 0]</span>
</pre></div>
</div>
<p>Iterated line graph constructions are usually expanding, except for <em>chordless cycles</em>, where the same cycle is repeated, and for <em>non-closed paths</em>, where iterated line graphs progressively reduce one by one the number of vertices and edges and become eventually an empty graph.</p>
<p>Notice that the MISs in the line graph provide <strong>maximal matchings</strong> - <em>maximal sets of independent edges</em> - of the original graph.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">c8</span> <span class="o">=</span> <span class="n">CycleGraph</span><span class="p">(</span><span class="n">order</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lc8</span> <span class="o">=</span> <span class="n">LineGraph</span><span class="p">(</span><span class="n">c8</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">lc8</span><span class="o">.</span><span class="n">showMIS</span><span class="p">()</span>
<span class="linenos"> 4</span><span class="go"> *---  Maximal Independent Sets ---*</span>
<span class="linenos"> 5</span><span class="go"> [frozenset({&#39;v3&#39;, &#39;v4&#39;}), frozenset({&#39;v5&#39;, &#39;v6&#39;}), frozenset({&#39;v1&#39;, &#39;v8&#39;})]</span>
<span class="linenos"> 6</span><span class="go"> [frozenset({&#39;v2&#39;, &#39;v3&#39;}), frozenset({&#39;v5&#39;, &#39;v6&#39;}), frozenset({&#39;v1&#39;, &#39;v8&#39;})]</span>
<span class="linenos"> 7</span><span class="go"> [frozenset({&#39;v8&#39;, &#39;v7&#39;}), frozenset({&#39;v2&#39;, &#39;v3&#39;}), frozenset({&#39;v5&#39;, &#39;v6&#39;})]</span>
<span class="linenos"> 8</span><span class="go"> [frozenset({&#39;v8&#39;, &#39;v7&#39;}), frozenset({&#39;v2&#39;, &#39;v3&#39;}), frozenset({&#39;v4&#39;, &#39;v5&#39;})]</span>
<span class="linenos"> 9</span><span class="go"> [frozenset({&#39;v7&#39;, &#39;v6&#39;}), frozenset({&#39;v3&#39;, &#39;v4&#39;}), frozenset({&#39;v1&#39;, &#39;v8&#39;})]</span>
<span class="linenos">10</span><span class="go"> [frozenset({&#39;v2&#39;, &#39;v1&#39;}), frozenset({&#39;v8&#39;, &#39;v7&#39;}), frozenset({&#39;v4&#39;, &#39;v5&#39;})]</span>
<span class="linenos">11</span><span class="go"> [frozenset({&#39;v2&#39;, &#39;v1&#39;}), frozenset({&#39;v7&#39;, &#39;v6&#39;}), frozenset({&#39;v4&#39;, &#39;v5&#39;})]</span>
<span class="linenos">12</span><span class="go"> [frozenset({&#39;v2&#39;, &#39;v1&#39;}), frozenset({&#39;v7&#39;, &#39;v6&#39;}), frozenset({&#39;v3&#39;, &#39;v4&#39;})]</span>
<span class="linenos">13</span><span class="go"> [frozenset({&#39;v7&#39;, &#39;v6&#39;}), frozenset({&#39;v2&#39;, &#39;v3&#39;}), frozenset({&#39;v1&#39;, &#39;v8&#39;}),</span>
<span class="linenos">14</span><span class="go">  frozenset({&#39;v4&#39;, &#39;v5&#39;})]</span>
<span class="linenos">15</span><span class="go"> [frozenset({&#39;v2&#39;, &#39;v1&#39;}), frozenset({&#39;v8&#39;, &#39;v7&#39;}), frozenset({&#39;v3&#39;, &#39;v4&#39;}),</span>
<span class="linenos">16</span><span class="go">  frozenset({&#39;v5&#39;, &#39;v6&#39;})]</span>
<span class="linenos">17</span><span class="go"> number of solutions:  10</span>
<span class="linenos">18</span><span class="go"> cardinality distribution</span>
<span class="linenos">19</span><span class="go"> card.:  [0, 1, 2, 3, 4, 5, 6, 7, 8]</span>
<span class="linenos">20</span><span class="go"> freq.:  [0, 0, 0, 8, 2, 0, 0, 0, 0]</span>
<span class="linenos">21</span><span class="go"> execution time: 0.00029 sec.</span>
</pre></div>
</div>
<p>The two last MISs of cardinality 4 (see Lines 13-16 above) give <strong>isomorphic perfect maximum matchings</strong> of the 8-cycle graph. Every vertex of the cycle is adjacent to a matching edge. Odd cycle graphs do not admit any perfect matching.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">maxMatching</span> <span class="o">=</span> <span class="n">c8</span><span class="o">.</span><span class="n">computeMaximumMatching</span><span class="p">()</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">c8</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">(</span><span class="n">fileName</span><span class="o">=</span><span class="s1">&#39;maxMatchingcycleGraph&#39;</span><span class="p">,</span>
<span class="linenos">3</span><span class="gp">... </span>                       <span class="n">matching</span><span class="o">=</span><span class="n">maxMatching</span><span class="p">)</span>
<span class="linenos">4</span><span class="go"> *---- exporting a dot file for GraphViz tools ---------*</span>
<span class="linenos">5</span><span class="go">  Exporting to maxMatchingcyleGraph.dot</span>
<span class="linenos">6</span><span class="go">  Matching:  {frozenset({&#39;v1&#39;, &#39;v2&#39;}), frozenset({&#39;v5&#39;, &#39;v6&#39;}),</span>
<span class="linenos">7</span><span class="go">              frozenset({&#39;v3&#39;, &#39;v4&#39;}), frozenset({&#39;v7&#39;, &#39;v8&#39;}) }</span>
<span class="linenos">8</span><span class="go">  circo -Tpng maxMatchingcyleGraph.dot -o maxMatchingcyleGraph.png</span>
</pre></div>
</div>
<figure class="align-center" id="id286">
<a class="reference internal image-reference" href="_images/maxMatchingcycleGraph.png"><img alt="maximum matching colored c8" src="_images/maxMatchingcycleGraph.png" style="width: 300px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.80 </span><span class="caption-text">A perfect maximum matching of the 8-cycle graph</span><a class="headerlink" href="#id286" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="grids-and-the-ising-model">
<h4><a class="toc-backref" href="#id446" role="doc-backlink"><span class="section-number">1.7.1.5. </span>Grids and the Ising model</a><a class="headerlink" href="#grids-and-the-ising-model" title="Link to this heading"></a></h4>
<p>Special classes of graphs, like <em>n</em> x <em>m</em> <strong>rectangular</strong> or <strong>triangular grids</strong> (<a class="reference internal" href="techDoc.html#graphs.GridGraph" title="graphs.GridGraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">GridGraph</span></code></a> and <a class="reference internal" href="techDoc.html#graphs.IsingModel" title="graphs.IsingModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">IsingModel</span></code></a>) are available in the <a class="reference internal" href="techDoc.html#module-graphs" title="graphs"><code class="xref py py-mod docutils literal notranslate"><span class="pre">graphs</span></code></a> module. For instance, we may use a Gibbs sampler again for simulating an <strong>Ising Model</strong> on such a grid.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">graphs</span> <span class="kn">import</span> <span class="n">GridGraph</span><span class="p">,</span> <span class="n">IsingModel</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">GridGraph</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span><span class="n">m</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">showShort</span><span class="p">()</span>
<span class="linenos"> 4</span><span class="go"> *----- show short --------------*</span>
<span class="linenos"> 5</span><span class="go"> Grid graph    :  grid-6-6</span>
<span class="linenos"> 6</span><span class="go"> n             :  6</span>
<span class="linenos"> 7</span><span class="go"> m             :  6</span>
<span class="linenos"> 8</span><span class="go"> order         :  36</span>
<span class="linenos"> 9</span><span class="gp">&gt;&gt;&gt; </span><span class="n">im</span> <span class="o">=</span> <span class="n">IsingModel</span><span class="p">(</span><span class="n">g</span><span class="p">,</span><span class="n">beta</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span><span class="n">nSim</span><span class="o">=</span><span class="mi">100000</span><span class="p">,</span><span class="n">Debug</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="linenos">10</span><span class="go"> Running a Gibbs Sampler for 100000 step !</span>
<span class="linenos">11</span><span class="gp">&gt;&gt;&gt; </span><span class="n">im</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">(</span><span class="n">colors</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;lightblue&#39;</span><span class="p">,</span><span class="s1">&#39;lightcoral&#39;</span><span class="p">])</span>
<span class="linenos">12</span><span class="go"> *---- exporting a dot file for GraphViz tools ---------*</span>
<span class="linenos">13</span><span class="go"> Exporting to grid-15-15-ising.dot</span>
<span class="linenos">14</span><span class="go"> fdp -Tpng grid-15-15-ising.dot -o grid-15-15-ising.png</span>
</pre></div>
</div>
<figure class="align-center" id="id287">
<a class="reference internal image-reference" href="_images/grid-15-15-ising.png"><img alt="_images/grid-15-15-ising.png" src="_images/grid-15-15-ising.png" style="width: 600px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.81 </span><span class="caption-text">Ising model of the 15x15 grid graph</span><a class="headerlink" href="#id287" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="simulating-metropolis-random-walks">
<h4><a class="toc-backref" href="#id447" role="doc-backlink"><span class="section-number">1.7.1.6. </span>Simulating Metropolis random walks</a><a class="headerlink" href="#simulating-metropolis-random-walks" title="Link to this heading"></a></h4>
<p>Finally, we provide the <a class="reference internal" href="techDoc.html#graphs.MetropolisChain" title="graphs.MetropolisChain"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetropolisChain</span></code></a> class, a specialization of the <a class="reference internal" href="techDoc.html#graphs.Graph" title="graphs.Graph"><code class="xref py py-class docutils literal notranslate"><span class="pre">Graph</span></code></a> class, for implementing a generic <strong>Metropolis MCMC</strong> (Monte Carlo Markov Chain) sampler for simulating random walks on a given graph following a given probability <em>probs</em> = {‘v1’: x, ‘v2’: y, …} for visiting each vertex (see Lines 14-22).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">graphs</span> <span class="kn">import</span> <span class="n">MetropolisChain</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">Graph</span><span class="p">(</span><span class="n">numberOfVertices</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">edgeProbability</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">showShort</span><span class="p">()</span>
<span class="linenos"> 4</span><span class="go"> *---- short description of the graph ----*</span>
<span class="linenos"> 5</span><span class="go"> Name             : &#39;randomGraph&#39;</span>
<span class="linenos"> 6</span><span class="go"> Vertices         :  [&#39;v1&#39;, &#39;v2&#39;, &#39;v3&#39;, &#39;v4&#39;, &#39;v5&#39;]</span>
<span class="linenos"> 7</span><span class="go"> Valuation domain :  {&#39;max&#39;: 1, &#39;med&#39;: 0, &#39;min&#39;: -1}</span>
<span class="linenos"> 8</span><span class="go"> Gamma function   :</span>
<span class="linenos"> 9</span><span class="go"> v1 -&gt; [&#39;v2&#39;, &#39;v3&#39;, &#39;v4&#39;]</span>
<span class="linenos">10</span><span class="go"> v2 -&gt; [&#39;v1&#39;, &#39;v4&#39;]</span>
<span class="linenos">11</span><span class="go"> v3 -&gt; [&#39;v5&#39;, &#39;v1&#39;]</span>
<span class="linenos">12</span><span class="go"> v4 -&gt; [&#39;v2&#39;, &#39;v5&#39;, &#39;v1&#39;]</span>
<span class="linenos">13</span><span class="go"> v5 -&gt; [&#39;v3&#39;, &#39;v4&#39;]</span>
</pre></div>
</div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">probs</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># initialize a potential stationary probability vector</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">order</span> <span class="c1"># for instance: probs[v_i] = n-i/Sum(1:n) for i in 1:n</span>
<span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<span class="linenos">4</span><span class="gp">&gt;&gt;&gt; </span><span class="n">verticesList</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">g</span><span class="o">.</span><span class="n">vertices</span><span class="p">]</span>
<span class="linenos">5</span><span class="gp">&gt;&gt;&gt; </span><span class="n">verticesList</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
<span class="linenos">6</span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">verticesList</span><span class="p">:</span>
<span class="linenos">7</span><span class="gp">... </span>    <span class="n">probs</span><span class="p">[</span><span class="n">v</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="n">i</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">n</span><span class="o">*</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="linenos">8</span><span class="gp">... </span>    <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
</pre></div>
</div>
<p>The <code class="xref py py-meth docutils literal notranslate"><span class="pre">checkSampling()</span></code> method (see Line 23) generates a random walk of <em>nSim=30000</em> steps on the given graph and records by the way the observed relative frequency with which each vertex is passed by.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">met</span> <span class="o">=</span> <span class="n">MetropolisChain</span><span class="p">(</span><span class="n">g</span><span class="p">,</span><span class="n">probs</span><span class="p">)</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">frequency</span> <span class="o">=</span> <span class="n">met</span><span class="o">.</span><span class="n">checkSampling</span><span class="p">(</span><span class="n">verticesList</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">nSim</span><span class="o">=</span><span class="mi">30000</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">verticesList</span><span class="p">:</span>
<span class="linenos"> 4</span><span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">v</span><span class="p">,</span><span class="n">probs</span><span class="p">[</span><span class="n">v</span><span class="p">],</span><span class="n">frequency</span><span class="p">[</span><span class="n">v</span><span class="p">])</span>
<span class="linenos"> 5</span>
<span class="linenos"> 6</span><span class="go"> v1 0.3333 0.3343</span>
<span class="linenos"> 7</span><span class="go"> v2 0.2666 0.2680</span>
<span class="linenos"> 8</span><span class="go"> v3 0.2    0.2030</span>
<span class="linenos"> 9</span><span class="go"> v4 0.1333 0.1311</span>
<span class="linenos">10</span><span class="go"> v5 0.0666 0.0635</span>
</pre></div>
</div>
<p>In this example, the stationary transition probability distribution, shown by the <a class="reference internal" href="techDoc.html#graphs.MetropolisChain.showTransitionMatrix" title="graphs.MetropolisChain.showTransitionMatrix"><code class="xref py py-meth docutils literal notranslate"><span class="pre">showTransitionMatrix()</span></code></a> method above (see below), is quite adequately simulated.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">met</span><span class="o">.</span><span class="n">showTransitionMatrix</span><span class="p">()</span>
<span class="linenos">2</span><span class="go"> * ---- Transition Matrix -----</span>
<span class="linenos">3</span><span class="go">   Pij  | &#39;v1&#39;    &#39;v2&#39;    &#39;v3&#39;    &#39;v4&#39;    &#39;v5&#39;</span>
<span class="linenos">4</span><span class="go">   -----|-------------------------------------</span>
<span class="linenos">5</span><span class="go">   &#39;v1&#39; |  0.23   0.33    0.30    0.13    0.00</span>
<span class="linenos">6</span><span class="go">   &#39;v2&#39; |  0.42   0.42    0.00    0.17    0.00</span>
<span class="linenos">7</span><span class="go">   &#39;v3&#39; |  0.50   0.00    0.33    0.00    0.17</span>
<span class="linenos">8</span><span class="go">   &#39;v4&#39; |  0.33   0.33    0.00    0.08    0.25</span>
<span class="linenos">9</span><span class="go">   &#39;v5&#39; |  0.00   0.00    0.50    0.50    0.00</span>
</pre></div>
</div>
<p>For more technical information and more code examples, look into the technical documentation of the <a class="reference internal" href="techDoc.html#graphs-label"><span class="std std-ref">graphs module</span></a>. For the readers interested in algorithmic applications of Markov Chains we may recommend consulting O. Häggström’s 2002 book: <a class="reference internal" href="#fmcaa" id="id179"><span>[FMCAA]</span></a>.</p>
<p>Back to <a class="reference internal" href="#tutorial-label"><span class="std std-ref">Content Table</span></a></p>
<hr class="docutils" />
</section>
</section>
<section id="computing-the-non-isomorphic-miss-of-the-12-cycle-graph">
<span id="isomorphicmis-tutorial-label"></span><h3><a class="toc-backref" href="#id439" role="doc-backlink"><span class="section-number">1.7.2. </span>Computing the non isomorphic MISs of the 12-cycle graph</a><a class="headerlink" href="#computing-the-non-isomorphic-miss-of-the-12-cycle-graph" title="Link to this heading"></a></h3>
<nav class="contents local" id="id180">
<ul class="simple">
<li><p><a class="reference internal" href="#id181" id="id448">Introduction</a></p></li>
<li><p><a class="reference internal" href="#computing-the-maximal-independent-sets-miss" id="id449">Computing the maximal independent sets (MISs)</a></p></li>
<li><p><a class="reference internal" href="#computing-the-automorphism-group" id="id450">Computing the automorphism group</a></p></li>
<li><p><a class="reference internal" href="#computing-the-isomorphic-miss" id="id451">Computing the isomorphic MISs</a></p></li>
</ul>
</nav>
<section id="id181">
<h4><a class="toc-backref" href="#id448" role="doc-backlink"><span class="section-number">1.7.2.1. </span>Introduction</a><a class="headerlink" href="#id181" title="Link to this heading"></a></h4>
<p>Due to the public success of our common 2008 publication with Jean-Luc Marichal <a class="reference internal" href="#isomis-08" id="id182"><span>[ISOMIS-08]</span></a> , we present in this tutorial an example Python session for computing the <strong>non isomorphic maximal independent sets</strong> (MISs) from the 12-cycle graph, i.e. a <a class="reference internal" href="techDoc.html#digraphs.CirculantDigraph" title="digraphs.CirculantDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">CirculantDigraph</span></code></a> class instance of order 12 and symmetric circulants 1 and -1.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">digraphs</span> <span class="kn">import</span> <span class="n">CirculantDigraph</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">c12</span> <span class="o">=</span> <span class="n">CirculantDigraph</span><span class="p">(</span><span class="n">order</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span><span class="n">circulants</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">c12</span> <span class="c1"># 12-cycle digraph instance</span>
<span class="linenos"> 4</span><span class="go"> *------- Digraph instance description ------*</span>
<span class="linenos"> 5</span><span class="go"> Instance class   : CirculantDigraph</span>
<span class="linenos"> 6</span><span class="go"> Instance name    : c12</span>
<span class="linenos"> 7</span><span class="go"> Digraph Order    : 12</span>
<span class="linenos"> 8</span><span class="go"> Digraph Size     : 24</span>
<span class="linenos"> 9</span><span class="go"> Valuation domain : [-1.0, 1.0]</span>
<span class="linenos">10</span><span class="go"> Determinateness  : 100.000</span>
<span class="linenos">11</span><span class="go"> Attributes       : [&#39;name&#39;, &#39;order&#39;, &#39;circulants&#39;, &#39;actions&#39;,</span>
<span class="linenos">12</span><span class="go">                     &#39;valuationdomain&#39;, &#39;relation&#39;, &#39;gamma&#39;,</span>
<span class="linenos">13</span><span class="go">                     &#39;notGamma&#39;]</span>
</pre></div>
</div>
<p>Such <em>n</em>-cycle graphs are also provided as undirected graph instances by the <a class="reference internal" href="techDoc.html#graphs.CycleGraph" title="graphs.CycleGraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">CycleGraph</span></code></a> class.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">graphs</span> <span class="kn">import</span> <span class="n">CycleGraph</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">cg12</span> <span class="o">=</span> <span class="n">CycleGraph</span><span class="p">(</span><span class="n">order</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">cg12</span>
<span class="linenos"> 4</span><span class="go"> *------- Graph instance description ------*</span>
<span class="linenos"> 5</span><span class="go"> Instance class   : CycleGraph</span>
<span class="linenos"> 6</span><span class="go"> Instance name    : cycleGraph</span>
<span class="linenos"> 7</span><span class="go"> Graph Order      : 12</span>
<span class="linenos"> 8</span><span class="go"> Graph Size       : 12</span>
<span class="linenos"> 9</span><span class="go"> Valuation domain : [-1.0, 1.0]</span>
<span class="linenos">10</span><span class="go"> Attributes       : [&#39;name&#39;, &#39;order&#39;, &#39;vertices&#39;, &#39;valuationDomain&#39;,</span>
<span class="linenos">11</span><span class="go">                     &#39;edges&#39;, &#39;size&#39;, &#39;gamma&#39;]</span>
<span class="linenos">12</span><span class="gp">&gt;&gt;&gt; </span><span class="n">cg12</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">(</span><span class="s1">&#39;cg12&#39;</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="id288">
<a class="reference internal image-reference" href="_images/cg12.png"><img alt="The 12-cycle graph" src="_images/cg12.png" style="width: 400px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.82 </span><span class="caption-text">The 12-cycle graph</span><a class="headerlink" href="#id288" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="computing-the-maximal-independent-sets-miss">
<h4><a class="toc-backref" href="#id449" role="doc-backlink"><span class="section-number">1.7.2.2. </span>Computing the maximal independent sets (MISs)</a><a class="headerlink" href="#computing-the-maximal-independent-sets-miss" title="Link to this heading"></a></h4>
<p>A non isomorphic MIS corresponds in fact to a set of isomorphic MISs, i.e. an orbit of MISs under the automorphism group of the 12-cycle graph. We are now first computing all maximal independent sets that are detectable in the 12-cycle digraph with the <a class="reference internal" href="techDoc.html#digraphs.Digraph.showMIS" title="digraphs.Digraph.showMIS"><code class="xref py py-func docutils literal notranslate"><span class="pre">showMIS()</span></code></a> method.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">c12</span><span class="o">.</span><span class="n">showMIS</span><span class="p">(</span><span class="n">withListing</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="linenos">2</span><span class="go">   *---  Maximal independent choices ---*</span>
<span class="linenos">3</span><span class="go">   number of solutions:  29</span>
<span class="linenos">4</span><span class="go">   cardinality distribution</span>
<span class="linenos">5</span><span class="go">   card.:  [0, 1, 2, 3, 4,  5,  6, 7, 8, 9, 10, 11, 12]</span>
<span class="linenos">6</span><span class="go">   freq.:  [0, 0, 0, 0, 3, 24,  2, 0, 0, 0,  0,  0,  0]</span>
<span class="linenos">7</span><span class="go">   Results in c12.misset</span>
</pre></div>
</div>
<p>In the 12-cycle graph, we observe 29 labelled MISs: – 3 of cardinality 4, 24 of cardinality 5, and 2  of cardinality 6. In case of n-cycle graphs with <em>n</em> &gt; 20, as the cardinality of the MISs becomes big, it is preferable to use the shell <em>perrinMIS</em> command compiled from C and installed <a class="footnote-reference brackets" href="#id211" id="id183" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a>  along with all the Digraphs3 python modules for computing the set of MISs observed in the graph.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="w"> </span>...$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">12</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>/usr/local/bin/perrinMIS
<span class="linenos"> 2</span><span class="w"> </span><span class="c1"># -------------------------------------- #</span>
<span class="linenos"> 3</span><span class="w"> </span><span class="c1"># Generating MIS set of Cn with the      #</span>
<span class="linenos"> 4</span><span class="w"> </span><span class="c1"># Perrin sequence algorithm.             #</span>
<span class="linenos"> 5</span><span class="w"> </span><span class="c1"># Temporary files used.                  #</span>
<span class="linenos"> 6</span><span class="w"> </span><span class="c1"># even versus odd order optimised.       #</span>
<span class="linenos"> 7</span><span class="w"> </span><span class="c1"># RB December 2006                       #</span>
<span class="linenos"> 8</span><span class="w"> </span><span class="c1"># Current revision Dec 2018              #</span>
<span class="linenos"> 9</span><span class="w"> </span><span class="c1"># -------------------------------------- #</span>
<span class="linenos">10</span><span class="w"> </span>Input<span class="w"> </span>cycle<span class="w"> </span>order<span class="w"> </span>?<span class="w"> </span>&lt;--<span class="w"> </span><span class="m">12</span>
<span class="linenos">11</span><span class="w"> </span>mis<span class="w"> </span><span class="m">1</span><span class="w"> </span>:<span class="w"> </span><span class="m">100100100100</span>
<span class="linenos">12</span><span class="w"> </span>mis<span class="w"> </span><span class="m">2</span><span class="w"> </span>:<span class="w"> </span><span class="m">010010010010</span>
<span class="linenos">13</span><span class="w"> </span>mis<span class="w"> </span><span class="m">3</span><span class="w"> </span>:<span class="w"> </span><span class="m">001001001001</span>
<span class="linenos">14</span><span class="w"> </span>...
<span class="linenos">15</span><span class="w"> </span>...
<span class="linenos">16</span><span class="w"> </span>...
<span class="linenos">17</span><span class="w"> </span>mis<span class="w"> </span><span class="m">27</span><span class="w"> </span>:<span class="w"> </span><span class="m">001001010101</span>
<span class="linenos">18</span><span class="w"> </span>mis<span class="w"> </span><span class="m">28</span><span class="w"> </span>:<span class="w"> </span><span class="m">101010101010</span>
<span class="linenos">19</span><span class="w"> </span>mis<span class="w"> </span><span class="m">29</span><span class="w"> </span>:<span class="w"> </span><span class="m">010101010101</span>
<span class="linenos">20</span><span class="w"> </span>Cardinalities:
<span class="linenos">21</span><span class="w"> </span><span class="m">0</span><span class="w"> </span>:<span class="w"> </span><span class="m">0</span>
<span class="linenos">22</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>:<span class="w"> </span><span class="m">0</span>
<span class="linenos">23</span><span class="w"> </span><span class="m">2</span><span class="w"> </span>:<span class="w"> </span><span class="m">0</span>
<span class="linenos">24</span><span class="w"> </span><span class="m">3</span><span class="w"> </span>:<span class="w"> </span><span class="m">0</span>
<span class="linenos">25</span><span class="w"> </span><span class="m">4</span><span class="w"> </span>:<span class="w"> </span><span class="m">3</span>
<span class="linenos">26</span><span class="w"> </span><span class="m">5</span><span class="w"> </span>:<span class="w"> </span><span class="m">24</span>
<span class="linenos">27</span><span class="w"> </span><span class="m">6</span><span class="w"> </span>:<span class="w"> </span><span class="m">2</span>
<span class="linenos">28</span><span class="w"> </span><span class="m">7</span><span class="w"> </span>:<span class="w"> </span><span class="m">0</span>
<span class="linenos">29</span><span class="w"> </span><span class="m">8</span><span class="w"> </span>:<span class="w"> </span><span class="m">0</span>
<span class="linenos">30</span><span class="w"> </span><span class="m">9</span><span class="w"> </span>:<span class="w"> </span><span class="m">0</span>
<span class="linenos">31</span><span class="w"> </span><span class="m">10</span><span class="w"> </span>:<span class="w"> </span><span class="m">0</span>
<span class="linenos">32</span><span class="w"> </span><span class="m">11</span><span class="w"> </span>:<span class="w"> </span><span class="m">0</span>
<span class="linenos">33</span><span class="w"> </span><span class="m">12</span><span class="w"> </span>:<span class="w"> </span><span class="m">0</span>
<span class="linenos">34</span><span class="w"> </span>Total:<span class="w"> </span><span class="m">29</span>
<span class="linenos">35</span><span class="w"> </span>execution<span class="w"> </span>time:<span class="w"> </span><span class="m">0</span><span class="w"> </span>sec.<span class="w"> </span>and<span class="w"> </span><span class="m">2</span><span class="w"> </span>millisec.
</pre></div>
</div>
<p>Reading in the result of the <em>perrinMIS</em> shell command, stored in a file called by default ‘curd.dat’, may be operated with the <a class="reference internal" href="techDoc.html#digraphs.Digraph.readPerrinMisset" title="digraphs.Digraph.readPerrinMisset"><code class="xref py py-func docutils literal notranslate"><span class="pre">readPerrinMisset()</span></code></a> method.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">c12</span><span class="o">.</span><span class="n">readPerrinMisset</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="s1">&#39;curd.dat&#39;</span><span class="p">)</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">c12</span><span class="o">.</span><span class="n">misset</span>
<span class="linenos"> 3</span><span class="go"> {frozenset({&#39;5&#39;, &#39;7&#39;, &#39;10&#39;, &#39;1&#39;, &#39;3&#39;}),</span>
<span class="linenos"> 4</span><span class="go">  frozenset({&#39;9&#39;, &#39;11&#39;, &#39;5&#39;, &#39;2&#39;, &#39;7&#39;}),</span>
<span class="linenos"> 5</span><span class="go">  frozenset({&#39;7&#39;, &#39;2&#39;, &#39;4&#39;, &#39;10&#39;, &#39;12&#39;}),</span>
<span class="linenos"> 6</span><span class="go">  ...</span>
<span class="linenos"> 7</span><span class="go">  ...</span>
<span class="linenos"> 8</span><span class="go">  ...</span>
<span class="linenos"> 9</span><span class="go">  frozenset({&#39;8&#39;, &#39;4&#39;, &#39;10&#39;, &#39;1&#39;, &#39;6&#39;}),</span>
<span class="linenos">10</span><span class="go">  frozenset({&#39;11&#39;, &#39;4&#39;, &#39;1&#39;, &#39;9&#39;, &#39;6&#39;}),</span>
<span class="linenos">11</span><span class="go">  frozenset({&#39;8&#39;, &#39;2&#39;, &#39;4&#39;, &#39;10&#39;, &#39;12&#39;, &#39;6&#39;})</span>
<span class="linenos">12</span><span class="go"> }</span>
</pre></div>
</div>
</section>
<section id="computing-the-automorphism-group">
<h4><a class="toc-backref" href="#id450" role="doc-backlink"><span class="section-number">1.7.2.3. </span>Computing the automorphism group</a><a class="headerlink" href="#computing-the-automorphism-group" title="Link to this heading"></a></h4>
<p>For computing the corresponding non isomorphic MISs, we actually need the automorphism group of the c12-cycle graph. The <a class="reference internal" href="techDoc.html#digraphs.Digraph" title="digraphs.Digraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">Digraph</span></code></a> class therefore provides the <a class="reference internal" href="techDoc.html#digraphs.Digraph.automorphismGenerators" title="digraphs.Digraph.automorphismGenerators"><code class="xref py py-func docutils literal notranslate"><span class="pre">automorphismGenerators()</span></code></a> method which adds automorphism group generators to a <a class="reference internal" href="techDoc.html#digraphs.Digraph" title="digraphs.Digraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">Digraph</span></code></a> class instance with the help of the external shell <em>dreadnaut</em> command from the <strong>nauty</strong> software package <a class="footnote-reference brackets" href="#id210" id="id184" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a>.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">c12</span><span class="o">.</span><span class="n">automorphismGenerators</span><span class="p">()</span>
<span class="linenos"> 2</span><span class="go">   ...</span>
<span class="linenos"> 3</span><span class="go">   Permutations</span>
<span class="linenos"> 4</span><span class="go">   {&#39;1&#39;: &#39;1&#39;, &#39;2&#39;: &#39;12&#39;, &#39;3&#39;: &#39;11&#39;, &#39;4&#39;: &#39;10&#39;, &#39;5&#39;:</span>
<span class="linenos"> 5</span><span class="go">    &#39;9&#39;, &#39;6&#39;: &#39;8&#39;, &#39;7&#39;: &#39;7&#39;, &#39;8&#39;: &#39;6&#39;, &#39;9&#39;: &#39;5&#39;, &#39;10&#39;:</span>
<span class="linenos"> 6</span><span class="go">    &#39;4&#39;, &#39;11&#39;: &#39;3&#39;, &#39;12&#39;: &#39;2&#39;}</span>
<span class="linenos"> 7</span><span class="go">   {&#39;1&#39;: &#39;2&#39;, &#39;2&#39;: &#39;1&#39;, &#39;3&#39;: &#39;12&#39;, &#39;4&#39;: &#39;11&#39;, &#39;5&#39;: &#39;10&#39;,</span>
<span class="linenos"> 8</span><span class="go">    &#39;6&#39;: &#39;9&#39;, &#39;7&#39;: &#39;8&#39;, &#39;8&#39;: &#39;7&#39;, &#39;9&#39;: &#39;6&#39;, &#39;10&#39;: &#39;5&#39;,</span>
<span class="linenos"> 9</span><span class="go">    &#39;11&#39;: &#39;4&#39;, &#39;12&#39;: &#39;3&#39;}</span>
<span class="linenos">10</span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;grpsize = &#39;</span><span class="p">,</span> <span class="n">c12</span><span class="o">.</span><span class="n">automorphismGroupSize</span><span class="p">)</span>
<span class="linenos">11</span><span class="go">   grpsize = 24</span>
</pre></div>
</div>
<p>The 12-cycle graph automorphism group is generated with both the permutations above and has group size 24.</p>
</section>
<section id="computing-the-isomorphic-miss">
<h4><a class="toc-backref" href="#id451" role="doc-backlink"><span class="section-number">1.7.2.4. </span>Computing the isomorphic MISs</a><a class="headerlink" href="#computing-the-isomorphic-miss" title="Link to this heading"></a></h4>
<p>The command <a class="reference internal" href="techDoc.html#digraphs.Digraph.showOrbits" title="digraphs.Digraph.showOrbits"><code class="xref py py-func docutils literal notranslate"><span class="pre">showOrbits()</span></code></a> renders now the labelled representatives of each of the four orbits of isomorphic MISs observed in the 12-cycle graph (see Lines 7-10).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">c12</span><span class="o">.</span><span class="n">showOrbits</span><span class="p">(</span><span class="n">c12</span><span class="o">.</span><span class="n">misset</span><span class="p">,</span><span class="n">withListing</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="linenos"> 2</span><span class="go">   ...</span>
<span class="linenos"> 3</span><span class="go">   *---- Global result ----</span>
<span class="linenos"> 4</span><span class="go">   Number of MIS:  29</span>
<span class="linenos"> 5</span><span class="go">   Number of orbits :  4</span>
<span class="linenos"> 6</span><span class="go">   Labelled representatives and cardinality:</span>
<span class="hll"><span class="linenos"> 7</span><span class="go">   1: [&#39;2&#39;,&#39;4&#39;,&#39;6&#39;,&#39;8&#39;,&#39;10&#39;,&#39;12&#39;], 2</span>
</span><span class="hll"><span class="linenos"> 8</span><span class="go">   2: [&#39;2&#39;,&#39;5&#39;,&#39;8&#39;,&#39;11&#39;], 3</span>
</span><span class="hll"><span class="linenos"> 9</span><span class="go">   3: [&#39;2&#39;,&#39;4&#39;,&#39;6&#39;,&#39;9&#39;,&#39;11&#39;], 12</span>
</span><span class="hll"><span class="linenos">10</span><span class="go">   4: [&#39;1&#39;,&#39;4&#39;,&#39;7&#39;,&#39;9&#39;,&#39;11&#39;], 12</span>
</span><span class="linenos">11</span><span class="go">   Symmetry vector</span>
<span class="hll"><span class="linenos">12</span><span class="go">   stabilizer size: [1, 2, 3, ..., 8, 9, ..., 12, 13, ...]</span>
</span><span class="hll"><span class="linenos">13</span><span class="go">   frequency      : [0, 2, 0, ..., 1, 0, ...,  1,  0, ...]</span>
</span></pre></div>
</div>
<p>The corresponding group stabilizers’ sizes and frequencies – orbit 1 with 6 symmetry axes, orbit 2 with 4 symmetry axes, and orbits 3 and 4 both with one symmetry axis (see Lines 12-13), are illustrated in the corresponding unlabelled graphs of <a class="reference internal" href="#misc12"><span class="std std-numref">Fig. 1.83</span></a> below.</p>
<figure class="align-center" id="misc12">
<a class="reference internal image-reference" href="_images/c12.png"><img alt="The 4 non isomorphic MIS of the 12-cycle graph" src="_images/c12.png" style="width: 400px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.83 </span><span class="caption-text">The symmetry axes of the four non isomorphic MISs of the 12-cycle graph</span><a class="headerlink" href="#misc12" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>The non isomorphic MISs in the 12-cycle graph represent in fact all the ways one may write the number 12 as the circular sum of ‘2’s and ‘3’s without distinguishing opposite directions of writing. The first orbit corresponds to writing six times a ‘2’; the second orbit corresponds to writing four times a ‘3’. The third and fourth orbit correspond to writing two times a ‘3’ and three times a ‘2’. There are two non isomorphic ways to do this latter circular sum. Either separating the ‘3’s by one and two ‘2’s, or by zero and three ‘2’s (see Bisdorff &amp; Marichal <a class="reference internal" href="#isomis-08" id="id185"><span>[ISOMIS-08]</span></a> ).</p>
<p>Back to <a class="reference internal" href="#tutorial-label"><span class="std std-ref">Content Table</span></a></p>
<hr class="docutils" />
</section>
</section>
<section id="about-comparability-split-interval-and-permutation-graphs">
<span id="permutation-tutorial-label"></span><h3><a class="toc-backref" href="#id440" role="doc-backlink"><span class="section-number">1.7.3. </span>About comparability, split, interval and permutation graphs</a><a class="headerlink" href="#about-comparability-split-interval-and-permutation-graphs" title="Link to this heading"></a></h3>
<nav class="contents local" id="id186">
<ul class="simple">
<li><p><a class="reference internal" href="#a-multiply-perfect-graph" id="id452">A multiply <em>perfect</em> graph</a></p></li>
<li><p><a class="reference internal" href="#who-is-the-liar" id="id453">Who is the liar ?</a></p></li>
<li><p><a class="reference internal" href="#generating-permutation-graphs" id="id454">Generating permutation graphs</a></p></li>
<li><p><a class="reference internal" href="#recognizing-permutation-graphs" id="id455">Recognizing permutation graphs</a></p></li>
</ul>
</nav>
<section id="a-multiply-perfect-graph">
<h4><a class="toc-backref" href="#id452" role="doc-backlink"><span class="section-number">1.7.3.1. </span>A multiply <em>perfect</em> graph</a><a class="headerlink" href="#a-multiply-perfect-graph" title="Link to this heading"></a></h4>
<p>A graph <em>g</em> is called:</p>
<blockquote>
<div><ul class="simple">
<li><p><em>Berge</em> or <strong>perfect</strong>  when <em>g</em> and its dual <em>-g</em> both don’t contain any chordless odd cycles of length greater than 3 (<a class="reference internal" href="#ber-1963" id="id187"><span>[BER-1963]</span></a>, <a class="reference internal" href="#chu-2006" id="id188"><span>[CHU-2006]</span></a>),</p></li>
<li><p><strong>Triangulated</strong> when <em>g</em> does not contain any chordless cycle of length 4 and more.</p></li>
</ul>
</div></blockquote>
<p>Following Martin Golumbic (see <a class="reference internal" href="#gol-2004" id="id189"><span>[GOL-2004]</span></a> p. 149), we call a given graph <em>g</em> :</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>Comparability graph</strong> when <em>g</em>  is <em>transitively orientable</em>;</p></li>
<li><p><strong>Interval graph</strong> when <em>g</em> is <em>triangulated</em> and its dual <em>-g</em> is a <em>comparability</em> graph;</p></li>
<li><p><strong>Permutation graph</strong> when <em>g</em> and its dual <em>-g</em> are both <em>comparability</em> graphs;</p></li>
<li><p><strong>Split graph</strong> when <em>g</em> and its dual <em>-g</em> are both <em>triangulated</em> graphs.</p></li>
</ul>
</div></blockquote>
<p>All these four kinds of graphs are in fact <em>perfect</em> graphs. To illustrate these graph classes, we generate from 8 intervals, randomly chosen in the default integer range [0,10], a <a class="reference internal" href="techDoc.html#graphs.RandomIntervalIntersectionsGraph" title="graphs.RandomIntervalIntersectionsGraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomIntervalIntersectionsGraph</span></code></a> instance <em>g</em> (see <a class="reference internal" href="#multiplyperfectgraph"><span class="std std-numref">Listing 1.128</span></a> Line 2 below).</p>
<div class="literal-block-wrapper docutils container" id="multiplyperfectgraph">
<div class="code-block-caption"><span class="caption-number">Listing 1.128 </span><span class="caption-text">A multiply perfect random interval intersection graph</span><a class="headerlink" href="#multiplyperfectgraph" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">graphs</span> <span class="kn">import</span> <span class="n">RandomIntervalIntersectionsGraph</span>
<span class="hll"><span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">RandomIntervalIntersectionsGraph</span><span class="p">(</span><span class="n">order</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</span><span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span>
<span class="linenos"> 4</span><span class="go"> *------- Graph instance description ------*</span>
<span class="linenos"> 5</span><span class="go"> Instance class   : RandomIntervalIntersectionsGraph</span>
<span class="linenos"> 6</span><span class="go"> Instance name    : randIntervalIntersections</span>
<span class="linenos"> 7</span><span class="go"> Seed             : 100</span>
<span class="linenos"> 8</span><span class="go"> Graph Order      : 8</span>
<span class="linenos"> 9</span><span class="go"> Graph Size       : 23</span>
<span class="linenos">10</span><span class="go"> Valuation domain : [-1.0; 1.0]</span>
<span class="linenos">11</span><span class="go"> Attributes       : [&#39;seed&#39;, &#39;name&#39;, &#39;order&#39;, &#39;intervals&#39;,</span>
<span class="linenos">12</span><span class="go">                     &#39;vertices&#39;, &#39;valuationDomain&#39;,</span>
<span class="linenos">13</span><span class="go">                     &#39;edges&#39;, &#39;size&#39;, &#39;gamma&#39;]</span>
<span class="linenos">14</span><span class="go"> &gt;&gt;&gt; print(g.intervals)</span>
<span class="linenos">15</span><span class="go"> [(2, 7), (2, 7), (5, 6), (6, 8), (1, 8), (1, 1), (4, 7), (0, 10)]</span>
</pre></div>
</div>
</div>
<p>With seed = 100, we obtain here an <em>interval</em> graph, in fact a <em>perfect</em> graph <em>g</em>, which is <strong>conjointly</strong> a <em>triangulated</em>, a <em>comparability</em>, a <em>split</em> and a <em>permutation</em> graph (see <a class="reference internal" href="#testingperfectgraph"><span class="std std-numref">Listing 1.129</span></a> Lines 6,10,14 ).</p>
<div class="literal-block-wrapper docutils container" id="testingperfectgraph">
<div class="code-block-caption"><span class="caption-number">Listing 1.129 </span><span class="caption-text">testing perfect graph categories</span><a class="headerlink" href="#testingperfectgraph" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">isPerfectGraph</span><span class="p">(</span><span class="n">Comments</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos"> 2</span><span class="go"> Graph randIntervalIntersections is perfect !</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">isIntervalGraph</span><span class="p">(</span><span class="n">Comments</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos"> 4</span><span class="go"> Graph &#39;randIntervalIntersections&#39; is triangulated.</span>
<span class="linenos"> 5</span><span class="go"> Graph &#39;dual_randIntervalIntersections&#39; is transitively orientable.</span>
<span class="hll"><span class="linenos"> 6</span><span class="go"> =&gt; Graph &#39;randIntervalIntersections&#39; is an interval graph.</span>
</span><span class="linenos"> 7</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">isSplitGraph</span><span class="p">(</span><span class="n">Comments</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos"> 8</span><span class="go"> Graph &#39;randIntervalIntersections&#39; is triangulated.</span>
<span class="linenos"> 9</span><span class="go"> Graph &#39;dual_randIntervalIntersections&#39; is triangulated.</span>
<span class="hll"><span class="linenos">10</span><span class="go"> =&gt; Graph &#39;randIntervalIntersections&#39; is a split graph.</span>
</span><span class="linenos">11</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">isPermutationGraph</span><span class="p">(</span><span class="n">Comments</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos">12</span><span class="go"> Graph &#39;randIntervalIntersections&#39; is transitively orientable.</span>
<span class="linenos">13</span><span class="go"> Graph &#39;dual_randIntervalIntersections&#39; is transitively orientable.</span>
<span class="hll"><span class="linenos">14</span><span class="go"> =&gt; Graph &#39;randIntervalIntersections&#39; is a permutation graph.</span>
</span><span class="linenos">15</span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">computePermutation</span><span class="p">())</span>
<span class="linenos">16</span><span class="go"> [&#39;v5&#39;, &#39;v6&#39;, &#39;v4&#39;, &#39;v2&#39;, &#39;v1&#39;, &#39;v3&#39;, &#39;v7&#39;, &#39;v8&#39;]</span>
<span class="linenos">17</span><span class="go"> [&#39;v8&#39;, &#39;v6&#39;, &#39;v1&#39;, &#39;v2&#39;, &#39;v3&#39;, &#39;v4&#39;, &#39;v7&#39;, &#39;v5&#39;]</span>
<span class="linenos">18</span><span class="go"> [8, 2, 6, 5, 7, 4, 3, 1]</span>
<span class="linenos">19</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">(</span><span class="s1">&#39;randomSplitGraph&#39;</span><span class="p">)</span>
<span class="linenos">20</span><span class="go"> *---- exporting a dot file for GraphViz tools ---------*</span>
<span class="linenos">21</span><span class="go"> Exporting to randomSplitGraph.dot</span>
<span class="linenos">22</span><span class="go"> fdp -Tpng randomSplitGraph.dot -o randomSplitGraph.png</span>
</pre></div>
</div>
</div>
<figure class="align-center" id="randomsplitgraph">
<a class="reference internal image-reference" href="_images/randomSplitGraph.png"><img alt="Random split graph" src="_images/randomSplitGraph.png" style="width: 350px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.84 </span><span class="caption-text">A conjointly triangulated, comparability, interval, permutation and split graph</span><a class="headerlink" href="#randomsplitgraph" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>In <a class="reference internal" href="#randomsplitgraph"><span class="std std-numref">Fig. 1.84</span></a> we may readily recognize the essential characteristic of <strong>split graphs</strong>, namely being always splitable into two disjoint sub-graphs: an <em>independent choice</em> {<em>v6</em>} and a <em>clique</em> {<em>v1</em>, <em>v2</em>, <em>v3</em>, <em>v4</em>, <em>v5</em>, <em>v7</em>, <em>v8</em>}; which explains their name.</p>
<p>Notice however that the four properties:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p><em>g</em> is a <em>comparability</em> graph;</p></li>
<li><p><em>g</em> is a <em>cocomparability</em> graph, i.e. <em>-g</em> is a <em>comparability</em> graph;</p></li>
<li><p><em>g</em> is a <em>triangulated</em> graph;</p></li>
<li><p><em>g</em> is a <em>cotriangulated</em> graph, i.e. <em>-g</em> is a <em>comparability</em> graph;</p></li>
</ol>
</div></blockquote>
<p>are <em>independent</em> of one another (see <a class="reference internal" href="#gol-2004" id="id190"><span>[GOL-2004]</span></a> p. 275).</p>
</section>
<section id="who-is-the-liar">
<h4><a class="toc-backref" href="#id453" role="doc-backlink"><span class="section-number">1.7.3.2. </span>Who is the liar ?</a><a class="headerlink" href="#who-is-the-liar" title="Link to this heading"></a></h4>
<p><em>Claude Berge</em>’s famous mystery story (see <a class="reference internal" href="#gol-2004" id="id191"><span>[GOL-2004]</span></a> p.20) may well illustrate the importance of being an <strong>interval graph</strong>.</p>
<p>Suppose that the file ‘berge.py’ <a class="footnote-reference brackets" href="#id222" id="id192" role="doc-noteref"><span class="fn-bracket">[</span>18<span class="fn-bracket">]</span></a> contains the following <a class="reference internal" href="techDoc.html#graphs.Graph" title="graphs.Graph"><code class="xref py py-class docutils literal notranslate"><span class="pre">Graph</span></code></a> instance data:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="n">vertices</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 2</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Abe&#39;</span><span class="p">,</span> <span class="s1">&#39;shortName&#39;</span><span class="p">:</span> <span class="s1">&#39;A&#39;</span><span class="p">},</span>
<span class="linenos"> 3</span><span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Burt&#39;</span><span class="p">,</span> <span class="s1">&#39;shortName&#39;</span><span class="p">:</span> <span class="s1">&#39;B&#39;</span><span class="p">},</span>
<span class="linenos"> 4</span><span class="s1">&#39;C&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Charlotte&#39;</span><span class="p">,</span> <span class="s1">&#39;shortName&#39;</span><span class="p">:</span> <span class="s1">&#39;C&#39;</span><span class="p">},</span>
<span class="linenos"> 5</span><span class="s1">&#39;D&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Desmond&#39;</span><span class="p">,</span> <span class="s1">&#39;shortName&#39;</span><span class="p">:</span> <span class="s1">&#39;D&#39;</span><span class="p">},</span>
<span class="linenos"> 6</span><span class="s1">&#39;E&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Eddie&#39;</span><span class="p">,</span> <span class="s1">&#39;shortName&#39;</span><span class="p">:</span> <span class="s1">&#39;E&#39;</span><span class="p">},</span>
<span class="linenos"> 7</span><span class="s1">&#39;I&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Ida&#39;</span><span class="p">,</span> <span class="s1">&#39;shortName&#39;</span><span class="p">:</span> <span class="s1">&#39;I&#39;</span><span class="p">},</span>
<span class="linenos"> 8</span><span class="p">}</span>
<span class="linenos"> 9</span><span class="n">valuationDomain</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;min&#39;</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;med&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="s1">&#39;max&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">}</span>
<span class="linenos">10</span><span class="n">edges</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">11</span><span class="nb">frozenset</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="s1">&#39;B&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="linenos">12</span><span class="nb">frozenset</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="s1">&#39;C&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
<span class="linenos">13</span><span class="nb">frozenset</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="s1">&#39;D&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="linenos">14</span><span class="nb">frozenset</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="s1">&#39;E&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="linenos">15</span><span class="nb">frozenset</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="s1">&#39;I&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
<span class="linenos">16</span><span class="nb">frozenset</span><span class="p">([</span><span class="s1">&#39;B&#39;</span><span class="p">,</span><span class="s1">&#39;C&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
<span class="linenos">17</span><span class="nb">frozenset</span><span class="p">([</span><span class="s1">&#39;B&#39;</span><span class="p">,</span><span class="s1">&#39;D&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
<span class="linenos">18</span><span class="nb">frozenset</span><span class="p">([</span><span class="s1">&#39;B&#39;</span><span class="p">,</span><span class="s1">&#39;E&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="linenos">19</span><span class="nb">frozenset</span><span class="p">([</span><span class="s1">&#39;B&#39;</span><span class="p">,</span><span class="s1">&#39;I&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="linenos">20</span><span class="nb">frozenset</span><span class="p">([</span><span class="s1">&#39;C&#39;</span><span class="p">,</span><span class="s1">&#39;D&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="linenos">21</span><span class="nb">frozenset</span><span class="p">([</span><span class="s1">&#39;C&#39;</span><span class="p">,</span><span class="s1">&#39;E&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="linenos">22</span><span class="nb">frozenset</span><span class="p">([</span><span class="s1">&#39;C&#39;</span><span class="p">,</span><span class="s1">&#39;I&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="linenos">23</span><span class="nb">frozenset</span><span class="p">([</span><span class="s1">&#39;D&#39;</span><span class="p">,</span><span class="s1">&#39;E&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
<span class="linenos">24</span><span class="nb">frozenset</span><span class="p">([</span><span class="s1">&#39;D&#39;</span><span class="p">,</span><span class="s1">&#39;I&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="linenos">25</span><span class="nb">frozenset</span><span class="p">([</span><span class="s1">&#39;E&#39;</span><span class="p">,</span><span class="s1">&#39;I&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="linenos">26</span><span class="p">}</span>
</pre></div>
</div>
<p>Six professors (labeled <em>A</em>, <em>B</em>, <em>C</em>, <em>D</em>, <em>E</em> and <em>I</em>) had been to the library on the day that a rare document was stolen. Each entered once, stayed for some time, and then left. If two professors were in the library at the same time, then at least one of them saw the other. Detectives questioned the professors and gathered the testimonies that <em>A</em> saw <em>B</em> and <em>E</em>; <em>B</em> saw <em>A</em> and <em>I</em>; <em>C</em> saw <em>D</em> and <em>I</em>; <em>D</em> saw <em>A</em> and <em>I</em>; <em>E</em> saw <em>B</em> and <em>I</em>; and <em>I</em> saw <em>C</em> and <em>E</em>. This data is gathered in the previous file, where each positive edge <img class="math" src="_images/math/85ce42ba23938a50b8e3456430626af335726075.png" alt="\{x,y\}"/> models the testimony that, either <em>x</em> saw <em>y</em>, or <em>y</em> saw <em>x</em>.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">graphs</span> <span class="kn">import</span> <span class="n">Graph</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">Graph</span><span class="p">(</span><span class="s1">&#39;berge&#39;</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">showShort</span><span class="p">()</span>
<span class="linenos"> 4</span><span class="go"> *---- short description of the graph ----*</span>
<span class="linenos"> 5</span><span class="go"> Name             : &#39;berge&#39;</span>
<span class="linenos"> 6</span><span class="go"> Vertices         :  [&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39;, &#39;I&#39;]</span>
<span class="linenos"> 7</span><span class="go"> Valuation domain :  {&#39;min&#39;: -1, &#39;med&#39;: 0, &#39;max&#39;: 1}</span>
<span class="linenos"> 8</span><span class="go"> Gamma function   :</span>
<span class="linenos"> 9</span><span class="go"> A -&gt; [&#39;D&#39;, &#39;B&#39;, &#39;E&#39;]</span>
<span class="linenos">10</span><span class="go"> B -&gt; [&#39;E&#39;, &#39;I&#39;, &#39;A&#39;]</span>
<span class="linenos">11</span><span class="go"> C -&gt; [&#39;E&#39;, &#39;D&#39;, &#39;I&#39;]</span>
<span class="linenos">12</span><span class="go"> D -&gt; [&#39;C&#39;, &#39;I&#39;, &#39;A&#39;]</span>
<span class="linenos">13</span><span class="go"> E -&gt; [&#39;C&#39;, &#39;B&#39;, &#39;I&#39;, &#39;A&#39;]</span>
<span class="linenos">14</span><span class="go"> I -&gt; [&#39;C&#39;, &#39;E&#39;, &#39;B&#39;, &#39;D&#39;]</span>
<span class="linenos">15</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">(</span><span class="s1">&#39;berge1&#39;</span><span class="p">)</span>
<span class="linenos">16</span><span class="go"> *---- exporting a dot file for GraphViz tools ---------*</span>
<span class="linenos">17</span><span class="go"> Exporting to berge1.dot</span>
<span class="linenos">18</span><span class="go"> fdp -Tpng berge1.dot -o berge1.png</span>
</pre></div>
</div>
<figure class="align-center" id="id289">
<a class="reference internal image-reference" href="_images/berge1.png"><img alt="_images/berge1.png" src="_images/berge1.png" style="width: 400px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.85 </span><span class="caption-text">Graph representation of the testimonies of the professors</span><a class="headerlink" href="#id289" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>From graph theory we know that time interval intersections graphs must in fact be interval graphs, i.e. <em>triangulated</em> and <em>co-comparative</em> graphs. The testimonies graph should therefore not contain any chordless cycle of four and more vertices. Now, the presence or not of such chordless cycles in the testimonies graph may be checked as follows.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">computeChordlessCycles</span><span class="p">()</span>
<span class="linenos">2</span><span class="go"> Chordless cycle certificate --&gt;&gt;&gt;  [&#39;D&#39;, &#39;C&#39;, &#39;E&#39;, &#39;A&#39;, &#39;D&#39;]</span>
<span class="linenos">3</span><span class="go"> Chordless cycle certificate --&gt;&gt;&gt;  [&#39;D&#39;, &#39;I&#39;, &#39;E&#39;, &#39;A&#39;, &#39;D&#39;]</span>
<span class="linenos">4</span><span class="go"> Chordless cycle certificate --&gt;&gt;&gt;  [&#39;D&#39;, &#39;I&#39;, &#39;B&#39;, &#39;A&#39;, &#39;D&#39;]</span>
<span class="linenos">5</span><span class="go"> [([&#39;D&#39;, &#39;C&#39;, &#39;E&#39;, &#39;A&#39;, &#39;D&#39;], frozenset({&#39;C&#39;, &#39;D&#39;, &#39;E&#39;, &#39;A&#39;})),</span>
<span class="linenos">6</span><span class="go"> ([&#39;D&#39;, &#39;I&#39;, &#39;E&#39;, &#39;A&#39;, &#39;D&#39;], frozenset({&#39;D&#39;, &#39;E&#39;, &#39;I&#39;, &#39;A&#39;})),</span>
<span class="linenos">7</span><span class="go"> ([&#39;D&#39;, &#39;I&#39;, &#39;B&#39;, &#39;A&#39;, &#39;D&#39;], frozenset({&#39;D&#39;, &#39;B&#39;, &#39;I&#39;, &#39;A&#39;}))]</span>
</pre></div>
</div>
<p>We see three intersection cycles of length 4, which is impossible to occur on the linear time line. Obviously one professor lied!</p>
<p>And it is <em>D</em> ; if we put to doubt his testimony that he saw <em>A</em> (see Line 1 below), we obtain indeed a <em>triangulated</em> graph instance whose dual is a <em>comparability</em> graph.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">setEdgeValue</span><span class="p">(</span> <span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">,</span><span class="s1">&#39;A&#39;</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>
</span><span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">showShort</span><span class="p">()</span>
<span class="linenos"> 3</span><span class="go"> *---- short description of the graph ----*</span>
<span class="linenos"> 4</span><span class="go"> Name             : &#39;berge&#39;</span>
<span class="linenos"> 5</span><span class="go"> Vertices         :  [&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39;, &#39;I&#39;]</span>
<span class="linenos"> 6</span><span class="go"> Valuation domain :  {&#39;med&#39;: 0, &#39;min&#39;: -1, &#39;max&#39;: 1}</span>
<span class="linenos"> 7</span><span class="go"> Gamma function   :</span>
<span class="linenos"> 8</span><span class="go"> A -&gt; [&#39;B&#39;, &#39;E&#39;]</span>
<span class="linenos"> 9</span><span class="go"> B -&gt; [&#39;A&#39;, &#39;I&#39;, &#39;E&#39;]</span>
<span class="linenos">10</span><span class="go"> C -&gt; [&#39;I&#39;, &#39;E&#39;, &#39;D&#39;]</span>
<span class="linenos">11</span><span class="go"> D -&gt; [&#39;I&#39;, &#39;C&#39;]</span>
<span class="linenos">12</span><span class="go"> E -&gt; [&#39;A&#39;, &#39;I&#39;, &#39;B&#39;, &#39;C&#39;]</span>
<span class="linenos">13</span><span class="go"> I -&gt; [&#39;B&#39;, &#39;E&#39;, &#39;D&#39;, &#39;C&#39;]</span>
<span class="linenos">14</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">isIntervalGraph</span><span class="p">(</span><span class="n">Comments</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="hll"><span class="linenos">15</span><span class="go"> Graph &#39;berge&#39; is triangulated.</span>
</span><span class="hll"><span class="linenos">16</span><span class="go"> Graph &#39;dual_berge&#39; is transitively orientable.</span>
</span><span class="hll"><span class="linenos">17</span><span class="go"> =&gt; Graph &#39;berge&#39; is an interval graph.</span>
</span><span class="linenos">18</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">(</span><span class="s1">&#39;berge2&#39;</span><span class="p">)</span>
<span class="linenos">19</span><span class="go"> *---- exporting a dot file for GraphViz tools ---------*</span>
<span class="linenos">20</span><span class="go"> Exporting to berge2.dot</span>
<span class="linenos">21</span><span class="go"> fdp -Tpng berge2.dot -o berge2.png</span>
</pre></div>
</div>
<figure class="align-center" id="id290">
<a class="reference internal image-reference" href="_images/berge2.png"><img alt="_images/berge2.png" src="_images/berge2.png" style="width: 400px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.86 </span><span class="caption-text">The triangulated testimonies graph</span><a class="headerlink" href="#id290" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="generating-permutation-graphs">
<h4><a class="toc-backref" href="#id454" role="doc-backlink"><span class="section-number">1.7.3.3. </span>Generating permutation graphs</a><a class="headerlink" href="#generating-permutation-graphs" title="Link to this heading"></a></h4>
<p>A graph is called a <strong>permutation</strong> or <em>inversion</em> graph if there exists a permutation of its list of vertices such that the graph is isomorphic to the inversions operated by the permutation in this list (see <a class="reference internal" href="#gol-2004" id="id193"><span>[GOL-2004]</span></a> Chapter 7, pp 157-170). This kind is also part of the class of perfect graphs.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">graphs</span> <span class="kn">import</span> <span class="n">PermutationGraph</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">PermutationGraph</span><span class="p">(</span><span class="n">permutation</span> <span class="o">=</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span>
<span class="linenos"> 4</span><span class="go"> *------- Graph instance description ------*</span>
<span class="linenos"> 5</span><span class="go"> Instance class   : PermutationGraph</span>
<span class="linenos"> 6</span><span class="go"> Instance name    : permutationGraph</span>
<span class="linenos"> 7</span><span class="go"> Graph Order      : 6</span>
<span class="linenos"> 8</span><span class="go"> Permutation      : [4, 3, 6, 1, 5, 2]</span>
<span class="linenos"> 9</span><span class="go"> Graph Size       : 9</span>
<span class="linenos">10</span><span class="go"> Valuation domain : [-1.00; 1.00]</span>
<span class="linenos">11</span><span class="go"> Attributes       : [&#39;name&#39;, &#39;vertices&#39;, &#39;order&#39;, &#39;permutation&#39;,</span>
<span class="linenos">12</span><span class="go">                     &#39;valuationDomain&#39;, &#39;edges&#39;, &#39;size&#39;, &#39;gamma&#39;]</span>
<span class="linenos">13</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">isPerfectGraph</span><span class="p">()</span>
<span class="linenos">14</span><span class="go"> True</span>
<span class="linenos">15</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">()</span>
<span class="linenos">16</span><span class="go"> *---- exporting a dot file for GraphViz tools ---------*</span>
<span class="linenos">17</span><span class="go"> Exporting to permutationGraph.dot</span>
<span class="linenos">18</span><span class="go"> fdp -Tpng permutationGraph.dot -o permutationGraph.png</span>
</pre></div>
</div>
<figure class="align-center" id="id291">
<a class="reference internal image-reference" href="_images/permutationGraph.png"><img alt="Default permutation graph" src="_images/permutationGraph.png" style="width: 300px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.87 </span><span class="caption-text">The default permutation graph</span><a class="headerlink" href="#id291" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>By using color sorting queues, the minimal vertex coloring for a permutation graph is computable in <img class="math" src="_images/math/4fff9b56a05b785ef4d6854f7d17373a192b2c11.png" alt="O\big(n log(n)\big)"/> (see <a class="reference internal" href="#gol-2004" id="id194"><span>[GOL-2004]</span></a>).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">computeMinimalVertexColoring</span><span class="p">(</span><span class="n">Comments</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos"> 2</span><span class="go"> vertex 1: lightcoral</span>
<span class="linenos"> 3</span><span class="go"> vertex 2: lightcoral</span>
<span class="linenos"> 4</span><span class="go"> vertex 3: lightblue</span>
<span class="linenos"> 5</span><span class="go"> vertex 4: gold</span>
<span class="linenos"> 6</span><span class="go"> vertex 5: lightblue</span>
<span class="linenos"> 7</span><span class="go"> vertex 6: gold</span>
<span class="linenos"> 8</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">(</span><span class="n">fileName</span><span class="o">=</span><span class="s1">&#39;coloredPermutationGraph&#39;</span><span class="p">,</span>
<span class="linenos"> 9</span><span class="gp">... </span>                 <span class="n">WithVertexColoring</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos">10</span><span class="go"> *---- exporting a dot file for GraphViz tools ---------*</span>
<span class="linenos">11</span><span class="go">  Exporting to coloredPermutationGraph.dot</span>
<span class="linenos">12</span><span class="go">  fdp -Tpng coloredPermutationGraph.dot -o coloredPermutationGraph.png</span>
</pre></div>
</div>
<figure class="align-center" id="id292">
<a class="reference internal image-reference" href="_images/coloredPermutationGraph.png"><img alt="minimal vertex coloring" src="_images/coloredPermutationGraph.png" style="width: 300px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.88 </span><span class="caption-text">Minimal vertex coloring of the permutation graph</span><a class="headerlink" href="#id292" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>The correspondingly colored <strong>matching diagram</strong> of the nine <strong>inversions</strong> -the actual <em>edges</em> of the permutation graph-, which are induced by the given permutation [4, 3, 6, 1, 5, 2], may as well be drawn with the graphviz <em>neato</em> layout and explicitly positioned horizontal lists of vertices (see <a class="reference internal" href="#perm-permutationgraph"><span class="std std-numref">Fig. 1.89</span></a>).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">exportPermutationGraphViz</span><span class="p">(</span><span class="n">WithEdgeColoring</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos">2</span><span class="go"> *---- exporting a dot file for GraphViz tools ---------*</span>
<span class="linenos">3</span><span class="go"> Exporting to perm_permutationGraph.dot</span>
<span class="linenos">4</span><span class="go"> neato -n -Tpng perm_permutationGraph.dot -o perm_permutationGraph.png</span>
</pre></div>
</div>
<figure class="align-center" id="perm-permutationgraph">
<a class="reference internal image-reference" href="_images/perm_permutationGraph.png"><img alt="The inversions of the permutation [4, 3, 6, 1, 5, 2]" src="_images/perm_permutationGraph.png" style="width: 400px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.89 </span><span class="caption-text">Colored matching diagram of the permutation [4, 3, 6, 1, 5, 2]</span><a class="headerlink" href="#perm-permutationgraph" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>As mentioned before, a permutation graph and its dual are <strong>transitively orientable</strong>. The <a class="reference internal" href="techDoc.html#graphs.PermutationGraph.transitiveOrientation" title="graphs.PermutationGraph.transitiveOrientation"><code class="xref py py-func docutils literal notranslate"><span class="pre">transitiveOrientation()</span></code></a> method constructs from a given permutation graph a digraph where each edge of the permutation graph is converted into an arc oriented in increasing alphabetic order of the adjacent vertices’ keys (see <a class="reference internal" href="#gol-2004" id="id195"><span>[GOL-2004]</span></a>). This orientation of the edges of a permutation graph is always transitive and delivers a <em>transitive ordering</em> of the vertices.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">dg</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">transitiveOrientation</span><span class="p">()</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">dg</span>
<span class="linenos"> 3</span><span class="go"> *------- Digraph instance description ------*</span>
<span class="linenos"> 4</span><span class="go"> Instance class   : TransitiveDigraph</span>
<span class="linenos"> 5</span><span class="go"> Instance name    : oriented_permutationGraph</span>
<span class="linenos"> 6</span><span class="go"> Digraph Order      : 6</span>
<span class="linenos"> 7</span><span class="go"> Digraph Size       : 9</span>
<span class="linenos"> 8</span><span class="go"> Valuation domain : [-1.00; 1.00]</span>
<span class="linenos"> 9</span><span class="go"> Determinateness  : 100.000</span>
<span class="linenos">10</span><span class="go"> Attributes       : [&#39;name&#39;, &#39;order&#39;, &#39;actions&#39;, &#39;valuationdomain&#39;,</span>
<span class="linenos">11</span><span class="go">                     &#39;relation&#39;, &#39;gamma&#39;, &#39;notGamma&#39;, &#39;size&#39;]</span>
<span class="linenos">12</span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Transitivity degree: </span><span class="si">%.3f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">dg</span><span class="o">.</span><span class="n">computeTransitivityDegree</span><span class="p">()</span> <span class="p">)</span>
<span class="linenos">13</span><span class="go"> Transitivity degree: 1.000</span>
<span class="linenos">14</span><span class="gp">&gt;&gt;&gt; </span><span class="n">dg</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">()</span>
<span class="linenos">15</span><span class="go"> *---- exporting a dot file for GraphViz tools ---------*</span>
<span class="linenos">16</span><span class="go"> Exporting to oriented_permutationGraph.dot</span>
<span class="linenos">17</span><span class="go"> 0 subgraph { rank = same; 1; 2; }</span>
<span class="linenos">18</span><span class="go"> 1 subgraph { rank = same; 5; 3; }</span>
<span class="linenos">19</span><span class="go"> 2 subgraph { rank = same; 4; 6; }</span>
<span class="linenos">20</span><span class="go"> dot -Grankdir=TB -Tpng oriented_permutationGraph.dot -o oriented_permutationGraph.png</span>
</pre></div>
</div>
<figure class="align-center" id="id293">
<a class="reference internal image-reference" href="_images/oriented_permutationGraph.png"><img alt="Hasse diagram of the orientationofof a permutation graph" src="_images/oriented_permutationGraph.png" style="width: 200px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.90 </span><span class="caption-text">Hasse diagram of the transitive orientation of the permutation graph</span><a class="headerlink" href="#id293" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>The dual of a permutation graph is <em>again</em> a permutation graph and as such also transitively orientable.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">dgd</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="n">g</span><span class="p">)</span><span class="o">.</span><span class="n">transitiveOrientation</span><span class="p">()</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Dual transitivity degree: </span><span class="si">%.3f</span><span class="s1">&#39;</span> <span class="o">%</span>\
<span class="linenos">3</span><span class="gp">... </span>           <span class="n">dgd</span><span class="o">.</span><span class="n">computeTransitivityDegree</span><span class="p">()</span> <span class="p">)</span>
<span class="linenos">4</span>
<span class="linenos">5</span><span class="go"> Dual transitivity degree: 1.000</span>
</pre></div>
</div>
</section>
<section id="recognizing-permutation-graphs">
<h4><a class="toc-backref" href="#id455" role="doc-backlink"><span class="section-number">1.7.3.4. </span>Recognizing permutation graphs</a><a class="headerlink" href="#recognizing-permutation-graphs" title="Link to this heading"></a></h4>
<p>Now, a given graph <em>g</em> is a <strong>permutation</strong> graph <strong>if and only if</strong> both <em>g</em> <strong>and</strong> <em>-g</em> are <em>transitively orientable</em>. This  property gives a polynomial test procedure (in <img class="math" src="_images/math/174aef04544e022a085aab16ddeae821c5667e2b.png" alt="O(n^3)"/> due to the transitivity check) for recognizing permutation graphs.</p>
<p>Let us consider, for instance, the following random graph of <em>order</em> 8 generated with an <em>edge probability</em> of 40% and a <em>random seed</em> equal to 4335.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">graphs</span> <span class="kn">import</span> <span class="n">RandomGraph</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">RandomGraph</span><span class="p">(</span><span class="n">order</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span><span class="n">edgeProbability</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="mi">4335</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span>
<span class="linenos"> 4</span><span class="go"> *------- Graph instance description ------*</span>
<span class="linenos"> 5</span><span class="go"> Instance class   : RandomGraph</span>
<span class="linenos"> 6</span><span class="go"> Instance name    : randomGraph</span>
<span class="linenos"> 7</span><span class="go"> Seed             : 4335</span>
<span class="linenos"> 8</span><span class="go"> Edge probability : 0.4</span>
<span class="linenos"> 9</span><span class="go"> Graph Order      : 8</span>
<span class="linenos">10</span><span class="go"> Graph Size       : 10</span>
<span class="linenos">11</span><span class="go"> Valuation domain : [-1.00; 1.00]</span>
<span class="linenos">12</span><span class="go"> Attributes       : [&#39;name&#39;, &#39;order&#39;, &#39;vertices&#39;, &#39;valuationDomain&#39;,</span>
<span class="linenos">13</span><span class="go">                     &#39;seed&#39;, &#39;edges&#39;, &#39;size&#39;,</span>
<span class="linenos">14</span><span class="go">                     &#39;gamma&#39;, &#39;edgeProbability&#39;]</span>
<span class="linenos">15</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">isPerfectGraph</span><span class="p">()</span>
<span class="linenos">16</span><span class="go"> True</span>
<span class="linenos">17</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-center" id="randomgraph4335">
<a class="reference internal image-reference" href="_images/randomGraph4335.png"><img alt="Random graph" src="_images/randomGraph4335.png" style="width: 400px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.91 </span><span class="caption-text">Random graph of order 8 generated with edge probability 0.4</span><a class="headerlink" href="#randomgraph4335" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>If the random perfect graph instance <em>g</em> (see <a class="reference internal" href="#randomgraph4335"><span class="std std-numref">Fig. 1.91</span></a>) is indeed a permutation graph, <em>g</em> and its dual <em>-g</em> should be <em>transitively orientable</em>, i.e. <strong>comparability graphs</strong> (see <a class="reference internal" href="#gol-2004" id="id196"><span>[GOL-2004]</span></a>). With the <a class="reference internal" href="techDoc.html#graphs.Graph.isComparabilityGraph" title="graphs.Graph.isComparabilityGraph"><code class="xref py py-func docutils literal notranslate"><span class="pre">isComparabilityGraph()</span></code></a> test, we may easily check this fact. This method proceeds indeed by trying to construct a transitive neighbourhood decomposition of a given graph instance and, if successful, stores the resulting edge orientations into a <em>self.edgeOrientations</em> attribute (see <a class="reference internal" href="#gol-2004" id="id197"><span>[GOL-2004]</span></a> p.129-132).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">g</span><span class="o">.</span><span class="n">isComparabilityGraph</span><span class="p">():</span>
<span class="linenos"> 2</span><span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">edgeOrientations</span><span class="p">)</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="go"> {(&#39;v1&#39;, &#39;v1&#39;): 0, (&#39;v1&#39;, &#39;v2&#39;): 1, (&#39;v2&#39;, &#39;v1&#39;): -1, (&#39;v1&#39;, &#39;v3&#39;): 1,</span>
<span class="linenos"> 5</span><span class="go">  (&#39;v3&#39;, &#39;v1&#39;): -1, (&#39;v1&#39;, &#39;v4&#39;): 1, (&#39;v4&#39;, &#39;v1&#39;): -1, (&#39;v1&#39;, &#39;v5&#39;): 0,</span>
<span class="linenos"> 6</span><span class="go">  (&#39;v5&#39;, &#39;v1&#39;): 0, (&#39;v1&#39;, &#39;v6&#39;): 1, (&#39;v6&#39;, &#39;v1&#39;): -1, (&#39;v1&#39;, &#39;v7&#39;): 0,</span>
<span class="linenos"> 7</span><span class="go">  (&#39;v7&#39;, &#39;v1&#39;): 0, (&#39;v1&#39;, &#39;v8&#39;): 1, (&#39;v8&#39;, &#39;v1&#39;): -1, (&#39;v2&#39;, &#39;v2&#39;): 0,</span>
<span class="linenos"> 8</span><span class="go">  (&#39;v2&#39;, &#39;v3&#39;): 0, (&#39;v3&#39;, &#39;v2&#39;): 0, (&#39;v2&#39;, &#39;v4&#39;): 0, (&#39;v4&#39;, &#39;v2&#39;): 0,</span>
<span class="linenos"> 9</span><span class="go">  (&#39;v2&#39;, &#39;v5&#39;): 0, (&#39;v5&#39;, &#39;v2&#39;): 0, (&#39;v2&#39;, &#39;v6&#39;): 0, (&#39;v6&#39;, &#39;v2&#39;): 0,</span>
<span class="linenos">10</span><span class="go">  (&#39;v2&#39;, &#39;v7&#39;): 0, (&#39;v7&#39;, &#39;v2&#39;): 0, (&#39;v2&#39;, &#39;v8&#39;): 0, (&#39;v8&#39;, &#39;v2&#39;): 0,</span>
<span class="linenos">11</span><span class="go">  (&#39;v3&#39;, &#39;v3&#39;): 0, (&#39;v3&#39;, &#39;v4&#39;): 0, (&#39;v4&#39;, &#39;v3&#39;): 0, (&#39;v3&#39;, &#39;v5&#39;): 0,</span>
<span class="linenos">12</span><span class="go">  (&#39;v5&#39;, &#39;v3&#39;): 0, (&#39;v3&#39;, &#39;v6&#39;): 0, (&#39;v6&#39;, &#39;v3&#39;): 0, (&#39;v3&#39;, &#39;v7&#39;): 0,</span>
<span class="linenos">13</span><span class="go">  (&#39;v7&#39;, &#39;v3&#39;): 0, (&#39;v3&#39;, &#39;v8&#39;): 0, (&#39;v8&#39;, &#39;v3&#39;): 0, (&#39;v4&#39;, &#39;v4&#39;): 0,</span>
<span class="linenos">14</span><span class="go">  (&#39;v4&#39;, &#39;v5&#39;): 0, (&#39;v5&#39;, &#39;v4&#39;): 0, (&#39;v4&#39;, &#39;v6&#39;): 0, (&#39;v6&#39;, &#39;v4&#39;): 0,</span>
<span class="linenos">15</span><span class="go">  (&#39;v4&#39;, &#39;v7&#39;): 0, (&#39;v7&#39;, &#39;v4&#39;): 0, (&#39;v4&#39;, &#39;v8&#39;): 0, (&#39;v8&#39;, &#39;v4&#39;): 0,</span>
<span class="linenos">16</span><span class="go">  (&#39;v5&#39;, &#39;v5&#39;): 0, (&#39;v5&#39;, &#39;v6&#39;): 1, (&#39;v6&#39;, &#39;v5&#39;): -1, (&#39;v5&#39;, &#39;v7&#39;): 1,</span>
<span class="linenos">17</span><span class="go">  (&#39;v7&#39;, &#39;v5&#39;): -1, (&#39;v5&#39;, &#39;v8&#39;): 1, (&#39;v8&#39;, &#39;v5&#39;): -1, (&#39;v6&#39;, &#39;v6&#39;): 0,</span>
<span class="linenos">18</span><span class="go">  (&#39;v6&#39;, &#39;v7&#39;): 0, (&#39;v7&#39;, &#39;v6&#39;): 0, (&#39;v6&#39;, &#39;v8&#39;): 1, (&#39;v8&#39;, &#39;v6&#39;): -1,</span>
<span class="linenos">19</span><span class="go">  (&#39;v7&#39;, &#39;v7&#39;): 0, (&#39;v7&#39;, &#39;v8&#39;): 1, (&#39;v8&#39;, &#39;v7&#39;): -1, (&#39;v8&#39;, &#39;v8&#39;): 0}</span>
</pre></div>
</div>
<figure class="align-center" id="transorientgraph">
<a class="reference internal image-reference" href="_images/transOrientGraph.png"><img alt="transitive orientation of a graph" src="_images/transOrientGraph.png" style="width: 400px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.92 </span><span class="caption-text">Transitive neighbourhoods of the graph <em>g</em></span><a class="headerlink" href="#transorientgraph" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>The resulting orientation of the edges of <em>g</em> (see <a class="reference internal" href="#transorientgraph"><span class="std std-numref">Fig. 1.92</span></a>) is indeed transitive. The same procedure applied to the dual graph <em>gd = -g</em> gives a transitive orientation to the edges of <em>-g</em>.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">gd</span> <span class="o">=</span> <span class="o">-</span><span class="n">g</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">gd</span><span class="o">.</span><span class="n">isComparabilityGraph</span><span class="p">():</span>
<span class="linenos"> 3</span><span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">gd</span><span class="o">.</span><span class="n">edgeOrientations</span><span class="p">)</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="go"> {(&#39;v1&#39;, &#39;v1&#39;): 0, (&#39;v1&#39;, &#39;v2&#39;): 0, (&#39;v2&#39;, &#39;v1&#39;): 0, (&#39;v1&#39;, &#39;v3&#39;): 0,</span>
<span class="linenos"> 6</span><span class="go">  (&#39;v3&#39;, &#39;v1&#39;): 0, (&#39;v1&#39;, &#39;v4&#39;): 0, (&#39;v4&#39;, &#39;v1&#39;): 0, (&#39;v1&#39;, &#39;v5&#39;): 1,</span>
<span class="linenos"> 7</span><span class="go">  (&#39;v5&#39;, &#39;v1&#39;): -1, (&#39;v1&#39;, &#39;v6&#39;): 0, (&#39;v6&#39;, &#39;v1&#39;): 0, (&#39;v1&#39;, &#39;v7&#39;): 1,</span>
<span class="linenos"> 8</span><span class="go">  (&#39;v7&#39;, &#39;v1&#39;): -1, (&#39;v1&#39;, &#39;v8&#39;): 0, (&#39;v8&#39;, &#39;v1&#39;): 0, (&#39;v2&#39;, &#39;v2&#39;): 0,</span>
<span class="linenos"> 9</span><span class="go">  (&#39;v2&#39;, &#39;v3&#39;): -2, (&#39;v3&#39;, &#39;v2&#39;): 2, (&#39;v2&#39;, &#39;v4&#39;): -3, (&#39;v4&#39;, &#39;v2&#39;): 3,</span>
<span class="linenos">10</span><span class="go">  (&#39;v2&#39;, &#39;v5&#39;): 1, (&#39;v5&#39;, &#39;v2&#39;): -1, (&#39;v2&#39;, &#39;v6&#39;): 1, (&#39;v6&#39;, &#39;v2&#39;): -1,</span>
<span class="linenos">11</span><span class="go">  (&#39;v2&#39;, &#39;v7&#39;): 1, (&#39;v7&#39;, &#39;v2&#39;): -1, (&#39;v2&#39;, &#39;v8&#39;): 1, (&#39;v8&#39;, &#39;v2&#39;): -1,</span>
<span class="linenos">12</span><span class="go">  (&#39;v3&#39;, &#39;v3&#39;): 0, (&#39;v3&#39;, &#39;v4&#39;): -3, (&#39;v4&#39;, &#39;v3&#39;): 3, (&#39;v3&#39;, &#39;v5&#39;): 1,</span>
<span class="linenos">13</span><span class="go">  (&#39;v5&#39;, &#39;v3&#39;): -1, (&#39;v3&#39;, &#39;v6&#39;): 1, (&#39;v6&#39;, &#39;v3&#39;): -1, (&#39;v3&#39;, &#39;v7&#39;): 1,</span>
<span class="linenos">14</span><span class="go">  (&#39;v7&#39;, &#39;v3&#39;): -1, (&#39;v3&#39;, &#39;v8&#39;): 1, (&#39;v8&#39;, &#39;v3&#39;): -1, (&#39;v4&#39;, &#39;v4&#39;): 0,</span>
<span class="linenos">15</span><span class="go">  (&#39;v4&#39;, &#39;v5&#39;): 1, (&#39;v5&#39;, &#39;v4&#39;): -1, (&#39;v4&#39;, &#39;v6&#39;): 1, (&#39;v6&#39;, &#39;v4&#39;): -1,</span>
<span class="linenos">16</span><span class="go">  (&#39;v4&#39;, &#39;v7&#39;): 1, (&#39;v7&#39;, &#39;v4&#39;): -1, (&#39;v4&#39;, &#39;v8&#39;): 1, (&#39;v8&#39;, &#39;v4&#39;): -1,</span>
<span class="linenos">17</span><span class="go">  (&#39;v5&#39;, &#39;v5&#39;): 0, (&#39;v5&#39;, &#39;v6&#39;): 0, (&#39;v6&#39;, &#39;v5&#39;): 0, (&#39;v5&#39;, &#39;v7&#39;): 0,</span>
<span class="linenos">18</span><span class="go">  (&#39;v7&#39;, &#39;v5&#39;): 0, (&#39;v5&#39;, &#39;v8&#39;): 0, (&#39;v8&#39;, &#39;v5&#39;): 0, (&#39;v6&#39;, &#39;v6&#39;): 0,</span>
<span class="linenos">19</span><span class="go">  (&#39;v6&#39;, &#39;v7&#39;): 1, (&#39;v7&#39;, &#39;v6&#39;): -1, (&#39;v6&#39;, &#39;v8&#39;): 0, (&#39;v8&#39;, &#39;v6&#39;): 0,</span>
<span class="linenos">20</span><span class="go">  (&#39;v7&#39;, &#39;v7&#39;): 0, (&#39;v7&#39;, &#39;v8&#39;): 0, (&#39;v8&#39;, &#39;v7&#39;): 0, (&#39;v8&#39;, &#39;v8&#39;): 0}</span>
</pre></div>
</div>
<figure class="align-center" id="transorientdualgraph">
<a class="reference internal image-reference" href="_images/transOrientDualGraph.png"><img alt="transitive orientation of the dual graph" src="_images/transOrientDualGraph.png" style="width: 400px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.93 </span><span class="caption-text">Transitive neighbourhoods of the dual graph <em>-g</em></span><a class="headerlink" href="#transorientdualgraph" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>It is worthwhile noticing that the orientation of <em>g</em> is achieved with a <em>single neighbourhood</em> decomposition, covering all the vertices. Whereas, the orientation of the dual <em>-g</em> needs a decomposition into <em>three subsequent neighbourhoods</em> marked in black, red and blue (see <a class="reference internal" href="#transorientdualgraph"><span class="std std-numref">Fig. 1.93</span></a>).</p>
<p>Let us recheck these facts by explicitly constructing transitively oriented digraph instances with the <a class="reference internal" href="techDoc.html#graphs.Graph.computeTransitivelyOrientedDigraph" title="graphs.Graph.computeTransitivelyOrientedDigraph"><code class="xref py py-func docutils literal notranslate"><span class="pre">computeTransitivelyOrientedDigraph()</span></code></a> method.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">og</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">computeTransitivelyOrientedDigraph</span><span class="p">(</span><span class="n">PartiallyDetermined</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Transitivity degree: </span><span class="si">%.3f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">og</span><span class="o">.</span><span class="n">transitivityDegree</span><span class="p">))</span>
<span class="linenos">3</span><span class="go"> Transitivity degree: 1.000</span>
<span class="hll"><span class="linenos">4</span><span class="gp">&gt;&gt;&gt; </span><span class="n">ogd</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="n">g</span><span class="p">)</span><span class="o">.</span><span class="n">computeTransitivelyOrientedDigraph</span><span class="p">(</span><span class="n">PartiallyDetermined</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span class="linenos">5</span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Transitivity degree: </span><span class="si">%.3f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ogd</span><span class="o">.</span><span class="n">transitivityDegree</span><span class="p">))</span>
<span class="linenos">6</span><span class="go"> Transitivity degree: 1.000</span>
</pre></div>
</div>
<p>The <em>PartiallyDetermined=True</em> flag (see Lines 1 and 4) is required here in order to orient <em>only</em> the actual edges of the graphs. Relations between vertices not linked by an edge will be put to the <em>indeterminate</em> characteristic value 0. This will allow us to compute, later on, convenient <em>disjunctive digraph fusions</em>.</p>
<p>As both graphs are indeed <em>transitively orientable</em> (see Lines 3 and 6 above), we may conclude that the given random graph <em>g</em> is actually a <em>permutation graph</em> instance. Yet, we still need to find now its corresponding <em>permutation</em>. We therefore implement a recipe given by Martin Golumbic <a class="reference internal" href="#gol-2004" id="id198"><span>[GOL-2004]</span></a> p.159.</p>
<p>We will first <strong>fuse</strong> both <em>og</em> and <em>ogd</em> orientations above with an <strong>epistemic disjunction</strong> (see the <a class="reference internal" href="techDoc.html#digraphsTools.omax" title="digraphsTools.omax"><code class="xref py py-func docutils literal notranslate"><span class="pre">omax()</span></code></a> operator), hence, the partially determined orientations requested above.</p>
<div class="literal-block-wrapper docutils container" id="fusingorientations">
<div class="code-block-caption"><span class="caption-number">Listing 1.130 </span><span class="caption-text">Fusing graph orientations</span><a class="headerlink" href="#fusingorientations" title="Link to this code"></a></div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">digraphs</span> <span class="kn">import</span> <span class="n">FusionDigraph</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">f1</span> <span class="o">=</span> <span class="n">FusionDigraph</span><span class="p">(</span><span class="n">og</span><span class="p">,</span><span class="n">ogd</span><span class="p">,</span><span class="n">operator</span><span class="o">=</span><span class="s1">&#39;o-max&#39;</span><span class="p">)</span>
<span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span> <span class="o">=</span> <span class="n">f1</span><span class="o">.</span><span class="n">computeCopelandRanking</span><span class="p">()</span>
<span class="linenos">4</span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">s1</span><span class="p">)</span>
<span class="linenos">5</span><span class="go"> [&#39;v5&#39;, &#39;v7&#39;, &#39;v1&#39;, &#39;v6&#39;, &#39;v8&#39;, &#39;v4&#39;, &#39;v3&#39;, &#39;v2&#39;]</span>
</pre></div>
</div>
</div>
<p>We obtain by the <em>Copeland</em> ranking rule (see tutorial on <a class="reference internal" href="#ranking-tutorial-label"><span class="std std-ref">ranking with incommensurable criteria</span></a> and the <a class="reference internal" href="techDoc.html#digraphs.Digraph.computeCopelandRanking" title="digraphs.Digraph.computeCopelandRanking"><code class="xref py py-func docutils literal notranslate"><span class="pre">computeCopelandRanking()</span></code></a> method) a linear ordering of the vertices (see <a class="reference internal" href="#fusingorientations"><span class="std std-numref">Listing 1.130</span></a> Line 5 above).</p>
<p>We reverse now the orientation of the edges in <em>og</em> (see <em>-og</em> in Line 1 below) in order to generate, again by <em>disjunctive fusion</em>, the <em>inversions</em> that are produced by the permutation we are looking for. Computing again a ranking with the <em>Copeland</em> rule, will show the correspondingly permuted list of vertices (see Line 4 below).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">f2</span> <span class="o">=</span> <span class="n">FusionDigraph</span><span class="p">((</span><span class="o">-</span><span class="n">og</span><span class="p">),</span><span class="n">ogd</span><span class="p">,</span><span class="n">operator</span><span class="o">=</span><span class="s1">&#39;o-max&#39;</span><span class="p">)</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span> <span class="o">=</span> <span class="n">f2</span><span class="o">.</span><span class="n">computeCopelandRanking</span><span class="p">()</span>
<span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">s2</span><span class="p">)</span>
<span class="linenos">4</span><span class="go"> [&#39;v8&#39;, &#39;v7&#39;, &#39;v6&#39;, &#39;v5&#39;, &#39;v4&#39;, &#39;v3&#39;, &#39;v2&#39;, &#39;v1&#39;]</span>
</pre></div>
</div>
<p>Vertex <em>v8</em> is put from position 5 to position 1, vertex <em>v7</em> is put from position 2 to position 2, vertex <em>v6</em> from position 4 to position 3, ‘vertex <em>v5</em> from position 1 to position 4, etc … . We generate these position swaps for all vertices and obtain thus the required permutation (see Line 5 below).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">permutation</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">order</span><span class="p">)]</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">order</span><span class="p">):</span>
<span class="linenos">3</span><span class="gp">... </span>    <span class="n">permutation</span><span class="p">[</span><span class="n">s2</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">s1</span><span class="p">[</span><span class="n">j</span><span class="p">])]</span> <span class="o">=</span> <span class="n">j</span><span class="o">+</span><span class="mi">1</span>
<span class="linenos">4</span>
<span class="linenos">5</span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">permutation</span><span class="p">)</span>
<span class="linenos">6</span><span class="go"> [5, 2, 4, 1, 6, 7, 8, 3]</span>
</pre></div>
</div>
<p>It is worthwhile noticing by the way that <em>transitive orientations</em> of a given graph and its dual are usually <strong>not unique</strong> and, so may also be the resulting permutations. However, they all correspond to isomorphic graphs (see <a class="reference internal" href="#gol-2004" id="id199"><span>[GOL-2004]</span></a>). In our case here, we observe two different permutations and their reverses:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">s1</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;v1&#39;</span><span class="p">,</span> <span class="s1">&#39;v4&#39;</span><span class="p">,</span> <span class="s1">&#39;v3&#39;</span><span class="p">,</span> <span class="s1">&#39;v2&#39;</span><span class="p">,</span> <span class="s1">&#39;v5&#39;</span><span class="p">,</span> <span class="s1">&#39;v6&#39;</span><span class="p">,</span> <span class="s1">&#39;v7&#39;</span><span class="p">,</span> <span class="s1">&#39;v8&#39;</span><span class="p">]</span>
<span class="linenos">2</span><span class="n">s2</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;v4&#39;</span><span class="p">,</span> <span class="s1">&#39;v3&#39;</span><span class="p">,</span> <span class="s1">&#39;v2&#39;</span><span class="p">,</span> <span class="s1">&#39;v8&#39;</span><span class="p">,</span> <span class="s1">&#39;v6&#39;</span><span class="p">,</span> <span class="s1">&#39;v1&#39;</span><span class="p">,</span> <span class="s1">&#39;v7&#39;</span><span class="p">,</span> <span class="s1">&#39;v5&#39;</span><span class="p">]</span>
<span class="linenos">3</span><span class="p">(</span><span class="n">s1</span> <span class="o">-&gt;</span> <span class="n">s2</span><span class="p">):</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="linenos">4</span><span class="p">(</span><span class="n">s2</span> <span class="o">-&gt;</span> <span class="n">s1</span><span class="p">):</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
<p>And:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">s3</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;v5&#39;</span><span class="p">,</span> <span class="s1">&#39;v7&#39;</span><span class="p">,</span> <span class="s1">&#39;v1&#39;</span><span class="p">,</span> <span class="s1">&#39;v6&#39;</span><span class="p">,</span> <span class="s1">&#39;v8&#39;</span><span class="p">,</span> <span class="s1">&#39;v4&#39;</span><span class="p">,</span> <span class="s1">&#39;v3&#39;</span><span class="p">,</span> <span class="s1">&#39;v2&#39;</span><span class="p">]</span>
<span class="linenos">2</span><span class="n">s4</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;v8&#39;</span><span class="p">,</span> <span class="s1">&#39;v7&#39;</span><span class="p">,</span> <span class="s1">&#39;v6&#39;</span><span class="p">,</span> <span class="s1">&#39;v5&#39;</span><span class="p">,</span> <span class="s1">&#39;v4&#39;</span><span class="p">,</span> <span class="s1">&#39;v3&#39;</span><span class="p">,</span> <span class="s1">&#39;v2&#39;</span><span class="p">,</span> <span class="s1">&#39;v1&#39;</span><span class="p">]</span>
<span class="linenos">3</span><span class="p">(</span><span class="n">s3</span> <span class="o">-&gt;</span> <span class="n">s4</span><span class="p">):</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="linenos">4</span><span class="p">(</span><span class="n">s4</span> <span class="o">-&gt;</span> <span class="n">s3</span><span class="p">)</span> <span class="o">=</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span>
</pre></div>
</div>
<p>The <a class="reference internal" href="techDoc.html#graphs.Graph.computePermutation" title="graphs.Graph.computePermutation"><code class="xref py py-func docutils literal notranslate"><span class="pre">computePermutation()</span></code></a> method does directly operate all these steps: - computing transitive orientations, - ranking their epistemic fusion and, - delivering a corresponding permutation.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">computePermutation</span><span class="p">(</span><span class="n">Comments</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos">2</span><span class="go"> [&#39;v1&#39;, &#39;v2&#39;, &#39;v3&#39;, &#39;v4&#39;, &#39;v5&#39;, &#39;v6&#39;, &#39;v7&#39;, &#39;v8&#39;]</span>
<span class="linenos">3</span><span class="go"> [&#39;v2&#39;, &#39;v3&#39;, &#39;v4&#39;, &#39;v8&#39;, &#39;v6&#39;, &#39;v1&#39;, &#39;v7&#39;, &#39;v5&#39;]</span>
<span class="linenos">4</span><span class="go"> [2, 3, 4, 8, 6, 1, 7, 5]</span>
</pre></div>
</div>
<p>We may finally check that, for instance, the two permutations [2, 3, 4, 8, 6, 1, 7, 5] and [4, 2, 8, 3, 1, 5, 6, 7] observed above, will correctly generate corresponding <em>isomorphic permutation</em> graphs.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">gtesta</span> <span class="o">=</span> <span class="n">PermutationGraph</span><span class="p">(</span><span class="n">permutation</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">gtestb</span> <span class="o">=</span> <span class="n">PermutationGraph</span><span class="p">(</span><span class="n">permutation</span><span class="o">=</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">])</span>
<span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">gtesta</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">(</span><span class="s1">&#39;gtesta&#39;</span><span class="p">)</span>
<span class="linenos">4</span><span class="gp">&gt;&gt;&gt; </span><span class="n">gtestb</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">(</span><span class="s1">&#39;gtestb&#39;</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="isomorphicpermgraphs">
<a class="reference internal image-reference" href="_images/isomorphicPerms.png"><img alt="Isomorphic permutation graphs" src="_images/isomorphicPerms.png" style="width: 700px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.94 </span><span class="caption-text">Isomorphic permutation graphs</span><a class="headerlink" href="#isomorphicpermgraphs" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>And, we recover indeed two <em>isomorphic copies</em> of the original random graph (compare <a class="reference internal" href="#isomorphicpermgraphs"><span class="std std-numref">Fig. 1.94</span></a> with <a class="reference internal" href="#randomgraph4335"><span class="std std-numref">Fig. 1.91</span></a>).</p>
<p>Back to <a class="reference internal" href="#tutorial-label"><span class="std std-ref">Content Table</span></a></p>
<hr class="docutils" />
</section>
</section>
<section id="on-tree-graphs-and-graph-forests">
<span id="trees-tutorial-label"></span><h3><a class="toc-backref" href="#id441" role="doc-backlink"><span class="section-number">1.7.4. </span>On tree graphs and graph forests</a><a class="headerlink" href="#on-tree-graphs-and-graph-forests" title="Link to this heading"></a></h3>
<nav class="contents local" id="id200">
<ul class="simple">
<li><p><a class="reference internal" href="#generating-random-tree-graphs" id="id456">Generating random tree graphs</a></p></li>
<li><p><a class="reference internal" href="#recognizing-tree-graphs" id="id457">Recognizing tree graphs</a></p></li>
<li><p><a class="reference internal" href="#spanning-trees-and-forests" id="id458">Spanning trees and forests</a></p></li>
<li><p><a class="reference internal" href="#maximum-determined-spanning-forests" id="id459">Maximum determined spanning forests</a></p></li>
</ul>
</nav>
<hr class="docutils" />
<section id="generating-random-tree-graphs">
<h4><a class="toc-backref" href="#id456" role="doc-backlink"><span class="section-number">1.7.4.1. </span>Generating random tree graphs</a><a class="headerlink" href="#generating-random-tree-graphs" title="Link to this heading"></a></h4>
<p>Using the <a class="reference internal" href="techDoc.html#graphs.RandomTree" title="graphs.RandomTree"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomTree</span></code></a> class, we may, for instance, generate a random tree graph with 9 vertices.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">graphs</span> <span class="kn">import</span> <span class="n">RandomTree</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">RandomTree</span><span class="p">(</span><span class="n">order</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span>
<span class="linenos"> 4</span><span class="go"> *------- Graph instance description ------*</span>
<span class="linenos"> 5</span><span class="go"> Instance class   : RandomTree</span>
<span class="linenos"> 6</span><span class="go"> Instance name    : randomTree</span>
<span class="linenos"> 7</span><span class="go"> Graph Order      : 9</span>
<span class="linenos"> 8</span><span class="go"> Graph Size       : 8</span>
<span class="linenos"> 9</span><span class="go"> Valuation domain : [-1.00; 1.00]</span>
<span class="linenos">10</span><span class="go"> Attributes       : [&#39;name&#39;, &#39;order&#39;, &#39;vertices&#39;, &#39;valuationDomain&#39;,</span>
<span class="linenos">11</span><span class="go">                     &#39;edges&#39;, &#39;prueferCode&#39;, &#39;size&#39;, &#39;gamma&#39;]</span>
<span class="linenos">12</span><span class="go"> *---- RandomTree specific data ----*</span>
<span class="linenos">13</span><span class="go"> Prüfer code  : [&#39;v3&#39;, &#39;v8&#39;, &#39;v8&#39;, &#39;v3&#39;, &#39;v7&#39;, &#39;v6&#39;, &#39;v7&#39;]</span>
<span class="linenos">14</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">(</span><span class="s1">&#39;tutRandomTree&#39;</span><span class="p">)</span>
<span class="linenos">15</span><span class="go"> *---- exporting a dot file for GraphViz tools ---------*</span>
<span class="linenos">16</span><span class="go"> Exporting to tutRandomTree.dot</span>
<span class="linenos">17</span><span class="go"> neato -Tpng tutRandomTree.dot -o tutRandomTree.png</span>
</pre></div>
</div>
<figure class="align-center" id="id294">
<a class="reference internal image-reference" href="_images/tutRandomTree.png"><img alt="Random tree instance" src="_images/tutRandomTree.png" style="width: 300px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.95 </span><span class="caption-text">Random Tree instance of order 9</span><a class="headerlink" href="#id294" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>A tree graph of order <em>n</em> contains <em>n-1</em> edges (see Line 8 and 9) and we may distinguish vertices like <em>v1</em>, <em>v2</em>, <em>v4</em>, <em>v5</em> or <em>v9</em>  of degree 1, called the <strong>leaves</strong> of the tree, and vertices like <em>v3</em>, <em>v6</em>, <em>v7</em> or <em>v8</em> of degree 2 or more, called the <strong>nodes</strong> of the tree.</p>
<p>The structure of a tree of order <img class="math" src="_images/math/1c76ca0f1804c78d5a3f4b41490081526fe0c75b.png" alt="n &gt; 2"/> is entirely characterised by a corresponding <em>Prüfer</em> <strong>code</strong> -i.e. a <em>list of vertices keys</em>- of length <em>n-2</em>. See, for instance in Line 12 the code [‘v3’, ‘v8’, ‘v8’, ‘v3’, ‘v7’, ‘v6’, ‘v7’] corresponding to our sample tree graph <em>t</em>.</p>
<p>Each position of the code indicates the parent of the remaining leaf with the smallest vertex label. Vertex <em>v3</em> is thus the parent of <em>v1</em> and we drop leaf <em>v1</em>, <em>v8</em> is now the parent of leaf <em>v2</em> and we drop <em>v2</em>, vertex <em>v8</em> is again the parent of leaf <em>v4</em> and we drop <em>v4</em>, vertex <em>v3</em> is the parent of leaf <em>v5</em> and we drop <em>v5</em>, <em>v7</em> is now the parent of leaf <em>v3</em> and we may drop <em>v3</em>, <em>v6</em> becomes the parent of leaf <em>v8</em> and we drop <em>v8</em>, <em>v7</em> becomes now the parent of leaf <em>v6</em> and we may drop <em>v6</em>. The two eventually remaining vertices, <em>v7</em> and <em>v9</em>, give the last link in the reconstructed tree (see <a class="reference internal" href="#bar-1991" id="id201"><span>[BAR-1991]</span></a>).</p>
<p>It is as well possible to first, generate a random <em>Prüfer</em> code of length <em>n-2</em> from a set of <em>n</em> vertices and then, construct the corresponding tree of order <em>n</em> by reversing the procedure illustrated above (see <a class="reference internal" href="#bar-1991" id="id202"><span>[BAR-1991]</span></a>).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">verticesList</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;v1&#39;</span><span class="p">,</span><span class="s1">&#39;v2&#39;</span><span class="p">,</span><span class="s1">&#39;v3&#39;</span><span class="p">,</span><span class="s1">&#39;v4&#39;</span><span class="p">,</span><span class="s1">&#39;v5&#39;</span><span class="p">,</span><span class="s1">&#39;v6&#39;</span><span class="p">,</span><span class="s1">&#39;v7&#39;</span><span class="p">]</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">verticesList</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">random</span>
<span class="linenos"> 4</span><span class="gp">&gt;&gt;&gt; </span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">101</span><span class="p">)</span>
<span class="linenos"> 5</span><span class="gp">&gt;&gt;&gt; </span><span class="n">code</span> <span class="o">=</span> <span class="p">[]</span>
<span class="linenos"> 6</span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">2</span><span class="p">):</span>
<span class="linenos"> 7</span><span class="gp">... </span>    <span class="n">code</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">verticesList</span><span class="p">)</span> <span class="p">)</span>
<span class="linenos"> 8</span>
<span class="linenos"> 9</span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
<span class="linenos">10</span><span class="go"> [&#39;v5&#39;, &#39;v7&#39;, &#39;v2&#39;, &#39;v5&#39;, &#39;v3&#39;]</span>
<span class="linenos">11</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">RandomTree</span><span class="p">(</span><span class="n">prueferCode</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;v5&#39;</span><span class="p">,</span> <span class="s1">&#39;v7&#39;</span><span class="p">,</span> <span class="s1">&#39;v2&#39;</span><span class="p">,</span> <span class="s1">&#39;v5&#39;</span><span class="p">,</span> <span class="s1">&#39;v3&#39;</span><span class="p">])</span>
<span class="linenos">12</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span>
<span class="linenos">13</span><span class="go"> *------- Graph instance description ------*</span>
<span class="linenos">14</span><span class="go"> Instance class   : RandomTree</span>
<span class="linenos">15</span><span class="go"> Instance name    : randomTree</span>
<span class="linenos">16</span><span class="go"> Graph Order      : 7</span>
<span class="linenos">17</span><span class="go"> Graph Size       : 6</span>
<span class="linenos">18</span><span class="go"> Valuation domain : [-1.00; 1.00]</span>
<span class="linenos">19</span><span class="go"> Attributes       : [&#39;name&#39;, &#39;order&#39;, &#39;vertices&#39;, &#39;valuationDomain&#39;,</span>
<span class="linenos">20</span><span class="go">                     &#39;edges&#39;, &#39;prueferCode&#39;, &#39;size&#39;, &#39;gamma&#39;]</span>
<span class="linenos">21</span><span class="go"> *---- RandomTree specific data ----*</span>
<span class="linenos">22</span><span class="go"> Prüfer code  : [&#39;v5&#39;, &#39;v7&#39;, &#39;v2&#39;, &#39;v5&#39;, &#39;v3&#39;]</span>
<span class="linenos">23</span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">(</span><span class="s1">&#39;tutPruefTree&#39;</span><span class="p">)</span>
<span class="linenos">24</span><span class="go"> *---- exporting a dot file for GraphViz tools ---------*</span>
<span class="linenos">25</span><span class="go"> Exporting to tutPruefTree.dot</span>
<span class="linenos">26</span><span class="go"> neato -Tpng tutPruefTree.dot -o tutPruefTree.png</span>
</pre></div>
</div>
<figure class="align-center" id="id295">
<a class="reference internal image-reference" href="_images/tutPruefTree.png"><img alt="Tree instance from a random Prüfer code" src="_images/tutPruefTree.png" style="width: 350px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.96 </span><span class="caption-text">Tree instance from a random Prüfer code</span><a class="headerlink" href="#id295" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Following from the bijection between a labelled tree and its <em>Prüfer</em> code, we actually know that there exist <img class="math" src="_images/math/1ccae85f2d0e38d86c3612a23dfd01935cd97970.png" alt="n^{n-2}"/> different tree graphs with the same <em>n</em> vertices.</p>
<p>Given a genuine graph, how can we recognize that it is in fact a tree instance ?</p>
</section>
<section id="recognizing-tree-graphs">
<h4><a class="toc-backref" href="#id457" role="doc-backlink"><span class="section-number">1.7.4.2. </span>Recognizing tree graphs</a><a class="headerlink" href="#recognizing-tree-graphs" title="Link to this heading"></a></h4>
<p>Given a graph <em>g</em> of order <em>n</em> and size <em>s</em>, the following 5 assertions <em>A1</em>, <em>A2</em>, <em>A3</em>, <em>A4</em> and <em>A5</em> are all equivalent (see <a class="reference internal" href="#bar-1991" id="id203"><span>[BAR-1991]</span></a>):</p>
<blockquote>
<div><ul class="simple">
<li><p><em>A1</em>: <em>g</em> is a tree;</p></li>
<li><p><em>A2</em>: <em>g</em> is without (chordless) cycles and <img class="math" src="_images/math/4b50853188fe1e8d264b47ab756cd2daa071999d.png" alt="n \,=\, s + 1"/>;</p></li>
<li><p><em>A3</em>: <em>g</em> is connected and <img class="math" src="_images/math/4b50853188fe1e8d264b47ab756cd2daa071999d.png" alt="n \,=\, s + 1"/>;</p></li>
<li><p><em>A4</em>: Any two vertices of <em>g</em> are always connected by a <em>unique path</em>;</p></li>
<li><p><em>A5</em>: <em>g</em> is connected and <em>dropping</em> any single edge will always disconnect <em>g</em>.</p></li>
</ul>
</div></blockquote>
<p>Assertion <em>A3</em>, for instance, gives a simple test for recognizing a tree graph. In case of a <em>lazy evaluation</em> of the test in Line 3 below, it is opportune, from a computational complexity perspective, to first, check the order and size of the graph, before checking its potential connectedness.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">graphs</span> <span class="kn">import</span> <span class="n">RandomGraph</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">RandomGraph</span><span class="p">(</span><span class="n">order</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span><span class="n">edgeProbability</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="mi">62</span><span class="p">)</span>
<span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">g</span><span class="o">.</span><span class="n">order</span> <span class="o">==</span> <span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">size</span> <span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="ow">and</span> <span class="n">g</span><span class="o">.</span><span class="n">isConnected</span><span class="p">():</span>
<span class="linenos">4</span><span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The graph is a tree ?&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<span class="linenos">5</span><span class="gp">... </span><span class="k">else</span><span class="p">:</span>
<span class="linenos">6</span><span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The graph is a tree ?&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
<span class="linenos">7</span>
<span class="linenos">8</span><span class="go"> The graph is a tree ? True</span>
</pre></div>
</div>
<p>The random graph of order 8 and edge probability 30%, generated with seed 62, is actually a tree graph instance, as we may readily confirm from its <em>graphviz</em> drawing in <a class="reference internal" href="#test62tree"><span class="std std-numref">Fig. 1.97</span></a> (see also the <a class="reference internal" href="techDoc.html#graphs.Graph.isTree" title="graphs.Graph.isTree"><code class="xref py py-func docutils literal notranslate"><span class="pre">isTree()</span></code></a> method for an implemented alternative test).</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">(</span><span class="s1">&#39;test62&#39;</span><span class="p">)</span>
<span class="go">*---- exporting a dot file for GraphViz tools ---------*</span>
<span class="go">Exporting to test62.dot</span>
<span class="go">fdp -Tpng test62.dot -o test62.png</span>
</pre></div>
</div>
<figure class="align-center" id="test62tree">
<a class="reference internal image-reference" href="_images/test62.png"><img alt="Recognizing a tree" src="_images/test62.png" style="width: 350px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.97 </span><span class="caption-text">Recognizing a tree instance</span><a class="headerlink" href="#test62tree" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Yet, we still have to recover its corresponding <em>Prüfer</em> code. Therefore, we may use the <a class="reference internal" href="techDoc.html#graphs.TreeGraph.tree2Pruefer" title="graphs.TreeGraph.tree2Pruefer"><code class="xref py py-func docutils literal notranslate"><span class="pre">tree2Pruefer()</span></code></a> method.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">graphs</span> <span class="kn">import</span> <span class="n">TreeGraph</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="vm">__class__</span> <span class="o">=</span> <span class="n">TreeGraph</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">tree2Pruefer</span><span class="p">()</span>
<span class="go">[&#39;v6&#39;, &#39;v1&#39;, &#39;v2&#39;, &#39;v1&#39;, &#39;v2&#39;, &#39;v5&#39;]</span>
</pre></div>
</div>
<p>In <a class="reference internal" href="#test62tree"><span class="std std-numref">Fig. 1.97</span></a> we also notice that vertex <em>v2</em> is actually situated in the <strong>centre</strong> of the tree with a neighborhood depth of 2. We may draw a correspondingly rooted and oriented tree graph.</p>
<blockquote>
<div><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">computeGraphCentres</span><span class="p">()</span>
<span class="go"> {&#39;v2&#39;: 2}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">exportOrientedTreeGraphViz</span><span class="p">(</span><span class="n">fileName</span><span class="o">=</span><span class="s1">&#39;rootedTree&#39;</span><span class="p">,</span>
<span class="gp">... </span>                             <span class="n">root</span><span class="o">=</span><span class="s1">&#39;v2&#39;</span><span class="p">)</span>
</pre></div>
</div>
<blockquote>
<div><p><em>—- exporting a dot file for GraphViz tools ———</em>
Exporting to rootedTree.dot
dot -Grankdir=TB -Tpng rootedTree.dot -o rootedTree.png</p>
</div></blockquote>
</div></blockquote>
<figure class="align-center" id="test62rooted">
<a class="reference internal image-reference" href="_images/rootedTree.png"><img alt="Rooted tree" src="_images/rootedTree.png" style="width: 250px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.98 </span><span class="caption-text">Drawing an oriented tree rooted at its centre</span><a class="headerlink" href="#test62rooted" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Let us now turn our attention toward a major application of tree graphs, namely <em>spanning trees</em> and <em>forests</em> related to graph traversals.</p>
</section>
<section id="spanning-trees-and-forests">
<h4><a class="toc-backref" href="#id458" role="doc-backlink"><span class="section-number">1.7.4.3. </span>Spanning trees and forests</a><a class="headerlink" href="#spanning-trees-and-forests" title="Link to this heading"></a></h4>
<p>With the <a class="reference internal" href="techDoc.html#graphs.RandomSpanningTree" title="graphs.RandomSpanningTree"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomSpanningTree</span></code></a> class we may generate, from a given <strong>connected</strong> graph <em>g</em> instance, <strong>uniform random</strong> instances of a <strong>spanning tree</strong> by using <em>Wilson</em>’s algorithm <a class="reference internal" href="#wil-1996" id="id204"><span>[WIL-1996]</span></a></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Wilson’s algorithm <em>only</em> works for connected graphs <a class="footnote-reference brackets" href="#id212" id="id205" role="doc-noteref"><span class="fn-bracket">[</span>4<span class="fn-bracket">]</span></a>.</p>
</div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">graphs</span> <span class="kn">import</span> <span class="n">RandomGraph</span><span class="p">,</span> <span class="n">RandomSpanningTree</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">RandomGraph</span><span class="p">(</span><span class="n">order</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span><span class="n">edgeProbability</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">spt</span> <span class="o">=</span> <span class="n">RandomSpanningTree</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="linenos"> 4</span><span class="gp">&gt;&gt;&gt; </span><span class="n">spt</span>
<span class="linenos"> 5</span><span class="go"> *------- Graph instance description ------*</span>
<span class="linenos"> 6</span><span class="go"> Instance class   : RandomSpanningTree</span>
<span class="linenos"> 7</span><span class="go"> Instance name    : randomGraph_randomSpanningTree</span>
<span class="linenos"> 8</span><span class="go"> Graph Order      : 9</span>
<span class="linenos"> 9</span><span class="go"> Graph Size       : 8</span>
<span class="linenos">10</span><span class="go"> Valuation domain : [-1.00; 1.00]</span>
<span class="linenos">11</span><span class="go"> Attributes       : [&#39;name&#39;,&#39;vertices&#39;,&#39;order&#39;,&#39;valuationDomain&#39;,</span>
<span class="linenos">12</span><span class="go">                     &#39;edges&#39;,&#39;size&#39;,&#39;gamma&#39;,&#39;dfs&#39;,&#39;date&#39;,</span>
<span class="linenos">13</span><span class="go">                     &#39;dfsx&#39;,&#39;prueferCode&#39;]</span>
<span class="linenos">14</span><span class="go"> *---- RandomTree specific data ----*</span>
<span class="linenos">15</span><span class="go"> Prüfer code  : [&#39;v7&#39;, &#39;v9&#39;, &#39;v5&#39;, &#39;v1&#39;, &#39;v8&#39;, &#39;v4&#39;, &#39;v9&#39;]</span>
<span class="linenos">16</span><span class="gp">&gt;&gt;&gt; </span><span class="n">spt</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">(</span><span class="n">fileName</span><span class="o">=</span><span class="s1">&#39;randomSpanningTree&#39;</span><span class="p">,</span>
<span class="linenos">17</span><span class="gp">... </span>                   <span class="n">WithSpanningTree</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos">18</span><span class="go"> *---- exporting a dot file for GraphViz tools ---------*</span>
<span class="linenos">19</span><span class="go"> Exporting to randomSpanningTree.dot</span>
<span class="linenos">20</span><span class="go"> [[&#39;v1&#39;, &#39;v5&#39;, &#39;v6&#39;, &#39;v5&#39;, &#39;v1&#39;, &#39;v8&#39;, &#39;v9&#39;, &#39;v3&#39;, &#39;v9&#39;, &#39;v4&#39;,</span>
<span class="linenos">21</span><span class="go">   &#39;v7&#39;, &#39;v2&#39;, &#39;v7&#39;, &#39;v4&#39;, &#39;v9&#39;, &#39;v8&#39;, &#39;v1&#39;]]</span>
<span class="linenos">22</span><span class="go"> neato -Tpng randomSpanningTree.dot -o randomSpanningTree.png</span>
</pre></div>
</div>
<figure class="align-center" id="id296">
<a class="reference internal image-reference" href="_images/randomSpanningTree.png"><img alt="randomSpanningTree instance" src="_images/randomSpanningTree.png" style="width: 300px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.99 </span><span class="caption-text">Random spanning tree</span><a class="headerlink" href="#id296" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>More general, and in case of a not connected graph, we may generate with the <a class="reference internal" href="techDoc.html#graphs.RandomSpanningForest" title="graphs.RandomSpanningForest"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomSpanningForest</span></code></a> class a <em>not necessarily uniform</em> random instance of a <strong>spanning forest</strong> -one or more random tree graphs- generated from a <strong>random depth first search</strong> of the graph components’ traversals.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">RandomGraph</span><span class="p">(</span><span class="n">order</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span><span class="n">edgeProbability</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="mi">140</span><span class="p">)</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">computeComponents</span><span class="p">()</span>
<span class="linenos"> 3</span><span class="go"> [{&#39;v12&#39;, &#39;v01&#39;, &#39;v13&#39;}, {&#39;v02&#39;, &#39;v06&#39;},</span>
<span class="linenos"> 4</span><span class="go">  {&#39;v08&#39;, &#39;v03&#39;, &#39;v07&#39;}, {&#39;v15&#39;, &#39;v11&#39;, &#39;v10&#39;, &#39;v04&#39;, &#39;v05&#39;},</span>
<span class="linenos"> 5</span><span class="go">  {&#39;v09&#39;, &#39;v14&#39;}]</span>
<span class="linenos"> 6</span><span class="gp">&gt;&gt;&gt; </span><span class="n">fromgraphs</span> <span class="kn">import</span> <span class="nn">RandomSpanningForest</span>
<span class="linenos"> 7</span><span class="gp">&gt;&gt;&gt; </span><span class="n">spf</span> <span class="o">=</span> <span class="n">RandomSpanningForest</span><span class="p">(</span><span class="n">g</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="linenos"> 8</span><span class="gp">&gt;&gt;&gt; </span><span class="n">spf</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">(</span><span class="n">fileName</span><span class="o">=</span><span class="s1">&#39;spanningForest&#39;</span><span class="p">,</span><span class="n">WithSpanningTree</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos"> 9</span><span class="go"> *---- exporting a dot file for GraphViz tools ---------*</span>
<span class="linenos">10</span><span class="go"> Exporting to spanningForest.dot</span>
<span class="linenos">11</span><span class="go"> [[&#39;v03&#39;, &#39;v07&#39;, &#39;v08&#39;, &#39;v07&#39;, &#39;v03&#39;],</span>
<span class="linenos">12</span><span class="go">  [&#39;v13&#39;, &#39;v12&#39;, &#39;v13&#39;, &#39;v01&#39;, &#39;v13&#39;],</span>
<span class="linenos">13</span><span class="go">  [&#39;v02&#39;, &#39;v06&#39;, &#39;v02&#39;],</span>
<span class="linenos">14</span><span class="go">  [&#39;v15&#39;, &#39;v11&#39;, &#39;v04&#39;, &#39;v11&#39;, &#39;v15&#39;, &#39;v10&#39;, &#39;v05&#39;, &#39;v10&#39;, &#39;v15&#39;],</span>
<span class="linenos">15</span><span class="go">  [&#39;v09&#39;, &#39;v14&#39;, &#39;v09&#39;]]</span>
<span class="linenos">16</span><span class="go"> neato -Tpng spanningForest.dot -o spanningForest.png</span>
</pre></div>
</div>
<figure class="align-center" id="id297">
<a class="reference internal image-reference" href="_images/spanningForest.png"><img alt="Random spanning forest instance" src="_images/spanningForest.png" style="width: 350px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.100 </span><span class="caption-text">Random spanning forest instance</span><a class="headerlink" href="#id297" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="maximum-determined-spanning-forests">
<h4><a class="toc-backref" href="#id459" role="doc-backlink"><span class="section-number">1.7.4.4. </span>Maximum determined spanning forests</a><a class="headerlink" href="#maximum-determined-spanning-forests" title="Link to this heading"></a></h4>
<p>In case of valued graphs supporting weighted edges, we may finally construct a <strong>most determined</strong> spanning tree (or forest if not connected) using <em>Kruskal</em>’s <em>greedy</em> <strong>minimum-spanning-tree algorithm</strong> <a class="footnote-reference brackets" href="#id213" id="id206" role="doc-noteref"><span class="fn-bracket">[</span>5<span class="fn-bracket">]</span></a> on the <em>dual</em> valuation of the graph <a class="reference internal" href="#kru-1956" id="id207"><span>[KRU-1956]</span></a>.</p>
<p>We consider, for instance, a randomly valued graph with five vertices and seven edges bipolar-valued in [-1.0; 1.0].</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">graphs</span> <span class="kn">import</span> <span class="n">RandomValuationGraph</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">RandomValuationGraph</span><span class="p">(</span><span class="n">seed</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="linenos"> 4</span><span class="go"> *------- Graph instance description ------*</span>
<span class="linenos"> 5</span><span class="go"> Instance class   : RandomValuationGraph</span>
<span class="linenos"> 6</span><span class="go"> Instance name    : randomGraph</span>
<span class="linenos"> 7</span><span class="go"> Graph Order      : 5</span>
<span class="linenos"> 8</span><span class="go"> Graph Size       : 7</span>
<span class="linenos"> 9</span><span class="go"> Valuation domain : [-1.00; 1.00]</span>
<span class="linenos">10</span><span class="go"> Attributes       : [&#39;name&#39;, &#39;order&#39;, &#39;vertices&#39;, &#39;valuationDomain&#39;,</span>
<span class="linenos">11</span><span class="go">                     &#39;edges&#39;, &#39;size&#39;, &#39;gamma&#39;]</span>
</pre></div>
</div>
<p>To inspect the edges’ actual weights, we first transform the graph into a corresponding digraph (see Line 1 below) and use the <a class="reference internal" href="techDoc.html#digraphs.Digraph.showRelationTable" title="digraphs.Digraph.showRelationTable"><code class="xref py py-func docutils literal notranslate"><span class="pre">showRelationTable()</span></code></a> method (see Line 2 below) for printing its <strong>symmetric adjacency matrix</strong>.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">dg</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">graph2Digraph</span><span class="p">()</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">dg</span><span class="o">.</span><span class="n">showRelationTable</span><span class="p">()</span>
<span class="linenos"> 3</span><span class="go"> * ---- Relation Table -----</span>
<span class="linenos"> 4</span><span class="go">   S   |  &#39;v1&#39;         &#39;v2&#39;    &#39;v3&#39;    &#39;v4&#39;    &#39;v5&#39;</span>
<span class="linenos"> 5</span><span class="go"> ------|-------------------------------------------</span>
<span class="linenos"> 6</span><span class="go">  &#39;v1&#39; |  0.00        0.91    0.90    -0.89   -0.83</span>
<span class="linenos"> 7</span><span class="go">  &#39;v2&#39; |  0.91        0.00    0.67     0.47    0.34</span>
<span class="linenos"> 8</span><span class="go">  &#39;v3&#39; |  0.90        0.67    0.00    -0.38    0.21</span>
<span class="linenos"> 9</span><span class="go">  &#39;v4&#39; | -0.89        0.47   -0.38     0.00    0.21</span>
<span class="linenos">10</span><span class="go">  &#39;v5&#39; | -0.83        0.34    0.21     0.21    0.00</span>
<span class="linenos">11</span><span class="go"> Valuation domain: [-1.00;1.00]</span>
</pre></div>
</div>
<p>To compute the most determined spanning tree or forest, we may use the <a class="reference internal" href="techDoc.html#graphs.BestDeterminedSpanningForest" title="graphs.BestDeterminedSpanningForest"><code class="xref py py-class docutils literal notranslate"><span class="pre">BestDeterminedSpanningForest</span></code></a> class constructor.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">graphs</span> <span class="kn">import</span> <span class="n">BestDeterminedSpanningForest</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">mt</span> <span class="o">=</span> <span class="n">BestDeterminedSpanningForest</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">mt</span><span class="p">)</span>
<span class="linenos"> 4</span><span class="go"> *------- Graph instance description ------*</span>
<span class="linenos"> 5</span><span class="go"> Instance class   : BestDeterminedSpanningForest</span>
<span class="linenos"> 6</span><span class="go"> Instance name    : randomGraph_randomSpanningForest</span>
<span class="linenos"> 7</span><span class="go"> Graph Order      : 5</span>
<span class="linenos"> 8</span><span class="go"> Graph Size       : 4</span>
<span class="linenos"> 9</span><span class="go"> Valuation domain : [-1.00; 1.00]</span>
<span class="linenos">10</span><span class="go"> Attributes       : [&#39;name&#39;,&#39;vertices&#39;,&#39;order&#39;,&#39;valuationDomain&#39;,</span>
<span class="linenos">11</span><span class="go">                     &#39;edges&#39;,&#39;size&#39;,&#39;gamma&#39;,&#39;dfs&#39;,</span>
<span class="linenos">12</span><span class="go">                     &#39;date&#39;, &#39;averageTreeDetermination&#39;]</span>
<span class="linenos">13</span><span class="go"> *---- best determined spanning tree specific data ----*</span>
<span class="linenos">14</span><span class="go"> Depth first search path(s) :</span>
<span class="linenos">15</span><span class="go"> [[&#39;v1&#39;, &#39;v2&#39;, &#39;v4&#39;, &#39;v2&#39;, &#39;v5&#39;, &#39;v2&#39;, &#39;v1&#39;, &#39;v3&#39;, &#39;v1&#39;]]</span>
<span class="linenos">16</span><span class="go"> Average determination(s) : [Decimal(&#39;0.655&#39;)]</span>
</pre></div>
</div>
<p>The given graph is connected and, hence, admits a single spanning tree (see <a class="reference internal" href="#bestdeterminedspanningtree"><span class="std std-numref">Fig. 1.101</span></a>) of <strong>maximum mean determination</strong> = (0.47 + 0.91 + 0.90 + 0.34)/4 = <strong>0.655</strong> (see Lines 9, 6 and 10 in the relation table above).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">mt</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">(</span><span class="n">fileName</span><span class="o">=</span><span class="s1">&#39;bestDeterminedspanningTree&#39;</span><span class="p">,</span>
<span class="linenos">2</span><span class="gp">... </span>                  <span class="n">WithSpanningTree</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos">3</span><span class="go"> *---- exporting a dot file for GraphViz tools ---------*</span>
<span class="linenos">4</span><span class="go"> Exporting to spanningTree.dot</span>
<span class="linenos">5</span><span class="go"> [[&#39;v4&#39;, &#39;v2&#39;, &#39;v1&#39;, &#39;v3&#39;, &#39;v1&#39;, &#39;v2&#39;, &#39;v5&#39;, &#39;v2&#39;, &#39;v4&#39;]]</span>
<span class="linenos">6</span><span class="go"> neato -Tpng bestDeterminedSpanningTree.dot -o bestDeterminedSpanningTree.png</span>
</pre></div>
</div>
<figure class="align-center" id="bestdeterminedspanningtree">
<a class="reference internal image-reference" href="_images/bestDeterminedSpanningTree.png"><img alt="Best determined spanning tree" src="_images/bestDeterminedSpanningTree.png" style="width: 350px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 1.101 </span><span class="caption-text">Best determined spanning tree</span><a class="headerlink" href="#bestdeterminedspanningtree" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>One may easily verify that all other potential spanning trees, including instead the edges {<em>v3</em>, <em>v5</em>} and/or {<em>v4</em>, <em>v5</em>} - will show a lower average determination.</p>
<p>Back to <a class="reference internal" href="#tutorial-label"><span class="std std-ref">Content Table</span></a></p>
<hr class="docutils" />
</section>
</section>
</section>
<section id="appendices">
<span id="appendices-label"></span><h2><span class="section-number">1.8. </span>Appendices<a class="headerlink" href="#appendices" title="Link to this heading"></a></h2>
<section id="bibliography">
<h3><span class="section-number">1.8.1. </span>Bibliography<a class="headerlink" href="#bibliography" title="Link to this heading"></a></h3>
</section>
<div role="list" class="citation-list">
<div class="citation" id="cpstat-l5" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id77">CPSTAT-L5</a><span class="fn-bracket">]</span></span>
<p>Bisdorff R. (2019) “Simulating from abitrary empirical random distributions”. MICS <em>Computational Statistics</em> course, Lecture 5. FSTC/ILIAS University of Luxembourg, Winter Semester 2019 (see <a class="reference external" href="http://hdl.handle.net/10993/37933">http://hdl.handle.net/10993/37933</a>).</p>
</div>
<div class="citation" id="bis-2016" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id162">BIS-2016</a><span class="fn-bracket">]</span></span>
<p>Bisdorff R. (2016). “Computing linear rankings from trillions of pairwise outranking situations”. In Proceedings of DA2PL’2016 <em>From Multiple Criteria Decision Aid to Preference Learning</em>, R. Busa-Fekete, E. Hüllermeier, V. Mousseau and K. Pfannschmidt (Eds.), University of Paderborn (Germany), Nov. 7-8 2016: 1-6 (downloadable <a class="reference external" href="http://hdl.handle.net/10993/28613">PDF file 451.4 kB</a>)</p>
</div>
<div class="citation" id="bis-2015" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id118">BIS-2015</a><span class="fn-bracket">]</span></span>
<p>Bisdorff R. (2015). “The EURO 2004 Best Poster Award: Choosing the Best Poster in a Scientific Conference”. Chapter 5 in R. Bisdorff, L. Dias, P. Meyer, V. Mousseau, and M. Pirlot (Eds.), <em>Evaluation and Decision Models with Multiple Criteria: Case Studies.</em> Springer-Verlag Berlin Heidelberg, International Handbooks on Information Systems, DOI 10.1007/978-3-662-46816-6_1, pp. 117-166 (downloadable <a class="reference external" href="http://hdl.handle.net/10993/23714">PDF file 754.7 kB</a>).</p>
</div>
<div class="citation" id="adt-l2" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>ADT-L2<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id82">1</a>,<a role="doc-backlink" href="#id83">2</a>)</span>
<p>Bisdorff R. (2020)  “Who wins the election?” MICS <em>Algorithmic Decision Theory</em> course, Lecture 2. FSTC/ILIAS University of Luxembourg, Summer Semester 2020 ( see <a class="reference external" href="http://hdl.handle.net/10993/37933">http://hdl.handle.net/10993/37933</a> and downloadable <a class="reference external" href="./_static/adtVoting-2x2.pdf">PDF file 199.5 kB</a>).</p>
</div>
<div class="citation" id="adt-l7" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>ADT-L7<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id18">1</a>,<a role="doc-backlink" href="#id22">2</a>,<a role="doc-backlink" href="#id37">3</a>,<a role="doc-backlink" href="#id54">4</a>)</span>
<p>Bisdorff R.(2014)  “Best multiple criteria choice: the Rubis outranking method”. MICS <em>Algorithmic Decision Theory</em> course, Lecture 7. FSTC/ILIAS University of Luxembourg, Summer Semester 2014 (see <a class="reference external" href="http://hdl.handle.net/10993/37933">http://hdl.handle.net/10993/37933</a> and downloadable <a class="reference external" href="./_static/adtOutranking-2x2.pdf">PDF file 309.6 kB</a>).</p>
</div>
<div class="citation" id="bis-2013" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>BIS-2013<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id14">1</a>,<a role="doc-backlink" href="#id17">2</a>,<a role="doc-backlink" href="#id19">3</a>,<a role="doc-backlink" href="#id21">4</a>,<a role="doc-backlink" href="#id32">5</a>,<a role="doc-backlink" href="#id39">6</a>,<a role="doc-backlink" href="#id40">7</a>,<a role="doc-backlink" href="#id41">8</a>,<a role="doc-backlink" href="#id43">9</a>,<a role="doc-backlink" href="#id53">10</a>,<a role="doc-backlink" href="#id56">11</a>,<a role="doc-backlink" href="#id59">12</a>,<a role="doc-backlink" href="#id125">13</a>,<a role="doc-backlink" href="#id126">14</a>)</span>
<p>Bisdorff R. (2013) “On Polarizing Outranking Relations with Large Performance Differences” <em>Journal of Multi-Criteria Decision Analysis</em> (Wiley) <strong>20</strong>:3-12 (downloadable preprint <a class="reference external" href="http://hdl.handle.net/10993/245">PDF file 403.5 Kb</a>).</p>
</div>
<div class="citation" id="bis-2012" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>BIS-2012<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id15">1</a>,<a role="doc-backlink" href="#id61">2</a>,<a role="doc-backlink" href="#id65">3</a>,<a role="doc-backlink" href="#id66">4</a>,<a role="doc-backlink" href="#id80">5</a>)</span>
<p>Bisdorff R. (2012). “On measuring and testing the ordinal correlation between bipolar outranking relations”. In Proceedings of DA2PL’2012 <em>From Multiple Criteria Decision Aid to Preference Learning</em>, University of Mons 91-100. (downloadable preliminary version <a class="reference external" href="http://hdl.handle.net/10993/23909">PDF file 408.5 kB</a> ).</p>
</div>
<div class="citation" id="dia-2010" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>DIA-2010<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id68">1</a>,<a role="doc-backlink" href="#id71">2</a>)</span>
<p>Dias L.C. and Lamboray C. (2010). “Extensions of the prudence principle to exploit a valued outranking relation”. <em>European Journal of Operational Research</em> Volume 201 Number 3 pp. 828-837.</p>
</div>
<div class="citation" id="lam-2009" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>LAM-2009<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id67">1</a>,<a role="doc-backlink" href="#id69">2</a>,<a role="doc-backlink" href="#id70">3</a>)</span>
<p>Lamboray C. (2009) “A prudent characterization of the Ranked Pairs Rule”. <em>Social Choice and Welfare</em> 32 pp. 129-155.</p>
</div>
<div class="citation" id="bis-2009" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>BIS-2009<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id31">1</a>,<a role="doc-backlink" href="#id51">2</a>)</span>
<p>Bisdorff R. (2008) “Re-reading the user manual”. Research note FSTC/ILIAS University of Luxembourg, Luxembourg, Dec. 16 2008 (downloadable <a class="reference external" href="./_static/RoyMemorandumBisdorff.pdf">PDF file 172.7kB</a>).</p>
</div>
<div class="citation" id="bis-2008" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>BIS-2008<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id35">1</a>,<a role="doc-backlink" href="#id44">2</a>,<a role="doc-backlink" href="#id86">3</a>)</span>
<p>Bisdorff R., Meyer P. and Roubens M. (2008) “RUBIS: a bipolar-valued outranking method for the choice problem”. 4OR, <em>A Quarterly Journal of Operations Research</em> Springer-Verlag, Volume 6,  Number 2 pp. 143-165. (Online) Electronic version: DOI: 10.1007/s10288-007-0045-5 (downloadable preliminary version <a class="reference external" href="http://hdl.handle.net/10993/23716">PDF file 271.5Kb</a>).</p>
</div>
<div class="citation" id="isomis-08" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>ISOMIS-08<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id182">1</a>,<a role="doc-backlink" href="#id185">2</a>)</span>
<p>Bisdorff R. and Marichal J.-L. (2008). “Counting non-isomorphic maximal independent sets of the n-cycle graph”. <em>Journal of Integer Sequences</em>, Vol. 11 Article 08.5.7 (<a class="reference external" href="https://cs.uwaterloo.ca/journals/JIS/VOL11/Marichal/marichal.html">openly accessible here</a>).</p>
</div>
<div class="citation" id="nr3-2007" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id79">NR3-2007</a><span class="fn-bracket">]</span></span>
<p>Press W.H., Teukolsky S.A., Vetterling W.T. and Flannery B.P. (2007) “Single-Pass Estimation of Arbitrary Quantiles” Section 5.8.2 in <em>Numerical Recipes: The Art of Scientific Computing 3rd Ed.</em>, Cambridge University Press, pp 435-438.</p>
</div>
<div class="citation" id="cham-2006" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id78">CHAM-2006</a><span class="fn-bracket">]</span></span>
<p>Chambers J.M., James D.A., Lambert D. and Vander Wiel S. (2006) “Monitoring Networked Applications with Incremental Quantile Estimation”. <em>Statistical Science</em>, Vol. 21, No.4, pp.463-475. DOI: 10 12140/088342306000000583.</p>
</div>
<div class="citation" id="bis-2006a" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id45">BIS-2006a</a><span class="fn-bracket">]</span></span>
<p>Bisdorff R., Pirlot M. and Roubens M. (2006). “Choices and kernels from bipolar valued digraphs”. <em>European Journal of Operational Research</em>, 175 (2006) 155-170. (Online) Electronic version: DOI:10.1016/j.ejor.2005.05.004 (downloadable preliminary version <a class="reference external" href="http://hdl.handle.net/10993/23720">PDF file 257.3Kb</a>)</p>
</div>
<div class="citation" id="bis-2006b" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id46">BIS-2006b</a><span class="fn-bracket">]</span></span>
<p>Bisdorff R. (2006). “On enumerating the kernels in a bipolar-valued digraph”. Annales du Lamsade 6, Octobre 2006, pp. 1 - 38. Université Paris-Dauphine. ISSN 1762-455X (downloadable version <a class="reference external" href="http://hdl.handle.net/10993/38741">PDF file 532.2 Kb</a>)</p>
</div>
<div class="citation" id="bis-2005" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id52">BIS-2005</a><span class="fn-bracket">]</span></span>
<p>Bisdorff R. (2005) Exploitation en problématique du choix d’une relation de surclassement valuée (<a class="reference external" href="http://hdl.handle.net/10993/47659">PDF file for downloading</a>)</p>
</div>
<div class="citation" id="bis-2004a" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>BIS-2004a<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id5">1</a>,<a role="doc-backlink" href="#id12">2</a>,<a role="doc-backlink" href="#id42">3</a>)</span>
<p>Bisdorff R. (2004) “On a natural fuzzification of Boolean logic”. In Erich Peter Klement and Endre Pap (editors), Proceedings of the 25th Linz Seminar on <em>Fuzzy Set Theory, Mathematics of Fuzzy Systems</em>. Bildungszentrum St. Magdalena, Linz (Austria), February 2004. pp. 20-26 (PDF file (133.4 Kb) for <a class="reference external" href="http://hdl.handle.net/10993/38740">downloading</a>)</p>
</div>
<div class="citation" id="bis-2004b" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>BIS-2004b<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id13">1</a>,<a role="doc-backlink" href="#id128">2</a>)</span>
<p>Bisdorff R. (2004) “Concordant Outranking with multiple criteria of ordinal significance”. 4OR, <em>Quarterly Journal of the Belgian, French and Italian Operations Research Societies</em>, Springer-Verlag, Issue: Volume 2, Number 4, December 2004, Pages: 293 - 308. [ISSN: 1619-4500 (Paper) 1614-2411 (Online)] Electronic version: DOI: 10.1007/s10288-004-0053-7 (<a class="reference external" href="http://hdl.handle.net/10993/23721">PDF file 137.1Kb for downloading</a>)</p>
</div>
<div class="citation" id="ber-1963" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id187">BER-1963</a><span class="fn-bracket">]</span></span>
<p>Berge C (1963) Perfect graphs. Six Papers on Graph Theory. Calcutta: Indian Statistical Institute pp 1–21 333</p>
</div>
<div class="citation" id="chu-2006" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id188">CHU-2006</a><span class="fn-bracket">]</span></span>
<p>Chudnovsky M, Robertson N, Seymour P, Robin T (2006) The strong perfect graph theorem. Annals of Mathematics 164(1):51–229 333</p>
</div>
<div class="citation" id="gol-2004" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>GOL-2004<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id189">1</a>,<a role="doc-backlink" href="#id190">2</a>,<a role="doc-backlink" href="#id191">3</a>,<a role="doc-backlink" href="#id193">4</a>,<a role="doc-backlink" href="#id194">5</a>,<a role="doc-backlink" href="#id195">6</a>,<a role="doc-backlink" href="#id196">7</a>,<a role="doc-backlink" href="#id197">8</a>,<a role="doc-backlink" href="#id198">9</a>,<a role="doc-backlink" href="#id199">10</a>,<a role="doc-backlink" href="#id265">11</a>)</span>
<p>Golumbic M.Ch. (2004), <em>Agorithmic Graph Theory and Perfect Graphs</em> 2nd Ed., Annals of Discrete Mathematics 57, Elsevier.</p>
</div>
<div class="citation" id="fmcaa" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id179">FMCAA</a><span class="fn-bracket">]</span></span>
<p>Häggström O. (2002) <em>Finite Markov Chains and Algorithmic Applications</em>. Cambridge University Press.</p>
</div>
<div class="citation" id="bis-2000" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id11">BIS-2000</a><span class="fn-bracket">]</span></span>
<p>Bisdorff R. (2000), “Logical foundation of fuzzy preferential systems with application to the ELECTRE decision aid methods”, <em>Computers and Operations Research</em>, 27:673-687 (downloadable version <a class="reference external" href="http://hdl.handle.net/10993/23724">PDF file 159.1Kb</a>).</p>
</div>
<div class="citation" id="bis-1999" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>BIS-1999<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id88">1</a>,<a role="doc-backlink" href="#id90">2</a>,<a role="doc-backlink" href="#id115">3</a>)</span>
<p>Bisdorff R. (1999), “Bipolar ranking from pairwise fuzzy outrankings”, JORBEL <em>Belgian Journal of Operations Research, Statistics and Computer Science</em>, Vol. 37 (4) 97 379-387. (PDF file (351.7 Kb) <a class="reference external" href="http://hdl.handle.net/10993/38738">for downloading</a>)</p>
</div>
<div class="citation" id="wil-1996" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id204">WIL-1996</a><span class="fn-bracket">]</span></span>
<p>Wilson D.B. (1996), <em>Generating random spanning trees more quickly than the cover time</em>, Proceedings of the Twenty-eighth Annual ACM <em>Symposium on the Theory of Computing</em> (Philadelphia, PA, 1996), 296-303, ACM, New York, 1996.</p>
</div>
<div class="citation" id="roy-1991" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>ROY-1991<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id25">1</a>,<a role="doc-backlink" href="#id29">2</a>)</span>
<p>Roy B. (1991) The outranking approach and the foundations of electre methods. Theory and Decision 31(1):49–73</p>
</div>
<div class="citation" id="roy-1993" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id26">ROY-1993</a><span class="fn-bracket">]</span></span>
<p>Roy B. and Bouyssou D. (1993), <em>Aide Multicritère à la Déecision : Méthodes et Ca</em>, Economica, Paris</p>
</div>
<div class="citation" id="bar-1991" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>BAR-1991<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id201">1</a>,<a role="doc-backlink" href="#id202">2</a>,<a role="doc-backlink" href="#id203">3</a>)</span>
<p>Barthélemy J.-P. and Guenoche A. (1991), <em>Trees and Proximities Representations</em>, Wiley, ISBN: 978-0471922636.</p>
</div>
<div class="citation" id="bar-1980" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id28">BAR-1980</a><span class="fn-bracket">]</span></span>
<p>Barbut M. (1980), “Médianes, Condorcet et Kendall”. <em>Mathématiques et Sciences Humaines</em>, 69:9–13.</p>
</div>
<div class="citation" id="roy-1966" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>ROY-1966<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id30">1</a>,<a role="doc-backlink" href="#id50">2</a>,<a role="doc-backlink" href="#id269">3</a>)</span>
<p>Benyaoun S., Roy B. and Sussmann B. (1966), ELECTRE: une méthode pour guider le choix en présence de points de vue multiples, Tech. Rep. 49, SEMA Direction Scientifique Paris.</p>
</div>
<div class="citation" id="kru-1956" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id207">KRU-1956</a><span class="fn-bracket">]</span></span>
<p>Kruskal J.B. (1956), <em>On the shortest spanning subtree of a graph and the traveling salesman problem</em>, Proceedings of the American Mathematical Society. 7: 48–50.</p>
</div>
<div class="citation" id="gal-1962" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id247">GAL-1962</a><span class="fn-bracket">]</span></span>
<p>Gale D. and Shapley L. S. (1962). “College Admissions and the Stability of Marriage”. <em>American Mathematical Monthly</em>. <strong>69</strong> (1): 9–14. doi:10.2307/2312726. JSTOR 2312726. Archived from the original on 2017-09-25. Retrieved 2019-11-20</p>
</div>
<div class="citation" id="con-1785" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id27">CON-1785</a><span class="fn-bracket">]</span></span>
<p>Condorcet, J.A.N. de Caritat marquis de (1785), <em>Essai sur l’application de l’analyse à la probabilité des décisions rendues à la pluralité des voix</em>, Imprimerie royale Paris, <a class="reference external" href="https://gallica.bnf.fr/ark:/12148/bpt6k417181/f4.item">https://gallica.bnf.fr/ark:/12148/bpt6k417181/f4.item</a></p>
</div>
</div>
<section id="endnotes">
<span id="endnotes-label"></span><h3><span class="section-number">1.8.2. </span>Endnotes<a class="headerlink" href="#endnotes" title="Link to this heading"></a></h3>
</section>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id208" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id3">1</a>,<a role="doc-backlink" href="#id7">2</a>,<a role="doc-backlink" href="#id23">3</a>,<a role="doc-backlink" href="#id60">4</a>,<a role="doc-backlink" href="#id85">5</a>,<a role="doc-backlink" href="#id177">6</a>)</span>
<p>The <em>exportGraphViz</em> method is depending on drawing tools from <a class="reference external" href="https://graphviz.org/">graphviz</a>. On Linux Ubuntu or Debian you may try ‘sudo apt-get install graphviz’ to install them. There are ready <em>dmg</em> installers for Mac OSX.</p>
</aside>
<aside class="footnote brackets" id="id210" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id184">2</a><span class="fn-bracket">]</span></span>
<p>Dependency: The <a class="reference internal" href="techDoc.html#digraphs.Digraph.automorphismGenerators" title="digraphs.Digraph.automorphismGenerators"><code class="xref py py-func docutils literal notranslate"><span class="pre">automorphismGenerators()</span></code></a> method uses the shell <code class="code docutils literal notranslate"><span class="pre">dreadnaut</span></code> command from the nauty software package. See <a class="reference external" href="https://www3.cs.stonybrook.edu/~algorith/implement/nauty/implement.shtml">https://www3.cs.stonybrook.edu/~algorith/implement/nauty/implement.shtml</a> . On Mac OS there exist dmg installers and on Ubuntu Linux or Debian, one may easily install it with <code class="code docutils literal notranslate"><span class="pre">...$</span> <span class="pre">sudo</span> <span class="pre">apt-get</span> <span class="pre">install</span> <span class="pre">nauty</span></code>.</p>
</aside>
<aside class="footnote brackets" id="id211" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id183">3</a><span class="fn-bracket">]</span></span>
<p>The <code class="code docutils literal notranslate"><span class="pre">perrinMIS</span></code> shell command may be installed system wide with the command <code class="code docutils literal notranslate"><span class="pre">.../Digraph3$</span> <span class="pre">make</span> <span class="pre">installPerrin</span></code> from the main Digraph3 directory. It is stored by default into <code class="code docutils literal notranslate"><span class="pre">&lt;/usr/local/bin/&gt;</span></code>. This may be changed with the <code class="code docutils literal notranslate"><span class="pre">INSTALLDIR</span></code> flag. The command <code class="code docutils literal notranslate"><span class="pre">.../Digraph3$</span> <span class="pre">make</span> <span class="pre">installPerrinUser</span></code> installs it instead without sudo into the user’s private <code class="code docutils literal notranslate"><span class="pre">&lt;$Home/.bin&gt;</span></code> directory.</p>
</aside>
<aside class="footnote brackets" id="id212" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id205">4</a><span class="fn-bracket">]</span></span>
<p><em>Wilson</em>’s algorithm uses <em>loop-erased random walks</em>. See <a class="reference external" href="https://en.wikipedia.org/wiki/Loop-erased_random_walk">https://en.wikipedia.org/wiki/Loop-erased_random_walk</a> .</p>
</aside>
<aside class="footnote brackets" id="id213" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id206">5</a><span class="fn-bracket">]</span></span>
<p><em>Kruskal</em>’s algorithm is a <em>minimum-spanning-tree</em> algorithm which finds an edge of the least possible weight that connects any two trees in the forest.  See <a class="reference external" href="https://en.wikipedia.org/wiki/Kruskal%27s_algorithm">https://en.wikipedia.org/wiki/Kruskal%27s_algorithm</a> .</p>
</aside>
<aside class="footnote brackets" id="id214" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>6<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id161">1</a>,<a role="doc-backlink" href="#id163">2</a>)</span>
<p>See <a class="reference external" href="https://cython.org/">https://cython.org/</a></p>
</aside>
<aside class="footnote brackets" id="id215" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>7<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id166">1</a>,<a role="doc-backlink" href="#id168">2</a>,<a role="doc-backlink" href="#id169">3</a>)</span>
<p>See <a class="reference external" href="https://hpc.uni.lu/systems/iris/">https://hpc.uni.lu/systems/iris/</a></p>
</aside>
<aside class="footnote brackets" id="id216" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id167">8</a><span class="fn-bracket">]</span></span>
<p>See <a class="reference external" href="https://hpc.uni.lu/systems/gaia/">https://hpc.uni.lu/systems/gaia/</a></p>
</aside>
<aside class="footnote brackets" id="id217" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id84">13</a><span class="fn-bracket">]</span></span>
<p>The class of <em>self-codual</em> bipolar-valued digraphs consists of all <em>weakly asymmetrical</em> digraphs, i.e. digraphs containing only <em>asymmetrical</em> and/or <em>indeterminate</em> links. Limit cases consists of, on the one side, <em>full tournaments</em> with <em>indeterminate reflexive links</em>, and, on the other side, <em>fully indeterminate</em> digraphs. In this class, the <em>converse</em> (inverse ~ ) operator is indeed identical to the <em>dual</em> (negation - ) one.</p>
</aside>
<aside class="footnote brackets" id="id218" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>14<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id9">1</a>,<a role="doc-backlink" href="#id20">2</a>,<a role="doc-backlink" href="#id178">3</a>)</span>
<p>Not to be confused with the <em>dual graph</em> of a plane graph <em>g</em> that has a vertex for each face of <em>g</em>. Here we mean the <em>less than</em> (strict converse) relation corresponding to a <em>greater or equal</em> relation, or the <em>less than or equal</em> relation corresponding to a (strict) <em>better than</em> relation.</p>
</aside>
<aside class="footnote brackets" id="id219" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id87">15</a><span class="fn-bracket">]</span></span>
<p>The concept of <em>Condorcet</em> winner -a generalization of absolute majority winners- proposed by <em>Condorcet</em> in 1785, is an early historical example of <em>initial</em> digraph kernel (see the tutorial <a class="reference internal" href="pearls.html#kernel-tutorial-label"><span class="std std-ref">On computing digraph kernels</span></a>).</p>
</aside>
<aside class="footnote brackets" id="id220" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id89">16</a><span class="fn-bracket">]</span></span>
<p>Discrete random variables with a given empirical probability law (here the polls) are provided in the <a class="reference internal" href="techDoc.html#module-randomNumbers" title="randomNumbers"><code class="xref py py-mod docutils literal notranslate"><span class="pre">randomNumbers</span></code></a> module by the <a class="reference internal" href="techDoc.html#randomNumbers.DiscreteRandomVariable" title="randomNumbers.DiscreteRandomVariable"><code class="xref py py-class docutils literal notranslate"><span class="pre">DiscreteRandomVariable</span></code></a> class.</p>
</aside>
<aside class="footnote brackets" id="id221" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id10">17</a><span class="fn-bracket">]</span></span>
<p>Roy, B. <em>Transitivité et connexité.</em> C. R. Acad. Sci. Paris 249, 216-218, 1959. Warshall, S. <em>A Theorem on Boolean Matrices.</em> J. ACM 9, 11-12, 1962.</p>
</aside>
<aside class="footnote brackets" id="id222" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id192">18</a><span class="fn-bracket">]</span></span>
<p>A Digraph3 <em>graphs.Graph</em> encoded file is available in the <code class="code docutils literal notranslate"><span class="pre">examples</span></code> directory of the Digraph3 software collection.</p>
</aside>
<aside class="footnote brackets" id="id223" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id106">19</a><span class="fn-bracket">]</span></span>
<p>This case study is inspired by a <em>Multiple Criteria Decision Analysis</em> case study published in Eisenführ Fr., Langer Th., and Weber M., <em>Fallstudien zu rationalem Entscheiden</em>, Springer 2001, pp. 1-17.</p>
</aside>
<aside class="footnote brackets" id="id224" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id111">20</a><span class="fn-bracket">]</span></span>
<p>Ganzeboom H.B.G, Treiman D.J. “Internationally Comparable Measures of Occupational Status for the 1988 International Standard Classification of Occupations”, <em>Social Science Research</em> 25, 201–239 (1996).</p>
</aside>
<aside class="footnote brackets" id="id225" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id110">21</a><span class="fn-bracket">]</span></span>
<p>Alice’s performance tableau <code class="code docutils literal notranslate"><span class="pre">AliceChoice.py</span></code> is available in the <code class="code docutils literal notranslate"><span class="pre">examples</span></code> directory of the Digraph3 software collection.</p>
</aside>
<aside class="footnote brackets" id="id226" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id116">22</a><span class="fn-bracket">]</span></span>
<p>See also the corresponding <a class="reference internal" href="pearls.html#bipolar-valued-likelihood-tutorial-label"><span class="std std-ref">Advanced Topic</span></a> in the Digraph3 documentation.</p>
</aside>
<aside class="footnote brackets" id="id227" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id112">23</a><span class="fn-bracket">]</span></span>
<p>See the tutorial on <a class="reference internal" href="#ranking-tutorial-label"><span class="std std-ref">ranking with multiple incommensurable criteria</span></a>.</p>
</aside>
<aside class="footnote brackets" id="id228" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id114">24</a><span class="fn-bracket">]</span></span>
<p>See also the <a class="reference internal" href="pearls.html#bipolar-valued-kernels-tutorial-label"><span class="std std-ref">Advanced Topic</span></a> about computing best choice membership characteristics in the Digraph3 documentation.</p>
</aside>
<aside class="footnote brackets" id="id229" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id117">25</a><span class="fn-bracket">]</span></span>
<p>See also the corresponding <a class="reference internal" href="pearls.html#unopposed-outranking-tutorial-label"><span class="std std-ref">Advanced Topic</span></a> in the Digraph3 documentation.</p>
</aside>
<aside class="footnote brackets" id="id230" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>26<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id38">1</a>,<a role="doc-backlink" href="#id108">2</a>)</span>
<p>A <em>coherent family</em> of performance criteria verifies: a) <em>Exhaustiveness</em>: No argument acceptable to all stakeholders can be put forward to justify a preference in favour of action <em>x</em> versus action <em>y</em>  when <em>x</em> and <em>y</em> have the same performance level on each of the criteria of the family; b) <em>Cohesiveness</em>: Stakeholders unanimously recognize that action <em>x</em> must be preferred to action <em>y</em> whenever the performance level of <em>x</em> is significantly better than that of <em>x</em> on one of the criteria of positive weight, performance levels of <em>x</em> and <em>y</em> being the same on each of the other criteria; c) <em>Nonredundancy</em>: One of the above requirements is violated if one of the criteria is left out from the family. <em>Source</em>: European Working Group “<em>Multicriteria Aid for Decisions</em>” Series 3, no1, Spring, 2000.</p>
</aside>
<aside class="footnote brackets" id="id231" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>27<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id113">1</a>,<a role="doc-backlink" href="#id130">2</a>)</span>
<p>See also the corresponding <a class="reference internal" href="pearls.html#ordinalcorrelation-tutorial-label"><span class="std std-ref">Advanced Topic</span></a> in the Digraph3 documentation.</p>
</aside>
<aside class="footnote brackets" id="id232" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>28<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id132">1</a>,<a role="doc-backlink" href="#id135">2</a>)</span>
<p>Ref: <em>Der Spiegel</em> 48/2004 p.181, Url: <a class="reference external" href="https://www.spiegel.de/thema/studentenspiegel/">https://www.spiegel.de/thema/studentenspiegel/</a> .</p>
</aside>
<aside class="footnote brackets" id="id233" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>29<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id133">1</a>,<a role="doc-backlink" href="#id134">2</a>,<a role="doc-backlink" href="#id138">3</a>,<a role="doc-backlink" href="#id139">4</a>,<a role="doc-backlink" href="#id140">5</a>)</span>
<p>The methology guiding the <em>Spiegel</em> survey may be consulted in German <a class="reference external" href="_static/spiegelMethod.pdf">here</a> . A copy may be consulted in <em>examples</em> directory of the <em>Digraph3</em> ressources.</p>
</aside>
<aside class="footnote brackets" id="id234" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id142">30</a><span class="fn-bracket">]</span></span>
<p>It would have been much more accurate to estimate such quantile limits from the individual qualitiy scores of all the nearly 50,000 surveyed students. But this data was not public.</p>
</aside>
<aside class="footnote brackets" id="id235" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>31<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id144">1</a>,<a role="doc-backlink" href="#id145">2</a>)</span>
<p>Converted by a +1.0 shift and a 0.5 * 100 scale transform from a bipolar-valued credibility of +0.07 in [-1.0, +1.0] to a majority (in %) support.</p>
</aside>
<aside class="footnote brackets" id="id236" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id137">32</a><span class="fn-bracket">]</span></span>
<p>The performance tableau <code class="code docutils literal notranslate"><span class="pre">studentenSpiegel04.py</span></code> is also available in the <code class="code docutils literal notranslate"><span class="pre">examples</span></code> directory of the Digraph3 software collection.</p>
</aside>
<aside class="footnote brackets" id="id237" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id141">34</a><span class="fn-bracket">]</span></span>
<p>See the tutorial on <a class="reference internal" href="#ranking-tutorial-label"><span class="std std-ref">ranking with incommensurable performance criteria</span></a>.</p>
</aside>
<aside class="footnote brackets" id="id238" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id143">35</a><span class="fn-bracket">]</span></span>
<p>See the advanced topic on <a class="reference internal" href="pearls.html#ordinalcorrelation-tutorial-label"><span class="std std-ref">the ordinal correlation of bipolar-valued digraphs</span></a>.</p>
</aside>
<aside class="footnote brackets" id="id239" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id120">36</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://www.timeshighereducation.com/world-university-rankings/2017/subject-ranking/computer-science#!/page/0/length/25/sort_by/rank/sort_order/asc/cols/scores">https://www.timeshighereducation.com/world-university-rankings/2017/subject-ranking/computer-science#!/page/0/length/25/sort_by/rank/sort_order/asc/cols/scores</a></p>
</aside>
<aside class="footnote brackets" id="id240" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id121">37</a><span class="fn-bracket">]</span></span>
<p>The performance tableau <code class="code docutils literal notranslate"><span class="pre">the_cs_2016.py</span></code> is also available in the <code class="code docutils literal notranslate"><span class="pre">examples</span></code> directory of the Digraph3 software collection.</p>
</aside>
<aside class="footnote brackets" id="id241" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id124">38</a><span class="fn-bracket">]</span></span>
<p>The author’s own Computer Science Dept at the <em>University of Luxembourg</em> was ranked on position 63 with an overall score of 58.0.</p>
</aside>
<aside class="footnote brackets" id="id242" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id122">39</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://www.timeshighereducation.com/sites/default/files/styles/article785xauto/public/wur_graphic_1.jpg?itok=XS6NcZfL">https://www.timeshighereducation.com/sites/default/files/styles/article785xauto/public/wur_graphic_1.jpg?itok=XS6NcZfL</a> gives some insight on the subject and significance of the actual performance criteria used for grading along each ranking objective.</p>
</aside>
<aside class="footnote brackets" id="id243" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id123">40</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://www.timeshighereducation.com/world-university-rankings/methodology-world-university-rankings-2016-2017">https://www.timeshighereducation.com/world-university-rankings/methodology-world-university-rankings-2016-2017</a></p>
</aside>
<aside class="footnote brackets" id="id244" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id129">41</a><span class="fn-bracket">]</span></span>
<p>The reader might try other ranking rules, like <em>Copeland</em>’s, <em>Kohler</em>’s, <em>Tideman</em>’s rule or the iterated versions of the <em>NetFlows</em> and <em>Copeland</em>’s rule. Mind that the latter <em>ranking-by-choosing</em> rules are more complex.</p>
</aside>
<aside class="footnote brackets" id="id245" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id127">42</a><span class="fn-bracket">]</span></span>
<p>In a social choice context, this potential double bind between voting profiles and election result, corresponds to voting manipulation strategies.</p>
</aside>
<aside class="footnote brackets" id="id246" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id94">43</a><span class="fn-bracket">]</span></span>
<p><a class="reference internal" href="#gal-1962" id="id247"><span>[GAL-1962]</span></a></p>
</aside>
<aside class="footnote brackets" id="id248" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id96">44</a><span class="fn-bracket">]</span></span>
<p>Our implementation is based on John Lekberg’s blog. See
<a class="reference external" href="https://johnlekberg.com/blog/2020-08-22-stable-matching.html">https://johnlekberg.com/blog/2020-08-22-stable-matching.html</a></p>
</aside>
<aside class="footnote brackets" id="id249" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>45<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id93">1</a>,<a role="doc-backlink" href="#id95">2</a>,<a role="doc-backlink" href="#id97">3</a>)</span>
<p>See <a class="reference external" href="https://en.wikipedia.org/wiki/Gale%E2%80%93Shapley_algorithm">https://en.wikipedia.org/wiki/Gale%E2%80%93Shapley_algorithm</a></p>
</aside>
<aside class="footnote brackets" id="id250" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id153">46</a><span class="fn-bracket">]</span></span>
<p>The data is taken from Ph. Vincke, <em>Multicriteria Decision-Aid</em>, John Wiley &amp; Sons Ltd, Chichester UK 1992, p.33-35.</p>
</aside>
<aside class="footnote brackets" id="id251" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id103">47</a><span class="fn-bracket">]</span></span>
<p>Integer sequence <a class="reference external" href="http://oeis.org/A001147">http://oeis.org/A001147</a></p>
</aside>
<aside class="footnote brackets" id="id252" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id102">48</a><span class="fn-bracket">]</span></span>
<p>A perfect matching is a saturated matching, i.e. a maximal matching which leaves no vertice unconnected.</p>
</aside>
<aside class="footnote brackets" id="id253" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>49<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id92">1</a>,<a role="doc-backlink" href="#id98">2</a>,<a role="doc-backlink" href="#id99">3</a>,<a role="doc-backlink" href="#id100">4</a>)</span>
<p>The stored versions <em>lvAx.py</em>, <em>lvBx.py</em>, <em>apA1.py</em> and <em>apB1.py</em> of the examples of reciprocal randdom voting profiles discussed in the intergroup pairing tutorial may be found in the <em>examples</em> directory of the <em>Digraph3</em> resources.</p>
</aside>
<aside class="footnote brackets" id="id254" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id104">50</a><span class="fn-bracket">]</span></span>
<p>The inter- and intragroup pairing solvers solely maximise the overall correlation with the individual pairing preferences. It may happen that a slightly lesser overall correlation result comes with a considerable lower standard deviation. Is this pairing solution than fairer than the one with a higher overall correlation? Asked more generally: is a society with highest global welfare but uneven wealth distribution a fairer society than the one showing less global welfare but with a considerable less uneven wealth distribution?</p>
</aside>
<aside class="footnote brackets" id="id255" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id159">51</a><span class="fn-bracket">]</span></span>
<p>See <a class="reference external" href="https://britishgeologicalsurvey.github.io/science/python-forking-vs-spawn/">https://britishgeologicalsurvey.github.io/science/python-forking-vs-spawn/</a></p>
</aside>
<aside class="footnote brackets" id="id256" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id158">52</a><span class="fn-bracket">]</span></span>
<p>See the documentation of the <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="(in Python v3.14)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> module</p>
</aside>
<aside class="footnote brackets" id="id257" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id157">53</a><span class="fn-bracket">]</span></span>
<p>When tackling matrix computations it may be possible to further accelerate the computations with a potential GPU. The interested reader may find in the <em>cuda</em> directory in the Digraph3 resources an experimental <em>cudaDigraphs.py</em> module which uses <em>numpy</em> and NVIDIA GPU resources for measuring the speeding up of the element wise computation of the dual, converse and codual transforms and the fusion operation for large (order &gt;= 10000) <code class="code docutils literal notranslate"><span class="pre">cIntegerOurankingDigraphs.IntegerBipolarOutrankingDigraph</span></code> objects.</p>
</aside>
<aside class="footnote brackets" id="id258" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id170">54</a><span class="fn-bracket">]</span></span>
<p>The kind support of the <em>Faculty of Science Technology and Medecine</em> of the <em>University of Luxembourg</em> (<a class="reference external" href="https://www.uni.lu/fstm-en/">https://www.uni.lu/fstm-en/</a>) and of <em>LUXPROVIDE</em> (<a class="reference external" href="https://www.luxprovide.lu/">https://www.luxprovide.lu/</a>) is gratefully acknowledged.</p>
</aside>
<aside class="footnote brackets" id="id259" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id171">55</a><span class="fn-bracket">]</span></span>
<p>The acquisition and operation of the EuroHPC supercomputer is funded jointly by the EuroHPC Joint Undertaking, through the European Union’s Connecting Europe Facility and the Horizon 2020 research and innovation programme, as well as the Grand Duché du Luxembourg.</p>
</aside>
<aside class="footnote brackets" id="id260" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id165">56</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://www.wortmann.de/">https://www.wortmann.de/</a></p>
</aside>
<aside class="footnote brackets" id="id261" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>57<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id172">1</a>,<a role="doc-backlink" href="#id174">2</a>)</span>
<p>The sources of the cythonized Digraph3 modules (with <em>.pyx</em> suffix) may be found in the <em>cython</em> directory of the Digraph3 resources.</p>
</aside>
<aside class="footnote brackets" id="id262" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id173">58</a><span class="fn-bracket">]</span></span>
<p>See the <a class="reference internal" href="#three-objectives-performance-tableau-label"><span class="std std-ref">tutorial</span></a> on generating random three-objectives performance tableaux.</p>
</aside>
<aside class="footnote brackets" id="id263" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id62">59</a><span class="fn-bracket">]</span></span>
<p>See the advanced topic on <a class="reference internal" href="pearls.html#ordinalcorrelation-tutorial-label"><span class="std std-ref">bipolar-valued relational equivalence between bipolar-valued digraphs</span></a>.</p>
</aside>
<aside class="footnote brackets" id="id264" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id73">60</a><span class="fn-bracket">]</span></span>
<p>Topological Sort Algorithm 2.4 from <em>Algorithmic Graph Theory and Perfect Graphs</em> p.44 <a class="reference internal" href="#gol-2004" id="id265"><span>[GOL-2004]</span></a>.</p>
</aside>
<aside class="footnote brackets" id="id266" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id49">61</a><span class="fn-bracket">]</span></span>
<p>Laboratoires d’Analyse et de Modélisation de Systèmes d’Aide à la Décision, Université Paris-Dauphine, UMR 7243 CNRS.</p>
</aside>
<aside class="footnote brackets" id="id267" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>62<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id63">1</a>,<a role="doc-backlink" href="#id64">2</a>)</span>
<p>The set of intransitive triples of an outranking digraph <em>g</em> and its associated codual <em>gcd</em>, to be permuted in the search for a best qualified ranking result, are usually not the same.</p>
</aside>
<aside class="footnote brackets" id="id268" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id34">63</a><span class="fn-bracket">]</span></span>
<p>“<em>The goal of our research was to design a resolution method … that is easy to put into practice, that requires as few and reliable hypotheses as possible, and that meets the needs [of the decision maker] …</em> “ <a class="reference internal" href="#roy-1966" id="id269"><span>[ROY-1966]</span></a></p>
</aside>
<aside class="footnote brackets" id="id270" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id47">64</a><span class="fn-bracket">]</span></span>
<p>The <em>officeChoice.py</em> data file may be found in the <em>examples</em> directory of the Digraph3 resources.</p>
</aside>
<aside class="footnote brackets" id="id271" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id8">65</a><span class="fn-bracket">]</span></span>
<p>An example of a borderless <a class="reference internal" href="techDoc.html#randomDigraphs.RandomOutrankingValuationDigraph" title="randomDigraphs.RandomOutrankingValuationDigraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomOutrankingValuationDigraph</span></code></a> instance may be found in the <em>examples</em> directory of the <em>Digraphs3</em> resources under the name <em>borderlessROV9S25.py</em>.</p>
</aside>
<aside class="footnote brackets" id="id272" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id148">66</a><span class="fn-bracket">]</span></span>
<p>The best <em>Copeland</em> initial matching is computed following a matching fitness scores ranked potential pairs list.</p>
</aside>
<aside class="footnote brackets" id="id273" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id147">67</a><span class="fn-bracket">]</span></span>
<p>The <a class="reference internal" href="techDoc.html#pairings.FairnessEnhancedIntraGroupMatching" title="pairings.FairnessEnhancedIntraGroupMatching"><code class="xref py py-class docutils literal notranslate"><span class="pre">FairnessEnhancedIntraGroupMatching</span></code></a> class provides also the opportunity to use <em>Bachet</em> ranking scores instead of the <em>Copeland</em> scores for guiding the fairness enhancing procedure. Unfortunately, ongoing tests don’t show any convincing better results.</p>
</aside>
<aside class="footnote brackets" id="id274" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id150">68</a><span class="fn-bracket">]</span></span>
<p>See <a class="reference external" href="https://en.wikipedia.org/wiki/Gale%E2%80%93Shapley_algorithm">https://en.wikipedia.org/wiki/Gale%E2%80%93Shapley_algorithm</a></p>
</aside>
<aside class="footnote brackets" id="id275" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id151">69</a><span class="fn-bracket">]</span></span>
<p>See <a class="reference internal" href="#fair-intergroup-pairings-label"><span class="std std-ref">computing fair intergroup pairings</span></a></p>
</aside>
</aside>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Python resources for Algorithmic Decision Theory" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="techDoc.html" class="btn btn-neutral float-right" title="2. Technical Reference of the Digraph3 modules" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2012-2025, Raymond Bisdorff.
      <span class="lastupdated">Last updated on Feb 16, 2026.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>