

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>randomPerfTabs &mdash; Digraph3 3.13.5 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=4ae1632d" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=32a6def9"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../_static/copybutton.js?v=15d7cbb8"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Digraph3
              <img src="../_static/htmlLogo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">1. Digraph3 Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../techDoc.html">2. Technical Reference of the Digraph3 modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pearls.html">3. Pearls of bipolar-valued epistemic logic</a></li>
<li class="toctree-l1"><a class="reference internal" href="../adtLectures.html">4. Algorithmic Decision Theory Lectures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../compStatLectures.html">5. Computational Statistics Lectures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../digraph3Archives.html">6. Digraph3 Archives</a></li>
<li class="toctree-l1"><a class="reference internal" href="../errataList.html">7. Digraph3 Book Errata List</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Digraph3</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Module code</a></li>
      <li class="breadcrumb-item active">randomPerfTabs</li>

  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for randomPerfTabs</h1><div class="highlight"><pre>
<span></span><span class="ch">#!/usr/bin/env python3</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Python implementation of digraphs</span>
<span class="sd">Module for generating random performance tableaux  </span>
<span class="sd">Copyright (C) 2015-2025  Raymond Bisdorff</span>

<span class="sd">    This program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 3 of the License, or (at your option) any later version.</span>

<span class="sd">    This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.</span>

<span class="sd">    You should have received a copy of the GNU General Public License along with this program; if not, write to the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="c1">#######################</span>

<span class="n">__version__</span> <span class="o">=</span> <span class="s2">&quot;$Revision: python3.13.2 $&quot;</span>

<span class="kn">from</span> <span class="nn">perfTabs</span> <span class="kn">import</span> <span class="n">PerformanceTableau</span>
<span class="kn">from</span> <span class="nn">decimal</span> <span class="kn">import</span> <span class="n">Decimal</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">OrderedDict</span>

<span class="c1">#########################################</span>
<span class="c1"># generators for random PerformanceTableaux</span>

<div class="viewcode-block" id="RandomPerformanceTableau">
<a class="viewcode-back" href="../techDoc.html#randomPerfTabs.RandomPerformanceTableau">[docs]</a>
<span class="k">class</span> <span class="nc">RandomPerformanceTableau</span><span class="p">(</span><span class="n">PerformanceTableau</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    For generating a random standard performance tableau.</span>

<span class="sd">    Parameters:</span>
<span class="sd">        * numberOfActions := nbr of decision actions.</span>
<span class="sd">        * numberOfCriteria := number performance criteria.</span>
<span class="sd">        * weightDistribution := &#39;random&#39; (default) | &#39;fixed&#39; | &#39;equisignificant&#39;.</span>
<span class="sd">             | If &#39;random&#39;, weights are uniformly selected randomly</span>
<span class="sd">             | form the given weight scale;</span>
<span class="sd">             | If &#39;fixed&#39;, the weightScale must provided a corresponding weights</span>
<span class="sd">             | distribution;</span>
<span class="sd">             | If &#39;equisignificant&#39;, all criterion weights are put to unity.</span>
<span class="sd">        * weightScale := [Min,Max] (default =[1,numberOfCriteria].</span>
<span class="sd">        * IntegerWeights := True (default) | False (normalized to proportions of 1.0).</span>
<span class="sd">        * commonScale := [Min;Max]; common performance measuring scales (default = [0;100])</span>
<span class="sd">        * commonThresholds := [(q0,q1),(p0,p1),(v0,v1)]; common indifference(q), preference (p) and considerable performance difference discrimination thresholds. q0, p0 and v0 are expressed in percentige of the common scale amplitude: Max - Min.</span>
<span class="sd">        * commonMode := common random distribution of random performance measurements (default = (&#39;beta&#39;,None,(2,2)) ):</span>
<span class="sd">             | (&#39;uniform&#39;,None,None), uniformly distributed between min and max values. </span>
<span class="sd">             | (&#39;normal&#39;,mu,sigma), truncated Gaussion distribution. </span>
<span class="sd">             | (&#39;triangular&#39;,mode,repartition), generalized triangular distribution </span>
<span class="sd">             | (&#39;beta&#39;,mod,(alpha,beta)), mode in ]0,1[.</span>
<span class="sd">        * valueDigits := &lt;integer&gt;, precision of performance measurements</span>
<span class="sd">          (2 decimal digits by default).</span>
<span class="sd">        * missingDataProbability := 0 &lt;= x &lt;= 1.0; probability of missing performance evaluation on a criterion for an alternative (default 0.025). </span>
<span class="sd">        * Default NA symbol == Decimal(&#39;-999&#39;)       </span>

<span class="sd">    Code example:</span>
<span class="sd">        &gt;&gt;&gt; from randomPerfTabs import RandomPerformanceTableau</span>
<span class="sd">        &gt;&gt;&gt; t = RandomPerformanceTableau(numberOfActions=3,numberOfCriteria=1,seed=100)</span>
<span class="sd">        &gt;&gt;&gt; t.actions</span>
<span class="sd">            {&#39;a1&#39;: {&#39;comment&#39;: &#39;RandomPerformanceTableau() generated.&#39;, &#39;name&#39;: &#39;random decision action&#39;},</span>
<span class="sd">             &#39;a2&#39;: {&#39;comment&#39;: &#39;RandomPerformanceTableau() generated.&#39;, &#39;name&#39;: &#39;random decision action&#39;},</span>
<span class="sd">             &#39;a3&#39;: {&#39;comment&#39;: &#39;RandomPerformanceTableau() generated.&#39;, &#39;name&#39;: &#39;random decision action&#39;}}</span>
<span class="sd">        &gt;&gt;&gt; t.criteria</span>
<span class="sd">            {&#39;g1&#39;: {&#39;thresholds&#39;: {&#39;ind&#39; : (Decimal(&#39;10.0&#39;), Decimal(&#39;0.0&#39;)),</span>
<span class="sd">                                   &#39;veto&#39;: (Decimal(&#39;80.0&#39;), Decimal(&#39;0.0&#39;)),</span>
<span class="sd">                                   &#39;pref&#39;: (Decimal(&#39;20.0&#39;), Decimal(&#39;0.0&#39;))},</span>
<span class="sd">                    &#39;scale&#39;: [0.0, 100.0],</span>
<span class="sd">                    &#39;weight&#39;: Decimal(&#39;1&#39;),</span>
<span class="sd">                    &#39;name&#39;: &#39;digraphs.RandomPerformanceTableau() instance&#39;,</span>
<span class="sd">                    &#39;comment&#39;: &#39;Arguments: ; weightDistribution=random;</span>
<span class="sd">                        weightScale=(1, 1); commonMode=None&#39;}}</span>
<span class="sd">        &gt;&gt;&gt; t.evaluation</span>
<span class="sd">            {&#39;g01&#39;: {&#39;a01&#39;: Decimal(&#39;45.95&#39;),</span>
<span class="sd">                     &#39;a02&#39;: Decimal(&#39;95.17&#39;),</span>
<span class="sd">                     &#39;a03&#39;: Decimal(&#39;17.47&#39;)</span>
<span class="sd">                    }</span>
<span class="sd">            }</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">numberOfActions</span> <span class="o">=</span> <span class="mi">13</span><span class="p">,</span>
                 <span class="n">actionNamePrefix</span> <span class="o">=</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span>
                 <span class="n">numberOfCriteria</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
                 <span class="n">weightDistribution</span> <span class="o">=</span> <span class="s1">&#39;equisignificant&#39;</span><span class="p">,</span>
                 <span class="n">weightScale</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">IntegerWeights</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                 <span class="n">commonScale</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">100.0</span><span class="p">),</span>
                 <span class="n">commonThresholds</span> <span class="o">=</span> <span class="p">((</span><span class="mf">2.5</span><span class="p">,</span><span class="mf">0.0</span><span class="p">),(</span><span class="mf">5.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">),(</span><span class="mf">80.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">)),</span>
                 <span class="n">commonMode</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;beta&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">,(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)),</span>
                 <span class="n">valueDigits</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
                 <span class="n">missingDataProbability</span> <span class="o">=</span> <span class="mf">0.025</span><span class="p">,</span>
                 <span class="n">NA</span> <span class="o">=</span> <span class="o">-</span><span class="mi">999</span><span class="p">,</span>
                 <span class="n">BigData</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                 <span class="n">seed</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">Debug</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
        
        <span class="kn">import</span> <span class="nn">sys</span><span class="o">,</span><span class="nn">time</span><span class="o">,</span><span class="nn">math</span>
        <span class="kn">from</span> <span class="nn">copy</span> <span class="kn">import</span> <span class="n">copy</span>

        <span class="c1"># fixing the seed (None by default)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">randomSeed</span> <span class="o">=</span> <span class="n">seed</span>
        <span class="kn">import</span> <span class="nn">random</span>
        <span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span>
        <span class="kn">from</span> <span class="nn">randomNumbers</span> <span class="kn">import</span> <span class="n">ExtendedTriangularRandomVariable</span> <span class="k">as</span> <span class="n">RNGTr</span>
        
        <span class="c1"># seeting tableau name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;randomperftab&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">BigData</span> <span class="o">=</span> <span class="n">BigData</span>
        
        <span class="c1"># generate actions</span>
        <span class="n">nd</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">numberOfActions</span><span class="p">))</span>
        <span class="n">actions</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">numberOfActions</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">BigData</span><span class="p">:</span>
                <span class="n">actionName</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;</span><span class="si">%s%%</span><span class="s1">0</span><span class="si">%d</span><span class="s1">d&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">actionNamePrefix</span><span class="p">,</span><span class="n">nd</span><span class="p">))</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span><span class="p">)</span>
                <span class="n">actions</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="n">actionName</span><span class="p">}</span>
            <span class="k">else</span><span class="p">:</span>   
                <span class="n">actionKey</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;</span><span class="si">%s%%</span><span class="s1">0</span><span class="si">%d</span><span class="s1">d&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">actionNamePrefix</span><span class="p">,</span><span class="n">nd</span><span class="p">))</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span><span class="p">)</span>
                <span class="n">actions</span><span class="p">[</span><span class="n">actionKey</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;shortName&#39;</span><span class="p">:</span><span class="n">actionKey</span><span class="p">,</span>
                        <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;action #</span><span class="si">%d</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">i</span><span class="p">,</span>
                        <span class="s1">&#39;comment&#39;</span><span class="p">:</span> <span class="s1">&#39;RandomPerformanceTableau() generated.&#39;</span> <span class="p">}</span>
                
<span class="c1">#        # generate weights</span>
        <span class="k">if</span> <span class="n">weightScale</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">weightScale</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">numberOfCriteria</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">weightDistribution</span> <span class="o">==</span> <span class="s1">&#39;random&#39;</span><span class="p">:</span>
            <span class="n">weightsList</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">sumWeights</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0.0&#39;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numberOfCriteria</span><span class="p">):</span>
                <span class="n">weightsList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="n">weightScale</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                                               <span class="n">weightScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]))))</span>
                <span class="n">sumWeights</span> <span class="o">+=</span> <span class="n">weightsList</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">weightsList</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">weightDistribution</span> <span class="o">==</span> <span class="s1">&#39;fixed&#39;</span><span class="p">:</span>
            <span class="n">weightsList</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">sumWeights</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0.0&#39;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numberOCriteria</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">weightsList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">weightScale</span><span class="p">[</span><span class="mi">1</span><span class="p">])))</span>
                    <span class="n">sumWeights</span> <span class="o">+=</span> <span class="n">weightScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">weightsList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">weightScale</span><span class="p">[</span><span class="mi">0</span><span class="p">])))</span>
                    <span class="n">sumWeights</span> <span class="o">+=</span> <span class="n">weightScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">weightsList</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">weightDistribution</span> <span class="o">==</span> <span class="s1">&#39;equisignificant&#39;</span> \
             <span class="ow">or</span> <span class="n">weightDistribution</span> <span class="o">==</span> <span class="s1">&#39;equiobjectives&#39;</span><span class="p">:</span>
            <span class="n">weightScale</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">weightsList</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">sumWeights</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0.0&#39;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numberOfCriteria</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">weightsList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">weightScale</span><span class="p">[</span><span class="mi">1</span><span class="p">])))</span>
                    <span class="n">sumWeights</span> <span class="o">+=</span> <span class="n">weightScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">weightsList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">weightScale</span><span class="p">[</span><span class="mi">0</span><span class="p">])))</span>
                    <span class="n">sumWeights</span> <span class="o">+=</span> <span class="n">weightScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">weightsList</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;!!! Error: wrong criteria weight distribution mode: </span><span class="si">%s</span><span class="s1"> !!!!&#39;</span> \
                  <span class="o">%</span> <span class="p">(</span><span class="n">weightDistribution</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sumWeights</span> <span class="o">=</span> <span class="n">sumWeights</span>

        <span class="c1"># generate criteria dictionary</span>
        <span class="k">if</span> <span class="n">commonMode</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1">#commonMode = [&#39;uniform&#39;,None,None]</span>
            <span class="n">commonMode</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;beta&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">,(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)]</span>
        <span class="n">ngd</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">numberOfCriteria</span><span class="p">))</span>
        <span class="n">criteria</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>
        <span class="n">commentString</span> <span class="o">=</span> <span class="s1">&#39;Arguments: &#39;</span>
        <span class="n">commentString</span> <span class="o">+=</span> <span class="s1">&#39;; weightDistribution=&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">weightDistribution</span><span class="p">)</span>
        <span class="n">commentString</span> <span class="o">+=</span> <span class="s1">&#39;; weightScale=&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">weightScale</span><span class="p">)</span>
        <span class="n">commentString</span> <span class="o">+=</span> <span class="s1">&#39;; commonMode=&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">commonMode</span><span class="p">)</span>
        <span class="n">digits</span> <span class="o">=</span> <span class="n">valueDigits</span>
        <span class="n">commonAmplitude</span> <span class="o">=</span> <span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numberOfCriteria</span><span class="p">):</span>
            <span class="n">g</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;g</span><span class="si">%%</span><span class="s1">0</span><span class="si">%d</span><span class="s1">d&#39;</span> <span class="o">%</span> <span class="n">ngd</span><span class="p">)</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;RandomPerformanceTableau() instance&#39;</span>
            <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;comment&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">commentString</span>
            <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;preferenceDirection&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;max&#39;</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">veto</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">commonThresholds</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>\
                             <span class="o">*</span> <span class="n">commonAmplitude</span><span class="o">/</span><span class="mf">100.0</span><span class="p">,</span><span class="n">digits</span><span class="p">)</span>
                <span class="n">ind</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">commonThresholds</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>\
                             <span class="o">*</span> <span class="n">commonAmplitude</span><span class="o">/</span><span class="mf">100.0</span><span class="p">,</span><span class="n">digits</span><span class="p">)</span>
                <span class="n">pref</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">commonThresholds</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>\
                             <span class="o">*</span> <span class="n">commonAmplitude</span><span class="o">/</span><span class="mf">100.0</span><span class="p">,</span><span class="n">digits</span><span class="p">)</span>
                <span class="n">weakVeto</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">commonThresholds</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>\
                                 <span class="o">*</span> <span class="n">commonAmplitude</span><span class="o">/</span><span class="mf">100.0</span><span class="p">,</span><span class="n">digits</span><span class="p">)</span>
                <span class="n">indThresholds</span><span class="o">=</span><span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">ind</span><span class="p">)),</span>
                               <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">commonThresholds</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">])))</span>
                <span class="n">prefThresholds</span><span class="o">=</span><span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">pref</span><span class="p">)),</span>
                                <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">commonThresholds</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">])))</span>
                <span class="n">weakVetoThresholds</span><span class="o">=</span><span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">weakVeto</span><span class="p">)),</span>
                                    <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">commonThresholds</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">])))</span>
                <span class="n">vetoThresholds</span><span class="o">=</span><span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">veto</span><span class="p">)),</span>
                                <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">commonThresholds</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">1</span><span class="p">])))</span>
                <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;thresholds&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;ind&#39;</span><span class="p">:</span><span class="n">indThresholds</span><span class="p">,</span>
                                             <span class="s1">&#39;pref&#39;</span><span class="p">:</span><span class="n">prefThresholds</span><span class="p">,</span>
                                             <span class="s1">&#39;weakVeto&#39;</span><span class="p">:</span><span class="n">weakVetoThresholds</span><span class="p">,</span>
                                             <span class="s1">&#39;veto&#39;</span><span class="p">:</span><span class="n">vetoThresholds</span><span class="p">}</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="n">ind</span> <span class="o">=</span> <span class="nb">round</span><span class="p">((</span><span class="n">commonThresholds</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="mf">100.0</span><span class="p">)</span>\
                            <span class="o">*</span> <span class="n">commonAmplitude</span><span class="p">,</span><span class="n">digits</span><span class="p">)</span>
                <span class="n">pref</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">commonThresholds</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>\
                             <span class="o">*</span> <span class="n">commonAmplitude</span><span class="o">/</span><span class="mf">100.0</span><span class="p">,</span><span class="n">digits</span><span class="p">)</span>
                <span class="n">veto</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">commonThresholds</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>\
                             <span class="o">*</span> <span class="n">commonAmplitude</span><span class="o">/</span><span class="mf">100.0</span><span class="p">,</span><span class="n">digits</span><span class="p">)</span>
                <span class="n">indThresholds</span><span class="o">=</span><span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">ind</span><span class="p">)),</span>
                               <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">commonThresholds</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">])))</span>
                <span class="n">prefThresholds</span><span class="o">=</span><span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">pref</span><span class="p">)),</span>
                                <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">commonThresholds</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">])))</span>
                <span class="n">vetoThresholds</span><span class="o">=</span><span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">veto</span><span class="p">)),</span>
                                <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">commonThresholds</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">])))</span>                
                <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;thresholds&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;ind&#39;</span><span class="p">:</span><span class="n">indThresholds</span><span class="p">,</span>
                                             <span class="s1">&#39;pref&#39;</span><span class="p">:</span><span class="n">prefThresholds</span><span class="p">,</span>
                                             <span class="s1">&#39;veto&#39;</span><span class="p">:</span><span class="n">vetoThresholds</span><span class="p">}</span>
            <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;scale&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">commonScale</span>
            <span class="k">if</span> <span class="n">IntegerWeights</span><span class="p">:</span>
                <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">weightsList</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">weightsList</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">/</span><span class="n">sumWeights</span>
        <span class="c1">#self.criteria = criteria</span>
        
        <span class="c1"># generate evaluations</span>
        <span class="n">digits</span><span class="o">=</span><span class="n">valueDigits</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">digits</span> <span class="o">=</span> <span class="n">digits</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">commonScale</span> <span class="o">=</span> <span class="n">commonScale</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">commonMode</span> <span class="o">=</span> <span class="n">commonMode</span>

        <span class="n">evaluation</span> <span class="o">=</span> <span class="p">{}</span>        
        <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">commonMode</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="s1">&#39;uniform&#39;</span><span class="p">:</span>          
            <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">criteria</span><span class="p">:</span>
                <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
                <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">actions</span><span class="p">:</span>
                    <span class="c1">## randeval = random.randint(commonScale[0],commonScale[1])</span>
                    <span class="n">randeval</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
                    <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>
                    
        <span class="k">elif</span> <span class="nb">str</span><span class="p">(</span><span class="n">commonMode</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="s1">&#39;triangular&#39;</span><span class="p">:</span>
            
            <span class="n">m</span> <span class="o">=</span> <span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">M</span> <span class="o">=</span> <span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">commonMode</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">xm</span> <span class="o">=</span> <span class="p">(</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="mf">2.0</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">xm</span> <span class="o">=</span> <span class="n">commonMode</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">commonMode</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">r</span>  <span class="o">=</span> <span class="mf">0.5</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">r</span>  <span class="o">=</span> <span class="n">commonMode</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
            <span class="n">rdseed</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>
            <span class="n">rng</span> <span class="o">=</span> <span class="n">RNGTr</span><span class="p">(</span><span class="n">m</span><span class="p">,</span><span class="n">M</span><span class="p">,</span><span class="n">xm</span><span class="p">,</span><span class="n">r</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="n">rdseed</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">criteria</span><span class="p">:</span>
                <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
                <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">actions</span><span class="p">:</span>
<span class="c1">##                    u = random.random()</span>
<span class="c1">##                    if u &lt; r:</span>
<span class="c1">##                        randeval = m + math.sqrt(u/r)*(xm-m)                   </span>
<span class="c1">##                    else:</span>
<span class="c1">##                        randeval = M - math.sqrt((1-u)/(1-r))*(M-xm)</span>
<span class="c1">##                    evaluation[g][a] = Decimal(str(round(randeval,digits)))</span>
                    <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">rng</span><span class="o">.</span><span class="n">random</span><span class="p">(),</span><span class="n">digits</span><span class="p">)))</span>
                    

        <span class="k">elif</span> <span class="nb">str</span><span class="p">(</span><span class="n">commonMode</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="s1">&#39;beta&#39;</span><span class="p">:</span>
            <span class="n">m</span> <span class="o">=</span> <span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">M</span> <span class="o">=</span> <span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">commonMode</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">xm</span> <span class="o">=</span> <span class="mf">0.5</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">xm</span> <span class="o">=</span> <span class="n">commonMode</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                
            <span class="k">if</span> <span class="n">commonMode</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">xm</span> <span class="o">&gt;</span> <span class="mf">0.5</span><span class="p">:</span>
                    <span class="n">beta</span> <span class="o">=</span> <span class="mf">2.0</span>
                    <span class="n">alpha</span> <span class="o">=</span> <span class="mf">1.0</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">xm</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">alpha</span> <span class="o">=</span> <span class="mf">2.0</span>
                    <span class="n">beta</span> <span class="o">=</span> <span class="mf">1.0</span><span class="o">/</span><span class="n">xm</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">alpha</span> <span class="o">=</span> <span class="n">commonMode</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">beta</span> <span class="o">=</span> <span class="n">commonMode</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">Debug</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;alpha,beta&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="p">,</span><span class="n">beta</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">criteria</span><span class="p">:</span>
                <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
                <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">actions</span><span class="p">:</span>
                    <span class="n">u</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">betavariate</span><span class="p">(</span><span class="n">alpha</span><span class="p">,</span><span class="n">beta</span><span class="p">)</span>
                    <span class="n">randeval</span> <span class="o">=</span> <span class="p">(</span><span class="n">u</span> <span class="o">*</span> <span class="p">(</span><span class="n">M</span><span class="o">-</span><span class="n">m</span><span class="p">))</span> <span class="o">+</span> <span class="n">m</span>
                    <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>
                    <span class="k">if</span> <span class="n">Debug</span><span class="p">:</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;xm,alpha,beta,u,m,M,randeval&#39;</span><span class="p">,</span>
                              <span class="n">xm</span><span class="p">,</span><span class="n">alpha</span><span class="p">,</span><span class="n">beta</span><span class="p">,</span><span class="n">u</span><span class="p">,</span><span class="n">m</span><span class="p">,</span><span class="n">M</span><span class="p">,</span><span class="n">randeval</span><span class="p">)</span>

        <span class="k">elif</span> <span class="nb">str</span><span class="p">(</span><span class="n">commonMode</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="s1">&#39;normal&#39;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">commonMode</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">mu</span> <span class="o">=</span> <span class="p">(</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="mf">2.0</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">mu</span> <span class="o">=</span> <span class="n">commonMode</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">commonMode</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">sigma</span> <span class="o">=</span> <span class="p">(</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="mf">4.0</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">sigma</span> <span class="o">=</span> <span class="n">commonMode</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">criteria</span><span class="p">:</span>
                <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
                <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">actions</span><span class="p">:</span>
                    <span class="n">notfound</span> <span class="o">=</span> <span class="kc">True</span> 
                    <span class="k">while</span> <span class="n">notfound</span><span class="p">:</span>
                        <span class="n">randeval</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">normalvariate</span><span class="p">(</span><span class="n">mu</span><span class="p">,</span><span class="n">sigma</span><span class="p">)</span>
                        <span class="k">if</span> <span class="n">randeval</span> <span class="o">&gt;=</span> <span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> \
                           <span class="ow">and</span>  <span class="n">randeval</span> <span class="o">&lt;=</span> <span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
                            <span class="n">notfound</span> <span class="o">=</span> <span class="kc">False</span>
                    <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;mode error in random evaluation generator !!&#39;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">commonMode</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
            <span class="c1">#sys.exit(1)</span>
        <span class="c1"># randomly insert missing data</span>
        <span class="n">NA</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="n">NA</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">NA</span> <span class="o">=</span> <span class="n">NA</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">missingDataProbability</span> <span class="o">=</span> <span class="n">missingDataProbability</span> 
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">criteria</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">actions</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">missingDataProbability</span><span class="p">:</span>
                    <span class="n">evaluation</span><span class="p">[</span><span class="n">c</span><span class="p">][</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="n">NA</span>

        <span class="c1"># store object dict</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">actions</span> <span class="o">=</span> <span class="n">actions</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">criteria</span> <span class="o">=</span> <span class="n">criteria</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">evaluation</span> <span class="o">=</span> <span class="n">evaluation</span>
        <span class="c1"># store weights preorder</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">weightPreorder</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">computeWeightPreorder</span><span class="p">()</span></div>



<div class="viewcode-block" id="RandomPerformanceGenerator">
<a class="viewcode-back" href="../techDoc.html#randomPerfTabs.RandomPerformanceGenerator">[docs]</a>
<span class="k">class</span> <span class="nc">RandomPerformanceGenerator</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generic wrapper for generating new decision actions or performance tableaux</span>
<span class="sd">    with random evaluations generated with a given performance tableau model of type:</span>
<span class="sd">    RandomPerformanceTableau, RandomCBPerformanceTableau,</span>
<span class="sd">    or Random3ObjectivesPerformanceTableau.</span>

<span class="sd">    The return format of generated new set of random actions is schown below.</span>
<span class="sd">    This return may be directly feeded to the PerformanceQuantiles.updateQuantiles() method.</span>

<span class="sd">    &gt;&gt;&gt; from randomPerfTabs import *</span>
<span class="sd">    &gt;&gt;&gt; t = RandomPerformanceTableau(seed=100)</span>
<span class="sd">    &gt;&gt;&gt; t</span>
<span class="sd">    *------- PerformanceTableau instance description ------*</span>
<span class="sd">    Instance class   : RandomPerformanceTableau</span>
<span class="sd">    Seed             : 100</span>
<span class="sd">    Instance name    : randomperftab</span>
<span class="sd">    Actions          : 13</span>
<span class="sd">    Criteria         : 7</span>
<span class="sd">    Attributes       : [</span>
<span class="sd">    &#39;randomSeed&#39;, &#39;name&#39;, &#39;BigData&#39;, &#39;sumWeights&#39;, &#39;digits&#39;, &#39;commonScale&#39;,</span>
<span class="sd">    &#39;commonMode&#39;, &#39;missingDataProbability&#39;, &#39;actions&#39;, &#39;criteria&#39;,</span>
<span class="sd">    &#39;evaluation&#39;, &#39;weightPreorder&#39;]</span>
<span class="sd">    &gt;&gt;&gt; rpg = RandomPerformanceGenerator(t,seed= 100)</span>
<span class="sd">    &gt;&gt;&gt; newActions = rpg.randomActions(2)</span>
<span class="sd">    &gt;&gt;&gt; print(newActions)</span>
<span class="sd">    {&#39;actions&#39;: OrderedDict([</span>
<span class="sd">    (&#39;a14&#39;, {&#39;shortName&#39;: &#39;a14&#39;,</span>
<span class="sd">             &#39;name&#39;: &#39;random decision action&#39;,</span>
<span class="sd">             &#39;comment&#39;: &#39;RandomPerformanceGenerator&#39;}),</span>
<span class="sd">    (&#39;a15&#39;, {&#39;shortName&#39;: &#39;a15&#39;,</span>
<span class="sd">             &#39;name&#39;: &#39;random decision action&#39;,</span>
<span class="sd">             &#39;comment&#39;: &#39;RandomPerformanceGenerator&#39;})]),</span>
<span class="sd">    &#39;evaluation&#39;: {</span>
<span class="sd">    &#39;g1&#39;: {&#39;a14&#39;: Decimal(&#39;15.17&#39;), &#39;a15&#39;: Decimal(&#39;80.87&#39;)},</span>
<span class="sd">    &#39;g2&#39;: {&#39;a14&#39;: Decimal(&#39;44.51&#39;), &#39;a15&#39;: Decimal(&#39;62.74&#39;)},</span>
<span class="sd">    &#39;g3&#39;: {&#39;a14&#39;: Decimal(&#39;57.87&#39;), &#39;a15&#39;: Decimal(&#39;64.24&#39;)},</span>
<span class="sd">    &#39;g4&#39;: {&#39;a14&#39;: Decimal(&#39;58.0&#39;), &#39;a15&#39;: Decimal(&#39;26.99&#39;)},</span>
<span class="sd">    &#39;g5&#39;: {&#39;a14&#39;: Decimal(&#39;24.22&#39;), &#39;a15&#39;: Decimal(&#39;21.18&#39;)},</span>
<span class="sd">    &#39;g6&#39;: {&#39;a14&#39;: Decimal(&#39;29.1&#39;), &#39;a15&#39;: Decimal(&#39;73.09&#39;)},</span>
<span class="sd">    &#39;g7&#39;: {&#39;a14&#39;: Decimal(&#39;96.58&#39;), &#39;a15&#39;: Decimal(&#39;-999&#39;)}}}</span>
<span class="sd">    &gt;&gt;&gt; newTab = rpg.randomPerformanceTableau(2)</span>
<span class="sd">    &gt;&gt;&gt; newTab.showPerformanceTableau()</span>
<span class="sd">    *----  performance tableau -----*</span>
<span class="sd">    criteria | weights | &#39;a17&#39;   &#39;a18&#39;   </span>
<span class="sd">    ---------|-----------------------------------------</span>
<span class="sd">       &#39;g1&#39;  |   1   |   55.80   22.03  </span>
<span class="sd">       &#39;g2&#39;  |   1   |   57.78   33.83  </span>
<span class="sd">       &#39;g3&#39;  |   1   |   80.54   31.83  </span>
<span class="sd">       &#39;g4&#39;  |   1   |   31.15   69.98  </span>
<span class="sd">       &#39;g5&#39;  |   1   |   46.25   48.80  </span>
<span class="sd">       &#39;g6&#39;  |   1   |   42.24   82.88  </span>
<span class="sd">       &#39;g7&#39;  |   1   |   57.31   41.66  </span>
<span class="sd">    </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">argPerfTab</span><span class="p">,</span><span class="n">actionNamePrefix</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span>
                 <span class="n">instanceCounter</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">randomPerfTabs</span> <span class="kn">import</span> <span class="n">_RandomStdPerformanceGenerator</span><span class="p">,</span>\
                                  <span class="n">_RandomCBPerformanceGenerator</span><span class="p">,</span>\
                                  <span class="n">_Random3ObjectivesPerformanceGenerator</span>
        <span class="kn">from</span> <span class="nn">performanceQuantiles</span> <span class="kn">import</span> <span class="n">PerformanceQuantiles</span>
        <span class="k">if</span> <span class="n">argPerfTab</span><span class="o">.</span><span class="vm">__class__</span> <span class="o">==</span> <span class="n">RandomPerformanceTableau</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span> <span class="o">=</span> <span class="n">_RandomStdPerformanceGenerator</span>
            <span class="k">return</span> <span class="n">_RandomStdPerformanceGenerator</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">argPerfTab</span><span class="p">,</span>
                            <span class="n">actionNamePrefix</span><span class="o">=</span><span class="n">actionNamePrefix</span><span class="p">,</span>
                            <span class="n">instanceCounter</span><span class="o">=</span><span class="n">instanceCounter</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="n">seed</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">argPerfTab</span><span class="o">.</span><span class="vm">__class__</span> <span class="o">==</span> <span class="n">RandomCBPerformanceTableau</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span> <span class="o">=</span> <span class="n">_RandomCBPerformanceGenerator</span>
            <span class="k">return</span> <span class="n">_RandomCBPerformanceGenerator</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">argPerfTab</span><span class="p">,</span>
                            <span class="n">actionNamePrefix</span><span class="o">=</span><span class="n">actionNamePrefix</span><span class="p">,</span>
                            <span class="n">instanceCounter</span><span class="o">=</span><span class="n">instanceCounter</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="n">seed</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">argPerfTab</span><span class="o">.</span><span class="vm">__class__</span> <span class="o">==</span> <span class="n">Random3ObjectivesPerformanceTableau</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span> <span class="o">=</span> <span class="n">_Random3ObjectivesPerformanceGenerator</span>
            <span class="k">return</span> <span class="n">_Random3ObjectivesPerformanceGenerator</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">argPerfTab</span><span class="p">,</span>
                            <span class="n">actionNamePrefix</span><span class="o">=</span><span class="n">actionNamePrefix</span><span class="p">,</span>
                            <span class="n">instanceCounter</span><span class="o">=</span><span class="n">instanceCounter</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="n">seed</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">argPerfTab</span><span class="o">.</span><span class="vm">__class__</span> <span class="o">==</span> <span class="n">PerformanceQuantiles</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">argPerfTab</span><span class="o">.</span><span class="n">perfTabType</span> <span class="o">==</span> <span class="s1">&#39;RandomPerformanceTableau&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span> <span class="o">=</span> <span class="n">_RandomStdPerformanceGenerator</span>
                <span class="k">return</span> <span class="n">_RandomStdPerformanceGenerator</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">argPerfTab</span><span class="p">,</span>
                            <span class="n">actionNamePrefix</span><span class="o">=</span><span class="n">actionNamePrefix</span><span class="p">,</span>
                            <span class="n">instanceCounter</span><span class="o">=</span><span class="n">instanceCounter</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="n">seed</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">argPerfTab</span><span class="o">.</span><span class="n">perfTabType</span> <span class="o">==</span> <span class="s1">&#39;RandomCBPerformanceTableau&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span> <span class="o">=</span> <span class="n">_RandomCBPerformanceGenerator</span>
                <span class="k">return</span> <span class="n">_RandomCBPerformanceGenerator</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">argPerfTab</span><span class="p">,</span>
                                <span class="n">actionNamePrefix</span><span class="o">=</span><span class="n">actionNamePrefix</span><span class="p">,</span>
                                <span class="n">instanceCounter</span><span class="o">=</span><span class="n">instanceCounter</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="n">seed</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">argPerfTab</span><span class="o">.</span><span class="n">perfTabType</span> <span class="o">==</span> <span class="s1">&#39;Random3ObjectivesPerformanceTableau&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span> <span class="o">=</span> <span class="n">_Random3ObjectivesPerformanceGenerator</span>
                <span class="k">return</span> <span class="n">_Random3ObjectivesPerformanceGenerator</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">argPerfTab</span><span class="p">,</span>
                                <span class="n">actionNamePrefix</span><span class="o">=</span><span class="n">actionNamePrefix</span><span class="p">,</span>
                                <span class="n">instanceCounter</span><span class="o">=</span><span class="n">instanceCounter</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="n">seed</span><span class="p">)</span>
            

<div class="viewcode-block" id="RandomPerformanceGenerator.randomActions">
<a class="viewcode-back" href="../techDoc.html#randomPerfTabs.RandomPerformanceGenerator.randomActions">[docs]</a>
    <span class="k">def</span> <span class="nf">randomActions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">nbrOfRandomActions</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generates nbrOfRandomActions.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">OrderedDict</span>
        <span class="n">criteria</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">perfTab</span><span class="o">.</span><span class="n">criteria</span>
        <span class="n">n</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">counter</span> <span class="o">+</span> <span class="n">nbrOfRandomActions</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nd</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>  
        <span class="n">newActions</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>
        <span class="n">newEvaluation</span> <span class="o">=</span><span class="p">{}</span>
        <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">criteria</span><span class="p">:</span>
            <span class="n">newEvaluation</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nbrOfRandomActions</span><span class="p">):</span>
            <span class="n">newAction</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_randomAction</span><span class="p">()</span>
            <span class="n">newKey</span> <span class="o">=</span> <span class="n">newAction</span><span class="p">[</span><span class="s1">&#39;action&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;key&#39;</span><span class="p">)</span>
            <span class="n">newActions</span><span class="p">[</span><span class="n">newKey</span><span class="p">]</span> <span class="o">=</span> <span class="n">newAction</span><span class="p">[</span><span class="s1">&#39;action&#39;</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">criteria</span><span class="p">:</span>
                <span class="n">newEvaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">newKey</span><span class="p">]</span> <span class="o">=</span> <span class="n">newAction</span><span class="p">[</span><span class="s1">&#39;evaluation&#39;</span><span class="p">][</span><span class="n">g</span><span class="p">]</span>
        <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;actions&#39;</span><span class="p">:</span> <span class="n">newActions</span><span class="p">,</span> <span class="s1">&#39;evaluation&#39;</span><span class="p">:</span> <span class="n">newEvaluation</span><span class="p">}</span></div>


<div class="viewcode-block" id="RandomPerformanceGenerator.randomPerformanceTableau">
<a class="viewcode-back" href="../techDoc.html#randomPerfTabs.RandomPerformanceGenerator.randomPerformanceTableau">[docs]</a>
    <span class="k">def</span> <span class="nf">randomPerformanceTableau</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">nbrOfRandomActions</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generates nbrOfRandomActions.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">OrderedDict</span>
        <span class="kn">from</span> <span class="nn">perfTabs</span> <span class="kn">import</span> <span class="n">EmptyPerformanceTableau</span>
        <span class="kn">from</span> <span class="nn">randomPerfTabs</span> <span class="kn">import</span> <span class="n">RandomPerformanceTableau</span><span class="p">,</span>\
             <span class="n">RandomCBPerformanceTableau</span><span class="p">,</span>\
             <span class="n">Random3ObjectivesPerformanceTableau</span>
        <span class="n">newPerfTab</span> <span class="o">=</span> <span class="n">EmptyPerformanceTableau</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">perfTab</span><span class="o">.</span><span class="n">perfTabType</span> <span class="o">==</span> <span class="s1">&#39;PerformanceQuantiles&#39;</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">perfTab</span><span class="o">.</span><span class="n">perfTabType</span> <span class="o">!=</span> <span class="s1">&#39;RandomPerformanceTableau&#39;</span><span class="p">:</span>
                    <span class="n">newPerfTab</span><span class="o">.</span><span class="vm">__class__</span> <span class="o">=</span> <span class="n">RandomPerformanceTableau</span>
                <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">perfTab</span><span class="o">.</span><span class="n">perfTabType</span> <span class="o">!=</span> <span class="s1">&#39;RandomCBPerformanceTableau&#39;</span><span class="p">:</span>
                    <span class="n">newPerfTab</span><span class="o">.</span><span class="vm">__class__</span> <span class="o">=</span> <span class="n">RandomCBPerformanceTableau</span>
                <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">perfTab</span><span class="o">.</span><span class="n">perfTabType</span> <span class="o">!=</span> <span class="s1">&#39;Random3ObjectivesPerformanceTableau&#39;</span><span class="p">:</span>
                    <span class="n">newPerfTab</span><span class="o">.</span><span class="vm">__class__</span> <span class="o">=</span> <span class="n">Random3ObjectivesPerformanceTableau</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Error&#39;</span><span class="p">)</span>
                    <span class="k">return</span> <span class="kc">None</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="n">newPerfTab</span><span class="o">.</span><span class="vm">__class__</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">perfTab</span><span class="o">.</span><span class="vm">__class__</span>
        <span class="n">newPerfTab</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">perfTab</span><span class="o">.</span><span class="n">name</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">newPerfTab</span><span class="o">.</span><span class="n">objectives</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">perfTab</span><span class="o">.</span><span class="n">objectives</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="n">newPerfTab</span><span class="o">.</span><span class="n">objectives</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>
        <span class="n">criteria</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">perfTab</span><span class="o">.</span><span class="n">criteria</span> 
        <span class="n">newPerfTab</span><span class="o">.</span><span class="n">criteria</span> <span class="o">=</span> <span class="n">criteria</span>
        <span class="n">newPerfTab</span><span class="o">.</span><span class="n">NA</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">perfTab</span><span class="o">.</span><span class="n">NA</span>
        <span class="n">newActions</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>
        <span class="n">newEvaluation</span> <span class="o">=</span><span class="p">{}</span>
        <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">criteria</span><span class="p">:</span>
            <span class="n">newEvaluation</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">n</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">counter</span> <span class="o">+</span> <span class="n">nbrOfRandomActions</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nd</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nbrOfRandomActions</span><span class="p">):</span>
            <span class="n">newAction</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_randomAction</span><span class="p">()</span>
            <span class="n">newKey</span> <span class="o">=</span> <span class="n">newAction</span><span class="p">[</span><span class="s1">&#39;action&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;key&#39;</span><span class="p">)</span>
            <span class="n">newActions</span><span class="p">[</span><span class="n">newKey</span><span class="p">]</span> <span class="o">=</span> <span class="n">newAction</span><span class="p">[</span><span class="s1">&#39;action&#39;</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">criteria</span><span class="p">:</span>
                <span class="n">newEvaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">newKey</span><span class="p">]</span> <span class="o">=</span> <span class="n">newAction</span><span class="p">[</span><span class="s1">&#39;evaluation&#39;</span><span class="p">][</span><span class="n">g</span><span class="p">]</span>
        <span class="n">newPerfTab</span><span class="o">.</span><span class="n">actions</span> <span class="o">=</span> <span class="n">newActions</span>
        <span class="n">newPerfTab</span><span class="o">.</span><span class="n">evaluation</span> <span class="o">=</span> <span class="n">newEvaluation</span>
        <span class="k">return</span> <span class="n">newPerfTab</span></div>
</div>



<span class="k">class</span> <span class="nc">_RandomStdPerformanceGenerator</span><span class="p">(</span><span class="n">RandomPerformanceGenerator</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generator for genrating new decision actions from a</span>
<span class="sd">    given &lt;RandomPerformanceTableau&gt; model.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">argPerfTab</span><span class="p">,</span><span class="n">actionNamePrefix</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span>
                 <span class="n">instanceCounter</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the initial state of the random generator.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">import</span> <span class="nn">random</span>
        <span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">random</span> <span class="o">=</span> <span class="n">random</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">perfTab</span> <span class="o">=</span> <span class="n">argPerfTab</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">actionNamePrefix</span> <span class="o">=</span> <span class="n">actionNamePrefix</span>
        <span class="k">if</span> <span class="n">instanceCounter</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">counter</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">argPerfTab</span><span class="o">.</span><span class="n">actions</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">counter</span> <span class="o">=</span> <span class="n">instanceCounter</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nd</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">counter</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">commonMode</span> <span class="o">=</span> <span class="n">argPerfTab</span><span class="o">.</span><span class="n">commonMode</span>
        <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">commonMode</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="s1">&#39;triangular&#39;</span><span class="p">:</span>
            <span class="kn">from</span> <span class="nn">randomNumbers</span> <span class="kn">import</span> <span class="n">ExtendedTriangularRandomVariable</span> <span class="k">as</span> <span class="n">RNGTr</span>
            <span class="n">rdseed</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rng</span> <span class="o">=</span> <span class="n">RNGTr</span><span class="p">(</span><span class="n">m</span><span class="p">,</span><span class="n">M</span><span class="p">,</span><span class="n">xm</span><span class="p">,</span><span class="n">r</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="n">rdseed</span><span class="p">)</span>
            
        <span class="bp">self</span><span class="o">.</span><span class="n">commonScale</span> <span class="o">=</span> <span class="n">argPerfTab</span><span class="o">.</span><span class="n">commonScale</span>

      
    <span class="k">def</span> <span class="nf">_randomAction</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">Debug</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns</span>
<span class="sd">        ``{&#39;action&#39;: key, &#39;evaluation&#39;: {&#39;g1&#39;: Decimal(...), &#39;g2&#39;: Decimal(...), ... }}``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># generate action key</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">counter</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">actionKey</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;</span><span class="si">%s%%</span><span class="s1">0</span><span class="si">%d</span><span class="s1">d&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionNamePrefix</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">nd</span><span class="p">))</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">counter</span><span class="p">)</span>
        <span class="n">action</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;shortName&#39;</span><span class="p">:</span><span class="n">actionKey</span><span class="p">,</span>
                        <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;random decision action </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">actionKey</span><span class="p">),</span>
                        <span class="s1">&#39;comment&#39;</span><span class="p">:</span> <span class="s1">&#39;RandomPerformanceGenerator&#39;</span><span class="p">,</span>
                        <span class="c1">#&#39;type&#39;: actionType,</span>
                        <span class="s1">&#39;key&#39;</span><span class="p">:</span> <span class="n">actionKey</span><span class="p">}</span>

        <span class="c1"># generate random evaluation</span>

        <span class="n">random</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">random</span>
        <span class="n">commonMode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">commonMode</span>
        <span class="n">commonScale</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">commonScale</span>
        <span class="n">digits</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">perfTab</span><span class="o">.</span><span class="n">digits</span>
        <span class="n">criteria</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">perfTab</span><span class="o">.</span><span class="n">criteria</span>

        <span class="n">evaluation</span> <span class="o">=</span> <span class="p">{}</span>
        
        <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">commonMode</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="s1">&#39;uniform&#39;</span><span class="p">:</span>          
            <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">criteria</span><span class="p">:</span>
                <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
                <span class="n">randeval</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
                <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>
                    
        <span class="k">elif</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">commonMode</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="s1">&#39;triangular&#39;</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">criteria</span><span class="p">:</span>
                <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">rng</span><span class="o">.</span><span class="n">random</span><span class="p">(),</span><span class="n">digits</span><span class="p">)))</span>
                    
        <span class="k">elif</span> <span class="nb">str</span><span class="p">(</span><span class="n">commonMode</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="s1">&#39;beta&#39;</span><span class="p">:</span>
            <span class="n">m</span> <span class="o">=</span> <span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">M</span> <span class="o">=</span> <span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">commonMode</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">xm</span> <span class="o">=</span> <span class="mf">0.5</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">xm</span> <span class="o">=</span> <span class="n">commonMode</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                
            <span class="k">if</span> <span class="n">commonMode</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">xm</span> <span class="o">&gt;</span> <span class="mf">0.5</span><span class="p">:</span>
                    <span class="n">beta</span> <span class="o">=</span> <span class="mf">2.0</span>
                    <span class="n">alpha</span> <span class="o">=</span> <span class="mf">1.0</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">xm</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">alpha</span> <span class="o">=</span> <span class="mf">2.0</span>
                    <span class="n">beta</span> <span class="o">=</span> <span class="mf">1.0</span><span class="o">/</span><span class="n">xm</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">alpha</span> <span class="o">=</span> <span class="n">commonMode</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">beta</span> <span class="o">=</span> <span class="n">commonMode</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">Debug</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;alpha,beta&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="p">,</span><span class="n">beta</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">criteria</span><span class="p">:</span>
                <span class="n">u</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">betavariate</span><span class="p">(</span><span class="n">alpha</span><span class="p">,</span><span class="n">beta</span><span class="p">)</span>
                <span class="n">randeval</span> <span class="o">=</span> <span class="p">(</span><span class="n">u</span> <span class="o">*</span> <span class="p">(</span><span class="n">M</span><span class="o">-</span><span class="n">m</span><span class="p">))</span> <span class="o">+</span> <span class="n">m</span>
                <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>

        <span class="k">elif</span> <span class="nb">str</span><span class="p">(</span><span class="n">commonMode</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="s1">&#39;normal&#39;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">commonMode</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">mu</span> <span class="o">=</span> <span class="p">(</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="mf">2.0</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">mu</span> <span class="o">=</span> <span class="n">commonMode</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">commonMode</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">sigma</span> <span class="o">=</span> <span class="p">(</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="mf">4.0</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">sigma</span> <span class="o">=</span> <span class="n">commonMode</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">criteria</span><span class="p">:</span>
                <span class="n">notfound</span> <span class="o">=</span> <span class="kc">True</span> 
                <span class="k">while</span> <span class="n">notfound</span><span class="p">:</span>
                    <span class="n">randeval</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">normalvariate</span><span class="p">(</span><span class="n">mu</span><span class="p">,</span><span class="n">sigma</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">randeval</span> <span class="o">&gt;=</span> <span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">and</span>  <span class="n">randeval</span> <span class="o">&lt;=</span> <span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
                        <span class="n">notfound</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>

        <span class="c1"># randomly insert missing data</span>
        <span class="n">missingDataProbability</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">perfTab</span><span class="o">.</span><span class="n">missingDataProbability</span>
        <span class="n">NA</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">perfTab</span><span class="o">.</span><span class="n">NA</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">criteria</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">missingDataProbability</span><span class="p">:</span>
                <span class="n">evaluation</span><span class="p">[</span><span class="n">c</span><span class="p">]</span> <span class="o">=</span> <span class="n">NA</span>

        <span class="c1"># return a new random decision alternative</span>
        <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;action&#39;</span><span class="p">:</span> <span class="n">action</span><span class="p">,</span><span class="s1">&#39;evaluation&#39;</span><span class="p">:</span><span class="n">evaluation</span><span class="p">}</span>

<span class="c1">##    def randomUpdate(self,nbrOfRandomActions=1):</span>
<span class="c1">##        &quot;&quot;&quot;</span>
<span class="c1">##        Updates *self.perfTab* with *n* = *nbrOfActions* new random decision alternatives.</span>
<span class="c1">##</span>
<span class="c1">##        .. note::</span>
<span class="c1">##</span>
<span class="c1">##            The update will modify the generator&#39;s given performance tableau instance by,</span>
<span class="c1">##            either adding new actions with their random evaluations,</span>
<span class="c1">##            or updating the performances of already existing decision actions.</span>
<span class="c1">##        &quot;&quot;&quot;</span>
<span class="c1">##        actions = self.perfTab.actions</span>
<span class="c1">##        criteria = self.perfTab.criteria</span>
<span class="c1">##        evaluation = self.perfTab.evaluation</span>
<span class="c1">##        for i in range(nbrOfRandomActions):</span>
<span class="c1">##            newAction = self._randomAction()</span>
<span class="c1">##            newEvaluation = newAction[&#39;evaluation&#39;]</span>
<span class="c1">##            newKey = newAction[&#39;action&#39;][&#39;key&#39;]</span>
<span class="c1">##            actions[newKey] = newAction[&#39;action&#39;]</span>
<span class="c1">##            for g in criteria:</span>
<span class="c1">##                evaluation[g][newKey] = newEvaluation[g]</span>
                
<span class="c1">##################</span>
<span class="c1">#-----------------</span>
<div class="viewcode-block" id="RandomAcademicPerformanceTableau">
<a class="viewcode-back" href="../techDoc.html#randomPerfTabs.RandomAcademicPerformanceTableau">[docs]</a>
<span class="k">class</span> <span class="nc">RandomAcademicPerformanceTableau</span><span class="p">(</span><span class="n">PerformanceTableau</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    For generating a temporary academic performance tableau with random grading results performances</span>
<span class="sd">    of a number of students in different academic courses (see Lecture 4: Grading</span>
<span class="sd">    of the Algorithmic decision Theory Course http://hdl.handle.net/10993/37933 )</span>
<span class="sd">    </span>
<span class="sd">    *Parameters*:</span>
<span class="sd">        * number of students,</span>
<span class="sd">        * number of courses,</span>
<span class="sd">        * weightDistribution := equisignificant | random (default, see RandomPerformanceTableau)</span>
<span class="sd">        * weightScale := (1, 1 | numberOfCourses (default when random))</span>
<span class="sd">        * IntegerWeights := Boolean (True = default)</span>
<span class="sd">        * commonScale := (0,20) (default)</span>
<span class="sd">        * ndigits := 0</span>
<span class="sd">        * WithTypes := Boolean (False = default)</span>
<span class="sd">        * commonMode := (&#39;triangular&#39;,xm=14,r=0.25)</span>
<span class="sd">        * commonThresholds (default) := {</span>
<span class="sd">            | &#39;ind&#39;:(0,0),</span>
<span class="sd">            | &#39;pref&#39;:(1,0),</span>
<span class="sd">            | } (default)</span>
<span class="sd">        </span>
<span class="sd">    When parameter *WithTypes* is set to *True*, the students are randomly allocated</span>
<span class="sd">    to one of the four categories: *weak* (1/6), *fair* (1/3), *good* (1/3),</span>
<span class="sd">    and *excellent* (1/3), in the bracketed proportions.</span>
<span class="sd">    In a default 0-20 grading range, the random range of a weak student is 0-10,</span>
<span class="sd">    of a fair student 4-16, of a good student 8-20, and of an excellent student 12-20.</span>
<span class="sd">    The random grading generator follows a double triangular probablity law</span>
<span class="sd">    with *mode* equal to the middle of the random range and *median repartition* of</span>
<span class="sd">    probability each side of the mode.</span>

<span class="sd">    &gt;&gt;&gt; from randomPerfTabs import RandomAcademicPerformanceTableau</span>
<span class="sd">    &gt;&gt;&gt; t = RandomAcademicPerformanceTableau(numberOfStudents=7,</span>
<span class="sd">    ...              numberOfCourses=5, missingDataProbability=0.03,</span>
<span class="sd">    ...              WithTypes=True, seed=100)</span>
<span class="sd">    &gt;&gt;&gt; t</span>
<span class="sd">     *------- PerformanceTableau instance description ------*</span>
<span class="sd">     Instance class   : RandomAcademicPerformanceTableau</span>
<span class="sd">     Seed             : 100</span>
<span class="sd">     Instance name    : randstudPerf</span>
<span class="sd">     Actions          : 7</span>
<span class="sd">     Criteria         : 5</span>
<span class="sd">     Attributes       : [&#39;randomSeed&#39;, &#39;name&#39;, &#39;actions&#39;,</span>
<span class="sd">                         &#39;criteria&#39;, &#39;evaluation&#39;, &#39;weightPreorder&#39;]</span>
<span class="sd">    &gt;&gt;&gt; t.showPerformanceTableau()</span>
<span class="sd">     *----  performance tableau -----*</span>
<span class="sd">      Courses |  &#39;m1&#39; &#39;m2&#39; &#39;m3&#39; &#39;m4&#39; &#39;m5&#39; </span>
<span class="sd">        ECTS  |   5    1    5    4    3   </span>
<span class="sd">     ---------|--------------------------</span>
<span class="sd">        &#39;s1f&#39; |  12   10   14   14   13  </span>
<span class="sd">        &#39;s2g&#39; |  14   12   16   12   14  </span>
<span class="sd">        &#39;s3g&#39; |  13   10   NA   12   17  </span>
<span class="sd">        &#39;s4f&#39; |  10   13   NA   13   12  </span>
<span class="sd">        &#39;s5e&#39; |  17   12   16   17   12  </span>
<span class="sd">        &#39;s6g&#39; |  17   17   12   16   14  </span>
<span class="sd">        &#39;s7e&#39; |  12   13   13   16   NA  </span>
<span class="sd">    &gt;&gt;&gt; t.weightPreorder</span>
<span class="sd">     [[&#39;m2&#39;], [&#39;m5&#39;], [&#39;m4&#39;], [&#39;m1&#39;, &#39;m3&#39;]]</span>

<span class="sd">    The random instance generated here with seed = 100 results in a set of only</span>
<span class="sd">    excellent (2), good (3) and fair (2) student performances. We observe 3 missing grades (NA).</span>
<span class="sd">    We may show a statistical summary per course (performance criterion) with more than 5 grades.</span>
<span class="sd">    </span>
<span class="sd">    &gt;&gt;&gt; t.showStatistics()</span>
<span class="sd">     *-------- Performance tableau summary statistics -------*</span>
<span class="sd">     Instance name      : randstudPerf</span>
<span class="sd">     #Actions           : 7</span>
<span class="sd">     #Criteria          : 5</span>
<span class="sd">     *Statistics per Criterion*</span>
<span class="sd">     Criterion name       : g1</span>
<span class="sd">     Criterion weight     : 5</span>
<span class="sd">      criterion scale      : 0.00 - 20.00</span>
<span class="sd">      # missing evaluations : 0</span>
<span class="sd">      mean evaluation       : 13.57</span>
<span class="sd">      standard deviation    : 2.44</span>
<span class="sd">      maximal evaluation    : 17.00</span>
<span class="sd">      quantile Q3 (x_75)    : 17.00</span>
<span class="sd">      median evaluation     : 13.50</span>
<span class="sd">      quantile Q1 (x_25)    : 12.00</span>
<span class="sd">      minimal evaluation    : 10.00</span>
<span class="sd">      mean absolute difference      : 2.69</span>
<span class="sd">      standard difference deviation : 3.45</span>
<span class="sd">     Criterion name       : g2</span>
<span class="sd">     Criterion weight     : 1</span>
<span class="sd">      criterion scale      : 0.00 - 20.00</span>
<span class="sd">      # missing evaluations : 0</span>
<span class="sd">      mean evaluation       : 12.43</span>
<span class="sd">      standard deviation    : 2.19</span>
<span class="sd">      maximal evaluation    : 17.00</span>
<span class="sd">      quantile Q3 (x_75)    : 14.00</span>
<span class="sd">      median evaluation     : 12.50</span>
<span class="sd">      quantile Q1 (x_25)    : 11.50</span>
<span class="sd">      minimal evaluation    : 10.00</span>
<span class="sd">      mean absolute difference      : 2.29</span>
<span class="sd">      standard difference deviation : 3.10</span>
<span class="sd">     Criterion name       : g3</span>
<span class="sd">     Criterion weight     : 5</span>
<span class="sd">      criterion scale      : 0.00 - 20.00</span>
<span class="sd">      # missing evaluations : 2</span>
<span class="sd">     Criterion name       : g4</span>
<span class="sd">     Criterion weight     : 4</span>
<span class="sd">      criterion scale      : 0.00 - 20.00</span>
<span class="sd">      # missing evaluations : 0</span>
<span class="sd">      mean evaluation       : 14.29</span>
<span class="sd">      standard deviation    : 1.91</span>
<span class="sd">      maximal evaluation    : 17.00</span>
<span class="sd">      quantile Q3 (x_75)    : 16.25</span>
<span class="sd">      median evaluation     : 15.00</span>
<span class="sd">      quantile Q1 (x_25)    : 12.75</span>
<span class="sd">      minimal evaluation    : 12.00</span>
<span class="sd">      mean absolute difference      : 2.12</span>
<span class="sd">      standard difference deviation : 2.70</span>
<span class="sd">     Criterion name       : g5</span>
<span class="sd">     Criterion weight     : 3</span>
<span class="sd">      criterion scale      : 0.00 - 20.00</span>
<span class="sd">      # missing evaluations : 1</span>
<span class="sd">      mean evaluation       : 13.67</span>
<span class="sd">      standard deviation    : 1.70</span>
<span class="sd">      maximal evaluation    : 17.00</span>
<span class="sd">      quantile Q3 (x_75)    : 15.50</span>
<span class="sd">      median evaluation     : 14.00</span>
<span class="sd">      quantile Q1 (x_25)    : 12.50</span>
<span class="sd">      minimal evaluation    : 12.00</span>
<span class="sd">      mean absolute difference      : 1.78</span>
<span class="sd">      standard difference deviation : 2.40</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">numberOfStudents</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">numberOfCourses</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
                 <span class="n">weightDistribution</span> <span class="o">=</span> <span class="s1">&#39;random&#39;</span><span class="p">,</span> <span class="n">weightScale</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span>
                 <span class="n">commonScale</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">20</span><span class="p">),</span> <span class="n">ndigits</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
                 <span class="n">WithTypes</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
                 <span class="n">commonMode</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;triangular&#39;</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mf">0.25</span><span class="p">),</span>
                 <span class="n">commonThresholds</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">IntegerWeights</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                 <span class="n">BigData</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">missingDataProbability</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span>
                 <span class="n">NA</span> <span class="o">=</span> <span class="o">-</span><span class="mi">999</span><span class="p">,</span>
                 <span class="n">seed</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">Debug</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># didactic</span>
        <span class="k">if</span> <span class="n">WithTypes</span><span class="p">:</span>
            <span class="n">types</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;weak&#39;</span><span class="p">,</span><span class="s1">&#39;fair&#39;</span><span class="p">,</span><span class="s1">&#39;fair&#39;</span><span class="p">,</span><span class="s1">&#39;good&#39;</span><span class="p">,</span><span class="s1">&#39;good&#39;</span><span class="p">,</span><span class="s1">&#39;excellent&#39;</span><span class="p">]</span>
            <span class="n">nt</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">types</span><span class="p">)</span>
        <span class="c1"># set random seed</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">randomSeed</span> <span class="o">=</span> <span class="n">seed</span>
        <span class="kn">import</span> <span class="nn">random</span>
        <span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span>

        <span class="c1"># set name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;randstudPerf&#39;</span>

        <span class="c1"># generate actions</span>
        <span class="n">numberOfActions</span> <span class="o">=</span> <span class="n">numberOfStudents</span>
        <span class="n">nd</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">numberOfActions</span><span class="p">))</span>
        <span class="n">actions</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numberOfActions</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">WithTypes</span><span class="p">:</span>
                <span class="n">ri</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">nt</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">BigData</span><span class="p">:</span>
                <span class="n">actionName</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;s</span><span class="si">%%</span><span class="s1">0</span><span class="si">%d</span><span class="s1">d&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">nd</span><span class="p">))</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
                <span class="n">actions</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="n">actionName</span><span class="p">}</span>
                <span class="k">if</span> <span class="n">WithTypes</span><span class="p">:</span>
                    <span class="n">actions</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">types</span><span class="p">[</span><span class="n">ri</span><span class="p">]</span>
                    <span class="n">actions</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">actions</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">],(</span><span class="n">actions</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s1">&#39;type&#39;</span><span class="p">])[</span><span class="mi">0</span><span class="p">])</span>
                
            <span class="k">else</span><span class="p">:</span>   
                <span class="n">actionKey</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;s</span><span class="si">%%</span><span class="s1">0</span><span class="si">%d</span><span class="s1">d&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">nd</span><span class="p">))</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">WithTypes</span><span class="p">:</span>
                    <span class="n">actions</span><span class="p">[</span><span class="n">actionKey</span><span class="p">]</span><span class="o">=</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="n">types</span><span class="p">[</span><span class="n">ri</span><span class="p">],</span>
                        <span class="s1">&#39;shortName&#39;</span><span class="p">:</span> <span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">actionKey</span><span class="p">,</span><span class="n">types</span><span class="p">[</span><span class="n">ri</span><span class="p">][</span><span class="mi">0</span><span class="p">]),</span>
                        <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;student </span><span class="si">%s%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">actionKey</span><span class="p">,</span><span class="n">types</span><span class="p">[</span><span class="n">ri</span><span class="p">][</span><span class="mi">0</span><span class="p">]),</span>
                        <span class="s1">&#39;comment&#39;</span><span class="p">:</span> <span class="s1">&#39;RandomAcademicPerformanceTableau() generated.&#39;</span><span class="p">}</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">actions</span><span class="p">[</span><span class="n">actionKey</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;shortName&#39;</span><span class="p">:</span><span class="n">actionKey</span><span class="p">,</span>
                        <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;student </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">actionKey</span><span class="p">,</span>
                        <span class="s1">&#39;comment&#39;</span><span class="p">:</span> <span class="s1">&#39;RandomAcademicPerformanceTableau() generated.&#39;</span> <span class="p">}</span>
            
        <span class="c1"># generate the criteria weights</span>
        <span class="n">numberOfCriteria</span> <span class="o">=</span> <span class="n">numberOfCourses</span> 
        <span class="k">if</span> <span class="n">weightScale</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">weightScale</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">numberOfCriteria</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">weightDistribution</span> <span class="o">==</span> <span class="s1">&#39;random&#39;</span><span class="p">:</span>
            <span class="n">weightsList</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">sumWeights</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0.0&#39;</span><span class="p">)</span>
            <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numberOfCriteria</span><span class="p">):</span>
                <span class="n">weightsList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="n">weightScale</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">weightScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]))))</span>
                <span class="n">sumWeights</span> <span class="o">+=</span> <span class="n">weightsList</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">weightsList</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">weightDistribution</span> <span class="o">==</span> <span class="s1">&#39;equisignificant&#39;</span><span class="p">:</span>
            <span class="n">weightScale</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">weightsList</span> <span class="o">=</span> <span class="p">[</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">weightScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numberOfCriteria</span><span class="p">)]</span>
            <span class="n">sumWeights</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">weightsList</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;!!! Error: wrong course weight distribution mode: </span><span class="si">%s</span><span class="s1"> !!!!&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">weightDistribution</span><span class="p">))</span>

        <span class="c1"># generate criteria dictionary</span>
        <span class="n">ngd</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">numberOfCriteria</span><span class="p">))</span>
        <span class="n">criteria</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>
        <span class="n">commentString</span> <span class="o">=</span> <span class="s1">&#39;Arguments: &#39;</span>
        <span class="n">commentString</span> <span class="o">+=</span> <span class="s1">&#39;; weightDistribution=&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">weightDistribution</span><span class="p">)</span>
        <span class="n">commentString</span> <span class="o">+=</span> <span class="s1">&#39;; weightScale=&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">weightScale</span><span class="p">)</span>
        <span class="n">commentString</span> <span class="o">+=</span> <span class="s1">&#39;; IntegerWeights=&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">IntegerWeights</span><span class="p">)</span>
        <span class="n">commentString</span> <span class="o">+=</span> <span class="s1">&#39;; commonThresholds=&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">commonThresholds</span><span class="p">)</span>
        <span class="n">commentString</span> <span class="o">+=</span> <span class="s1">&#39;; missingDataProbability=&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">missingDataProbability</span><span class="p">)</span>
        <span class="n">commentString</span> <span class="o">+=</span> <span class="s1">&#39;; WithTypes==&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">WithTypes</span><span class="p">)</span>

    
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numberOfCriteria</span><span class="p">):</span>
            <span class="n">g</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;m</span><span class="si">%%</span><span class="s1">0</span><span class="si">%d</span><span class="s1">d&#39;</span> <span class="o">%</span> <span class="n">ngd</span><span class="p">)</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="o">=</span><span class="s1">&#39;Master course </span><span class="si">%d</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;comment&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">commentString</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">indThreshold</span>  <span class="o">=</span><span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">commonThresholds</span><span class="p">[</span><span class="s1">&#39;ind&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">])),</span>
                                <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">commonThresholds</span><span class="p">[</span><span class="s1">&#39;ind&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">])))</span>
                <span class="n">prefThreshold</span> <span class="o">=</span><span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">commonThresholds</span><span class="p">[</span><span class="s1">&#39;pref&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">])),</span>
                                <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">commonThresholds</span><span class="p">[</span><span class="s1">&#39;pref&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">])))</span>
                
<span class="c1">##                vetoThreshold =(Decimal(str(commonThresholds[&#39;veto&#39;][0])),</span>
<span class="c1">##                                Decimal(str(commonThresholds[&#39;veto&#39;][1])))</span>
             
                <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;thresholds&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;ind&#39;</span><span class="p">:</span><span class="n">indThreshold</span><span class="p">,</span>
                                             <span class="s1">&#39;pref&#39;</span><span class="p">:</span><span class="n">prefThreshold</span><span class="p">}</span>
<span class="c1">##                                             &#39;veto&#39;:vetoThreshold}</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="n">indThreshold</span>  <span class="o">=</span> <span class="p">(</span> <span class="n">Decimal</span><span class="p">(</span><span class="s2">&quot;0&quot;</span><span class="p">),</span> <span class="n">Decimal</span><span class="p">(</span><span class="s2">&quot;0&quot;</span><span class="p">)</span> <span class="p">)</span>
                <span class="n">prefThreshold</span> <span class="o">=</span> <span class="p">(</span> <span class="n">Decimal</span><span class="p">(</span><span class="s2">&quot;1&quot;</span><span class="p">),</span> <span class="n">Decimal</span><span class="p">(</span><span class="s2">&quot;0&quot;</span><span class="p">)</span> <span class="p">)</span>
<span class="c1">#                vetoThreshold = ( Decimal(str(numberOfActions)), Decimal(&quot;0&quot;) )               </span>
                <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;thresholds&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;ind&#39;</span><span class="p">:</span><span class="n">indThreshold</span><span class="p">,</span>
                                              <span class="s1">&#39;pref&#39;</span><span class="p">:</span><span class="n">prefThreshold</span><span class="p">,</span>
 <span class="c1">#                                             &#39;veto&#39;: vetoThreshold</span>
                                              <span class="p">}</span>
            <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;scale&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">commonScale</span>
            <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;preferenceDirection&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;max&#39;</span>
                                             
            <span class="k">if</span> <span class="n">IntegerWeights</span><span class="p">:</span>
                <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">weightsList</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">weightsList</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">/</span><span class="n">sumWeights</span>
                
        <span class="c1"># generate evaluations</span>
        <span class="n">digits</span> <span class="o">=</span> <span class="n">ndigits</span>
        <span class="n">evaluation</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="c1"># evaluation ranges for student types</span>
        <span class="k">if</span> <span class="n">WithTypes</span><span class="p">:</span>
            <span class="n">randEvalRanges</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;weak&#39;</span><span class="p">:(</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="mf">0.5</span><span class="p">),</span>
                    <span class="s1">&#39;fair&#39;</span><span class="p">:(</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="mf">0.2</span><span class="p">,</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="mf">0.8</span><span class="p">),</span>
                    <span class="s1">&#39;good&#39;</span><span class="p">:(</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="mf">0.4</span><span class="p">,</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span>
                    <span class="s1">&#39;excellent&#39;</span><span class="p">:(</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="mf">0.6</span><span class="p">,</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">])}</span>
        <span class="c1"># install the triangular RNG if necessary</span>
        <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">commonMode</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="s1">&#39;triangular&#39;</span><span class="p">:</span>
            <span class="kn">from</span> <span class="nn">randomNumbers</span> <span class="kn">import</span> <span class="n">ExtendedTriangularRandomVariable</span> <span class="k">as</span> <span class="n">RNGTr</span>
        <span class="c1"># generate all individual random evaluations</span>
        <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">criteria</span><span class="p">:</span>
            <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>       
            <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">actions</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">WithTypes</span><span class="p">:</span>
                    <span class="n">rangex</span> <span class="o">=</span> <span class="n">randEvalRanges</span><span class="p">[</span><span class="n">actions</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="s1">&#39;type&#39;</span><span class="p">]]</span>
                    <span class="k">if</span> <span class="n">Debug</span><span class="p">:</span>
                        <span class="nb">print</span><span class="p">(</span><span class="n">actions</span><span class="p">[</span><span class="n">x</span><span class="p">],</span><span class="n">rangex</span><span class="p">)</span>
                <span class="c1">#--------</span>
                <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">commonMode</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="s1">&#39;uniform&#39;</span><span class="p">:</span>              
                    <span class="k">if</span> <span class="n">WithTypes</span><span class="p">:</span>
                        <span class="n">randeval</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="n">rangex</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">rangex</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">randeval</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
                    <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>
                <span class="c1"># ---------        </span>
                <span class="k">elif</span> <span class="nb">str</span><span class="p">(</span><span class="n">commonMode</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="s1">&#39;triangular&#39;</span><span class="p">:</span>
                    <span class="c1">#from randomNumbers import ExtendedTriangularRandomVariable as RNGTr</span>
                    <span class="k">if</span> <span class="n">WithTypes</span><span class="p">:</span>
                        <span class="n">rdseed</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>
                        <span class="n">rng</span> <span class="o">=</span> <span class="n">RNGTr</span><span class="p">(</span><span class="n">rangex</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">rangex</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nb">min</span><span class="p">(</span><span class="n">rangex</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                                    <span class="n">commonMode</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span><span class="n">commonMode</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="n">seed</span><span class="o">=</span><span class="n">rdseed</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">rdseed</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>
                        <span class="n">rng</span> <span class="o">=</span> <span class="n">RNGTr</span><span class="p">(</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                                    <span class="n">commonMode</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">commonMode</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="n">seed</span><span class="o">=</span><span class="n">rdseed</span><span class="p">)</span>    
                    <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">rng</span><span class="o">.</span><span class="n">random</span><span class="p">(),</span><span class="n">digits</span><span class="p">)))</span>
                <span class="c1">#-------------------       </span>
                <span class="k">elif</span> <span class="nb">str</span><span class="p">(</span><span class="n">commonMode</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="s1">&#39;beta&#39;</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">WithTypes</span><span class="p">:</span>
                        <span class="n">m</span> <span class="o">=</span> <span class="n">rangex</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                        <span class="n">M</span> <span class="o">=</span> <span class="n">rangex</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">m</span> <span class="o">=</span> <span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                        <span class="n">M</span> <span class="o">=</span> <span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                    <span class="k">if</span> <span class="n">commonMode</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="n">xm</span> <span class="o">=</span> <span class="mf">0.5</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">xm</span> <span class="o">=</span> <span class="n">commonMode</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                        
                    <span class="k">if</span> <span class="n">commonMode</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">xm</span> <span class="o">&gt;</span> <span class="mf">0.5</span><span class="p">:</span>
                            <span class="n">beta</span> <span class="o">=</span> <span class="mf">2.0</span>
                            <span class="n">alpha</span> <span class="o">=</span> <span class="mf">1.0</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">xm</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">alpha</span> <span class="o">=</span> <span class="mf">2.0</span>
                            <span class="n">beta</span> <span class="o">=</span> <span class="mf">1.0</span><span class="o">/</span><span class="n">xm</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">alpha</span> <span class="o">=</span> <span class="n">commonMode</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
                        <span class="n">beta</span> <span class="o">=</span> <span class="n">commonMode</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
                    <span class="k">if</span> <span class="n">Debug</span><span class="p">:</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;alpha,beta&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="p">,</span><span class="n">beta</span><span class="p">)</span>
                    <span class="n">u</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">betavariate</span><span class="p">(</span><span class="n">alpha</span><span class="p">,</span><span class="n">beta</span><span class="p">)</span>
                    <span class="n">randeval</span> <span class="o">=</span> <span class="p">(</span><span class="n">u</span> <span class="o">*</span> <span class="p">(</span><span class="n">M</span><span class="o">-</span><span class="n">m</span><span class="p">))</span> <span class="o">+</span> <span class="n">m</span>
                    <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>

        <span class="c1"># randomly insert missing data</span>
        <span class="c1"># self.missingDataProbability = missingDataProbability</span>
        <span class="n">NA</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="n">NA</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">criteria</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">actions</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">missingDataProbability</span><span class="p">:</span>
                    <span class="n">evaluation</span><span class="p">[</span><span class="n">c</span><span class="p">][</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="n">NA</span>

        <span class="c1"># install object items</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">actions</span> <span class="o">=</span> <span class="n">actions</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">criteria</span> <span class="o">=</span> <span class="n">criteria</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">evaluation</span> <span class="o">=</span> <span class="n">evaluation</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">NA</span> <span class="o">=</span> <span class="n">NA</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">weightPreorder</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">computeWeightPreorder</span><span class="p">()</span>

<div class="viewcode-block" id="RandomAcademicPerformanceTableau.showStudents">
<a class="viewcode-back" href="../techDoc.html#randomPerfTabs.RandomAcademicPerformanceTableau.showStudents">[docs]</a>
    <span class="k">def</span> <span class="nf">showStudents</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">WithComments</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Print a list of the students.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">actions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">actions</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;&quot;------------ Registered students -------*&#39;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;key: </span><span class="se">\t</span><span class="s1"> Name </span><span class="se">\t\t</span><span class="s1"> Type&#39;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;----------------------------------&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">st</span> <span class="ow">in</span> <span class="n">actions</span><span class="p">:</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">actions</span><span class="p">[</span><span class="n">st</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">WithComments</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">: </span><span class="se">\t</span><span class="s1"> </span><span class="si">%s</span><span class="s1"> </span><span class="se">\t</span><span class="s1"> </span><span class="si">%s</span><span class="se">\n</span><span class="s1">      </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span>\
                      <span class="p">(</span><span class="n">st</span><span class="p">,</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">],</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">],</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;comment&#39;</span><span class="p">])</span> <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">: </span><span class="se">\t</span><span class="s1"> </span><span class="si">%s</span><span class="s1"> </span><span class="se">\t</span><span class="s1"> </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span>\
                      <span class="p">(</span><span class="n">st</span><span class="p">,</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">],</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">])</span> <span class="p">)</span></div>


<div class="viewcode-block" id="RandomAcademicPerformanceTableau.showCourses">
<a class="viewcode-back" href="../techDoc.html#randomPerfTabs.RandomAcademicPerformanceTableau.showCourses">[docs]</a>
    <span class="k">def</span> <span class="nf">showCourses</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">coursesSubset</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">ndigits</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                    <span class="n">pageTitle</span><span class="o">=</span><span class="s1">&#39;List of Courses&#39;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Print a list of the courses.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">showHTMLCriteria</span><span class="p">(</span><span class="n">criteriaSubset</span><span class="o">=</span><span class="n">coursesSubset</span><span class="p">,</span><span class="n">ndigits</span><span class="o">=</span><span class="n">ndigits</span><span class="p">,</span>
                              <span class="n">title</span><span class="o">=</span><span class="n">pageTitle</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="RandomAcademicPerformanceTableau.showPerformanceTableau">
<a class="viewcode-back" href="../techDoc.html#randomPerfTabs.RandomAcademicPerformanceTableau.showPerformanceTableau">[docs]</a>
    <span class="k">def</span> <span class="nf">showPerformanceTableau</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">Transposed</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">studentsSubset</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                               <span class="n">fromIndex</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">toIndex</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">Sorted</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">ndigits</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Print the performance Tableau.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">decimal</span> <span class="kn">import</span> <span class="n">Decimal</span>
        <span class="n">actions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">actions</span>
        <span class="n">evaluation</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">evaluation</span>
        <span class="n">NA</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">NA</span>
        <span class="n">criteria</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">criteria</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;*----  performance tableau -----*&#39;</span><span class="p">)</span>
        <span class="n">criteriaList</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">criteria</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">Sorted</span><span class="p">:</span>
            <span class="n">criteriaList</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">studentsSubset</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">actionsList</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">actions</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">Sorted</span><span class="p">:</span>
                <span class="n">actionsList</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">actionsList</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">studentsSubset</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">fromIndex</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">fromIndex</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="n">toIndex</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">toIndex</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">actionsList</span><span class="p">)</span>
        <span class="c1"># view criteria x actions</span>
        <span class="k">if</span> <span class="n">Transposed</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39; Courses | ETCS |&#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">actionsList</span><span class="p">:</span>
                <span class="n">xName</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">actions</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="s1">&#39;shortName&#39;</span><span class="p">]</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\&#39;</span><span class="s1">&#39;</span><span class="o">+</span><span class="n">xName</span><span class="o">+</span><span class="s1">&#39;</span><span class="se">\&#39;</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">---------|-----------------------------------------&#39;</span><span class="p">)</span>
            <span class="n">formatString</span> <span class="o">=</span> <span class="s1">&#39; </span><span class="si">%%</span><span class="s1">0</span><span class="si">%d</span><span class="s1">.</span><span class="si">%d</span><span class="s1">f &#39;</span> <span class="o">%</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">ndigits</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">criteriaList</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  </span><span class="se">\&#39;</span><span class="s1">&#39;</span> <span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">g</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;</span><span class="se">\&#39;</span><span class="s1">  |  &#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">])</span><span class="o">+</span><span class="s1">&#39;   |&#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;  &#39;</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">fromIndex</span><span class="p">,</span><span class="n">toIndex</span><span class="p">):</span>
                    <span class="n">x</span> <span class="o">=</span> <span class="n">actionsList</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                    <span class="n">evalgx</span> <span class="o">=</span> <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">x</span><span class="p">]</span>
                    <span class="k">if</span> <span class="n">evalgx</span> <span class="o">==</span> <span class="n">NA</span><span class="p">:</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39; NA &#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;  &#39;</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>                    
                        <span class="nb">print</span><span class="p">(</span><span class="n">formatString</span> <span class="o">%</span> <span class="p">(</span><span class="n">evalgx</span><span class="p">),</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;  &#39;</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">()</span>
        <span class="c1"># view actions x criteria</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39; Courses | &#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">criteriaList</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\&#39;</span><span class="s1">&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">g</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;</span><span class="se">\&#39;</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">   ECTS  | &#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;  &#39;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">criteriaList</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39; </span><span class="si">%s</span><span class="s1">  &#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="p">),</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;  &#39;</span><span class="p">)</span>          
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">---------|-----------------------------------------&#39;</span><span class="p">)</span>
            <span class="n">formatString</span> <span class="o">=</span> <span class="s1">&#39; </span><span class="si">%%</span><span class="s1">0</span><span class="si">%d</span><span class="s1">.</span><span class="si">%d</span><span class="s1">f &#39;</span> <span class="o">%</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">ndigits</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">fromIndex</span><span class="p">,</span><span class="n">toIndex</span><span class="p">):</span>
                <span class="n">x</span> <span class="o">=</span> <span class="n">actionsList</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  </span><span class="se">\&#39;</span><span class="s1">&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">actions</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="s1">&#39;shortName&#39;</span><span class="p">])</span><span class="o">+</span><span class="s1">&#39;</span><span class="se">\&#39;</span><span class="s1"> |&#39;</span> <span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;   &#39;</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">criteriaList</span><span class="p">:</span>
                    <span class="n">evalgx</span> <span class="o">=</span> <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">x</span><span class="p">]</span>
                    <span class="k">if</span> <span class="n">evalgx</span> <span class="o">==</span> <span class="n">NA</span><span class="p">:</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39; NA &#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;  &#39;</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>                    
                        <span class="nb">print</span><span class="p">(</span><span class="n">formatString</span> <span class="o">%</span> <span class="p">(</span><span class="n">evalgx</span><span class="p">),</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;  &#39;</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">()</span></div>



<div class="viewcode-block" id="RandomAcademicPerformanceTableau.showHTMLPerformanceTableau">
<a class="viewcode-back" href="../techDoc.html#randomPerfTabs.RandomAcademicPerformanceTableau.showHTMLPerformanceTableau">[docs]</a>
    <span class="k">def</span> <span class="nf">showHTMLPerformanceTableau</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">studentsSubset</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">isSorted</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">Transposed</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">ndigits</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                   <span class="n">ContentCentered</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">title</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                                   <span class="n">fromIndex</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">toIndex</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                                   <span class="n">htmlFileName</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        shows the html version of the academic performance tableau in a browser window.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">import</span> <span class="nn">webbrowser</span>
        <span class="k">if</span> <span class="n">htmlFileName</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
            <span class="kn">from</span> <span class="nn">tempfile</span> <span class="kn">import</span> <span class="n">NamedTemporaryFile</span>
            <span class="n">fileName</span> <span class="o">=</span> <span class="p">(</span><span class="n">NamedTemporaryFile</span><span class="p">(</span><span class="n">suffix</span><span class="o">=</span><span class="s1">&#39;.html&#39;</span><span class="p">,</span><span class="n">delete</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="nb">dir</span><span class="o">=</span><span class="s1">&#39;.&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">name</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="kn">from</span> <span class="nn">os</span> <span class="kn">import</span> <span class="n">getcwd</span>
            <span class="n">fileName</span> <span class="o">=</span> <span class="n">getcwd</span><span class="p">()</span><span class="o">+</span><span class="s1">&#39;/&#39;</span><span class="o">+</span><span class="n">htmlFileName</span>
        <span class="n">fo</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">fileName</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
        <span class="n">fo</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_htmlPerformanceTable</span><span class="p">(</span><span class="n">actions</span><span class="o">=</span><span class="n">studentsSubset</span><span class="p">,</span><span class="n">isSorted</span><span class="o">=</span><span class="n">isSorted</span><span class="p">,</span>
                                           <span class="n">Transposed</span><span class="o">=</span><span class="n">Transposed</span><span class="p">,</span>
                                           <span class="n">ndigits</span><span class="o">=</span><span class="n">ndigits</span><span class="p">,</span>
                                           <span class="n">ContentCentered</span><span class="o">=</span><span class="n">ContentCentered</span><span class="p">,</span>
                                           <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span><span class="n">fromIndex</span><span class="o">=</span><span class="n">fromIndex</span><span class="p">,</span>
                                            <span class="n">toIndex</span><span class="o">=</span><span class="n">toIndex</span><span class="p">))</span>
        <span class="n">fo</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;file://&#39;</span><span class="o">+</span><span class="n">fileName</span>
        <span class="n">webbrowser</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">url</span><span class="p">,</span><span class="n">new</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span></div>

           
            
    <span class="k">def</span> <span class="nf">_htmlPerformanceTable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">actions</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">criteria</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">isSorted</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                             <span class="n">Transposed</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">ndigits</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                             <span class="n">ContentCentered</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                             <span class="n">title</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">fromIndex</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">toIndex</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Renders the performance table citerion x actions in html format.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">minMaxEvaluations</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">computeMinMaxEvaluations</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">title</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">html</span> <span class="o">=</span> <span class="s1">&#39;&lt;h1&gt;Random Student Gradings&lt;/h1&gt;&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">html</span> <span class="o">=</span> <span class="s1">&#39;&lt;h1&gt;</span><span class="si">%s</span><span class="s1">&lt;/h1&gt;&#39;</span> <span class="o">%</span> <span class="n">title</span>
        <span class="c1"># criteria</span>
        <span class="k">if</span> <span class="n">criteria</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">criteria</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">criteria</span>
            <span class="n">criteriaKeys</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">criteria</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">criteriaKeys</span> <span class="o">=</span> <span class="p">[</span><span class="n">g</span> <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">criteria</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">isSorted</span><span class="p">:</span>
            <span class="n">criteriaKeys</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
        <span class="c1"># actions</span>
        <span class="k">if</span> <span class="n">actions</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">actions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">actions</span>
            <span class="n">actionsKeys</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actions</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">actionsKeys</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">actions</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">isSorted</span><span class="p">:</span>
            <span class="n">actionsKeys</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">fromIndex</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">fromIndex</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="n">toIndex</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">toIndex</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">actionsKeys</span><span class="p">)</span>
        <span class="c1"># evaluations</span>
        <span class="n">evaluation</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">evaluation</span>
        <span class="n">NA</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">NA</span>
        <span class="k">if</span> <span class="n">ContentCentered</span><span class="p">:</span>
            <span class="n">alignFormat</span> <span class="o">=</span> <span class="s1">&#39;center&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">alignFormat</span> <span class="o">=</span> <span class="s1">&#39;right&#39;</span>
        <span class="k">if</span> <span class="n">Transposed</span><span class="p">:</span>
            <span class="n">html</span> <span class="o">+=</span> <span class="s1">&#39;&lt;table style=&quot;background-color:White;&quot; border=&quot;1&quot;&gt;&#39;</span>
            <span class="n">html</span> <span class="o">+=</span> <span class="s1">&#39;&lt;tr bgcolor=&quot;#9acd32&quot;&gt;&lt;th&gt;Courses&lt;br/&gt;(ECTS)&lt;/th&gt;&#39;</span>
            <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">actionsKeys</span><span class="p">[</span><span class="n">fromIndex</span><span class="p">:</span><span class="n">toIndex</span><span class="p">]:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">xName</span> <span class="o">=</span> <span class="n">actions</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="s1">&#39;shortName&#39;</span><span class="p">]</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="n">xName</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
                <span class="n">html</span> <span class="o">+=</span> <span class="s1">&#39;&lt;th bgcolor=&quot;#FFF79B&quot;&gt;</span><span class="si">%s</span><span class="s1">&lt;/th&gt;&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">xName</span><span class="p">)</span>
            <span class="n">html</span> <span class="o">+=</span> <span class="s1">&#39;&lt;/tr&gt;&#39;</span>
            <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">criteriaKeys</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">gName</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1"> (</span><span class="si">%d</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;shortName&#39;</span><span class="p">],</span><span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">])</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="n">gName</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1"> (</span><span class="si">%d</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">g</span><span class="p">,</span><span class="nb">int</span><span class="p">(</span><span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]))</span>
                <span class="n">html</span> <span class="o">+=</span> <span class="s1">&#39;&lt;tr&gt;&lt;th bgcolor=&quot;#FFF79B&quot;&gt;</span><span class="si">%s</span><span class="s1">&lt;/th&gt;&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">gName</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">actionsKeys</span><span class="p">[</span><span class="n">fromIndex</span><span class="p">:</span><span class="n">toIndex</span><span class="p">]:</span>
                    <span class="k">if</span> <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">x</span><span class="p">]</span> <span class="o">!=</span> <span class="n">NA</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">x</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;10&#39;</span><span class="p">):</span>
                            <span class="n">formatString</span> <span class="o">=</span> <span class="s1">&#39;&lt;td bgcolor=&quot;#ffddff&quot;  align=&quot;</span><span class="si">%s</span><span class="s1">&quot;&gt;</span><span class="si">%%</span><span class="s1"> .</span><span class="si">%d</span><span class="s1">f&lt;/td&gt;&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">alignFormat</span><span class="p">,</span><span class="n">ndigits</span><span class="p">)</span>
                            <span class="n">html</span> <span class="o">+=</span> <span class="n">formatString</span> <span class="o">%</span> <span class="p">(</span><span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">x</span><span class="p">])</span>
                        <span class="k">elif</span> <span class="n">minMaxEvaluations</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;minimum&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">minMaxEvaluations</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;maximum&#39;</span><span class="p">]:</span>
                            <span class="n">formatString</span> <span class="o">=</span> <span class="s1">&#39;&lt;td align=&quot;</span><span class="si">%s</span><span class="s1">&quot;&gt;</span><span class="si">%%</span><span class="s1"> .</span><span class="si">%d</span><span class="s1">f&lt;/td&gt;&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">alignFormat</span><span class="p">,</span><span class="n">ndigits</span><span class="p">)</span>
                            <span class="n">html</span> <span class="o">+=</span> <span class="n">formatString</span> <span class="o">%</span> <span class="p">(</span><span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">x</span><span class="p">])</span>
                        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">x</span><span class="p">]</span> <span class="o">==</span> <span class="n">minMaxEvaluations</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;maximum&#39;</span><span class="p">]:</span>
                            <span class="n">formatString</span> <span class="o">=</span> <span class="s1">&#39;&lt;td bgcolor=&quot;#ddffdd&quot; align=&quot;</span><span class="si">%s</span><span class="s1">&quot;&gt;</span><span class="si">%%</span><span class="s1"> .</span><span class="si">%d</span><span class="s1">f&lt;/td&gt;&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">alignFormat</span><span class="p">,</span><span class="n">ndigits</span><span class="p">)</span>
                            <span class="n">html</span> <span class="o">+=</span> <span class="n">formatString</span> <span class="o">%</span> <span class="p">(</span><span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">x</span><span class="p">])</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">formatString</span> <span class="o">=</span> <span class="s1">&#39;&lt;td align=&quot;</span><span class="si">%s</span><span class="s1">&quot;&gt;</span><span class="si">%%</span><span class="s1"> .</span><span class="si">%d</span><span class="s1">f&lt;/td&gt;&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">alignFormat</span><span class="p">,</span><span class="n">ndigits</span><span class="p">)</span>
                            <span class="n">html</span> <span class="o">+=</span> <span class="n">formatString</span> <span class="o">%</span> <span class="p">(</span><span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">x</span><span class="p">])</span>
                            
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">html</span> <span class="o">+=</span> <span class="s1">&#39;&lt;td align=&quot;center&quot;&gt;&lt;span style=&quot;color: LightGrey;font-size:75%; &quot;&gt;NA&lt;/span&gt;&lt;/td&gt;&#39;</span>
                <span class="n">html</span> <span class="o">+=</span> <span class="s1">&#39;&lt;/tr&gt;&#39;</span>
            <span class="n">html</span> <span class="o">+=</span> <span class="s1">&#39;&lt;/table&gt;&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">html</span> <span class="o">+=</span> <span class="s1">&#39;&lt;table style=&quot;background-color:White;&quot; border=&quot;1&quot;&gt;&#39;</span>
            <span class="n">html</span> <span class="o">+=</span> <span class="s1">&#39;&lt;tr bgcolor=&quot;#9acd32&quot;&gt;&lt;th&gt;Courses&lt;/th&gt;&#39;</span>
            <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">criteriaKeys</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">gName</span> <span class="o">=</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;shortName&#39;</span><span class="p">]</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="n">gName</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
                <span class="n">html</span> <span class="o">+=</span> <span class="s1">&#39;&lt;th bgcolor=&quot;#FFF79B&quot;&gt;</span><span class="si">%s</span><span class="s1">&lt;/th&gt;&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">gName</span><span class="p">)</span>
            <span class="n">html</span> <span class="o">+=</span> <span class="s1">&#39;&lt;/tr&gt;&#39;</span>
            <span class="n">html</span> <span class="o">+=</span> <span class="s1">&#39;&lt;tr&gt;&lt;th bgcolor=&quot;#9acd32&quot; &gt;ECTS&lt;/th&gt;&#39;</span>
            <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">criteriaKeys</span><span class="p">:</span>
                <span class="n">gweight</span> <span class="o">=</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span>
                <span class="n">html</span> <span class="o">+=</span> <span class="s1">&#39;&lt;td  align=&quot;center&quot; bgcolor=&quot;#FFF79B&quot; &gt;&lt;i&gt;</span><span class="si">%d</span><span class="s1">&lt;/i&gt;&lt;/td&gt;&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">gweight</span><span class="p">))</span>
            <span class="n">html</span> <span class="o">+=</span> <span class="s1">&#39;&lt;/tr&gt;&#39;</span>
            <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">actionsKeys</span><span class="p">[</span><span class="n">fromIndex</span><span class="p">:</span><span class="n">toIndex</span><span class="p">]:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">xName</span> <span class="o">=</span> <span class="n">actions</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="s1">&#39;shortName&#39;</span><span class="p">]</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="n">xName</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
                <span class="n">html</span> <span class="o">+=</span> <span class="s1">&#39;&lt;tr&gt;&lt;th bgcolor=&quot;#FFF79B&quot;&gt;</span><span class="si">%s</span><span class="s1">&lt;/th&gt;&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">xName</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">criteriaKeys</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">x</span><span class="p">]</span> <span class="o">!=</span> <span class="n">NA</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">x</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;10&#39;</span><span class="p">):</span>
                            <span class="n">formatString</span> <span class="o">=</span> <span class="s1">&#39;&lt;td bgcolor=&quot;#ffddff&quot;  align=&quot;</span><span class="si">%s</span><span class="s1">&quot;&gt;</span><span class="si">%%</span><span class="s1"> .</span><span class="si">%d</span><span class="s1">f&lt;/td&gt;&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">alignFormat</span><span class="p">,</span><span class="n">ndigits</span><span class="p">)</span>
                            <span class="n">html</span> <span class="o">+=</span> <span class="n">formatString</span> <span class="o">%</span> <span class="p">(</span><span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">x</span><span class="p">])</span>
                        <span class="k">elif</span> <span class="n">minMaxEvaluations</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;minimum&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">minMaxEvaluations</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;maximum&#39;</span><span class="p">]:</span>
                            <span class="n">formatString</span> <span class="o">=</span> <span class="s1">&#39;&lt;td align=&quot;</span><span class="si">%s</span><span class="s1">&quot;&gt;</span><span class="si">%%</span><span class="s1"> .</span><span class="si">%d</span><span class="s1">f&lt;/td&gt;&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">alignFormat</span><span class="p">,</span><span class="n">ndigits</span><span class="p">)</span>
                            <span class="n">html</span> <span class="o">+=</span> <span class="n">formatString</span> <span class="o">%</span> <span class="p">(</span><span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">x</span><span class="p">])</span>
                        <span class="c1">#elif self.evaluation[g][x] == minMaxEvaluations[g][&#39;minimum&#39;]:</span>
                        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">x</span><span class="p">]</span> <span class="o">==</span> <span class="n">minMaxEvaluations</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;maximum&#39;</span><span class="p">]:</span>
                            <span class="n">formatString</span> <span class="o">=</span> <span class="s1">&#39;&lt;td bgcolor=&quot;#ddffdd&quot; align=&quot;</span><span class="si">%s</span><span class="s1">&quot;&gt;</span><span class="si">%%</span><span class="s1"> .</span><span class="si">%d</span><span class="s1">f&lt;/td&gt;&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">alignFormat</span><span class="p">,</span><span class="n">ndigits</span><span class="p">)</span>
                            <span class="n">html</span> <span class="o">+=</span> <span class="n">formatString</span> <span class="o">%</span> <span class="p">(</span><span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">x</span><span class="p">])</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">formatString</span> <span class="o">=</span> <span class="s1">&#39;&lt;td align=&quot;</span><span class="si">%s</span><span class="s1">&quot;&gt;</span><span class="si">%%</span><span class="s1"> .</span><span class="si">%d</span><span class="s1">f&lt;/td&gt;&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">alignFormat</span><span class="p">,</span><span class="n">ndigits</span><span class="p">)</span>
                            <span class="n">html</span> <span class="o">+=</span> <span class="n">formatString</span> <span class="o">%</span> <span class="p">(</span><span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">x</span><span class="p">])</span>
                            
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">html</span> <span class="o">+=</span> <span class="s1">&#39;&lt;td align=&quot;center&quot;&gt;&lt;span style=&quot;color: LightGrey;font-size:75%;&quot;&gt;NA&lt;/span&gt;&lt;/td&gt;&#39;</span>
                <span class="n">html</span> <span class="o">+=</span> <span class="s1">&#39;&lt;/tr&gt;&#39;</span>
            <span class="n">html</span> <span class="o">+=</span> <span class="s1">&#39;&lt;/table&gt;&#39;</span>
            
        <span class="k">return</span> <span class="n">html</span>

<div class="viewcode-block" id="RandomAcademicPerformanceTableau.showCourseStatistics">
<a class="viewcode-back" href="../techDoc.html#randomPerfTabs.RandomAcademicPerformanceTableau.showCourseStatistics">[docs]</a>
    <span class="k">def</span> <span class="nf">showCourseStatistics</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">courseID</span><span class="p">,</span><span class="n">Debug</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        show statistics concerning the grades&#39; distributions in the given course.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">import</span> <span class="nn">math</span>
        <span class="n">criteriaKeys</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">criteria</span><span class="p">]</span>
        <span class="n">criteriaKeys</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
        <span class="n">nc</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">criteria</span><span class="p">)</span>
        <span class="n">evaluation</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">evaluation</span>
        <span class="n">NA</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">NA</span>
        <span class="n">actions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">actions</span>
        <span class="n">g</span> <span class="o">=</span> <span class="n">courseID</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">actions</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;*----- Summary performance statistics  ------*&#39;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  Course name    :&#39;</span><span class="p">,</span> <span class="n">g</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  Course weight  :&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">])</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  # Students     :&#39;</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
        <span class="n">averageEvaluation</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0.0&#39;</span><span class="p">)</span>
        <span class="n">varianceEvaluation</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0.0&#39;</span><span class="p">)</span>
        <span class="n">Max</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;scale&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]))</span>
        <span class="n">Min</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;scale&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]))</span>
        <span class="n">minEvaluation</span> <span class="o">=</span> <span class="n">Max</span>
        <span class="n">maxEvaluation</span> <span class="o">=</span> <span class="n">Min</span>
        <span class="n">evaluationList</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">actions</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">x</span><span class="p">]</span> <span class="o">!=</span> <span class="n">NA</span><span class="p">:</span>
                <span class="n">evaluationList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">x</span><span class="p">])</span>
                <span class="n">averageEvaluation</span> <span class="o">+=</span> <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">x</span><span class="p">]</span>
                <span class="n">varianceEvaluation</span> <span class="o">+=</span> <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">x</span><span class="p">]</span><span class="o">**</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">x</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">minEvaluation</span><span class="p">:</span>
                    <span class="n">minEvaluation</span> <span class="o">=</span> <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">x</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">x</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">maxEvaluation</span><span class="p">:</span>
                    <span class="n">maxEvaluation</span> <span class="o">=</span> <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">x</span><span class="p">]</span>
        <span class="n">evaluationList</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
        <span class="n">na</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">evaluationList</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">Debug</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">evaluationList</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;preferenceDirection&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  grading scale  : </span><span class="si">%.2f</span><span class="s1"> - </span><span class="si">%.2f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">Min</span><span class="p">,</span> <span class="n">Max</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  grading scale  : </span><span class="si">%.2f</span><span class="s1"> - </span><span class="si">%.2f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="o">-</span><span class="n">Max</span><span class="p">,</span> <span class="n">Min</span><span class="p">))</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  grading scale  : </span><span class="si">%.2f</span><span class="s1"> - </span><span class="si">%.2f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">Min</span><span class="p">,</span> <span class="n">Max</span><span class="p">))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  # missing evaluations : </span><span class="si">%d</span><span class="s1">&#39;</span>   <span class="o">%</span> <span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="n">na</span><span class="p">))</span>
        <span class="c1"># !! index on evaluation List goes from 0 to na -1 !!</span>
        <span class="k">if</span> <span class="n">na</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">:</span>
            <span class="n">rankQ1</span> <span class="o">=</span> <span class="n">na</span> <span class="o">/</span> <span class="mf">4.0</span>
            <span class="n">lowRankQ1</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">rankQ1</span><span class="p">))</span>
            <span class="n">proportQ1</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">rankQ1</span> <span class="o">-</span> <span class="n">lowRankQ1</span><span class="p">))</span>
            <span class="n">quantileQ1</span> <span class="o">=</span> <span class="n">evaluationList</span><span class="p">[</span><span class="n">lowRankQ1</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="n">proportQ1</span> <span class="o">*</span> <span class="p">(</span><span class="n">evaluationList</span><span class="p">[</span><span class="n">lowRankQ1</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">evaluationList</span><span class="p">[</span><span class="n">lowRankQ1</span><span class="p">])</span> <span class="p">)</span>
            <span class="c1">#print rankQ1, lowRankQ1, proportQ1</span>

            <span class="n">rankQ2</span> <span class="o">=</span> <span class="n">na</span> <span class="o">/</span> <span class="mf">2.0</span>
            <span class="n">lowRankQ2</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">rankQ2</span><span class="p">))</span>
            <span class="n">proportQ2</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">rankQ2</span> <span class="o">-</span> <span class="n">lowRankQ2</span><span class="p">))</span>
            
            <span class="n">quantileQ2</span> <span class="o">=</span> <span class="n">evaluationList</span><span class="p">[</span><span class="n">lowRankQ2</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="n">proportQ2</span> <span class="o">*</span> <span class="p">(</span> <span class="n">evaluationList</span><span class="p">[</span><span class="n">lowRankQ2</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">evaluationList</span><span class="p">[</span><span class="n">lowRankQ2</span><span class="p">])</span> <span class="p">)</span>

            <span class="n">rankQ3</span> <span class="o">=</span> <span class="p">(</span><span class="n">na</span> <span class="o">*</span> <span class="mf">3.0</span><span class="p">)</span> <span class="o">/</span> <span class="mf">4.0</span>
            <span class="n">lowRankQ3</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">rankQ3</span><span class="p">))</span>
            <span class="n">proportQ3</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">rankQ3</span> <span class="o">-</span> <span class="n">lowRankQ3</span><span class="p">))</span>
                          
            <span class="n">quantileQ3</span> <span class="o">=</span> <span class="n">evaluationList</span><span class="p">[</span><span class="n">lowRankQ3</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span> <span class="n">proportQ3</span> <span class="o">*</span> <span class="p">(</span><span class="n">evaluationList</span><span class="p">[</span><span class="n">lowRankQ3</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">evaluationList</span><span class="p">[</span><span class="n">lowRankQ3</span><span class="p">])</span> <span class="p">)</span>
                
            <span class="n">averageEvaluation</span> <span class="o">/=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">na</span><span class="p">))</span>
            <span class="n">varianceEvaluation</span> <span class="o">=</span> <span class="n">varianceEvaluation</span><span class="o">/</span><span class="n">na</span> <span class="o">-</span> <span class="n">averageEvaluation</span><span class="o">**</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">)</span>
            <span class="n">stdDevEvaluation</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">varianceEvaluation</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  mean evaluation       : </span><span class="si">%.2f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">averageEvaluation</span><span class="p">))</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  standard deviation    : </span><span class="si">%.2f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">stdDevEvaluation</span><span class="p">))</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  maximal evaluation    : </span><span class="si">%.2f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">maxEvaluation</span><span class="p">))</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  quantile Q3 (x_75)    : </span><span class="si">%.2f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">quantileQ3</span><span class="p">))</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  median evaluation     : </span><span class="si">%.2f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">quantileQ2</span><span class="p">))</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  quantile Q1 (x_25)    : </span><span class="si">%.2f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">quantileQ1</span><span class="p">))</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  minimal evaluation    : </span><span class="si">%.2f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">minEvaluation</span><span class="p">))</span>
            <span class="n">averageAbsDiffEvaluation</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0.0&#39;</span><span class="p">)</span>
            <span class="n">varianceDiffEvaluation</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0.0&#39;</span><span class="p">)</span>
            <span class="n">nd</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">actions</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">actions</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">x</span><span class="p">]</span> <span class="o">!=</span> <span class="n">NA</span> <span class="ow">and</span> <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">y</span><span class="p">]</span> <span class="o">!=</span> <span class="n">NA</span><span class="p">:</span>
                        <span class="n">diffxy</span> <span class="o">=</span> <span class="p">(</span><span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">x</span><span class="p">]</span> <span class="o">-</span> <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">y</span><span class="p">])</span>
                        <span class="n">averageAbsDiffEvaluation</span> <span class="o">+=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">diffxy</span><span class="p">)</span>
                        <span class="n">varianceDiffEvaluation</span> <span class="o">+=</span> <span class="n">diffxy</span><span class="o">**</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">)</span>
                        <span class="n">nd</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="c1">#            print &#39;  Sum of evaluation differences = &#39;, averageAbsDiffEvaluation</span>
            <span class="n">averageAbsDiffEvaluation</span> <span class="o">/=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">nd</span><span class="p">))</span>
            <span class="c1">## averageDiffEvaluation == 0 per construction  </span>
            <span class="n">varianceDiffEvaluation</span> <span class="o">=</span> <span class="n">varianceDiffEvaluation</span><span class="o">/</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">nd</span><span class="p">))</span>
            <span class="n">stdDevDiffEvaluation</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">varianceDiffEvaluation</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  mean absolute difference      : </span><span class="si">%.2f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">averageAbsDiffEvaluation</span><span class="p">))</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  standard difference deviation : </span><span class="si">%.2f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">stdDevDiffEvaluation</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  !! not enough evaluations !!&#39;</span><span class="p">)</span></div>


<div class="viewcode-block" id="RandomAcademicPerformanceTableau.showStatistics">
<a class="viewcode-back" href="../techDoc.html#randomPerfTabs.RandomAcademicPerformanceTableau.showStatistics">[docs]</a>
    <span class="k">def</span> <span class="nf">showStatistics</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Obsolete</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Obsolete ! use instaed self.showCourseStatistics(courseID)&#39;</span><span class="p">)</span></div>
</div>

        
<span class="c1">#-----------------</span>
<div class="viewcode-block" id="RandomRankPerformanceTableau">
<a class="viewcode-back" href="../techDoc.html#randomPerfTabs.RandomRankPerformanceTableau">[docs]</a>
<span class="k">class</span> <span class="nc">RandomRankPerformanceTableau</span><span class="p">(</span><span class="n">PerformanceTableau</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    For generating multiple-criteria ranked (without ties) performances of a given number of decision actions.</span>
<span class="sd">    On each criterion, all decision actions are hence lineraly ordered.</span>
<span class="sd">    The :py:class:`randomPerfTabs.RandomRankPerformanceTableau` class</span>
<span class="sd">    is matching the :py:class:`votingDigraphs.RandomLinearVotingProfiles`</span>
<span class="sd">    class (see http://hdl.handle.net/10993/37933 Lecture 2 : Voting of</span>
<span class="sd">    the Algorithmic Decision Theory Course)</span>
<span class="sd">        </span>
<span class="sd">    *Parameters*:</span>
<span class="sd">        * number of actions,</span>
<span class="sd">        * number of performance criteria,</span>
<span class="sd">        * weightDistribution := equisignificant | random (default, see RandomPerformanceTableau)</span>
<span class="sd">        * weightScale := (1, 1 | numberOfCriteria (default when random))</span>
<span class="sd">        * IntegerWeights := Boolean (True = default). Weights are negative, as all the criteria preference directions are &#39;min&#39;, as the rank performance is to be minimized. </span>
<span class="sd">        * commonThresholds (default) := {</span>
<span class="sd">            | &#39;ind&#39;:(0,0),</span>
<span class="sd">            | &#39;pref&#39;:(1,0),</span>
<span class="sd">            | &#39;veto&#39;:(numberOfActions,0)</span>
<span class="sd">            | } (default)</span>

<span class="sd">    &gt;&gt;&gt; t = RandomRankPerformanceTableau(numberOfActions=3,numberOfCriteria=2)</span>
<span class="sd">    &gt;&gt;&gt; t.showObjectives()</span>
<span class="sd">    The performance tableau does not contain objectives.</span>
<span class="sd">    &gt;&gt;&gt; t.showCriteria()</span>
<span class="sd">    *----  criteria -----*</span>
<span class="sd">    g1 &#39;Random criteria (voter)&#39;</span>
<span class="sd">      Scale = (Decimal(&#39;0&#39;), Decimal(&#39;3&#39;))</span>
<span class="sd">      Weight = -1 # ranks to be minimal </span>
<span class="sd">      Threshold ind : 0.00 + 0.00x ; percentile:  0.0</span>
<span class="sd">      Threshold pref : 1.00 + 0.00x ; percentile:  0.667</span>
<span class="sd">      Threshold veto : 3.00 + 0.00x ; percentile:  1.0</span>
<span class="sd">    g2 &#39;Random criteria (voter)&#39;</span>
<span class="sd">      Scale = (Decimal(&#39;0&#39;), Decimal(&#39;3&#39;))</span>
<span class="sd">      Weight = -1 # ranks to be minimal</span>
<span class="sd">      Threshold ind : 0.00 + 0.00x ; percentile:  0.0</span>
<span class="sd">      Threshold pref : 1.00 + 0.00x ; percentile:  0.667</span>
<span class="sd">      Threshold veto : 3.00 + 0.00x ; percentile:  1.0</span>
<span class="sd">    &gt;&gt;&gt; t.showActions()</span>
<span class="sd">    *----- show decision action --------------*</span>
<span class="sd">    key:  a1</span>
<span class="sd">      short name: a1</span>
<span class="sd">      name:       random decision action (candidate)</span>
<span class="sd">      comment:    RandomRankPerformanceTableau() generated.</span>
<span class="sd">    key:  a2</span>
<span class="sd">      short name: a2</span>
<span class="sd">      name:       random decision action (candidate)</span>
<span class="sd">      comment:    RandomRankPerformanceTableau() generated.</span>
<span class="sd">    key:  a3</span>
<span class="sd">      short name: a3</span>
<span class="sd">      name:       random decision action (candidate)</span>
<span class="sd">      comment:    RandomRankPerformanceTableau() generated.</span>
<span class="sd">    &gt;&gt;&gt; t.showPerformanceTableau()</span>
<span class="sd">    *----  performance tableau -----*</span>
<span class="sd">    criteria | weights | &#39;a1&#39; &#39;a2&#39; &#39;a3&#39;   </span>
<span class="sd">    ---------|--------------------------</span>
<span class="sd">       &#39;g1&#39;  |    -1   |   3    1    2  </span>
<span class="sd">       &#39;g2&#39;  |    -1   |   2    1    3  </span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">numberOfActions</span> <span class="o">=</span> <span class="mi">13</span><span class="p">,</span> <span class="n">numberOfCriteria</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
                 <span class="n">weightDistribution</span> <span class="o">=</span> <span class="s1">&#39;equisignificant&#39;</span><span class="p">,</span> <span class="n">weightScale</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">commonThresholds</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">IntegerWeights</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                 <span class="n">BigData</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                 <span class="n">seed</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">Debug</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructor of random ranks performance tableaux. </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># set random seed</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">randomSeed</span> <span class="o">=</span> <span class="n">seed</span>
        <span class="kn">import</span> <span class="nn">random</span>
        <span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span>

        <span class="c1"># set name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;randrankperftab&#39;</span>
        
        <span class="c1"># generate actions</span>
        <span class="n">nd</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">numberOfActions</span><span class="p">))</span>
        <span class="n">actions</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numberOfActions</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">BigData</span><span class="p">:</span>
                <span class="n">actionName</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;a</span><span class="si">%%</span><span class="s1">0</span><span class="si">%d</span><span class="s1">d&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">nd</span><span class="p">))</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
                <span class="n">actions</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="n">actionName</span><span class="p">}</span>
            <span class="k">else</span><span class="p">:</span>   
                <span class="n">actionKey</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;a</span><span class="si">%%</span><span class="s1">0</span><span class="si">%d</span><span class="s1">d&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">nd</span><span class="p">))</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
                <span class="n">actions</span><span class="p">[</span><span class="n">actionKey</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;shortName&#39;</span><span class="p">:</span><span class="n">actionKey</span><span class="p">,</span>
                        <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;random decision actions (candidate)&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;comment&#39;</span><span class="p">:</span> <span class="s1">&#39;Random Ranks&#39;</span> <span class="p">}</span>
        <span class="c1"># generate the criteria weights</span>
        <span class="k">if</span> <span class="n">weightScale</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">weightScale</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">numberOfCriteria</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">weightDistribution</span> <span class="o">==</span> <span class="s1">&#39;random&#39;</span><span class="p">:</span>
            <span class="n">weightsList</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">sumWeights</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0.0&#39;</span><span class="p">)</span>
            <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numberOfCriteria</span><span class="p">):</span>
                <span class="n">weightsList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="n">weightScale</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">weightScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]))))</span>
                <span class="n">sumWeights</span> <span class="o">+=</span> <span class="n">weightsList</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">weightsList</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">weightDistribution</span> <span class="o">==</span> <span class="s1">&#39;equisignificant&#39;</span><span class="p">:</span>
            <span class="n">weightScale</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">weightsList</span> <span class="o">=</span> <span class="p">[</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">weightScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numberOfCriteria</span><span class="p">)]</span>
            <span class="n">sumWeights</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">weightsList</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;!!! Error: wrong criteria weight distribution mode: </span><span class="si">%s</span><span class="s1"> !!!!&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">weightDistribution</span><span class="p">))</span>

        <span class="c1"># generate criteria dictionary</span>
        <span class="n">ngd</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">numberOfCriteria</span><span class="p">))</span>
        <span class="n">criteria</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>
        <span class="n">commentString</span> <span class="o">=</span> <span class="s1">&#39;Arguments: &#39;</span>
        <span class="n">commentString</span> <span class="o">+=</span> <span class="s1">&#39;; weightDistribution=&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">weightDistribution</span><span class="p">)</span>
        <span class="n">commentString</span> <span class="o">+=</span> <span class="s1">&#39;; weightScale=&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">weightScale</span><span class="p">)</span>
        <span class="n">commentString</span> <span class="o">+=</span> <span class="s1">&#39;; IntegerWeights=&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">IntegerWeights</span><span class="p">)</span>
        <span class="n">commentString</span> <span class="o">+=</span> <span class="s1">&#39;; commonThresholds=&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">commonThresholds</span><span class="p">)</span>
    
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numberOfCriteria</span><span class="p">):</span>
            <span class="n">g</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;g</span><span class="si">%%</span><span class="s1">0</span><span class="si">%d</span><span class="s1">d&#39;</span> <span class="o">%</span> <span class="n">ngd</span><span class="p">)</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="o">=</span><span class="s1">&#39;Random criteria (voter)&#39;</span>
            <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;comment&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">commentString</span>
            <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;preferenceDirection&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;min&#39;</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">indThreshold</span>  <span class="o">=</span><span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">commonThresholds</span><span class="p">[</span><span class="s1">&#39;ind&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">])),</span>
                                <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">commonThresholds</span><span class="p">[</span><span class="s1">&#39;ind&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">])))</span>
                <span class="n">prefThreshold</span> <span class="o">=</span><span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">commonThresholds</span><span class="p">[</span><span class="s1">&#39;pref&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">])),</span>
                                <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">commonThresholds</span><span class="p">[</span><span class="s1">&#39;pref&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">])))</span>
                <span class="n">vetoThreshold</span> <span class="o">=</span><span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">commonThresholds</span><span class="p">[</span><span class="s1">&#39;veto&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">])),</span>
                                <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">commonThresholds</span><span class="p">[</span><span class="s1">&#39;veto&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">])))</span>
             
                <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;thresholds&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;ind&#39;</span><span class="p">:</span><span class="n">indThreshold</span><span class="p">,</span>
                                             <span class="s1">&#39;pref&#39;</span><span class="p">:</span><span class="n">prefThreshold</span><span class="p">,</span>
                                             <span class="s1">&#39;veto&#39;</span><span class="p">:</span><span class="n">vetoThreshold</span><span class="p">}</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="n">indThreshold</span>  <span class="o">=</span> <span class="p">(</span> <span class="n">Decimal</span><span class="p">(</span><span class="s2">&quot;0&quot;</span><span class="p">),</span> <span class="n">Decimal</span><span class="p">(</span><span class="s2">&quot;0&quot;</span><span class="p">)</span> <span class="p">)</span>
                <span class="n">prefThreshold</span> <span class="o">=</span> <span class="p">(</span> <span class="n">Decimal</span><span class="p">(</span><span class="s2">&quot;1&quot;</span><span class="p">),</span> <span class="n">Decimal</span><span class="p">(</span><span class="s2">&quot;0&quot;</span><span class="p">)</span> <span class="p">)</span>
                <span class="n">vetoThreshold</span> <span class="o">=</span> <span class="p">(</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">numberOfActions</span><span class="p">)),</span> <span class="n">Decimal</span><span class="p">(</span><span class="s2">&quot;0&quot;</span><span class="p">)</span> <span class="p">)</span>               
                <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;thresholds&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;ind&#39;</span><span class="p">:</span><span class="n">indThreshold</span><span class="p">,</span>
                                              <span class="s1">&#39;pref&#39;</span><span class="p">:</span><span class="n">prefThreshold</span><span class="p">,</span>
                                              <span class="s1">&#39;veto&#39;</span><span class="p">:</span> <span class="n">vetoThreshold</span>
                                              <span class="p">}</span>
            <span class="n">commonScale</span> <span class="o">=</span> <span class="p">(</span> <span class="n">Decimal</span><span class="p">(</span><span class="s2">&quot;0&quot;</span><span class="p">),</span> <span class="n">Decimal</span><span class="p">(</span><span class="n">numberOfActions</span><span class="p">)</span> <span class="p">)</span>
            <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;scale&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">commonScale</span>
            <span class="c1"># weights are negative</span>
            <span class="k">if</span> <span class="n">IntegerWeights</span><span class="p">:</span>
                <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">weightsList</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">weightsList</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">/</span><span class="n">sumWeights</span>
                
        <span class="c1"># generate evaluations</span>
        <span class="n">evaluation</span> <span class="o">=</span> <span class="p">{}</span>       
        <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">criteria</span><span class="p">:</span>
            <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">choiceRange</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">numberOfActions</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>
            <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">actions</span><span class="p">:</span>
                <span class="n">randeval</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">choiceRange</span><span class="p">)</span>
                <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span><span class="n">randeval</span><span class="p">)</span> <span class="p">)</span>
                <span class="n">choiceRange</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">randeval</span><span class="p">)</span>

        <span class="c1"># install object items</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">actions</span> <span class="o">=</span> <span class="n">actions</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">criteria</span> <span class="o">=</span> <span class="n">criteria</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">evaluation</span> <span class="o">=</span> <span class="n">evaluation</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">NA</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;-999&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sumWeights</span> <span class="o">=</span> <span class="n">sumWeights</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">weightPreorder</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">computeWeightPreorder</span><span class="p">()</span></div>


<span class="c1"># ------------------------------</span>


<span class="k">class</span> <span class="nc">_FullRandomPerformanceTableau</span><span class="p">(</span><span class="n">PerformanceTableau</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Full automatic generation of random performance tableaux</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">numberOfActions</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">numberOfCriteria</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">weightDistribution</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">weightScale</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">IntegerWeights</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                 <span class="n">commonScale</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">commonThresholds</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">commonMode</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">valueDigits</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                 <span class="n">seed</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">Debug</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
        <span class="c1"># import OrderedDict container</span>
        <span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">OrderedDict</span>
        <span class="c1"># set name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;fullrandomperftab&#39;</span>

        <span class="c1"># set random seaad</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">randomSeed</span> <span class="o">=</span> <span class="n">seed</span>
        <span class="kn">import</span> <span class="nn">random</span>
        <span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span>

        <span class="c1"># generate random actions</span>
        <span class="k">if</span> <span class="n">numberOfActions</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">numberOfActions</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">30</span><span class="p">)</span>
        <span class="n">nd</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">numberOfActions</span><span class="p">))</span>
        <span class="n">actions</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numberOfActions</span><span class="p">):</span>
            <span class="n">actionKey</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;a</span><span class="si">%%</span><span class="s1">0</span><span class="si">%d</span><span class="s1">d&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">nd</span><span class="p">))</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">actions</span><span class="p">[</span><span class="n">actionKey</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;shortName&#39;</span><span class="p">:</span><span class="n">actionKey</span><span class="p">,</span>
                    <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;random decision action&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;comment&#39;</span><span class="p">:</span> <span class="s1">&#39;RandomRankPerformanceTableau() generated.&#39;</span> <span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">actions</span> <span class="o">=</span> <span class="n">actions</span>
        <span class="n">actionsList</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">actions</span><span class="o">.</span><span class="n">keys</span><span class="p">()]</span>

        <span class="c1"># generate criterialist</span>
        <span class="k">if</span> <span class="n">numberOfCriteria</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">numberOfCriteria</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">21</span><span class="p">)</span>
            
        <span class="n">ng</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">numberOfCriteria</span><span class="p">))</span>
        <span class="n">criteriaList</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;g</span><span class="si">%%</span><span class="s1">0</span><span class="si">%d</span><span class="s1">d&#39;</span> <span class="o">%</span> <span class="n">ng</span><span class="p">)</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> \
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numberOfCriteria</span><span class="p">)]</span>               
        <span class="n">criteriaList</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>

        <span class="c1"># generate random weights</span>
        <span class="k">if</span> <span class="n">weightDistribution</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">majorityWeight</span> <span class="o">=</span> <span class="n">numberOfCriteria</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="n">weightModesList</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;fixed&#39;</span><span class="p">,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="mi">1</span><span class="p">),</span>
                               <span class="p">(</span><span class="s1">&#39;random&#39;</span><span class="p">,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span><span class="mi">2</span><span class="p">),</span>
                               <span class="p">(</span><span class="s1">&#39;random&#39;</span><span class="p">,[</span><span class="mi">1</span><span class="p">,</span><span class="n">numberOfCriteria</span><span class="p">],</span><span class="mi">3</span><span class="p">)]</span>
            <span class="n">weightMode</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">weightModesList</span><span class="p">)</span>
            <span class="n">weightDistribution</span> <span class="o">=</span> <span class="n">weightMode</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">weightScale</span> <span class="o">=</span>  <span class="n">weightMode</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">weightScale</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">weightScale</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">numberOfCriteria</span><span class="p">)</span>
            <span class="n">weightMode</span><span class="o">=</span><span class="p">[</span><span class="n">weightDistribution</span><span class="p">,</span><span class="n">weightScale</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">weightDistribution</span> <span class="o">==</span> <span class="s1">&#39;random&#39;</span><span class="p">:</span>
            <span class="n">weightsList</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">sumWeights</span> <span class="o">=</span> <span class="mf">0.0</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">criteriaList</span><span class="p">)):</span>
                <span class="n">g</span> <span class="o">=</span> <span class="n">criteriaList</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="n">weightsList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="n">weightScale</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">weightScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
                <span class="n">sumWeights</span> <span class="o">+=</span> <span class="n">weightsList</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">weightsList</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">weightDistribution</span> <span class="o">==</span> <span class="s1">&#39;fixed&#39;</span><span class="p">:</span>
            <span class="n">weightsList</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">sumWeights</span> <span class="o">=</span> <span class="mf">0.0</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">criteriaList</span><span class="p">)):</span>
                <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">weightsList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">weightScale</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
                    <span class="n">sumWeights</span> <span class="o">+=</span> <span class="n">weightScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">weightsList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">weightScale</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                    <span class="n">sumWeights</span> <span class="o">+=</span> <span class="n">weightScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">weightsList</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">weightDistribution</span> <span class="o">==</span> <span class="s1">&#39;equisignificant&#39;</span> <span class="ow">or</span> <span class="n">weightDistribution</span> <span class="o">==</span> <span class="s1">&#39;equiobjectives&#39;</span><span class="p">:</span>
            <span class="n">weightScale</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">weightsList</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">sumWeights</span> <span class="o">=</span> <span class="mf">0.0</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">criteriaList</span><span class="p">)):</span>
                <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">weightsList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">weightScale</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
                    <span class="n">sumWeights</span> <span class="o">+=</span> <span class="n">weightScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">weightsList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">weightScale</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                    <span class="n">sumWeights</span> <span class="o">+=</span> <span class="n">weightScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">weightsList</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;!!! Error: wrong criteria weight distribution mode: </span><span class="si">%s</span><span class="s1"> !!!!&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">weightDistribution</span><span class="p">))</span>

        <span class="c1"># generate criteria dictionary with random thresholds</span>
        <span class="k">if</span> <span class="n">commonScale</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">commonScale</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">100.0</span><span class="p">]</span>
        <span class="n">criteria</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">criteriaList</span><span class="p">)):</span>
            <span class="n">g</span> <span class="o">=</span> <span class="n">criteriaList</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;random criterion&#39;</span>
            <span class="c1">#t = time.time()</span>
            <span class="k">if</span> <span class="n">commonThresholds</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>        
                <span class="n">thresholds</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="n">thresholds</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="nb">round</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">/</span><span class="mf">5.0</span><span class="p">),</span><span class="n">valueDigits</span><span class="p">),</span><span class="mf">0.0</span><span class="p">))</span>
                <span class="n">thresholds</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="nb">round</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="n">thresholds</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">/</span><span class="mf">3.0</span><span class="p">),</span><span class="n">valueDigits</span><span class="p">),</span><span class="mf">0.0</span><span class="p">))</span>
                <span class="n">thresholds</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="nb">round</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="mf">2.0</span><span class="o">/</span><span class="mf">3.0</span><span class="p">,</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span><span class="n">valueDigits</span><span class="p">),</span><span class="mf">0.0</span><span class="p">))</span>
                <span class="n">thresholds</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="nb">round</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="n">thresholds</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span><span class="n">valueDigits</span><span class="p">),</span><span class="mf">0.0</span><span class="p">))</span>
                
            <span class="k">else</span><span class="p">:</span>
                <span class="n">thresholds</span> <span class="o">=</span> <span class="n">commonThresholds</span>
            <span class="c1">## print thresholds</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;thresholds&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s1">&#39;ind&#39;</span><span class="p">:(</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">thresholds</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">])),</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">thresholds</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]))),</span>
                    <span class="s1">&#39;pref&#39;</span><span class="p">:(</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">thresholds</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">])),</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">thresholds</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]))),</span>
                    <span class="s1">&#39;weakVeto&#39;</span><span class="p">:(</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">thresholds</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">])),</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">thresholds</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">]))),</span>
                    <span class="s1">&#39;veto&#39;</span><span class="p">:(</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">thresholds</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">0</span><span class="p">])),</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">thresholds</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">1</span><span class="p">]))),</span>
                    <span class="p">}</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;thresholds&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s1">&#39;ind&#39;</span><span class="p">:(</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">thresholds</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">])),</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">thresholds</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]))),</span>
                    <span class="s1">&#39;pref&#39;</span><span class="p">:(</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">thresholds</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">])),</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">thresholds</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]))),</span>
                    <span class="s1">&#39;veto&#39;</span><span class="p">:(</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">thresholds</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">])),</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">thresholds</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">]))),</span>
                    <span class="p">}</span>               
            <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;scale&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">commonScale</span>
            <span class="k">if</span> <span class="n">IntegerWeights</span><span class="p">:</span>
                <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">weightsList</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">weightsList</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span><span class="o">/</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">sumWeights</span><span class="p">))</span>

        <span class="c1"># generate random evaluations</span>
        <span class="n">x30</span><span class="o">=</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="mf">0.3</span>
        <span class="n">x50</span><span class="o">=</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="mf">0.5</span>
        <span class="n">x70</span><span class="o">=</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="mf">0.7</span>
        <span class="n">randomLawsList</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;uniform&#39;</span><span class="p">,</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span>
                          <span class="p">(</span><span class="s1">&#39;triangular&#39;</span><span class="p">,</span><span class="n">x30</span><span class="p">,</span><span class="mf">0.33</span><span class="p">),(</span><span class="s1">&#39;triangular&#39;</span><span class="p">,</span><span class="n">x30</span><span class="p">,</span><span class="mf">0.50</span><span class="p">),(</span><span class="s1">&#39;triangular&#39;</span><span class="p">,</span><span class="n">x30</span><span class="p">,</span><span class="mf">0.75</span><span class="p">),</span>
                          <span class="p">(</span><span class="s1">&#39;triangular&#39;</span><span class="p">,</span><span class="n">x50</span><span class="p">,</span><span class="mf">0.33</span><span class="p">),(</span><span class="s1">&#39;triangular&#39;</span><span class="p">,</span><span class="n">x50</span><span class="p">,</span><span class="mf">0.50</span><span class="p">),(</span><span class="s1">&#39;triangular&#39;</span><span class="p">,</span><span class="n">x50</span><span class="p">,</span><span class="mf">0.75</span><span class="p">),</span>
                          <span class="p">(</span><span class="s1">&#39;triangular&#39;</span><span class="p">,</span><span class="n">x70</span><span class="p">,</span><span class="mf">0.33</span><span class="p">),(</span><span class="s1">&#39;triangular&#39;</span><span class="p">,</span><span class="n">x70</span><span class="p">,</span><span class="mf">0.50</span><span class="p">),(</span><span class="s1">&#39;triangular&#39;</span><span class="p">,</span><span class="n">x70</span><span class="p">,</span><span class="mf">0.75</span><span class="p">),</span>
                          <span class="p">(</span><span class="s1">&#39;normal&#39;</span><span class="p">,</span><span class="n">x30</span><span class="p">,</span><span class="mf">20.0</span><span class="p">),(</span><span class="s1">&#39;normal&#39;</span><span class="p">,</span><span class="n">x30</span><span class="p">,</span><span class="mf">25.0</span><span class="p">),(</span><span class="s1">&#39;normal&#39;</span><span class="p">,</span><span class="n">x30</span><span class="p">,</span><span class="mf">30.0</span><span class="p">),</span>
                          <span class="p">(</span><span class="s1">&#39;normal&#39;</span><span class="p">,</span><span class="n">x50</span><span class="p">,</span><span class="mf">20.0</span><span class="p">),(</span><span class="s1">&#39;normal&#39;</span><span class="p">,</span><span class="n">x50</span><span class="p">,</span><span class="mf">25.0</span><span class="p">),(</span><span class="s1">&#39;normal&#39;</span><span class="p">,</span><span class="n">x50</span><span class="p">,</span><span class="mf">30.0</span><span class="p">),</span>
                          <span class="p">(</span><span class="s1">&#39;normal&#39;</span><span class="p">,</span><span class="n">x70</span><span class="p">,</span><span class="mf">20.0</span><span class="p">),(</span><span class="s1">&#39;normal&#39;</span><span class="p">,</span><span class="n">x70</span><span class="p">,</span><span class="mf">25.0</span><span class="p">),(</span><span class="s1">&#39;normal&#39;</span><span class="p">,</span><span class="n">x70</span><span class="p">,</span><span class="mf">30.0</span><span class="p">)]</span>
        <span class="n">evaluation</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">criteriaList</span><span class="p">)):</span>
            <span class="n">g</span> <span class="o">=</span> <span class="n">criteriaList</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">if</span> <span class="n">commonMode</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">randomMode</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">randomLawsList</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">randomMode</span> <span class="o">=</span> <span class="n">commonMode</span>
            <span class="k">if</span> <span class="n">randomMode</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;uniform&#39;</span><span class="p">:</span>
                <span class="n">randomMode</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">randomMode</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;randomMode&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">randomMode</span>
            <span class="k">if</span> <span class="n">randomMode</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;beta&#39;</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">randomMode</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">randomMode</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">commentString</span> <span class="o">=</span> <span class="n">randomMode</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;, default, default&#39;</span>
                <span class="k">elif</span> <span class="n">randomMode</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">randomMode</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">commentString</span> <span class="o">=</span> <span class="n">randomMode</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;, </span><span class="si">%.2f</span><span class="s1">, default&#39;</span> <span class="o">%</span> <span class="nb">float</span><span class="p">(</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
                <span class="k">elif</span> <span class="n">randomMode</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">randomMode</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">commentString</span> <span class="o">=</span> <span class="n">randomMode</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;, default, </span><span class="si">%.2f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">2</span><span class="p">]))</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">commentString</span> <span class="o">=</span> <span class="n">randomMode</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;, </span><span class="si">%.2f</span><span class="s1">, </span><span class="si">%.2f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span><span class="nb">float</span><span class="p">(</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">2</span><span class="p">]))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">randomMode</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">randomMode</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">commentString</span> <span class="o">=</span> <span class="n">randomMode</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;, </span><span class="si">%.2f</span><span class="s1">, (</span><span class="si">%.4f</span><span class="s1">,</span><span class="si">%.4f</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span><span class="nb">float</span><span class="p">(</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">]),</span><span class="nb">float</span><span class="p">(</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">]))</span>
                <span class="k">elif</span> <span class="n">randomMode</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">randomMode</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">commentString</span> <span class="o">=</span> <span class="n">randomMode</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;, default, (</span><span class="si">%.4f</span><span class="s1">,</span><span class="si">%.4f</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">]),</span><span class="nb">float</span><span class="p">(</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">]))</span>
                <span class="k">if</span> <span class="n">randomMode</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">randomMode</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">commentString</span> <span class="o">=</span> <span class="n">randomMode</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;, </span><span class="si">%.2f</span><span class="s1">, default&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">commentString</span> <span class="o">=</span> <span class="n">randomMode</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;, default,default&#39;</span>
                    
                
            <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;comment&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Evaluation generator: &#39;</span><span class="o">+</span><span class="n">commentString</span>
            <span class="n">digits</span> <span class="o">=</span> <span class="n">valueDigits</span>
            <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="s1">&#39;uniform&#39;</span><span class="p">:</span>          
                <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
                <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">actionsList</span><span class="p">:</span>
                    <span class="n">randeval</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
                    <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>
            <span class="k">elif</span> <span class="nb">str</span><span class="p">(</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="s1">&#39;triangular&#39;</span><span class="p">:</span>
                <span class="kn">from</span> <span class="nn">randomNumbers</span> <span class="kn">import</span> <span class="n">ExtendedTriangularRandomVariable</span> <span class="k">as</span> <span class="n">RNG</span>
                <span class="n">m</span> <span class="o">=</span> <span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">M</span> <span class="o">=</span> <span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">commonMode</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="n">xm</span> <span class="o">=</span> <span class="p">(</span><span class="n">M</span><span class="o">-</span><span class="n">m</span><span class="p">)</span><span class="o">/</span><span class="mf">2.0</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">xm</span> <span class="o">=</span> <span class="n">commonMode</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="n">xm</span> <span class="o">=</span> <span class="p">(</span><span class="n">M</span><span class="o">-</span><span class="n">m</span><span class="p">)</span><span class="o">/</span><span class="mf">2.0</span>
                <span class="k">try</span><span class="p">:</span>    
                    <span class="k">if</span> <span class="n">commonMode</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="n">r</span>  <span class="o">=</span> <span class="mf">0.5</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">r</span>  <span class="o">=</span> <span class="n">commonMode</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="n">r</span>  <span class="o">=</span> <span class="mf">0.5</span>
                <span class="n">rdseed</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>
                <span class="n">rng</span> <span class="o">=</span> <span class="n">RNG</span><span class="p">(</span><span class="n">m</span><span class="p">,</span><span class="n">M</span><span class="p">,</span><span class="n">xm</span><span class="p">,</span><span class="n">r</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="n">rdseed</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">actionsList</span><span class="p">:</span>
<span class="c1">##                    u = random.random()</span>
<span class="c1">##                    if u &lt; r:</span>
<span class="c1">##                        randeval = m + math.sqrt(u/r)*(xm-m)                </span>
<span class="c1">##                    else:</span>
<span class="c1">##                        randeval = M - math.sqrt((1-u)/(1-r))*(M-xm)</span>
<span class="c1">##                    evaluation[g][a] = Decimal(str(round(randeval,digits)))</span>
                    <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">rng</span><span class="o">.</span><span class="n">random</span><span class="p">(),</span><span class="n">digits</span><span class="p">)))</span>

            <span class="k">elif</span> <span class="nb">str</span><span class="p">(</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="s1">&#39;normal&#39;</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">commonMode</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="n">mu</span> <span class="o">=</span> <span class="p">(</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="mf">2.0</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">mu</span> <span class="o">=</span> <span class="n">commonMode</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="n">mu</span> <span class="o">=</span> <span class="p">(</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="mf">2.0</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">commonMode</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="n">sigma</span> <span class="o">=</span> <span class="p">(</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="mf">4.0</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">sigma</span> <span class="o">=</span> <span class="n">commonMode</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="n">sigma</span> <span class="o">=</span> <span class="p">(</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="mf">4.0</span>
                <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">actionsList</span><span class="p">:</span>
                    <span class="n">notfound</span> <span class="o">=</span> <span class="kc">True</span> 
                    <span class="k">while</span> <span class="n">notfound</span><span class="p">:</span>
                        <span class="n">randeval</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">normalvariate</span><span class="p">(</span><span class="n">mu</span><span class="p">,</span><span class="n">sigma</span><span class="p">)</span>
                        <span class="k">if</span> <span class="n">randeval</span> <span class="o">&gt;=</span> <span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">and</span>  <span class="n">randeval</span> <span class="o">&lt;=</span> <span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
                            <span class="n">notfound</span> <span class="o">=</span> <span class="kc">False</span>
                    <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>

            <span class="k">elif</span> <span class="nb">str</span><span class="p">(</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="s1">&#39;beta&#39;</span><span class="p">:</span>
                <span class="n">m</span> <span class="o">=</span> <span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">M</span> <span class="o">=</span> <span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">commonMode</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">xm</span> <span class="o">=</span> <span class="mf">0.5</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">xm</span> <span class="o">=</span> <span class="n">commonMode</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                
                <span class="k">if</span> <span class="n">commonMode</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">xm</span> <span class="o">&gt;</span> <span class="mf">0.5</span><span class="p">:</span>
                        <span class="n">beta</span> <span class="o">=</span> <span class="mf">2.0</span>
                        <span class="n">alpha</span> <span class="o">=</span> <span class="mf">1.0</span><span class="o">/</span><span class="p">(</span><span class="mf">1.0</span> <span class="o">-</span> <span class="n">xm</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">alpha</span> <span class="o">=</span> <span class="mf">2.0</span>
                        <span class="n">beta</span> <span class="o">=</span> <span class="mf">1.0</span><span class="o">/</span><span class="n">xm</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">alpha</span> <span class="o">=</span> <span class="n">commonMode</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
                    <span class="n">beta</span> <span class="o">=</span> <span class="n">commonMode</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">Debug</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;alpha,beta&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="p">,</span><span class="n">beta</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">actionsList</span><span class="p">:</span>
                    <span class="n">u</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">betavariate</span><span class="p">(</span><span class="n">alpha</span><span class="p">,</span><span class="n">beta</span><span class="p">)</span>
                    <span class="n">randeval</span> <span class="o">=</span> <span class="p">(</span><span class="n">u</span> <span class="o">*</span> <span class="p">(</span><span class="n">M</span><span class="o">-</span><span class="n">m</span><span class="p">))</span> <span class="o">+</span> <span class="n">m</span>
                    <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>
                    <span class="k">if</span> <span class="n">Debug</span><span class="p">:</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;xm,alpha,beta,u,m,M,randeval&#39;</span><span class="p">,</span><span class="n">xm</span><span class="p">,</span><span class="n">alpha</span><span class="p">,</span><span class="n">beta</span><span class="p">,</span><span class="n">u</span><span class="p">,</span><span class="n">m</span><span class="p">,</span><span class="n">M</span><span class="p">,</span><span class="n">randeval</span><span class="p">)</span>
                    
        <span class="c1"># install self object attributes</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">criteriaWeightMode</span> <span class="o">=</span> <span class="n">weightMode</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">criteria</span> <span class="o">=</span> <span class="n">criteria</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">evaluation</span> <span class="o">=</span> <span class="n">evaluation</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">NA</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;-999&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">weightPreorder</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">computeWeightPreorder</span><span class="p">()</span>


    <span class="k">def</span> <span class="nf">showAll</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Show fonction for performance tableau of full random outranking digraph.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">criteria</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">criteria</span>
        <span class="n">evaluation</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">evaluation</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;*-------- show performance tableau -------*&#39;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Name         :&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Actions      :&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">actions</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Criteria     :&#39;</span><span class="p">)</span>       
        <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">criteria</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  criterion name:&#39;</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;, scale: &#39;</span><span class="p">,</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;scale&#39;</span><span class="p">],</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;, weight: </span><span class="si">%.3f</span><span class="s1"> &#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]))</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  thresholds:&#39;</span><span class="p">,</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;thresholds&#39;</span><span class="p">])</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  evaluations generation mode: &#39;</span><span class="p">,</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;randomMode&#39;</span><span class="p">])</span>
            <span class="nb">print</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  Weights generation mode: &#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">criteriaWeightMode</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  Weights preorder       : &#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">weightPreorder</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Evaluations            :&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">evaluation</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">])</span>

<span class="k">class</span> <span class="nc">_RandomCoalitionsPerformanceTableau</span><span class="p">(</span><span class="n">PerformanceTableau</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Full automatic generation of performance tableaux with random coalitions of criteria</span>

<span class="sd">    Parameters:</span>
<span class="sd">        | numberOf Actions := 20 (default)</span>
<span class="sd">        | number of Criteria := 13 (default)</span>
<span class="sd">        | weightDistribution := &#39;equisignificant&#39; (default with all weights = 1.0), &#39;random&#39;, &#39;fixed&#39; (default w_1 = numberOfCriteria-1, w_{i!=1} = 1</span>
<span class="sd">        | weightScale := [1,numerOfCriteria] (random default), [w_1, w_{i!=1] (fixed)</span>
<span class="sd">        | IntegerWeights := True (default) / False</span>
<span class="sd">        | commonScale := (0.0, 100.0) (default)</span>
<span class="sd">        | commonThresholds := [(1.0,0.0),(2.001,0.0),(8.001,0.0)] if OrdinalSacles, [(0.10001*span,0),(0.20001*span,0.0),(0.80001*span,0.0)] with span = commonScale[1] - commonScale[0].</span>
<span class="sd">        | commonMode := [&#39;triangular&#39;,50.0,0.50] (default), [&#39;uniform&#39;,None,None], [&#39;beta&#39;, None,None] (three alpha, beta combinations (5.8661,2.62203) chosen by default for high(&#39;+&#39;), medium (&#39;~&#39;) and low (&#39;-&#39;) evaluations.</span>
<span class="sd">        | valueDigits := 2 (default, for cardinal scales only)</span>
<span class="sd">        | Coalitions := True (default)/False, three coalitions if True</span>
<span class="sd">        | VariableGenerators := True (default) / False, variable high(&#39;+&#39;), medium (&#39;~&#39;) or low (&#39;-&#39;) law generated evaluations.</span>
<span class="sd">        | OrdinalScales := True / False (default)</span>
<span class="sd">        | Debug := True / False (default)</span>
<span class="sd">        | RandomCoalitions = True / False (default) zero or more than three coalitions if Coalitions == False.</span>
<span class="sd">        | vetoProbability := x in ]0.0-1.0[ / None (default), probability that a cardinal criterion shows a veto preference discrimination threshold.</span>
<span class="sd">        | Electre3 := True (default) / False, no weakveto if True (obsolete)</span>
<span class="sd">        </span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">numberOfActions</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">numberOfCriteria</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">weightDistribution</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">weightScale</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">IntegerWeights</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">commonScale</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">commonThresholds</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">commonMode</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">valueDigits</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">Coalitions</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">VariableGenerators</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                 <span class="n">OrdinalScales</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">Debug</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">RandomCoalitions</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                 <span class="n">vetoProbability</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">BigData</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                 <span class="n">seed</span><span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">Electre3</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        
        <span class="c1"># naming</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;randomCoalitionsPerfTab&#39;</span>
        <span class="c1"># randomizer init</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">randomSeed</span> <span class="o">=</span> <span class="n">seed</span>
        <span class="kn">import</span> <span class="nn">random</span>
        <span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">RandomCoalitions</span><span class="p">:</span>
            <span class="n">Coalitions</span><span class="o">=</span><span class="kc">False</span>

        <span class="kn">from</span> <span class="nn">randomNumbers</span> <span class="kn">import</span> <span class="n">ExtendedTriangularRandomVariable</span> <span class="k">as</span> <span class="n">RNGTr</span>
        <span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">OrderedDict</span>
        <span class="kn">from</span> <span class="nn">operator</span> <span class="kn">import</span> <span class="n">itemgetter</span>
            
        <span class="c1"># generate actions</span>
        <span class="k">if</span> <span class="n">numberOfActions</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">numberOfActions</span> <span class="o">=</span> <span class="mi">13</span>
        <span class="n">nd</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">numberOfActions</span><span class="p">))</span>
        <span class="n">actions</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numberOfActions</span><span class="p">):</span>
            <span class="n">actionKey</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;a</span><span class="si">%%</span><span class="s1">0</span><span class="si">%d</span><span class="s1">d&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">nd</span><span class="p">))</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">BigData</span><span class="p">:</span>
                <span class="n">actions</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;shortName&#39;</span><span class="p">:</span><span class="n">actionKey</span><span class="p">,</span>
                              <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="n">actionKey</span><span class="p">,</span>
                              <span class="s1">&#39;generators&#39;</span><span class="p">:</span> <span class="p">{}}</span>
            <span class="k">else</span><span class="p">:</span>   
                <span class="n">actions</span><span class="p">[</span><span class="n">actionKey</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;shortName&#39;</span><span class="p">:</span><span class="n">actionKey</span><span class="p">,</span>
                        <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;random decision action&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;comment&#39;</span><span class="p">:</span> <span class="s1">&#39;RandomCoalitionsPerformanceTableau() generated.&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;generators&#39;</span><span class="p">:</span> <span class="p">{}}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">actions</span> <span class="o">=</span> <span class="n">actions</span>
        <span class="n">actionsList</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">actions</span><span class="o">.</span><span class="n">keys</span><span class="p">()]</span>
        <span class="c1">#actionsList.sort()</span>
        
        <span class="c1"># generate criterialist</span>
        <span class="k">if</span> <span class="n">numberOfCriteria</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">numberOfCriteria</span> <span class="o">=</span> <span class="mi">7</span>
        <span class="n">ng</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">numberOfCriteria</span><span class="p">))</span>
        <span class="n">criteriaList</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;g</span><span class="si">%%</span><span class="s1">0</span><span class="si">%d</span><span class="s1">d&#39;</span> <span class="o">%</span> <span class="n">ng</span><span class="p">)</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> \
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numberOfCriteria</span><span class="p">)]</span>
        <span class="c1">#criteriaList.sort()</span>
        
        <span class="c1"># generate random weights</span>
        <span class="k">if</span> <span class="n">weightDistribution</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1">## majorityWeight = numberOfCriteria + 1</span>
            <span class="c1">## #weightModesList = [(&#39;fixed&#39;,[1,1],1),(&#39;random&#39;,[1,3],2), (&#39;random&#39;,[1,numberOfCriteria],3),(&#39;fixed&#39;,[1,majorityWeight],4)]</span>
            <span class="c1">## weightModesList = [(&#39;fixed&#39;,[1,1],1),(&#39;random&#39;,[1,3],2), (&#39;random&#39;,[1,numberOfCriteria],3)]</span>
            <span class="c1">## weightMode = random.choice(weightModesList)</span>
            <span class="n">weightMode</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;equisignificant&#39;</span><span class="p">,(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
            <span class="n">weightDistribution</span> <span class="o">=</span> <span class="n">weightMode</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">weightScale</span> <span class="o">=</span>  <span class="n">weightMode</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">weightMode</span><span class="o">=</span><span class="p">[</span><span class="n">weightDistribution</span><span class="p">,</span><span class="n">weightScale</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">weightDistribution</span> <span class="o">==</span> <span class="s1">&#39;random&#39;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">weightScale</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">weightScale</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">numberOfCriteria</span><span class="p">)</span>
            <span class="n">weightsList</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">sumWeights</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0.0&#39;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">criteriaList</span><span class="p">)):</span>               
                <span class="n">weightsList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="n">weightScale</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                                                              <span class="n">weightScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]))))</span>
                <span class="n">sumWeights</span> <span class="o">+=</span> <span class="n">weightsList</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">weightsList</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">weightDistribution</span> <span class="o">==</span> <span class="s1">&#39;fixed&#39;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">weightScale</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">weightScale</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">numberOfCriteria</span><span class="p">)</span>            
            <span class="n">weightsList</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">sumWeights</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0.0&#39;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">criteriaList</span><span class="p">)):</span>
                <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">weightsList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">weightScale</span><span class="p">[</span><span class="mi">1</span><span class="p">])))</span>
                    <span class="n">sumWeights</span> <span class="o">+=</span> <span class="n">weightScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">weightsList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">weightScale</span><span class="p">[</span><span class="mi">0</span><span class="p">])))</span>
                    <span class="n">sumWeights</span> <span class="o">+=</span> <span class="n">weightScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">weightsList</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">weightDistribution</span> <span class="o">==</span> <span class="s1">&#39;equisignificant&#39;</span> \
          <span class="ow">or</span> <span class="n">weightDistribution</span> <span class="o">==</span> <span class="s1">&#39;equiobjectives&#39;</span> \
          <span class="ow">or</span> <span class="n">weightDistribution</span> <span class="o">==</span> <span class="s1">&#39;equicoalitions&#39;</span><span class="p">:</span>
            <span class="n">weightScale</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>            
            <span class="n">weightsList</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">sumWeights</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0.0&#39;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">criteriaList</span><span class="p">)):</span>
                <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">weightsList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">weightScale</span><span class="p">[</span><span class="mi">1</span><span class="p">])))</span>
                    <span class="n">sumWeights</span> <span class="o">+=</span> <span class="n">weightScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">weightsList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">weightScale</span><span class="p">[</span><span class="mi">0</span><span class="p">])))</span>
                    <span class="n">sumWeights</span> <span class="o">+=</span> <span class="n">weightScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">weightsList</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;!!! Error: wrong criteria weight distribution mode: </span><span class="si">%s</span><span class="s1"> !!!!&#39;</span> \
                  <span class="o">%</span> <span class="p">(</span><span class="n">weightDistribution</span><span class="p">))</span>

        <span class="c1"># generate criteria dictionary with random thresholds</span>
        <span class="k">if</span> <span class="n">commonScale</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">commonScale</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">100.0</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">Coalitions</span><span class="p">:</span>
            <span class="n">criterionCoalitionsList</span><span class="o">=</span><span class="p">[(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">),(</span><span class="s1">&#39;B&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">),(</span><span class="s1">&#39;C&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)]</span>
        <span class="k">elif</span> <span class="n">RandomCoalitions</span><span class="p">:</span>
            <span class="nb">bin</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">nbrcrit</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">criteriaList</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nbrcrit</span><span class="p">):</span>
                <span class="nb">bin</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nbrcrit</span><span class="p">):</span>
                <span class="n">p</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">nbrcrit</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
                <span class="nb">bin</span><span class="p">[</span><span class="n">p</span><span class="p">]</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">criteriaList</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="n">partition</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nbrcrit</span><span class="p">):</span>
                <span class="n">ni</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">bin</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="k">if</span> <span class="n">ni</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">partition</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">ni</span><span class="p">,</span><span class="nb">bin</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
            <span class="n">partition</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">key</span><span class="o">=</span><span class="n">itemgetter</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
            <span class="n">criterionCoalitionsList</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">partition</span><span class="p">)):</span>
                <span class="n">criterionCoalitionsList</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="nb">chr</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="s2">&quot;A&quot;</span><span class="p">)</span><span class="o">+</span><span class="n">i</span><span class="p">),</span><span class="n">partition</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]))</span>
            <span class="n">Coalitions</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">if</span> <span class="n">Debug</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">criterionCoalitionsList</span><span class="p">)</span>
        <span class="n">criteria</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">gi</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">criteriaList</span><span class="p">)):</span>
            <span class="n">g</span> <span class="o">=</span> <span class="n">criteriaList</span><span class="p">[</span><span class="n">gi</span><span class="p">]</span>
            <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">if</span> <span class="n">RandomCoalitions</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">criterionCoalition</span> <span class="ow">in</span> <span class="n">criterionCoalitionsList</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">criterionCoalition</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
                        <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;coalition&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">criterionCoalition</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                        <span class="k">if</span> <span class="n">Debug</span><span class="p">:</span>
                            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;==&gt;&gt;&gt;&#39;</span><span class="p">,</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;coalition&#39;</span><span class="p">])</span>
            <span class="k">elif</span> <span class="n">Coalitions</span><span class="p">:</span>
                <span class="n">criterionCoalition</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">criterionCoalitionsList</span><span class="p">)</span>
                <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;coalition&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">criterionCoalition</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;preferenceDirection&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;max&#39;</span>           
            <span class="k">if</span> <span class="n">Coalitions</span><span class="p">:</span>
                <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;random criterion of coalition </span><span class="si">%s</span><span class="s1">&#39;</span> \
                    <span class="o">%</span> <span class="p">(</span><span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;coalition&#39;</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;random criterion&#39;</span>            
            <span class="k">if</span> <span class="n">commonThresholds</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>        
                <span class="c1">## thresholds = []</span>
                <span class="c1">## thresholds.append((round(random.uniform(0.0,commonScale[1]/5.0),valueDigits),0.0))</span>
                <span class="c1">## thresholds.append((round(random.uniform(thresholds[0][0],commonScale[1]/3.0),valueDigits),0.0))</span>
                <span class="c1">## thresholds.append((round(random.uniform(commonScale[1]*2.0/3.0,commonScale[1]),valueDigits),0.0))</span>
                <span class="c1">## thresholds.append((round(random.uniform(thresholds[2][0],commonScale[1]),valueDigits),0.0))</span>
                
                <span class="k">if</span> <span class="n">OrdinalScales</span><span class="p">:</span>
                    <span class="n">thresholds</span> <span class="o">=</span> <span class="p">[(</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">),(</span><span class="mf">2.001</span><span class="p">,</span><span class="mf">0.0</span><span class="p">),(</span><span class="mf">8.001</span><span class="p">,</span><span class="mf">0.0</span><span class="p">)]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">span</span> <span class="o">=</span> <span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                    <span class="n">thresholds</span> <span class="o">=</span> <span class="p">[(</span><span class="mf">0.05001</span><span class="o">*</span><span class="n">span</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="mf">0.10001</span><span class="o">*</span><span class="n">span</span><span class="p">,</span><span class="mf">0.0</span><span class="p">),(</span><span class="mf">0.60001</span><span class="o">*</span><span class="n">span</span><span class="p">,</span><span class="mf">0.0</span><span class="p">)]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">thresholds</span> <span class="o">=</span> <span class="n">commonThresholds</span>
            <span class="c1">## print thresholds</span>
            <span class="k">if</span> <span class="n">Electre3</span><span class="p">:</span>
                <span class="n">thitems</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ind&#39;</span><span class="p">,</span><span class="s1">&#39;pref&#39;</span><span class="p">,</span><span class="s1">&#39;veto&#39;</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">thitems</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ind&#39;</span><span class="p">,</span><span class="s1">&#39;pref&#39;</span><span class="p">,</span><span class="s1">&#39;weakVeto&#39;</span><span class="p">,</span><span class="s1">&#39;veto&#39;</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">vetoProbability</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">randVeto</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">randVeto</span> <span class="o">&gt;</span> <span class="n">vetoProbability</span><span class="p">:</span>
                    <span class="n">thitems</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ind&#39;</span><span class="p">,</span><span class="s1">&#39;pref&#39;</span><span class="p">]</span>
            <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;thresholds&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">thitems</span><span class="p">)):</span>
                <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;thresholds&#39;</span><span class="p">][</span><span class="n">thitems</span><span class="p">[</span><span class="n">t</span><span class="p">]]</span> \
                   <span class="o">=</span> <span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">thresholds</span><span class="p">[</span><span class="n">t</span><span class="p">][</span><span class="mi">0</span><span class="p">])),</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">thresholds</span><span class="p">[</span><span class="n">t</span><span class="p">][</span><span class="mi">1</span><span class="p">])))</span>
                
            <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;scale&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">commonScale</span>
            <span class="k">if</span> <span class="n">IntegerWeights</span><span class="p">:</span>
                <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">weightsList</span><span class="p">[</span><span class="n">gi</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">weightsList</span><span class="p">[</span><span class="n">gi</span><span class="p">]</span> <span class="o">/</span> <span class="n">sumWeights</span>

        <span class="c1"># determine equisignificant coalitions</span>
        <span class="n">coalitionsCardinality</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">gi</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">criteriaList</span><span class="p">)):</span>
            <span class="n">g</span> <span class="o">=</span> <span class="n">criteriaList</span><span class="p">[</span><span class="n">gi</span><span class="p">]</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">coalitionsCardinality</span><span class="p">[</span><span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;coalition&#39;</span><span class="p">]]</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="n">coalitionsCardinality</span><span class="p">[</span><span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;coalition&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">Debug</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">coalitionsCardinality</span><span class="p">)</span>
        <span class="n">weightsProduct</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">for</span> <span class="n">coalition</span> <span class="ow">in</span> <span class="n">coalitionsCardinality</span><span class="p">:</span>
            <span class="n">weightsProduct</span> <span class="o">*=</span> <span class="n">coalitionsCardinality</span><span class="p">[</span><span class="n">coalition</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">Debug</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">weightsProduct</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">weightDistribution</span> <span class="o">==</span> <span class="s1">&#39;equicoalitions&#39;</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">gi</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">criteriaList</span><span class="p">)):</span>
                <span class="n">g</span> <span class="o">=</span> <span class="n">criteriaList</span><span class="p">[</span><span class="n">gi</span><span class="p">]</span>
                <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> \
                    <span class="o">=</span> <span class="n">weightsProduct</span> <span class="o">//</span> <span class="n">coalitionsCardinality</span><span class="p">[</span><span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;coalition&#39;</span><span class="p">]]</span>
                <span class="k">if</span> <span class="n">Debug</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">])</span>
                
        <span class="c1"># allocate (criterion,action) to coalition supporting type</span>
        <span class="k">if</span> <span class="n">Coalitions</span> <span class="ow">and</span> <span class="n">VariableGenerators</span><span class="p">:</span>
            <span class="n">coalitionSupportingType</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;+&#39;</span><span class="p">,</span><span class="s1">&#39;~&#39;</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">actionsList</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">criterionCoalitionsList</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">Debug</span><span class="p">:</span>
                        <span class="nb">print</span><span class="p">(</span><span class="n">criterionCoalitionsList</span><span class="p">,</span><span class="n">c</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">actions</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="nb">str</span><span class="p">(</span><span class="n">c</span><span class="p">[</span><span class="mi">0</span><span class="p">])]</span><span class="o">=</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">coalitionSupportingType</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">actions</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> \
                        <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">actions</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span><span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">c</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> \
                                     <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actions</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="nb">str</span><span class="p">(</span><span class="n">c</span><span class="p">[</span><span class="mi">0</span><span class="p">])])</span>                
                    
        <span class="c1"># generate evaluations</span>
        <span class="n">evaluation</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">gi</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">criteriaList</span><span class="p">)):</span>
            <span class="n">g</span> <span class="o">=</span> <span class="n">criteriaList</span><span class="p">[</span><span class="n">gi</span><span class="p">]</span>
            <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">if</span> <span class="n">commonMode</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="c1">#randomMode = random.choice(randomLawsList)</span>
                <span class="n">randomMode</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;triangular&#39;</span><span class="p">,</span><span class="mf">50.0</span><span class="p">,</span><span class="mf">0.50</span><span class="p">]</span>               
            <span class="k">else</span><span class="p">:</span>
                <span class="n">randomMode</span> <span class="o">=</span> <span class="n">commonMode</span>
            <span class="k">if</span> <span class="n">randomMode</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;uniform&#39;</span><span class="p">:</span>
                <span class="n">randomMode</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">randomMode</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                
            <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;randomMode&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">randomMode</span>
            <span class="k">if</span> <span class="n">Coalitions</span><span class="p">:</span>
                <span class="n">commentString</span> <span class="o">=</span> <span class="s1">&#39;Variable &#39;</span><span class="o">+</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="p">(</span><span class="s1">&#39; performance generator with random low (-), medium (~) or high (+) parameters.&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">randomMode</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;triangular&#39;</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">VariableGenerators</span><span class="p">:</span>
                        <span class="n">commentString</span> <span class="o">=</span> <span class="s1">&#39;triangular law with variable mode (m) and probability repartition (p).&#39;</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">commentString</span> <span class="o">=</span> <span class="s1">&#39;triangular law with constant mode (m) and probability repartition (p).&#39;</span>

                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">VariableGenerators</span><span class="p">:</span>
                        <span class="n">commentString</span> <span class="o">=</span> <span class="s1">&#39;Variable &#39;</span><span class="o">+</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="p">(</span><span class="s1">&#39; law with randomly chosen low, medium or high parameters.&#39;</span><span class="p">)</span>
                    <span class="c1">## elif Coalitions:</span>
                    <span class="c1">##     commentString = &#39;Coalition : %s &#39; % (criteria[g][&#39;coalition&#39;])</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">commentString</span> <span class="o">=</span> <span class="s1">&#39;Constant &#39;</span><span class="o">+</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="p">(</span><span class="s1">&#39; law with parameters = </span><span class="si">%s</span><span class="s1">, </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span><span class="nb">str</span><span class="p">(</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">2</span><span class="p">])))</span>
                    
            <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;comment&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">commentString</span>
            <span class="n">digits</span> <span class="o">=</span> <span class="n">valueDigits</span>
            
            <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="s1">&#39;uniform&#39;</span><span class="p">:</span>          
                <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">actionsList</span><span class="p">:</span>
                    
                    <span class="k">if</span> <span class="n">VariableGenerators</span><span class="p">:</span>
                        <span class="n">randomRangesList</span> <span class="o">=</span> <span class="p">[(</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span>
                                            <span class="p">(</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="mf">0.3</span><span class="o">*</span><span class="p">(</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">])),</span>
                                            <span class="p">(</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="mf">0.7</span><span class="o">*</span><span class="p">(</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]))]</span>
                        <span class="n">randomRange</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">randomRangesList</span><span class="p">)</span>         
                        <span class="n">randeval</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="n">randomRange</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">randomRange</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">randomRange</span> <span class="o">=</span> <span class="p">(</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> 
                        <span class="n">randeval</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">actions</span><span class="p">[</span><span class="n">a</span><span class="p">][</span><span class="s1">&#39;generators&#39;</span><span class="p">][</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">randomRange</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">OrdinalScales</span><span class="p">:</span>
                        <span class="n">randeval</span> <span class="o">/=</span> <span class="mf">10.0</span>
                        <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;preferenceDirection&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span>
                            <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="mi">0</span><span class="p">)))</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="o">-</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="mi">0</span><span class="p">)))</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;preferenceDirection&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span>
                            <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="o">-</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>

            <span class="k">elif</span> <span class="nb">str</span><span class="p">(</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="s1">&#39;beta&#39;</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">actionsList</span><span class="p">:</span>
                    <span class="n">m</span> <span class="o">=</span> <span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                    <span class="n">M</span> <span class="o">=</span> <span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                    <span class="k">if</span> <span class="n">Coalitions</span><span class="p">:</span>
                        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">actions</span><span class="p">[</span><span class="n">a</span><span class="p">][</span><span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;coalition&#39;</span><span class="p">]]</span> <span class="o">==</span> <span class="s1">&#39;+&#39;</span><span class="p">:</span>
                            <span class="c1"># mode = 75, stdev = 15</span>
                            <span class="c1">#xm = 75</span>
                            <span class="n">alpha</span> <span class="o">=</span> <span class="mf">5.8661</span>
                            <span class="n">beta</span> <span class="o">=</span> <span class="mf">2.62203</span>
                        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">actions</span><span class="p">[</span><span class="n">a</span><span class="p">][</span><span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;coalition&#39;</span><span class="p">]]</span> <span class="o">==</span> <span class="s1">&#39;~&#39;</span><span class="p">:</span>
                            <span class="c1"># nmode = 50, stdev = 15</span>
                            <span class="c1">#xm = 50</span>
                            <span class="n">alpha</span> <span class="o">=</span> <span class="mf">5.05556</span>
                            <span class="n">beta</span> <span class="o">=</span> <span class="mf">5.05556</span>
                        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">actions</span><span class="p">[</span><span class="n">a</span><span class="p">][</span><span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;coalition&#39;</span><span class="p">]]</span> <span class="o">==</span> <span class="s1">&#39;-&#39;</span><span class="p">:</span>
                            <span class="c1"># mode = 25, stdev = 15</span>
                            <span class="c1"># xm = 25</span>
                            <span class="n">alpha</span> <span class="o">=</span> <span class="mf">2.62203</span>
                            <span class="n">beta</span> <span class="o">=</span> <span class="mf">5.8661</span>                         
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">VariableGenerators</span><span class="p">:</span>
                            <span class="n">randomModesList</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.3</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.7</span><span class="p">]</span>
                            <span class="n">xm</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">randomModesList</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">xm</span> <span class="o">=</span> <span class="n">randomMode</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                        <span class="k">if</span> <span class="n">xm</span> <span class="o">&gt;</span> <span class="mf">0.5</span><span class="p">:</span>
                            <span class="n">beta</span> <span class="o">=</span> <span class="mf">2.0</span>
                            <span class="n">alpha</span> <span class="o">=</span> <span class="mf">1.0</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">xm</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">alpha</span> <span class="o">=</span> <span class="mf">2.0</span>
                            <span class="n">beta</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">/</span> <span class="n">xm</span>
                    <span class="k">if</span> <span class="n">Debug</span><span class="p">:</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;alpha,beta&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="p">,</span><span class="n">beta</span><span class="p">)</span>
                    <span class="n">u</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">betavariate</span><span class="p">(</span><span class="n">alpha</span><span class="p">,</span><span class="n">beta</span><span class="p">)</span>
                    <span class="n">randeval</span> <span class="o">=</span> <span class="p">(</span><span class="n">u</span> <span class="o">*</span> <span class="p">(</span><span class="n">M</span><span class="o">-</span><span class="n">m</span><span class="p">))</span> <span class="o">+</span> <span class="n">m</span>
                    <span class="k">if</span> <span class="n">Debug</span><span class="p">:</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;xm,alpha,beta,u,m,M,randeval&#39;</span><span class="p">,</span><span class="n">xm</span><span class="p">,</span><span class="n">alpha</span><span class="p">,</span><span class="n">beta</span><span class="p">,</span><span class="n">u</span><span class="p">,</span><span class="n">m</span><span class="p">,</span><span class="n">M</span><span class="p">,</span><span class="n">randeval</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">actions</span><span class="p">[</span><span class="n">a</span><span class="p">][</span><span class="s1">&#39;generators&#39;</span><span class="p">][</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;beta&#39;</span><span class="p">,</span><span class="n">alpha</span><span class="p">,</span><span class="n">beta</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">OrdinalScales</span><span class="p">:</span>
                        <span class="n">randeval</span> <span class="o">/=</span> <span class="mf">10.0</span>
                        <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;preferenceDirection&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span>
                            <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="mi">0</span><span class="p">)))</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="o">-</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="mi">0</span><span class="p">)))</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;preferenceDirection&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span>
                            <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="o">-</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>
    
            <span class="k">elif</span> <span class="nb">str</span><span class="p">(</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="s1">&#39;triangular&#39;</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">actionsList</span><span class="p">:</span>
                    <span class="n">m</span> <span class="o">=</span> <span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                    <span class="n">M</span> <span class="o">=</span> <span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                    <span class="k">if</span> <span class="n">VariableGenerators</span><span class="p">:</span>
                        <span class="n">span</span> <span class="o">=</span> <span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                        <span class="n">randomModesList</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.3</span><span class="o">*</span><span class="n">span</span><span class="p">,</span><span class="mf">0.5</span><span class="o">*</span><span class="n">span</span><span class="p">,</span><span class="mf">0.7</span><span class="o">*</span><span class="n">span</span><span class="p">]</span>
                        <span class="n">xm</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">randomModesList</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">xm</span> <span class="o">=</span> <span class="n">randomMode</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                    <span class="n">r</span>  <span class="o">=</span> <span class="n">randomMode</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">actions</span><span class="p">[</span><span class="n">a</span><span class="p">][</span><span class="s1">&#39;generators&#39;</span><span class="p">][</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">xm</span><span class="p">,</span><span class="n">r</span><span class="p">)</span>
                    <span class="c1"># setting a speudo random seed</span>
                    <span class="n">rdseed</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>
                    <span class="n">rngtr</span> <span class="o">=</span> <span class="n">RNGTr</span><span class="p">(</span><span class="n">m</span><span class="p">,</span><span class="n">M</span><span class="p">,</span><span class="n">xm</span><span class="p">,</span><span class="n">r</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="n">rdseed</span><span class="p">)</span>

                    <span class="n">randeval</span> <span class="o">=</span> <span class="n">rngtr</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>
                    <span class="k">if</span> <span class="n">OrdinalScales</span><span class="p">:</span>
                        <span class="n">randeval</span> <span class="o">/=</span> <span class="mf">10.0</span>
                        <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;preferenceDirection&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span>
                            <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="mi">0</span><span class="p">)))</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="o">-</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="mi">0</span><span class="p">)))</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;preferenceDirection&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span>
                            <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="o">-</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>
                   
                    <span class="c1">#print randeval, criteria[g][&#39;preferenceDirection&#39;], evaluation[g][a]</span>

     
            <span class="c1">## elif str(randomMode[0]) == &#39;normal&#39;:</span>
            <span class="c1">##     mu = randomMode[1]</span>
            <span class="c1">##     sigma = randomMode[2]</span>
            <span class="c1">##     for a in actionsList:</span>
            <span class="c1">##         notfound = True </span>
            <span class="c1">##         while notfound:</span>
            <span class="c1">##             randeval = random.normalvariate(mu,sigma)</span>
            <span class="c1">##             if randeval &gt;= commonScale[0] and  randeval &lt;= commonScale[1]:</span>
            <span class="c1">##                 notfound = False</span>
            <span class="c1">##         evaluation[g][a] = Decimal(str(round(randeval,digits)))</span>
        <span class="c1"># install self object attributes</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">criteriaWeightMode</span> <span class="o">=</span> <span class="n">weightMode</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">criteria</span> <span class="o">=</span> <span class="n">criteria</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">evaluation</span> <span class="o">=</span> <span class="n">evaluation</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">NA</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;-999&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">weightPreorder</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">computeWeightPreorder</span><span class="p">()</span>

<div class="viewcode-block" id="Random3ObjectivesPerformanceTableau">
<a class="viewcode-back" href="../techDoc.html#randomPerfTabs.Random3ObjectivesPerformanceTableau">[docs]</a>
<span class="k">class</span> <span class="nc">Random3ObjectivesPerformanceTableau</span><span class="p">(</span><span class="n">PerformanceTableau</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    For geneating random 3 objectives: *Eco*, *Soc* and *Env* multile-criteria performance records. Each decision action is qualified randomly as weak (-), fair (~) or good (+) on each of the three objectives.</span>
<span class="sd">    </span>
<span class="sd">    Generator arguments:</span>
<span class="sd">        * numberOf Actions := 20 (default)</span>
<span class="sd">        * shortNamePrefix := &#39;a&#39; (default)</span>
<span class="sd">        * number of Criteria := 13 (default)</span>
<span class="sd">        * weightDistribution := &#39;equiobjectives&#39; (default)</span>
<span class="sd">                | &#39;equisignificant&#39; (weights set all to 1)</span>
<span class="sd">                | &#39;random&#39; (in the range 1 to numberOfCriteria)</span>
<span class="sd">        * weightScale := [1,numerOfCriteria] (random default)</span>
<span class="sd">        * IntegerWeights := True (default) / False</span>
<span class="sd">        * OrdinalScales := True / False (default), if True commonScale is set to (0,10)</span>
<span class="sd">        * NegativeWeights := True (default) / False. If False, evaluations to be minimized are negative.</span>
<span class="sd">        * negativeWeightProbability := [0,1] (default 0.10), &#39;min&#39; preference direction probability  </span>
<span class="sd">        * commonScale := (Min, Max)</span>
<span class="sd">                | when commonScale is None, (Min=0.0,Max=10.0) by default if OrdinalScales == True and (Min=0.0,Max=100.0) by default otherwise</span>
<span class="sd">        * commonThresholds := ((Ind,Ind_slope),(Pref,Pref_slope),(Veto,Veto_slope)) with</span>
<span class="sd">                | Ind &lt; Pref &lt; Veto in [0.0,100.0] such that </span>
<span class="sd">                | (Ind/100.0*span + Ind_slope*x) &lt; (Pref/100.0*span + Pref_slope*x) &lt; (Pref/100.0*span + Pref_slope*x)</span>
<span class="sd">                | By default [(0.05*span,0.0),(0.10*span,0.0),(0.60*span,0.0)] if OrdinalScales=False</span>
<span class="sd">                | By default [(0.1*span,0.0),(0.2*span,0.0),(0.8*span,0.0)] otherwise</span>
<span class="sd">                | with span = commonScale[1] - commonScale[0].</span>
<span class="sd">        * commonMode := [&#39;triangular&#39;,&#39;variable&#39;,0.50] (default), A constant mode may be provided.</span>
<span class="sd">                | [&#39;uniform&#39;,&#39;variable&#39;,None], a constant range may be provided.</span>
<span class="sd">                | [&#39;beta&#39;,&#39;variable&#39;,None] (three alpha, beta combinations:</span>
<span class="sd">                | (5.8661,2.62203),(5.05556,5.05556) and (2.62203, 5.8661)</span>
<span class="sd">                | chosen by default for &#39;good&#39;, &#39;fair&#39; and &#39;weak&#39; evaluations. </span>
<span class="sd">                | Constant parameters may be provided.</span>
<span class="sd">        * valueDigits := 2 (default)</span>
<span class="sd">        * vetoProbability := x in ]0.0-1.0[ (0.5 default), probability that a cardinal criterion shows a veto preference discrimination threshold.</span>
<span class="sd">        * Debug := True / False (default)</span>

<span class="sd">    .. warning::</span>

<span class="sd">        Minimal number required of criteria is 3!</span>

<span class="sd">    &gt;&gt;&gt; from randomPerfTabs import Random3ObjectivesPerformanceTableau</span>
<span class="sd">    &gt;&gt;&gt; t = Random3ObjectivesPerformanceTableau(numberOfActions=5,numberOfCriteria=3,seed=1)</span>
<span class="sd">    &gt;&gt;&gt; t</span>
<span class="sd">    *------- PerformanceTableau instance description ------*</span>
<span class="sd">    Instance class   : Random3ObjectivesPerformanceTableau</span>
<span class="sd">    Seed             : 1</span>
<span class="sd">    Instance name    : random3ObjectivesPerfTab</span>
<span class="sd">    # Actions        : 5</span>
<span class="sd">    # Objectives     : 3</span>
<span class="sd">    # Criteria       : 3</span>
<span class="sd">    Attributes       : [&#39;name&#39;, &#39;valueDigits&#39;, &#39;BigData&#39;, &#39;OrdinalScales&#39;,</span>
<span class="sd">                        &#39;missingDataProbability&#39;, &#39;negativeWeightProbability&#39;,</span>
<span class="sd">                        &#39;randomSeed&#39;, &#39;sumWeights&#39;, &#39;valuationPrecision&#39;,</span>
<span class="sd">                        &#39;commonScale&#39;, &#39;objectiveSupportingTypes&#39;,</span>
<span class="sd">                        &#39;actions&#39;, &#39;objectives&#39;, &#39;criteriaWeightMode&#39;,</span>
<span class="sd">                        &#39;criteria&#39;, &#39;evaluation&#39;, &#39;weightPreorder&#39;]</span>
<span class="sd">    &gt;&gt;&gt; t.showObjectives()</span>
<span class="sd">    *------ show objectives -------&quot;</span>
<span class="sd">    Eco: Economical aspect</span>
<span class="sd">       ec1 criterion of objective Eco 1</span>
<span class="sd">      Total weight: 1.00 (1 criteria)</span>
<span class="sd">    Soc: Societal aspect</span>
<span class="sd">       so2 criterion of objective Soc 1</span>
<span class="sd">      Total weight: 1.00 (1 criteria)</span>
<span class="sd">    Env: Environmental aspect</span>
<span class="sd">       en3 criterion of objective Env 1</span>
<span class="sd">      Total weight: 1.00 (1 criteria)</span>
<span class="sd">    &gt;&gt;&gt; t.showActions()</span>
<span class="sd">    *----- show decision action --------------*</span>
<span class="sd">    key:  p1</span>
<span class="sd">      short name:  p1</span>
<span class="sd">      name:       random public policy Eco+ Soc- Env+</span>
<span class="sd">      profile:    {&#39;Eco&#39;: &#39;good&#39;, &#39;Soc&#39;: &#39;weak&#39;, &#39;Env&#39;: &#39;good&#39;}</span>
<span class="sd">    key:  p2</span>
<span class="sd">      short name:  p2</span>
<span class="sd">      name:       random public policy Eco~ Soc+ Env~</span>
<span class="sd">      profile:    {&#39;Eco&#39;: &#39;fair&#39;, &#39;Soc&#39;: &#39;good&#39;, &#39;Env&#39;: &#39;fair&#39;}</span>
<span class="sd">    key:  p3</span>
<span class="sd">      short name:  p3</span>
<span class="sd">      name:       random public policy Eco~ Soc~ Env-</span>
<span class="sd">      profile:    {&#39;Eco&#39;: &#39;fair&#39;, &#39;Soc&#39;: &#39;fair&#39;, &#39;Env&#39;: &#39;weak&#39;}</span>
<span class="sd">    key:  p4</span>
<span class="sd">      short name:  p4</span>
<span class="sd">      name:       random public policy Eco~ Soc+ Env+</span>
<span class="sd">      profile:    {&#39;Eco&#39;: &#39;fair&#39;, &#39;Soc&#39;: &#39;good&#39;, &#39;Env&#39;: &#39;good&#39;}</span>
<span class="sd">    key:  p5</span>
<span class="sd">      short name:  p5</span>
<span class="sd">      name:       random public policy Eco~ Soc+ Env~</span>
<span class="sd">      profile:    {&#39;Eco&#39;: &#39;fair&#39;, &#39;Soc&#39;: &#39;good&#39;, &#39;Env&#39;: &#39;fair&#39;}</span>
<span class="sd">    &gt;&gt;&gt; t.showPerformanceTableau()</span>
<span class="sd">    *----  performance tableau -----*</span>
<span class="sd">    criteria | weights |  &#39;p1&#39;   &#39;p2&#39;   &#39;p3&#39;   &#39;p4&#39;   &#39;p5&#39;   </span>
<span class="sd">    ---------|---------------------------------------------</span>
<span class="sd">     &#39;ec1&#39;   |    1    | 36.29  85.17  34.49    NA   56.58  </span>
<span class="sd">     &#39;so2&#39;   |    1    | 55.00  56.33    NA   67.36  72.22  </span>
<span class="sd">     &#39;en3&#39;   |    1    | 66.58  48.71  21.59    NA     NA  </span>
<span class="sd">    &gt;&gt;&gt;</span>
<span class="sd">        </span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">numberOfActions</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span><span class="n">shortNamePrefix</span><span class="o">=</span><span class="s1">&#39;p&#39;</span><span class="p">,</span><span class="n">numberOfCriteria</span><span class="o">=</span><span class="mi">13</span><span class="p">,</span>
                 <span class="n">weightDistribution</span><span class="o">=</span><span class="s1">&#39;equiobjectives&#39;</span><span class="p">,</span><span class="n">weightScale</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">IntegerWeights</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">OrdinalScales</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                 <span class="n">NegativeWeights</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">negativeWeightProbability</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
                 <span class="n">commonScale</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">commonThresholds</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">commonMode</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">valueDigits</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                 <span class="n">vetoProbability</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
                 <span class="n">missingDataProbability</span> <span class="o">=</span> <span class="mf">0.05</span><span class="p">,</span>
                 <span class="n">NA</span> <span class="o">=</span> <span class="o">-</span><span class="mi">999</span><span class="p">,</span>
                 <span class="n">BigData</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                 <span class="n">seed</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">Debug</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        
        <span class="c1"># naming</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;random3ObjectivesPerfTab&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">valueDigits</span> <span class="o">=</span> <span class="n">valueDigits</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">BigData</span> <span class="o">=</span> <span class="n">BigData</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">OrdinalScales</span> <span class="o">=</span> <span class="n">OrdinalScales</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">missingDataProbability</span> <span class="o">=</span> <span class="n">missingDataProbability</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">negativeWeightProbability</span> <span class="o">=</span> <span class="n">negativeWeightProbability</span>
        <span class="c1"># randomizer init</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">randomSeed</span> <span class="o">=</span> <span class="n">seed</span>
        <span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">Random</span>
        <span class="n">_random</span> <span class="o">=</span> <span class="n">Random</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span>
        <span class="n">_random1</span> <span class="o">=</span> <span class="n">Random</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span>
        <span class="n">_random2</span> <span class="o">=</span> <span class="n">Random</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span>

        <span class="kn">from</span> <span class="nn">randomNumbers</span> <span class="kn">import</span> <span class="n">ExtendedTriangularRandomVariable</span> <span class="k">as</span> <span class="n">RNGTr</span>            

            
        <span class="c1"># generate actions</span>
        <span class="n">nd</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">numberOfActions</span><span class="p">))</span>
        <span class="n">actions</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">numberOfActions</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">actionKey</span> <span class="o">=</span> <span class="n">shortNamePrefix</span><span class="o">+</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%%</span><span class="s1">0</span><span class="si">%d</span><span class="s1">d&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">nd</span><span class="p">))</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">BigData</span><span class="p">:</span>
                <span class="n">actions</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="n">actionKey</span><span class="p">,</span><span class="s1">&#39;generators&#39;</span><span class="p">:</span> <span class="p">{}}</span>
            <span class="k">else</span><span class="p">:</span>      
                <span class="n">actions</span><span class="p">[</span><span class="n">actionKey</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;shortName&#39;</span><span class="p">:</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">actionKey</span><span class="p">),</span>
                        <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;action </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">actionKey</span><span class="p">,</span>
                        <span class="s1">&#39;comment&#39;</span><span class="p">:</span> <span class="s1">&#39;random public policy&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;generators&#39;</span><span class="p">:</span> <span class="p">{}}</span>
<span class="c1">##        self.actions = actions</span>
<span class="c1">##        actionsList = [x for x in self.actions]</span>
<span class="c1">##        actionsList.sort()</span>
               
        <span class="c1"># generate random weights</span>
        <span class="k">if</span> <span class="n">weightDistribution</span> <span class="o">==</span> <span class="s1">&#39;equisignificant&#39;</span><span class="p">:</span>
            <span class="n">weightMode</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;equisignificant&#39;</span><span class="p">,(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
            <span class="n">weightScale</span> <span class="o">=</span>  <span class="n">weightMode</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">weightsList</span> <span class="o">=</span> <span class="p">[</span><span class="n">weightScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numberOfCriteria</span><span class="p">)]</span>
            <span class="n">sumWeights</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0.0&#39;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numberOfCriteria</span><span class="p">):</span>
                <span class="n">sumWeights</span> <span class="o">+=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">weightScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
                
        <span class="k">elif</span> <span class="n">weightDistribution</span> <span class="o">==</span> <span class="s1">&#39;random&#39;</span><span class="p">:</span>
            <span class="n">weightMode</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;random&#39;</span><span class="p">,(</span><span class="mi">1</span><span class="p">,</span><span class="n">numberOfCriteria</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">weightScale</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">weightScale</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">numberOfCriteria</span><span class="p">)</span>
            <span class="n">weightsList</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">sumWeights</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0.0&#39;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numberOfCriteria</span><span class="p">):</span>               
                <span class="n">weightsList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">_random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="n">weightScale</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                                                              <span class="n">weightScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]))))</span>
                <span class="n">sumWeights</span> <span class="o">+=</span> <span class="n">weightsList</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">weightsList</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
            
        <span class="k">else</span><span class="p">:</span>
            <span class="n">weightDistribution</span> <span class="o">=</span> <span class="s1">&#39;equiobjectives&#39;</span>
            <span class="n">weightMode</span> <span class="o">=</span> <span class="p">(</span><span class="n">weightDistribution</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
            <span class="n">weightScale</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">weightsList</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">sumWeights</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0.0&#39;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numberOfCriteria</span><span class="p">):</span>
                <span class="n">weightsList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">weightScale</span><span class="p">[</span><span class="mi">0</span><span class="p">])))</span>
                <span class="n">sumWeights</span> <span class="o">+=</span> <span class="n">weightScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

        <span class="c1"># store sum of weights and precision level</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sumWeights</span> <span class="o">=</span> <span class="n">sumWeights</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">valuationPrecision</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0.1&#39;</span><span class="p">)</span><span class="o">/</span><span class="n">sumWeights</span>
        
        <span class="c1"># generate objectives dictionary</span>
        <span class="n">objectives</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">([(</span>
            <span class="s1">&#39;Eco&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span><span class="s1">&#39;Economical aspect&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;comment&#39;</span><span class="p">:</span> <span class="s1">&#39;Random3ObjectivesPerformanceTableau generated&#39;</span><span class="p">}),</span>
            <span class="p">(</span><span class="s1">&#39;Soc&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Societal aspect&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;comment&#39;</span><span class="p">:</span> <span class="s1">&#39;Random3ObjectivesPerformanceTableau generated&#39;</span><span class="p">}),</span>
            <span class="p">(</span><span class="s1">&#39;Env&#39;</span><span class="p">,{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span><span class="s1">&#39;Environmental aspect&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;comment&#39;</span><span class="p">:</span> <span class="s1">&#39;Random3ObjectivesPerformanceTableau generated&#39;</span><span class="p">})</span>
            <span class="p">])</span>


        <span class="c1"># generate criteria dictionary with random thresholds</span>
        
        <span class="n">ng</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">numberOfCriteria</span><span class="p">))</span> 
        <span class="k">if</span> <span class="n">commonScale</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">OrdinalScales</span><span class="p">:</span>
                <span class="n">commonScale</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">commonScale</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">100.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">commonScale</span> <span class="o">=</span> <span class="n">commonScale</span>

        <span class="n">criteria</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>
        <span class="n">objectivesKeys</span> <span class="o">=</span> <span class="p">[</span><span class="n">key</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">objectives</span><span class="p">]</span>
        <span class="c1">#objectivesKeys.sort()</span>
        <span class="c1">#randChoice1 = Random(seed)</span>
        <span class="n">ng</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">numberOfCriteria</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numberOfCriteria</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">criterionObjective</span> <span class="o">=</span> <span class="s1">&#39;Eco&#39;</span>
            <span class="k">elif</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">criterionObjective</span> <span class="o">=</span> <span class="s1">&#39;Soc&#39;</span>
            <span class="k">elif</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                <span class="n">criterionObjective</span> <span class="o">=</span> <span class="s1">&#39;Env&#39;</span>
            <span class="k">else</span><span class="p">:</span>    
                <span class="c1">#criterionObjective = _random.choice(objectivesKeys)</span>
                <span class="n">objInd</span> <span class="o">=</span> <span class="n">_random1</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">objectivesKeys</span><span class="p">))</span>
                <span class="n">criterionObjective</span> <span class="o">=</span> <span class="n">objectivesKeys</span><span class="p">[</span><span class="n">objInd</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">criterionObjective</span> <span class="o">==</span> <span class="s1">&#39;Eco&#39;</span><span class="p">:</span>
                <span class="n">g</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;ec</span><span class="si">%%</span><span class="s1">0</span><span class="si">%d</span><span class="s1">d&#39;</span> <span class="o">%</span> <span class="n">ng</span><span class="p">)</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">criterionObjective</span> <span class="o">==</span> <span class="s1">&#39;Soc&#39;</span><span class="p">:</span>
                <span class="n">g</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;so</span><span class="si">%%</span><span class="s1">0</span><span class="si">%d</span><span class="s1">d&#39;</span> <span class="o">%</span> <span class="n">ng</span><span class="p">)</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">g</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;en</span><span class="si">%%</span><span class="s1">0</span><span class="si">%d</span><span class="s1">d&#39;</span> <span class="o">%</span> <span class="n">ng</span><span class="p">)</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
           <span class="c1">#print(g,criterionObjective,objectivesKeys)</span>
            <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;objective&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">criterionObjective</span>
            <span class="k">if</span> <span class="n">_random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span> <span class="o">&gt;</span> <span class="n">negativeWeightProbability</span><span class="p">:</span>
                <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;preferenceDirection&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;max&#39;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;preferenceDirection&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;min&#39;</span>
            <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;criterion of objective </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">criterionObjective</span><span class="p">)</span>
            <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;shortName&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">g</span>
            <span class="c1">#criteria[g][&#39;shortName&#39;] = g + criterionObjective[0:2]</span>
            <span class="n">span</span> <span class="o">=</span> <span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">commonThresholds</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>                    
                <span class="k">if</span> <span class="n">OrdinalScales</span><span class="p">:</span>
                    <span class="n">thresholds</span> <span class="o">=</span> <span class="p">[(</span><span class="mf">0.1001</span><span class="o">*</span><span class="n">span</span><span class="p">,</span><span class="mf">0.0</span><span class="p">),(</span><span class="mf">0.2001</span><span class="o">*</span><span class="n">span</span><span class="p">,</span><span class="mf">0.0</span><span class="p">),(</span><span class="mf">0.8001</span><span class="o">*</span><span class="n">span</span><span class="p">,</span><span class="mf">0.0</span><span class="p">)]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c1">#span = commonScale[1] - commonScale[0]</span>
                    <span class="n">thresholds</span> <span class="o">=</span> <span class="p">[(</span><span class="mf">0.05001</span><span class="o">*</span><span class="n">span</span><span class="p">,</span><span class="mf">0.0</span><span class="p">),(</span><span class="mf">0.10001</span><span class="o">*</span><span class="n">span</span><span class="p">,</span><span class="mf">0.0</span><span class="p">),(</span><span class="mf">0.60001</span><span class="o">*</span><span class="n">span</span><span class="p">,</span><span class="mf">0.0</span><span class="p">)]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1">#span = commonScale[1] - commonScale[0]</span>
                <span class="n">thresholds</span> <span class="o">=</span> <span class="p">[(</span><span class="n">commonThresholds</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="mf">100.0</span><span class="o">*</span><span class="n">span</span><span class="p">,</span><span class="n">commonThresholds</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span>
                              <span class="p">(</span><span class="n">commonThresholds</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="mf">100.0</span><span class="o">*</span><span class="n">span</span><span class="p">,</span><span class="n">commonThresholds</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span>
                              <span class="p">(</span><span class="n">commonThresholds</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="mf">100.0</span><span class="o">*</span><span class="n">span</span><span class="p">,</span><span class="n">commonThresholds</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">])]</span>
            <span class="k">if</span> <span class="n">Debug</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">g</span><span class="p">,</span><span class="n">thresholds</span><span class="p">)</span>
            <span class="n">thitems</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ind&#39;</span><span class="p">,</span><span class="s1">&#39;pref&#39;</span><span class="p">,</span><span class="s1">&#39;veto&#39;</span><span class="p">]</span>
            <span class="n">randVeto</span> <span class="o">=</span> <span class="n">_random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">randVeto</span> <span class="o">&gt;</span> <span class="n">vetoProbability</span> <span class="ow">or</span> <span class="n">vetoProbability</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">thitems</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ind&#39;</span><span class="p">,</span><span class="s1">&#39;pref&#39;</span><span class="p">]</span>
            <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;thresholds&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">thitems</span><span class="p">)):</span>
                <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;thresholds&#39;</span><span class="p">][</span><span class="n">thitems</span><span class="p">[</span><span class="n">t</span><span class="p">]]</span> \
                   <span class="o">=</span> <span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">thresholds</span><span class="p">[</span><span class="n">t</span><span class="p">][</span><span class="mi">0</span><span class="p">])),</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">thresholds</span><span class="p">[</span><span class="n">t</span><span class="p">][</span><span class="mi">1</span><span class="p">])))</span>
                
            <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;scale&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">commonScale</span>
            <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;preferenceDirection&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">IntegerWeights</span><span class="p">:</span>
                    <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">weightsList</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">weightsList</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">/</span> <span class="n">sumWeights</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">NegativeWeights</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">IntegerWeights</span><span class="p">:</span>
                        <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">weightsList</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">weightsList</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">/</span> <span class="n">sumWeights</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">IntegerWeights</span><span class="p">:</span>
                        <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">weightsList</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">weightsList</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">/</span> <span class="n">sumWeights</span>


        <span class="c1"># determine equisignificant objectives</span>
        <span class="k">if</span> <span class="n">weightMode</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;equiobjectives&#39;</span><span class="p">:</span>
            <span class="n">objectivesCardinality</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">criteria</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">objectivesCardinality</span><span class="p">[</span><span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;objective&#39;</span><span class="p">]]</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="n">objectivesCardinality</span><span class="p">[</span><span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;objective&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="n">Debug</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">objectivesCardinality</span><span class="p">)</span>
            <span class="n">weightsProduct</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">for</span> <span class="n">oi</span> <span class="ow">in</span> <span class="n">objectivesCardinality</span><span class="p">:</span>
                <span class="n">weightsProduct</span> <span class="o">*=</span> <span class="n">objectivesCardinality</span><span class="p">[</span><span class="n">oi</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">Debug</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">weightsProduct</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">criteria</span><span class="p">:</span>
                <span class="n">gweight</span> <span class="o">=</span> <span class="n">weightsProduct</span> <span class="o">//</span> <span class="n">objectivesCardinality</span><span class="p">[</span><span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;objective&#39;</span><span class="p">]]</span>
                <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;preferenceDirection&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span>
                    <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">gweight</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">NegativeWeights</span><span class="p">:</span>
                        <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">gweight</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">gweight</span>
                <span class="k">if</span> <span class="n">Debug</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="n">weightsProduct</span><span class="p">)</span>
                    <span class="nb">print</span><span class="p">(</span><span class="n">objectivesCardinality</span><span class="p">[</span><span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;objective&#39;</span><span class="p">]])</span>
                    <span class="nb">print</span><span class="p">(</span><span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">])</span>
                
        <span class="c1"># allocate (criterion,action) to coalition supporting type</span>
        <span class="n">objectiveSupportingTypes</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;good&#39;</span><span class="p">,</span><span class="s1">&#39;+&#39;</span><span class="p">),(</span><span class="s1">&#39;fair&#39;</span><span class="p">,</span><span class="s1">&#39;~&#39;</span><span class="p">),(</span><span class="s1">&#39;weak&#39;</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">)]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">objectiveSupportingTypes</span> <span class="o">=</span> <span class="n">objectiveSupportingTypes</span>
        <span class="c1">#randChoice2 = Random(seed)</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">actions</span><span class="p">:</span>
            <span class="n">profile</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">objectives</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">Debug</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="n">objectives</span><span class="p">,</span><span class="n">obj</span><span class="p">)</span>
                <span class="n">ostInd</span> <span class="o">=</span> <span class="n">_random2</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">objectiveSupportingTypes</span><span class="p">))</span>
                <span class="n">ost</span> <span class="o">=</span> <span class="n">objectiveSupportingTypes</span><span class="p">[</span><span class="n">ostInd</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">actions</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">obj</span><span class="p">]</span><span class="o">=</span><span class="n">ost</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">actions</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> \
                    <span class="o">=</span> <span class="n">actions</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span><span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span> <span class="o">+</span> <span class="n">ost</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">profile</span><span class="p">[</span><span class="n">obj</span><span class="p">]</span> <span class="o">=</span> <span class="n">actions</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">obj</span><span class="p">]</span>
            <span class="n">actions</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="s1">&#39;profile&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">profile</span>
            <span class="k">if</span> <span class="n">Debug</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">actions</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>
        <span class="c1"># generate evaluations</span>
        
        <span class="n">evaluation</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">criteria</span><span class="p">:</span>
            <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">if</span> <span class="n">commonMode</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">randomMode</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;triangular&#39;</span><span class="p">,</span><span class="s1">&#39;variable&#39;</span><span class="p">,</span><span class="mf">0.50</span><span class="p">]</span>               
            <span class="k">else</span><span class="p">:</span>
                <span class="n">randomMode</span> <span class="o">=</span> <span class="n">commonMode</span>
            <span class="k">if</span> <span class="n">randomMode</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;uniform&#39;</span> <span class="ow">and</span> <span class="n">randomMode</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">randomMode</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">randomMode</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                
            <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;randomMode&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">randomMode</span>
            <span class="k">if</span> <span class="n">randomMode</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;variable&#39;</span><span class="p">:</span>
                <span class="n">commentString</span> <span class="o">=</span> <span class="s1">&#39;Variable &#39;</span><span class="o">+</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="p">(</span><span class="s1">&#39; performance generator with low (-), medium (~) or high (+) parameters.&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">commentString</span> <span class="o">=</span> <span class="s1">&#39;Constant &#39;</span><span class="o">+</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="p">(</span><span class="s1">&#39; law with parameters = </span><span class="si">%s</span><span class="s1">, </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span><span class="nb">str</span><span class="p">(</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">2</span><span class="p">])))</span>
                    
            <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;comment&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">commentString</span>
            <span class="n">digits</span> <span class="o">=</span> <span class="n">valueDigits</span>
            
            <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="s1">&#39;uniform&#39;</span><span class="p">:</span>          
                <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">actions</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">randomMode</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;variable&#39;</span><span class="p">:</span>
                        <span class="n">aobj</span> <span class="o">=</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;objective&#39;</span><span class="p">]</span>
                        <span class="k">if</span> <span class="n">actions</span><span class="p">[</span><span class="n">a</span><span class="p">][</span><span class="s1">&#39;profile&#39;</span><span class="p">][</span><span class="n">aobj</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;weak&#39;</span><span class="p">:</span>
                            <span class="n">randomRange</span> <span class="o">=</span> <span class="p">(</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                                           <span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="mf">0.7</span><span class="o">*</span><span class="p">(</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
                        <span class="k">elif</span> <span class="n">actions</span><span class="p">[</span><span class="n">a</span><span class="p">][</span><span class="s1">&#39;profile&#39;</span><span class="p">][</span><span class="n">aobj</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;fair&#39;</span><span class="p">:</span>
                            <span class="n">randomRange</span> <span class="o">=</span> <span class="p">(</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="mf">0.3</span><span class="o">*</span><span class="p">(</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span>
                                           <span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="mf">0.7</span><span class="o">*</span><span class="p">(</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
                        <span class="k">elif</span> <span class="n">actions</span><span class="p">[</span><span class="n">a</span><span class="p">][</span><span class="s1">&#39;profile&#39;</span><span class="p">][</span><span class="n">aobj</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;good&#39;</span><span class="p">:</span>
                            <span class="n">randomRange</span> <span class="o">=</span> <span class="p">(</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="mf">0.3</span><span class="o">*</span><span class="p">(</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span>
                                          <span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>       
                        <span class="n">actions</span><span class="p">[</span><span class="n">a</span><span class="p">][</span><span class="s1">&#39;comment&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="s1">&#39;: </span><span class="si">%s</span><span class="s1"> </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">randomRange</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">randomRange</span> <span class="o">=</span> <span class="p">(</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> 
                    <span class="n">randeval</span> <span class="o">=</span> <span class="n">_random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="n">randomRange</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">randomRange</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
                    <span class="n">actions</span><span class="p">[</span><span class="n">a</span><span class="p">][</span><span class="s1">&#39;generators&#39;</span><span class="p">][</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">randomRange</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">OrdinalScales</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;preferenceDirection&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span>
                            <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="mi">0</span><span class="p">)))</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0&#39;</span><span class="p">):</span>
                                <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="mi">0</span><span class="p">)))</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="o">-</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="mi">0</span><span class="p">)))</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;preferenceDirection&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span>
                            <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0&#39;</span><span class="p">):</span>
                                <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="mi">0</span><span class="p">)))</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="o">-</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="mi">0</span><span class="p">)))</span>

            <span class="k">elif</span> <span class="nb">str</span><span class="p">(</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="s1">&#39;beta&#39;</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">actions</span><span class="p">:</span>
                    <span class="n">m</span> <span class="o">=</span> <span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                    <span class="n">M</span> <span class="o">=</span> <span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                    <span class="k">if</span> <span class="n">randomMode</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;variable&#39;</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">actions</span><span class="p">[</span><span class="n">a</span><span class="p">][</span><span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;objective&#39;</span><span class="p">]]</span> <span class="o">==</span> <span class="s1">&#39;good&#39;</span><span class="p">:</span>
                            <span class="c1"># mode = 75, stdev = 15</span>
                            <span class="c1">#xm = 75</span>
                            <span class="n">alpha</span> <span class="o">=</span> <span class="mf">5.8661</span>
                            <span class="n">beta</span> <span class="o">=</span> <span class="mf">2.62203</span>
                        <span class="k">elif</span> <span class="n">actions</span><span class="p">[</span><span class="n">a</span><span class="p">][</span><span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;objective&#39;</span><span class="p">]]</span> <span class="o">==</span> <span class="s1">&#39;fair&#39;</span><span class="p">:</span>
                            <span class="c1"># nmode = 50, stdev = 15</span>
                            <span class="c1">#xm = 50</span>
                            <span class="n">alpha</span> <span class="o">=</span> <span class="mf">5.05556</span>
                            <span class="n">beta</span> <span class="o">=</span> <span class="mf">5.05556</span>
                        <span class="k">elif</span> <span class="n">actions</span><span class="p">[</span><span class="n">a</span><span class="p">][</span><span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;objective&#39;</span><span class="p">]]</span> <span class="o">==</span> <span class="s1">&#39;weak&#39;</span><span class="p">:</span>
                            <span class="c1"># mode = 25, stdev = 15</span>
                            <span class="c1"># xm = 25</span>
                            <span class="n">alpha</span> <span class="o">=</span> <span class="mf">2.62203</span>
                            <span class="n">beta</span> <span class="o">=</span> <span class="mf">5.8661</span>                         
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">xm</span> <span class="o">=</span> <span class="n">randomMode</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                        <span class="k">if</span> <span class="n">xm</span> <span class="o">&gt;</span> <span class="mf">0.5</span><span class="p">:</span>
                            <span class="n">beta</span> <span class="o">=</span> <span class="mf">2.0</span>
                            <span class="n">alpha</span> <span class="o">=</span> <span class="mf">1.0</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">xm</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">alpha</span> <span class="o">=</span> <span class="mf">2.0</span>
                            <span class="n">beta</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">/</span> <span class="n">xm</span>
                    <span class="k">if</span> <span class="n">Debug</span><span class="p">:</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;alpha,beta&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="p">,</span><span class="n">beta</span><span class="p">)</span>
                    <span class="n">u</span> <span class="o">=</span> <span class="n">_random</span><span class="o">.</span><span class="n">betavariate</span><span class="p">(</span><span class="n">alpha</span><span class="p">,</span><span class="n">beta</span><span class="p">)</span>
                    <span class="n">randeval</span> <span class="o">=</span> <span class="p">(</span><span class="n">u</span> <span class="o">*</span> <span class="p">(</span><span class="n">M</span><span class="o">-</span><span class="n">m</span><span class="p">))</span> <span class="o">+</span> <span class="n">m</span>
                    <span class="k">if</span> <span class="n">Debug</span><span class="p">:</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;xm,alpha,beta,u,m,M,randeval&#39;</span><span class="p">,</span><span class="n">xm</span><span class="p">,</span><span class="n">alpha</span><span class="p">,</span><span class="n">beta</span><span class="p">,</span><span class="n">u</span><span class="p">,</span><span class="n">m</span><span class="p">,</span><span class="n">M</span><span class="p">,</span><span class="n">randeval</span><span class="p">)</span>
                    <span class="n">actions</span><span class="p">[</span><span class="n">a</span><span class="p">][</span><span class="s1">&#39;generators&#39;</span><span class="p">][</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;beta&#39;</span><span class="p">,</span><span class="n">alpha</span><span class="p">,</span><span class="n">beta</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">OrdinalScales</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;preferenceDirection&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span>
                            <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="mi">0</span><span class="p">)))</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0&#39;</span><span class="p">):</span>
                                <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="mi">0</span><span class="p">)))</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="o">-</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="mi">0</span><span class="p">)))</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;preferenceDirection&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span>
                            <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0&#39;</span><span class="p">):</span>
                                <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="mi">0</span><span class="p">)))</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="o">-</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="mi">0</span><span class="p">)))</span>
    
            <span class="k">elif</span> <span class="nb">str</span><span class="p">(</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="s1">&#39;triangular&#39;</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">actions</span><span class="p">:</span>
                    <span class="n">m</span> <span class="o">=</span> <span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                    <span class="n">M</span> <span class="o">=</span> <span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                    <span class="n">span</span> <span class="o">=</span> <span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                    <span class="k">if</span> <span class="n">randomMode</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;variable&#39;</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">actions</span><span class="p">[</span><span class="n">a</span><span class="p">][</span><span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;objective&#39;</span><span class="p">]]</span> <span class="o">==</span> <span class="s1">&#39;good&#39;</span><span class="p">:</span>
                            <span class="n">xm</span> <span class="o">=</span> <span class="mf">0.7</span><span class="o">*</span><span class="n">span</span>
                        <span class="k">elif</span> <span class="n">actions</span><span class="p">[</span><span class="n">a</span><span class="p">][</span><span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;objective&#39;</span><span class="p">]]</span> <span class="o">==</span> <span class="s1">&#39;fair&#39;</span><span class="p">:</span>
                            <span class="n">xm</span> <span class="o">=</span> <span class="mf">0.5</span><span class="o">*</span><span class="n">span</span>
                        <span class="k">elif</span> <span class="n">actions</span><span class="p">[</span><span class="n">a</span><span class="p">][</span><span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;objective&#39;</span><span class="p">]]</span> <span class="o">==</span> <span class="s1">&#39;weak&#39;</span><span class="p">:</span>
                            <span class="n">xm</span> <span class="o">=</span> <span class="mf">0.3</span><span class="o">*</span><span class="n">span</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">xm</span> <span class="o">=</span> <span class="n">randomMode</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                    <span class="n">r</span>  <span class="o">=</span> <span class="n">randomMode</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
                    <span class="n">actions</span><span class="p">[</span><span class="n">a</span><span class="p">][</span><span class="s1">&#39;generators&#39;</span><span class="p">][</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">xm</span><span class="p">,</span><span class="n">r</span><span class="p">)</span>
                    <span class="c1"># setting a speudo random seed</span>
                    <span class="k">if</span> <span class="n">seed</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="n">rdseed</span> <span class="o">=</span> <span class="n">_random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nb">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">32</span><span class="p">))</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">try</span><span class="p">:</span>
                            <span class="n">rdseed</span> <span class="o">+=</span> <span class="mi">1</span>
                        <span class="k">except</span><span class="p">:</span>
                            <span class="n">rdseed</span> <span class="o">=</span> <span class="n">seed</span>
                    <span class="n">rngtr</span> <span class="o">=</span> <span class="n">RNGTr</span><span class="p">(</span><span class="n">m</span><span class="p">,</span><span class="n">M</span><span class="p">,</span><span class="n">xm</span><span class="p">,</span><span class="n">r</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="n">rdseed</span><span class="p">)</span>
                    <span class="n">randeval</span> <span class="o">=</span> <span class="n">rngtr</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>
                    <span class="k">if</span> <span class="n">OrdinalScales</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;preferenceDirection&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span>
                            <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="mi">0</span><span class="p">)))</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0&#39;</span><span class="p">):</span>
                                <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="mi">0</span><span class="p">)))</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="o">-</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="mi">0</span><span class="p">)))</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;preferenceDirection&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span>
                            <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0&#39;</span><span class="p">):</span>
                                <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="mi">0</span><span class="p">)))</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="o">-</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="mi">0</span><span class="p">)))</span>
                   
                    <span class="k">if</span> <span class="n">Debug</span><span class="p">:</span>
                        <span class="nb">print</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;preferenceDirection&#39;</span><span class="p">],</span> <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Error: invalid random number generator </span><span class="si">%s</span><span class="s1"> !!!&#39;</span> <span class="o">%</span> <span class="n">commonPar</span><span class="p">)</span> 

        <span class="c1"># install self object attributes</span>

        <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">objectives</span><span class="p">:</span>
            <span class="n">objCriteria</span> <span class="o">=</span> <span class="p">[</span><span class="n">g</span> <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">criteria</span> <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;objective&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">obj</span><span class="p">]</span>
            <span class="n">objectives</span><span class="p">[</span><span class="n">obj</span><span class="p">][</span><span class="s1">&#39;criteria&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">objCriteria</span>
            <span class="n">objWeight</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0&#39;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">objCriteria</span><span class="p">:</span>
                <span class="n">objWeight</span> <span class="o">+=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">])</span>
            <span class="n">objectives</span><span class="p">[</span><span class="n">obj</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">objWeight</span>

        <span class="c1"># insert missing data</span>
        <span class="n">NA</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="n">NA</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">criteria</span><span class="p">:</span>
            <span class="n">sevalg</span> <span class="o">=</span> <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">actions</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">_random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">missingDataProbability</span><span class="p">:</span>
                    <span class="n">sevalg</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="n">NA</span>

        <span class="c1"># instantiate the peformance tableau slots</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">actions</span> <span class="o">=</span> <span class="n">actions</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">objectives</span> <span class="o">=</span> <span class="n">objectives</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">criteriaWeightMode</span> <span class="o">=</span> <span class="n">weightMode</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">criteria</span> <span class="o">=</span> <span class="n">criteria</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">weightPreorder</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">computeWeightPreorder</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">evaluation</span> <span class="o">=</span> <span class="n">evaluation</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">NA</span> <span class="o">=</span> <span class="n">NA</span>

    <span class="k">def</span> <span class="nf">showObjectives</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;*------ show objectives -------&quot;&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">objectives</span><span class="p">:</span>
                                               
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">objectives</span><span class="p">[</span><span class="n">obj</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]))</span>
                                               
            <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">objectives</span><span class="p">[</span><span class="n">obj</span><span class="p">][</span><span class="s1">&#39;criteria&#39;</span><span class="p">]:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  &#39;</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">])</span>
                                               
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  Total weight: </span><span class="si">%.2f</span><span class="s1"> (</span><span class="si">%d</span><span class="s1"> criteria)</span><span class="se">\n</span><span class="s1">&#39;</span> \
                  <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objectives</span><span class="p">[</span><span class="n">obj</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">],</span>
                     <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objectives</span><span class="p">[</span><span class="n">obj</span><span class="p">][</span><span class="s1">&#39;criteria&#39;</span><span class="p">])))</span>

<div class="viewcode-block" id="Random3ObjectivesPerformanceTableau.showActions">
<a class="viewcode-back" href="../techDoc.html#randomPerfTabs.Random3ObjectivesPerformanceTableau.showActions">[docs]</a>
    <span class="k">def</span> <span class="nf">showActions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">Alphabetic</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;*----- show decision action --------------*&#39;</span><span class="p">)</span>
        <span class="n">actions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">actions</span>
        <span class="k">if</span> <span class="n">Alphabetic</span><span class="p">:</span>
            <span class="n">actionsKeys</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">dict</span><span class="o">.</span><span class="n">keys</span><span class="p">(</span><span class="n">actions</span><span class="p">)]</span>
            <span class="n">actionsKeys</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">actionsKeys</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;key: &#39;</span><span class="p">,</span><span class="n">x</span><span class="p">)</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  short name: &#39;</span><span class="p">,</span><span class="n">actions</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="s1">&#39;shortName&#39;</span><span class="p">])</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="k">pass</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  name:       &#39;</span><span class="p">,</span><span class="n">actions</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">])</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  profile:    &#39;</span><span class="p">,</span><span class="n">actions</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="s1">&#39;profile&#39;</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">actions</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;key: &#39;</span><span class="p">,</span><span class="n">x</span><span class="p">)</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  short name: &#39;</span><span class="p">,</span><span class="n">actions</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="s1">&#39;shortName&#39;</span><span class="p">])</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="k">pass</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  name:      &#39;</span><span class="p">,</span><span class="n">actions</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">])</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  profile:   &#39;</span><span class="p">,</span><span class="n">actions</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="s1">&#39;profile&#39;</span><span class="p">])</span></div>
</div>


<span class="k">class</span> <span class="nc">_Random3ObjectivesPerformanceGenerator</span><span class="p">(</span><span class="n">RandomPerformanceGenerator</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generator for new decision actions with random evaluation following a</span>
<span class="sd">    given Random3ObjectivesPerformanceTableau model.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">argPerfTab</span><span class="p">,</span><span class="n">actionNamePrefix</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span>
                 <span class="n">instanceCounter</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">Debug</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the initial state of the random generator.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">import</span> <span class="nn">random</span>
        <span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">random</span> <span class="o">=</span> <span class="n">random</span>
        <span class="kn">from</span> <span class="nn">randomNumbers</span> <span class="kn">import</span> <span class="n">ExtendedTriangularRandomVariable</span> <span class="k">as</span> <span class="n">RNGTr</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">RNGTr</span> <span class="o">=</span> <span class="n">RNGTr</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">perfTab</span> <span class="o">=</span> <span class="n">argPerfTab</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">actionNamePrefix</span> <span class="o">=</span> <span class="n">actionNamePrefix</span>
        <span class="k">if</span> <span class="n">instanceCounter</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">counter</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">argPerfTab</span><span class="o">.</span><span class="n">actions</span><span class="p">)</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">counter</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">counter</span> <span class="o">=</span> <span class="n">instanceCounter</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nd</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">counter</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Debug</span> <span class="o">=</span> <span class="n">Debug</span>
        
    <span class="k">def</span> <span class="nf">_randomAction</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a dictionary with following content:</span>

<span class="sd">        { &#39;action&#39;: { &#39;key&#39;: actionKey, &#39;shortName&#39;: ..., &#39;name&#39;: ...,  ... },                        </span>
<span class="sd">        &#39;evaluation&#39;: {&#39;g1&#39;: Decimal(...), &#39;g2&#39;: Decimal(...), ... }  }</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># generate random evaluation</span>
        <span class="n">Debug</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Debug</span>
        <span class="n">random</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">random</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">digits</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">perfTab</span><span class="o">.</span><span class="n">valueDigits</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="n">digits</span> <span class="o">=</span> <span class="mi">2</span>
        <span class="n">criteria</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">perfTab</span><span class="o">.</span><span class="n">criteria</span>
        <span class="n">objectives</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">perfTab</span><span class="o">.</span><span class="n">objectives</span>
        <span class="n">objectiveSupportingTypes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">perfTab</span><span class="o">.</span><span class="n">objectiveSupportingTypes</span>
        <span class="n">commonScale</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">perfTab</span><span class="o">.</span><span class="n">commonScale</span>
        <span class="n">OrdinalScales</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">perfTab</span><span class="o">.</span><span class="n">OrdinalScales</span>

        <span class="c1"># generate action key and record</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">counter</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">perfTab</span><span class="o">.</span><span class="n">BigData</span><span class="p">:</span>
            <span class="n">actionName</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;</span><span class="si">%s%%</span><span class="s1">0</span><span class="si">%d</span><span class="s1">d&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionNamePrefix</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">nd</span><span class="p">))</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">counter</span><span class="p">)</span>
            <span class="n">actionKey</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">counter</span>
            <span class="n">action</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;shortName&#39;</span><span class="p">:</span> <span class="n">actionName</span><span class="p">,</span>
                              <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="n">actionName</span><span class="p">,</span>
                              <span class="s1">&#39;key&#39;</span><span class="p">:</span> <span class="n">actionKey</span><span class="p">,</span>
                              <span class="s1">&#39;generators&#39;</span><span class="p">:</span> <span class="p">{}}</span>
        <span class="k">else</span><span class="p">:</span>   
            <span class="n">actionKey</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;</span><span class="si">%s%%</span><span class="s1">0</span><span class="si">%d</span><span class="s1">d&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionNamePrefix</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">nd</span><span class="p">))</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">counter</span><span class="p">)</span>
            <span class="n">action</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;shortName&#39;</span><span class="p">:</span><span class="n">actionKey</span><span class="p">,</span>
                        <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;random decision action&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;comment&#39;</span><span class="p">:</span> <span class="s1">&#39;3 Objectives&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;key&#39;</span><span class="p">:</span> <span class="n">actionKey</span><span class="p">,</span>
                        <span class="s1">&#39;generators&#39;</span><span class="p">:</span> <span class="p">{}}</span>

        <span class="c1"># allocate coalition supporting types</span>
        <span class="n">profile</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">objectives</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">Debug</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">objectives</span><span class="p">,</span><span class="n">obj</span><span class="p">)</span>
            <span class="n">ost</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">objectiveSupportingTypes</span><span class="p">)</span>
            <span class="n">action</span><span class="p">[</span><span class="n">obj</span><span class="p">]</span><span class="o">=</span><span class="n">ost</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">action</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> \
                    <span class="o">=</span> <span class="n">action</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span><span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span> <span class="o">+</span> <span class="n">ost</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">profile</span><span class="p">[</span><span class="n">obj</span><span class="p">]</span> <span class="o">=</span> <span class="n">action</span><span class="p">[</span><span class="n">obj</span><span class="p">]</span>
        <span class="n">action</span><span class="p">[</span><span class="s1">&#39;profile&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">profile</span>
        <span class="k">if</span> <span class="n">Debug</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>
        
        <span class="c1"># generate random evaluations</span>
        <span class="n">evaluation</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">criteria</span><span class="p">:</span>
            <span class="n">randomMode</span><span class="o">=</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;randomMode&#39;</span><span class="p">]</span>
            <span class="n">aobj</span> <span class="o">=</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;objective&#39;</span><span class="p">]</span>

            <span class="c1"># uniform distribution</span>
            <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="s1">&#39;uniform&#39;</span><span class="p">:</span>          
                <span class="k">if</span> <span class="n">randomMode</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;variable&#39;</span><span class="p">:</span>
                    <span class="c1">#aobj = criteria[g][&#39;objective&#39;]</span>
                    <span class="k">if</span> <span class="n">actions</span><span class="p">[</span><span class="s1">&#39;profile&#39;</span><span class="p">][</span><span class="n">aobj</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;weak&#39;</span><span class="p">:</span>
                        <span class="n">randomRange</span> <span class="o">=</span> <span class="p">(</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                                       <span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="mf">0.7</span><span class="o">*</span><span class="p">(</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
                    <span class="k">elif</span> <span class="n">action</span><span class="p">[</span><span class="s1">&#39;profile&#39;</span><span class="p">][</span><span class="n">aobj</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;fair&#39;</span><span class="p">:</span>
                        <span class="n">randomRange</span> <span class="o">=</span> <span class="p">(</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="mf">0.3</span><span class="o">*</span><span class="p">(</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span>
                                       <span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="mf">0.7</span><span class="o">*</span><span class="p">(</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
                    <span class="k">elif</span> <span class="n">action</span><span class="p">[</span><span class="s1">&#39;profile&#39;</span><span class="p">][</span><span class="n">aobj</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;good&#39;</span><span class="p">:</span>
                        <span class="n">randomRange</span> <span class="o">=</span> <span class="p">(</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="mf">0.3</span><span class="o">*</span><span class="p">(</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span>
                                      <span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>       
                    <span class="n">action</span><span class="p">[</span><span class="s1">&#39;comment&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="s1">&#39;: </span><span class="si">%s</span><span class="s1"> </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">randomRange</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">randomRange</span> <span class="o">=</span> <span class="p">(</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> 
                <span class="n">randeval</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="n">randomRange</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">randomRange</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
                <span class="n">action</span><span class="p">[</span><span class="s1">&#39;generators&#39;</span><span class="p">][</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">randomRange</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">OrdinalScales</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;preferenceDirection&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span>
                        <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="mi">0</span><span class="p">)))</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0&#39;</span><span class="p">):</span>
                            <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="o">-</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="mi">0</span><span class="p">)))</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="mi">0</span><span class="p">)))</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;preferenceDirection&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span>
                        <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0&#39;</span><span class="p">):</span>
                            <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="o">-</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>
                        
            <span class="c1"># beta distribution</span>
            <span class="k">elif</span> <span class="nb">str</span><span class="p">(</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="s1">&#39;beta&#39;</span><span class="p">:</span>
                <span class="n">m</span> <span class="o">=</span> <span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">M</span> <span class="o">=</span> <span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">randomMode</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;variable&#39;</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">action</span><span class="p">[</span><span class="s1">&#39;profile&#39;</span><span class="p">][</span><span class="n">aobj</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;good&#39;</span><span class="p">:</span>
                        <span class="c1"># mode = 75, stdev = 15</span>
                        <span class="c1">#xm = 75</span>
                        <span class="n">alpha</span> <span class="o">=</span> <span class="mf">5.8661</span>
                        <span class="n">beta</span> <span class="o">=</span> <span class="mf">2.62203</span>
                    <span class="k">elif</span> <span class="n">action</span><span class="p">[</span><span class="s1">&#39;profile&#39;</span><span class="p">][</span><span class="n">aobj</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;fair&#39;</span><span class="p">:</span>
                        <span class="c1"># nmode = 50, stdev = 15</span>
                        <span class="c1">#xm = 50</span>
                        <span class="n">alpha</span> <span class="o">=</span> <span class="mf">5.05556</span>
                        <span class="n">beta</span> <span class="o">=</span> <span class="mf">5.05556</span>
                    <span class="k">elif</span> <span class="n">action</span><span class="p">[</span><span class="s1">&#39;profile&#39;</span><span class="p">][</span><span class="n">aobj</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;weak&#39;</span><span class="p">:</span>
                        <span class="c1"># mode = 25, stdev = 15</span>
                        <span class="c1"># xm = 25</span>
                        <span class="n">alpha</span> <span class="o">=</span> <span class="mf">2.62203</span>
                        <span class="n">beta</span> <span class="o">=</span> <span class="mf">5.8661</span>                         
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">xm</span> <span class="o">=</span> <span class="n">randomMode</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                    <span class="k">if</span> <span class="n">xm</span> <span class="o">&gt;</span> <span class="mf">0.5</span><span class="p">:</span>
                        <span class="n">beta</span> <span class="o">=</span> <span class="mf">2.0</span>
                        <span class="n">alpha</span> <span class="o">=</span> <span class="mf">1.0</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">xm</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">alpha</span> <span class="o">=</span> <span class="mf">2.0</span>
                        <span class="n">beta</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">/</span> <span class="n">xm</span>
                <span class="k">if</span> <span class="n">Debug</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;alpha,beta&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="p">,</span><span class="n">beta</span><span class="p">)</span>
                <span class="n">u</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">betavariate</span><span class="p">(</span><span class="n">alpha</span><span class="p">,</span><span class="n">beta</span><span class="p">)</span>
                <span class="n">randeval</span> <span class="o">=</span> <span class="p">(</span><span class="n">u</span> <span class="o">*</span> <span class="p">(</span><span class="n">M</span><span class="o">-</span><span class="n">m</span><span class="p">))</span> <span class="o">+</span> <span class="n">m</span>
                <span class="k">if</span> <span class="n">Debug</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;xm,alpha,beta,u,m,M,randeval&#39;</span><span class="p">,</span><span class="n">xm</span><span class="p">,</span><span class="n">alpha</span><span class="p">,</span><span class="n">beta</span><span class="p">,</span><span class="n">u</span><span class="p">,</span><span class="n">m</span><span class="p">,</span><span class="n">M</span><span class="p">,</span><span class="n">randeval</span><span class="p">)</span>
                <span class="n">action</span><span class="p">[</span><span class="s1">&#39;generators&#39;</span><span class="p">][</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;beta&#39;</span><span class="p">,</span><span class="n">alpha</span><span class="p">,</span><span class="n">beta</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">OrdinalScales</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;preferenceDirection&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span>
                        <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="mi">0</span><span class="p">)))</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0&#39;</span><span class="p">):</span>
                            <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="o">-</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="mi">0</span><span class="p">)))</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="mi">0</span><span class="p">)))</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;preferenceDirection&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span>
                        <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0&#39;</span><span class="p">):</span>
                            <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="o">-</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>
            <span class="c1"># triangular</span>
            <span class="k">elif</span> <span class="nb">str</span><span class="p">(</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="s1">&#39;triangular&#39;</span><span class="p">:</span>
                <span class="n">m</span> <span class="o">=</span> <span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">M</span> <span class="o">=</span> <span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">span</span> <span class="o">=</span> <span class="n">commonScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">commonScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">randomMode</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;variable&#39;</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">action</span><span class="p">[</span><span class="s1">&#39;profile&#39;</span><span class="p">][</span><span class="n">aobj</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;good&#39;</span><span class="p">:</span>
                        <span class="n">xm</span> <span class="o">=</span> <span class="mf">0.7</span><span class="o">*</span><span class="n">span</span>
                    <span class="k">elif</span> <span class="n">action</span><span class="p">[</span><span class="s1">&#39;profile&#39;</span><span class="p">][</span><span class="n">aobj</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;fair&#39;</span><span class="p">:</span>
                        <span class="n">xm</span> <span class="o">=</span> <span class="mf">0.5</span><span class="o">*</span><span class="n">span</span>
                    <span class="k">elif</span> <span class="n">action</span><span class="p">[</span><span class="s1">&#39;profile&#39;</span><span class="p">][</span><span class="n">aobj</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;weak&#39;</span><span class="p">:</span>
                        <span class="n">xm</span> <span class="o">=</span> <span class="mf">0.3</span><span class="o">*</span><span class="n">span</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">xm</span> <span class="o">=</span> <span class="n">randomMode</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">r</span>  <span class="o">=</span> <span class="n">randomMode</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
                <span class="n">action</span><span class="p">[</span><span class="s1">&#39;generators&#39;</span><span class="p">][</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">xm</span><span class="p">,</span><span class="n">r</span><span class="p">)</span>
                <span class="c1"># setting a speudo random seed</span>
                <span class="n">rdseed</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>
                <span class="n">rngtr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">RNGTr</span><span class="p">(</span><span class="n">m</span><span class="p">,</span><span class="n">M</span><span class="p">,</span><span class="n">xm</span><span class="p">,</span><span class="n">r</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="n">rdseed</span><span class="p">)</span>
                <span class="n">randeval</span> <span class="o">=</span> <span class="n">rngtr</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">OrdinalScales</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;preferenceDirection&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span>
                        <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="mi">0</span><span class="p">)))</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0&#39;</span><span class="p">):</span>
                            <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="o">-</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="mi">0</span><span class="p">)))</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="mi">0</span><span class="p">)))</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;preferenceDirection&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span>
                        <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0&#39;</span><span class="p">):</span>
                            <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="o">-</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>
               
                <span class="k">if</span> <span class="n">Debug</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;preferenceDirection&#39;</span><span class="p">],</span> <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">])</span>
                        
        <span class="k">if</span> <span class="n">Debug</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">evaluation</span><span class="p">)</span>

        <span class="c1"># randomly insert missing data</span>
        <span class="n">NA</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">perfTab</span><span class="o">.</span><span class="n">NA</span>
        <span class="n">missingDataProbability</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">perfTab</span><span class="o">.</span><span class="n">missingDataProbability</span>
        <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">criteria</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">missingDataProbability</span><span class="p">:</span>
                <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="n">NA</span>

        <span class="c1"># return a new random decision alternative</span>
        <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;action&#39;</span><span class="p">:</span> <span class="n">action</span><span class="p">,</span><span class="s1">&#39;evaluation&#39;</span><span class="p">:</span><span class="n">evaluation</span><span class="p">}</span>
        
<span class="c1">#---------------</span>
<div class="viewcode-block" id="RandomCBPerformanceTableau">
<a class="viewcode-back" href="../techDoc.html#randomPerfTabs.RandomCBPerformanceTableau">[docs]</a>
<span class="k">class</span> <span class="nc">RandomCBPerformanceTableau</span><span class="p">(</span><span class="n">PerformanceTableau</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Full automatic generation of random multiple-criteria Cost-Benefit performance tableaux.</span>

<span class="sd">    Parameters:</span>
<span class="sd">    </span>
<span class="sd">        * If numberOfActions is None, a uniform random number between 10 and 31 of cheap, neutral or advantageous actions (equal 1/3 probability each type) actions is instantiated.</span>
<span class="sd">        * If numberOfCriteria is None, a uniform random number between 5 and 21 of cost or benefit criteria. Cost criteria have probability 1/3, whereas benefit criteria respectively 2/3 probability to be generated. However, at least one criterion of each kind is always instantiated.</span>
<span class="sd">        * weightDistribution := {&#39;equiobjectives&#39; (default)|&#39;fixed&#39;|&#39;random&#39;|&#39;equisignificant&#39;}</span>
<span class="sd">          By default, the sum of significance of the cost criteria is set equal to the sum of the significance of the benefit criteria. </span>
<span class="sd">        * Default weightScale for &#39;random&#39; weightDistribution is 1 - numberOfCriteria.</span>
<span class="sd">        * If NegativeWeights = True | False (default), the performance evaluation of the criteria with a &#39;min&#39; preference direction will be positive, otherwise they will be negative.</span>
<span class="sd">        * Parameter commonScale is not used. The scale of cost criteria is cardinal or ordinal (0-10) with probability 1/4, respectively 3/4, whereas the scale of benefit criteria is ordinal or cardinal with probabilities 2/3, respectively 1/3.</span>
<span class="sd">        * All cardinal criteria are evaluated with decimals between 0.0 and 100.0 wheras all ordinal criteria are evaluated with integers between 0 and 10.</span>
<span class="sd">        * commonThresholds parameter is not used. Preference discrimination is specified as percentiles of concerned performance differences (see below).</span>
<span class="sd">        * commonPercentiles = {&#39;ind&#39;:0.05, &#39;pref&#39;:0.10, &#39;veto&#39;:0.95} are expressed in percentiles of the observed performance differences and only concern cardinal criteria.</span>

<span class="sd">    .. note::</span>

<span class="sd">        Minimal number required of criteria is 2, and minimal number</span>
<span class="sd">        required of decision actions is 6!</span>
<span class="sd">    </span>
<span class="sd">    &gt;&gt;&gt; from randomPerfTabs import RandomCBPerformanceTableau</span>
<span class="sd">    &gt;&gt;&gt; pt = RandomCBPerformanceTableau(numberOfActions=6,numberOfCriteria=3,seed=2)</span>
<span class="sd">    &gt;&gt;&gt; pt</span>
<span class="sd">         *------- PerformanceTableau instance description ------*</span>
<span class="sd">          Instance class     : RandomCBPerformanceTableau</span>
<span class="sd">          Seed               : 1</span>
<span class="sd">          Instance name      : randomCBperftab</span>
<span class="sd">          Actions            : 6</span>
<span class="sd">          Objectives         : 2</span>
<span class="sd">          Criteria           : 3</span>
<span class="sd">          NaN proportion (%) : 0.0</span>
<span class="sd">          Attributes         : [&#39;randomSeed&#39;, &#39;name&#39;, &#39;digits&#39;,</span>
<span class="sd">                     &#39;BigData&#39;, &#39;missingDataProbability&#39;, &#39;NA&#39;,</span>
<span class="sd">                     &#39;commonPercentiles&#39;, &#39;samplingSize&#39;, &#39;Debug&#39;,</span>
<span class="sd">                     &#39;actionsTypesList&#39;, &#39;sumWeights&#39;,</span>
<span class="sd">                     &#39;valuationPrecision&#39;, &#39;actions&#39;, &#39;objectives&#39;,</span>
<span class="sd">                     &#39;criteriaWeightMode&#39;, &#39;criteria&#39;, &#39;evaluation&#39;,</span>
<span class="sd">                     &#39;weightPreorder&#39;]</span>
<span class="sd">    &gt;&gt;&gt; pt.showObjetives()</span>
<span class="sd">        *------ decision objectives -------&quot;</span>
<span class="sd">         C: Costs</span>
<span class="sd">          c1 random cardinal cost criterion 1</span>
<span class="sd">          c2 random cardinal cost criterion 1</span>
<span class="sd">          Total weight: 2.00 (2 criteria)</span>
<span class="sd">         B: Benefits</span>
<span class="sd">          b1 random ordinal benefit criterion 2</span>
<span class="sd">          Total weight: 2.00 (1 criteria)</span>
<span class="sd">    &gt;&gt;&gt; pt.showCriteria()</span>
<span class="sd">        *----  criteria -----*</span>
<span class="sd">         c1 random cardinal cost criterion</span>
<span class="sd">          Preference direction: min</span>
<span class="sd">          Scale = (0.00, 100.00)</span>
<span class="sd">          Weight = 0.250 </span>
<span class="sd">          Threshold ind : 1.98 + 0.00x ; percentile: 6.67</span>
<span class="sd">          Threshold pref : 8.48 + 0.00x ; percentile: 13.33</span>
<span class="sd">          Threshold veto : 60.79 + 0.00x ; percentile: 100.00</span>
<span class="sd">         b1 random ordinal benefit criterion</span>
<span class="sd">          Preference direction: max</span>
<span class="sd">          Scale = (0.00, 10.00)</span>
<span class="sd">          Weight = 0.500 </span>
<span class="sd">         c2 random cardinal cost criterion</span>
<span class="sd">          Preference direction: min</span>
<span class="sd">          Scale = (0.00, 100.00)</span>
<span class="sd">          Weight = 0.250 </span>
<span class="sd">          Threshold ind : 3.34 + 0.00x ; percentile: 6.67</span>
<span class="sd">          Threshold pref : 4.99 + 0.00x ; percentile: 13.33</span>
<span class="sd">          Threshold veto : 63.75 + 0.00x ; percentile: 100.00</span>
<span class="sd">    &gt;&gt;&gt; pt.showActions</span>
<span class="sd">        *----- show decision action --------------*</span>
<span class="sd">        key:  a1</span>
<span class="sd">          short name: a1c</span>
<span class="sd">          name:       action a1</span>
<span class="sd">          comment:    Cost-Benefit</span>
<span class="sd">        key:  a2</span>
<span class="sd">          short name: a2c</span>
<span class="sd">          name:       action a2</span>
<span class="sd">          comment:    Cost-Benefit</span>
<span class="sd">        key:  a3</span>
<span class="sd">          short name: a3c</span>
<span class="sd">          name:       action a3</span>
<span class="sd">          comment:    Cost-Benefit</span>
<span class="sd">        key:  a4</span>
<span class="sd">          short name: a4n</span>
<span class="sd">          name:       action a4</span>
<span class="sd">          comment:    Cost-Benefit</span>
<span class="sd">        key:  a5</span>
<span class="sd">          short name: a5c</span>
<span class="sd">          name:       action a5</span>
<span class="sd">          comment:    Cost-Benefit</span>
<span class="sd">        key:  a6</span>
<span class="sd">          short name: a6a</span>
<span class="sd">          name:       action a6</span>
<span class="sd">          comment:    Cost-Benefit</span>
<span class="sd">    &gt;&gt;&gt; pt.showPerformanceTableau()</span>
<span class="sd">        *----  performance tableau -----*</span>
<span class="sd">        Criteria |  &#39;b1&#39;   &#39;c1&#39;   &#39;c2&#39;   </span>
<span class="sd">        Actions  |    2      1      1    </span>
<span class="sd">        ---------|-----------------------------------------</span>
<span class="sd">         &#39;a1c&#39;   |  9.00  -37.92  -7.03  </span>
<span class="sd">         &#39;a2c&#39;   |  8.00  -35.94  -28.93  </span>
<span class="sd">         &#39;a3c&#39;   |  3.00  -16.88  -23.94  </span>
<span class="sd">         &#39;a4n&#39;   |  5.00  -46.40  -43.59  </span>
<span class="sd">         &#39;a5c&#39;   |  2.00  -26.61  -67.44  </span>
<span class="sd">         &#39;a6a&#39;   |  2.00  -77.67  -70.78  </span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">numberOfActions</span> <span class="o">=</span> <span class="mi">13</span><span class="p">,</span>
                 <span class="n">numberOfCriteria</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
                 <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;randomCBperftab&#39;</span><span class="p">,</span>
                 <span class="n">weightDistribution</span> <span class="o">=</span> <span class="s1">&#39;equiobjectives&#39;</span><span class="p">,</span>
                 <span class="n">weightScale</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">IntegerWeights</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                 <span class="n">NegativeWeights</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
                 <span class="c1">#commonScale = None, commonThresholds = None,</span>
                 <span class="n">commonPercentiles</span><span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">samplingSize</span> <span class="o">=</span> <span class="mi">100000</span><span class="p">,</span>
                 <span class="n">commonMode</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">valueDigits</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
                 <span class="n">missingDataProbability</span> <span class="o">=</span> <span class="mf">0.01</span><span class="p">,</span>
                 <span class="n">NA</span> <span class="o">=</span> <span class="o">-</span><span class="mi">999</span><span class="p">,</span>
                 <span class="n">BigData</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                 <span class="n">seed</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">Debug</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">Comments</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructor for RadomCBPerformanceTableau instances.</span>
<span class="sd">        </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="kn">import</span> <span class="nn">sys</span><span class="o">,</span><span class="nn">math</span><span class="o">,</span><span class="nn">copy</span>
        <span class="kn">import</span> <span class="nn">random</span>

        <span class="c1"># randomizer init</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">randomSeed</span> <span class="o">=</span> <span class="n">seed</span>
        <span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span>

        <span class="c1"># store argument values</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">digits</span> <span class="o">=</span> <span class="n">valueDigits</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">BigData</span> <span class="o">=</span> <span class="n">BigData</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">missingDataProbability</span> <span class="o">=</span> <span class="n">missingDataProbability</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">NA</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="n">NA</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">commonPercentiles</span> <span class="o">=</span> <span class="n">commonPercentiles</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">samplingSize</span> <span class="o">=</span> <span class="n">samplingSize</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Debug</span> <span class="o">=</span> <span class="n">Debug</span>
        
        <span class="c1"># generate actions</span>
        <span class="k">if</span> <span class="n">numberOfActions</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">numberOfActions</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">31</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">numberOfActions</span> <span class="o">&lt;</span> <span class="mi">6</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;!!! Error: the number of decision actions must be greater than 5&#39;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="n">nd</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">numberOfActions</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">actionsTypesList</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;cheap&#39;</span><span class="p">,</span><span class="s1">&#39;neutral&#39;</span><span class="p">,</span><span class="s1">&#39;advantageous&#39;</span><span class="p">]</span>        
        <span class="n">actions</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>
        <span class="n">actionsTypesList</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">actionsTypesList</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">numberOfActions</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">actionType</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">actionsTypesList</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">BigData</span><span class="p">:</span>
                <span class="n">actionName</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;</span><span class="si">%%</span><span class="s1">0</span><span class="si">%d</span><span class="s1">d&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">nd</span><span class="p">))</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span><span class="p">)</span>
                <span class="n">actions</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;shortName&#39;</span><span class="p">:</span><span class="n">actionName</span><span class="o">+</span><span class="n">actionType</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                              <span class="s1">&#39;name&#39;</span><span class="p">:</span><span class="n">actionName</span><span class="o">+</span><span class="n">actionType</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                              <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="n">actionType</span><span class="p">}</span>
            <span class="k">else</span><span class="p">:</span>   
                <span class="n">actionKey</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;a</span><span class="si">%%</span><span class="s1">0</span><span class="si">%d</span><span class="s1">d&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">nd</span><span class="p">))</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span><span class="p">)</span>
                <span class="n">actions</span><span class="p">[</span><span class="n">actionKey</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;shortName&#39;</span><span class="p">:</span><span class="n">actionKey</span><span class="o">+</span><span class="n">actionType</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                        <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;action </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">actionKey</span><span class="p">),</span>
                        <span class="s1">&#39;comment&#39;</span><span class="p">:</span> <span class="s1">&#39;Cost-Benefit&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="n">actionType</span><span class="p">}</span>
        <span class="c1"># generate objectives</span>
        <span class="n">objectives</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">([</span>
            <span class="p">(</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Costs&#39;</span><span class="p">,</span> <span class="s1">&#39;criteria&#39;</span><span class="p">:[]}),</span>
            <span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Benefits&#39;</span><span class="p">,</span> <span class="s1">&#39;criteria&#39;</span><span class="p">:[]}),</span>
            <span class="p">])</span>
        
        <span class="c1"># generate criteria</span>
        <span class="k">if</span> <span class="n">numberOfCriteria</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">numberOfCriteria</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">21</span><span class="p">)</span>
        <span class="n">ng</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">numberOfCriteria</span><span class="p">))</span>
        <span class="n">criterionTypesList</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;max&#39;</span><span class="p">,</span><span class="s1">&#39;max&#39;</span><span class="p">,</span><span class="s1">&#39;min&#39;</span><span class="p">]</span>
        <span class="n">minScaleTypesList</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;cardinal&#39;</span><span class="p">,</span><span class="s1">&#39;cardinal&#39;</span><span class="p">,</span><span class="s1">&#39;cardinal&#39;</span><span class="p">,</span><span class="s1">&#39;ordinal&#39;</span><span class="p">]</span>
        <span class="n">maxScaleTypesList</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ordinal&#39;</span><span class="p">,</span><span class="s1">&#39;ordinal&#39;</span><span class="p">,</span><span class="s1">&#39;cardinal&#39;</span><span class="p">]</span>
        <span class="n">criterionTypeCounter</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;min&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="s1">&#39;max&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">}</span>
        <span class="n">criteria</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numberOfCriteria</span><span class="p">):</span>
            <span class="c1"># at least one cost and one benefit criterion is selected</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">criterionType</span> <span class="o">=</span> <span class="s1">&#39;min&#39;</span>
            <span class="k">elif</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">criterionType</span> <span class="o">=</span> <span class="s1">&#39;max&#39;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">criterionType</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">criterionTypesList</span><span class="p">)</span>
            <span class="n">criterionTypeCounter</span><span class="p">[</span><span class="n">criterionType</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="n">criterionType</span> <span class="o">==</span> <span class="s1">&#39;min&#39;</span><span class="p">:</span>
                <span class="n">g</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;c</span><span class="si">%%</span><span class="s1">0</span><span class="si">%d</span><span class="s1">d&#39;</span> <span class="o">%</span> <span class="n">ng</span><span class="p">)</span> <span class="o">%</span> <span class="p">(</span><span class="n">criterionTypeCounter</span><span class="p">[</span><span class="n">criterionType</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">g</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;b</span><span class="si">%%</span><span class="s1">0</span><span class="si">%d</span><span class="s1">d&#39;</span> <span class="o">%</span> <span class="n">ng</span><span class="p">)</span> <span class="o">%</span> <span class="p">(</span><span class="n">criterionTypeCounter</span><span class="p">[</span><span class="n">criterionType</span><span class="p">])</span>               
            <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;preferenceDirection&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">criterionType</span>
            <span class="k">if</span> <span class="n">criterionType</span> <span class="o">==</span> <span class="s1">&#39;min&#39;</span><span class="p">:</span>
                <span class="n">scaleType</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">minScaleTypesList</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">scaleType</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">maxScaleTypesList</span><span class="p">)</span>
            <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;scaleType&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">scaleType</span>
            <span class="k">if</span> <span class="n">criterionType</span> <span class="o">==</span> <span class="s1">&#39;min&#39;</span><span class="p">:</span>
                <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;objective&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;C&#39;</span>
                <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;shortName&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">g</span>
                <span class="n">objectives</span><span class="p">[</span><span class="s1">&#39;C&#39;</span><span class="p">][</span><span class="s1">&#39;criteria&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">scaleType</span> <span class="o">==</span> <span class="s1">&#39;ordinal&#39;</span><span class="p">:</span>
                    <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;random ordinal cost criterion&#39;</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;random cardinal cost criterion&#39;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;objective&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;B&#39;</span>
                <span class="n">objectives</span><span class="p">[</span><span class="s1">&#39;B&#39;</span><span class="p">][</span><span class="s1">&#39;criteria&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
                <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;shortName&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">g</span>
                <span class="k">if</span> <span class="n">scaleType</span> <span class="o">==</span> <span class="s1">&#39;ordinal&#39;</span><span class="p">:</span>
                    <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;random ordinal benefit criterion&#39;</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;random cardinal benefit criterion&#39;</span>
            <span class="k">if</span> <span class="n">Debug</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;g, criteria[g][&#39;scaleType&#39;], criteria[g][&#39;scale&#39;]&quot;</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;scaleType&#39;</span><span class="p">],</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">)</span>

            <span class="c1"># commonScale parameter is obsolete</span>
            <span class="n">commonScale</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;scaleType&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;cardinal&#39;</span><span class="p">:</span>
                <span class="n">criterionScale</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">100.0</span><span class="p">)</span>   
            <span class="k">elif</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;scaleType&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;ordinal&#39;</span><span class="p">:</span>
                <span class="n">criterionScale</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">criterionScale</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">100.0</span><span class="p">)</span>
            <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;scale&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">criterionScale</span>
            <span class="k">if</span> <span class="n">Debug</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;scale&#39;</span><span class="p">])</span>

        <span class="c1"># generate random weights</span>
        <span class="k">if</span> <span class="n">weightDistribution</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">weightDistribution</span> <span class="o">=</span> <span class="s1">&#39;equiobjectives&#39;</span>
            <span class="c1">#weightDistribution = &#39;fixed&#39;</span>
            <span class="n">weightScale</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">weightMode</span><span class="o">=</span><span class="p">[</span><span class="n">weightDistribution</span><span class="p">,</span><span class="n">weightScale</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">weightScale</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">weightScale</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">numberOfCriteria</span><span class="p">)</span>
            <span class="n">weightMode</span><span class="o">=</span><span class="p">[</span><span class="n">weightDistribution</span><span class="p">,</span><span class="n">weightScale</span><span class="p">]</span>
            
        <span class="k">if</span> <span class="n">weightDistribution</span> <span class="o">==</span> <span class="s1">&#39;random&#39;</span><span class="p">:</span>
            <span class="n">weightsList</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">sumWeights</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0.0&#39;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numberOfCriteria</span><span class="p">):</span>
                <span class="n">weightsList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="n">weightScale</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">weightScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]))))</span>
                <span class="n">sumWeights</span> <span class="o">+=</span> <span class="n">weightsList</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">weightsList</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">weightDistribution</span> <span class="o">==</span> <span class="s1">&#39;fixed&#39;</span><span class="p">:</span>
            <span class="n">weightsList</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">sumWeights</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0.0&#39;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numberOfCriteria</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">weightsList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">weightScale</span><span class="p">[</span><span class="mi">1</span><span class="p">])))</span>
                    <span class="n">sumWeights</span> <span class="o">+=</span> <span class="n">weightScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">weightsList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">weightScale</span><span class="p">[</span><span class="mi">0</span><span class="p">])))</span>
                    <span class="n">sumWeights</span> <span class="o">+=</span> <span class="n">weightScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">weightsList</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">weightDistribution</span> <span class="o">==</span> <span class="s1">&#39;equisignificant&#39;</span><span class="p">:</span>
            <span class="n">weightScale</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">weightMode</span><span class="o">=</span><span class="p">[</span><span class="n">weightDistribution</span><span class="p">,</span><span class="n">weightScale</span><span class="p">]</span>
            <span class="n">weightsList</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">sumWeights</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0.0&#39;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">criteriaList</span><span class="p">)):</span>
                <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">weightsList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">weightScale</span><span class="p">[</span><span class="mi">1</span><span class="p">])))</span>
                    <span class="n">sumWeights</span> <span class="o">+=</span> <span class="n">weightScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">weightsList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">weightScale</span><span class="p">[</span><span class="mi">0</span><span class="p">])))</span>
                    <span class="n">sumWeights</span> <span class="o">+=</span> <span class="n">weightScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">weightsList</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">weightDistribution</span> <span class="o">==</span> <span class="s1">&#39;equiobjectives&#39;</span><span class="p">:</span>
            <span class="n">weightScale</span> <span class="o">=</span> <span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">criterionTypeCounter</span><span class="p">[</span><span class="s1">&#39;min&#39;</span><span class="p">]),</span><span class="nb">max</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">criterionTypeCounter</span><span class="p">[</span><span class="s1">&#39;max&#39;</span><span class="p">]))</span>
            <span class="n">weightMode</span><span class="o">=</span><span class="p">[</span><span class="n">weightDistribution</span><span class="p">,</span><span class="n">weightScale</span><span class="p">]</span>
            <span class="n">weightsList</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">sumWeights</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0.0&#39;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">criteria</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;preferenceDirection&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;min&#39;</span><span class="p">:</span>
                    <span class="n">weightsList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">weightScale</span><span class="p">[</span><span class="mi">1</span><span class="p">])))</span>
                    <span class="n">sumWeights</span> <span class="o">+=</span> <span class="n">weightScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">weightsList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">weightScale</span><span class="p">[</span><span class="mi">0</span><span class="p">])))</span>
                    <span class="n">sumWeights</span> <span class="o">+=</span> <span class="n">weightScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;!!! Error: wrong criteria weight distribution mode: </span><span class="si">%s</span><span class="s1"> !!!!&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">weightDistribution</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">Debug</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">weightsList</span><span class="p">,</span> <span class="n">sumWeights</span><span class="p">)</span>

        <span class="c1"># store sum of weights and valuation precision</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sumWeights</span> <span class="o">=</span> <span class="n">sumWeights</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">valuationPrecision</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0.1&#39;</span><span class="p">)</span><span class="o">/</span><span class="n">sumWeights</span>


        <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">g</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">criteria</span><span class="p">):</span>
            <span class="c1">## if Debug:</span>
            <span class="c1">##     print &#39;criterionScale = &#39;, criterionScale</span>
            <span class="k">if</span> <span class="n">NegativeWeights</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;preferenceDirection&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;max&quot;</span><span class="p">:</span>
                    <span class="n">Sgn</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;1.0&#39;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">Sgn</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;-1.0&#39;</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">IntegerWeights</span><span class="p">:</span>
                    <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Sgn</span> <span class="o">*</span> <span class="n">weightsList</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Sgn</span> <span class="o">*</span> <span class="n">weightsList</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">/</span> <span class="n">sumWeights</span>
                <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">IntegerWeights</span><span class="p">:</span>
                    <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">weightsList</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">weightsList</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">/</span> <span class="n">sumWeights</span>
                <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
                

            <span class="k">if</span> <span class="n">Debug</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">])</span>
        <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">objectives</span><span class="p">:</span>
            <span class="n">objectives</span><span class="p">[</span><span class="n">obj</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">([</span><span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> \
                    <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">criteria</span> <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;objective&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">obj</span><span class="p">])</span>

        <span class="c1"># generate random evaluations</span>
        
        <span class="n">evaluation</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">criteria</span><span class="p">:</span>
            <span class="n">criterionScale</span> <span class="o">=</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;scale&#39;</span><span class="p">]</span>
            <span class="n">amplitude</span> <span class="o">=</span> <span class="n">criterionScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">criterionScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">x30</span><span class="o">=</span><span class="n">criterionScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">amplitude</span><span class="o">*</span><span class="mf">0.3</span>
            <span class="n">x50</span><span class="o">=</span><span class="n">criterionScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">amplitude</span><span class="o">*</span><span class="mf">0.5</span>
            <span class="n">x70</span><span class="o">=</span><span class="n">criterionScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">amplitude</span><span class="o">*</span><span class="mf">0.7</span>
            <span class="k">if</span> <span class="n">Debug</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;g, criterionx30,x50,x70&#39;</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">],</span> <span class="n">x30</span><span class="p">,</span><span class="n">x50</span><span class="p">,</span><span class="n">x70</span><span class="p">)</span>
            <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">if</span> <span class="n">commonMode</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="c1">#randomMode = random.choice(randomLawsList)</span>
                <span class="n">randomMode</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;triangular&#39;</span><span class="p">,</span><span class="n">x50</span><span class="p">,</span><span class="mf">0.50</span><span class="p">]</span>               
            <span class="k">elif</span> <span class="n">commonMode</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="c1">#randomMode = random.choice(randomLawsList)</span>
                <span class="n">randomMode</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;triangular&#39;</span><span class="p">,</span><span class="n">x50</span><span class="p">,</span><span class="mf">0.50</span><span class="p">]</span>               
            <span class="k">else</span><span class="p">:</span>
                <span class="n">randomMode</span> <span class="o">=</span> <span class="n">commonMode</span>
            <span class="k">if</span> <span class="n">randomMode</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;uniform&#39;</span><span class="p">:</span>
                <span class="n">randomMode</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">criterionScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">randomMode</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">criterionScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;randomMode&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">randomMode</span>
            <span class="k">if</span> <span class="n">randomMode</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;triangular&#39;</span><span class="p">:</span>
                <span class="n">commentString</span> <span class="o">=</span> <span class="s1">&#39;triangular law with variable mode (m) and probability repartition (p = 0.5). Cheap actions: m = 30%; neutral actions: m = 50%; advantageous actions: m = 70%.&#39;</span>
            <span class="k">elif</span> <span class="n">randomMode</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;normal&#39;</span><span class="p">:</span>
                <span class="n">commentString</span> <span class="o">=</span> <span class="s1">&#39;truncated normal law with variable mean (mu) and standard deviation (stdev = 20%). Cheap actions: mu = 30%; neutral actions: mu = 50%; advantageous actions: mu = 70%.&#39;</span>
            <span class="k">elif</span> <span class="n">randomMode</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;beta&#39;</span><span class="p">:</span>
                <span class="n">commentString</span> <span class="o">=</span> <span class="s1">&#39;beta law with variable mode xm and standard deviation (stdev = 15%). Cheap actions: xm = 30%; neutral actions: xm = 50%; advantageous actions: xm = 70%.&#39;</span>

            <span class="k">if</span> <span class="n">Debug</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;commonMode = &#39;</span><span class="p">,</span> <span class="n">commonMode</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;randomMode = &#39;</span><span class="p">,</span> <span class="n">randomMode</span><span class="p">)</span>
                   
            <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;comment&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Evaluation generator: &#39;</span> <span class="o">+</span> <span class="n">commentString</span>
            <span class="n">digits</span> <span class="o">=</span> <span class="n">valueDigits</span>
            <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="s1">&#39;uniform&#39;</span><span class="p">:</span>          
                <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
                <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">actions</span><span class="p">:</span>
                    <span class="n">randeval</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="n">criterionScale</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">criterionScale</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
                    <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;preferenceDirection&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span>
                        <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">NegativeWeights</span><span class="p">:</span>
                            <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="o">-</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>
        
            <span class="k">elif</span> <span class="nb">str</span><span class="p">(</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="s1">&#39;triangular&#39;</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">actions</span><span class="p">:</span>
                    <span class="n">m</span> <span class="o">=</span> <span class="n">criterionScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                    <span class="n">M</span> <span class="o">=</span> <span class="n">criterionScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                    <span class="c1">#r  = randomMode[2]</span>
                    <span class="c1">#xm = randomMode[1]</span>
                    <span class="k">if</span> <span class="n">actions</span><span class="p">[</span><span class="n">a</span><span class="p">][</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;advantageous&#39;</span><span class="p">:</span>
                        <span class="n">xm</span> <span class="o">=</span> <span class="n">x70</span>
                        <span class="n">r</span> <span class="o">=</span> <span class="mf">0.50</span>
                    <span class="k">elif</span> <span class="n">actions</span><span class="p">[</span><span class="n">a</span><span class="p">][</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;cheap&#39;</span><span class="p">:</span>
                        <span class="n">xm</span> <span class="o">=</span> <span class="n">x30</span>
                        <span class="n">r</span> <span class="o">=</span> <span class="mf">0.50</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">xm</span> <span class="o">=</span> <span class="n">x50</span>
                        <span class="n">r</span> <span class="o">=</span> <span class="mf">0.50</span>
                        
                    <span class="n">deltaMinus</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">-</span> <span class="p">(</span><span class="n">criterionScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="n">xm</span><span class="p">)</span>
                    <span class="n">deltaPlus</span>  <span class="o">=</span> <span class="p">(</span><span class="n">criterionScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">/</span><span class="n">xm</span><span class="p">)</span> <span class="o">-</span> <span class="mf">1.0</span>

                    <span class="n">u</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>
                    <span class="c1">#print &#39;m,xm,M,r,u&#39;, m,xm,M,r,u </span>
                    <span class="k">if</span> <span class="n">u</span> <span class="o">&lt;</span> <span class="n">r</span><span class="p">:</span>
                        <span class="c1">#randeval = m + (math.sqrt(r*u*(m-xm)**2))/r</span>
                        <span class="n">randeval</span> <span class="o">=</span> <span class="n">m</span> <span class="o">+</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">u</span><span class="o">/</span><span class="n">r</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">xm</span><span class="o">-</span><span class="n">m</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="c1">#randeval = (M*r - M + math.sqrt((-1+r)*(-1+u)*(M-xm)**2))/(-1+r)</span>
                        <span class="n">randeval</span> <span class="o">=</span> <span class="n">M</span> <span class="o">-</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">((</span><span class="mi">1</span><span class="o">-</span><span class="n">u</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">r</span><span class="p">))</span><span class="o">*</span><span class="p">(</span><span class="n">M</span><span class="o">-</span><span class="n">xm</span><span class="p">)</span>
                    
                    <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;preferenceDirection&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span>
                        <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">NegativeWeights</span><span class="p">:</span>
                            <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="o">-</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>
                        <span class="c1">#evaluation[g][a] = Decimal(str(-round(randeval,digits)))</span>
                    <span class="c1">#print randeval, criteria[g][&#39;preferenceDirection&#39;], evaluation[g][a]</span>
                        
            <span class="k">elif</span> <span class="nb">str</span><span class="p">(</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="s1">&#39;normal&#39;</span><span class="p">:</span>
                <span class="c1">#mu = randomMode[1]</span>
                <span class="c1">#sigma = randomMode[2]</span>
                <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">actions</span><span class="p">:</span>
                    <span class="c1">## amplitude = criterionScale[1]-criterionScale[0]</span>
                    <span class="c1">## x70 = criterionScale[0] + 0.7 * amplitude</span>
                    <span class="c1">## x50 = criterionScale[0] + 0.5 * amplitude</span>
                    <span class="c1">## x30 = criterionScale[0] + 0.3 * amplitude</span>
                    
                    <span class="k">if</span> <span class="n">actions</span><span class="p">[</span><span class="n">a</span><span class="p">][</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;advantageous&#39;</span><span class="p">:</span>
                        <span class="n">mu</span> <span class="o">=</span> <span class="n">x70</span>
                        <span class="n">sigma</span> <span class="o">=</span> <span class="mf">0.20</span> <span class="o">*</span> <span class="n">amplitude</span>
                    <span class="k">elif</span> <span class="n">actions</span><span class="p">[</span><span class="n">a</span><span class="p">][</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;cheap&#39;</span><span class="p">:</span>
                        <span class="n">mu</span> <span class="o">=</span> <span class="n">x30</span>
                        <span class="n">sigma</span> <span class="o">=</span> <span class="mf">0.20</span> <span class="o">*</span> <span class="n">amplitude</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">mu</span> <span class="o">=</span> <span class="n">x50</span>
                        <span class="n">sigma</span> <span class="o">=</span> <span class="mf">0.25</span> <span class="o">*</span> <span class="n">amplitude</span>
                    <span class="n">notfound</span> <span class="o">=</span> <span class="kc">True</span> 
                    <span class="k">while</span> <span class="n">notfound</span><span class="p">:</span>
                        <span class="n">randeval</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">normalvariate</span><span class="p">(</span><span class="n">mu</span><span class="p">,</span><span class="n">sigma</span><span class="p">)</span>
                        <span class="c1">## if Debug:</span>
                        <span class="c1">##     print &#39;g,commonScale,randeval&#39;, g,commonScale,randeval</span>
                        <span class="k">if</span> <span class="n">randeval</span> <span class="o">&gt;=</span> <span class="n">criterionScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">and</span>  <span class="n">randeval</span> <span class="o">&lt;=</span> <span class="n">criterionScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
                            <span class="n">notfound</span> <span class="o">=</span> <span class="kc">False</span>
                    <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;preferenceDirection&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span>
                        <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">NegativeWeights</span><span class="p">:</span>
                            <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="o">-</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>
                        <span class="c1">#evaluation[g][a] = Decimal(str(-round(randeval,digits)))</span>
            <span class="k">elif</span> <span class="nb">str</span><span class="p">(</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="s1">&#39;beta&#39;</span><span class="p">:</span>
                <span class="n">m</span> <span class="o">=</span> <span class="n">criterionScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">M</span> <span class="o">=</span> <span class="n">criterionScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">actions</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">actions</span><span class="p">[</span><span class="n">a</span><span class="p">][</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;advantageous&#39;</span><span class="p">:</span>
                        <span class="c1"># xm = 0.7 sdtdev = 0.15</span>
                        <span class="n">alpha</span> <span class="o">=</span> <span class="mf">5.8661</span>
                        <span class="n">beta</span> <span class="o">=</span> <span class="mf">2.62203</span>
                    <span class="k">elif</span> <span class="n">actions</span><span class="p">[</span><span class="n">a</span><span class="p">][</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;cheap&#39;</span><span class="p">:</span>
                        <span class="c1"># xm = 0.3, stdev = 0.15</span>
                        <span class="n">alpha</span> <span class="o">=</span> <span class="mf">2.62203</span>
                        <span class="n">beta</span> <span class="o">=</span> <span class="mf">5.8661</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="c1"># xm = 0.5, stdev = 0.15</span>
                        <span class="n">alpha</span> <span class="o">=</span> <span class="mf">5.05556</span>
                        <span class="n">beta</span> <span class="o">=</span> <span class="mf">5.05556</span>
                    
                    <span class="n">u</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">betavariate</span><span class="p">(</span><span class="n">alpha</span><span class="p">,</span><span class="n">beta</span><span class="p">)</span>
                    <span class="n">randeval</span> <span class="o">=</span> <span class="p">(</span><span class="n">u</span> <span class="o">*</span> <span class="p">(</span><span class="n">M</span><span class="o">-</span><span class="n">m</span><span class="p">))</span> <span class="o">+</span> <span class="n">m</span>
                    <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;preferenceDirection&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span>
                        <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">NegativeWeights</span><span class="p">:</span>
                            <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="o">-</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>
                        <span class="c1">#evaluation[g][a] = Decimal(str(-round(randeval,digits)))</span>
                    <span class="c1">## if Debug:</span>
                    <span class="c1">##     print &#39;alpha,beta,u,m,M,randeval&#39;,alpha,beta,u,m,M,randeval</span>
                        

 
        <span class="k">if</span> <span class="n">Debug</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">evaluation</span><span class="p">)</span>
        <span class="c1"># restrict ordinal criteria to integer values</span>
        <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">criteria</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;scaleType&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;ordinal&#39;</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">actions</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">Debug</span><span class="p">:</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;-- &gt;&gt;&#39;</span><span class="p">,</span> <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">],</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
                    <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">],</span><span class="mi">0</span><span class="p">)))</span>
                    <span class="k">if</span> <span class="n">Debug</span><span class="p">:</span>
                        <span class="nb">print</span><span class="p">(</span><span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">])</span>
                        
        <span class="c1"># randomly insert missing data</span>
        <span class="n">NA</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="n">NA</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">criteria</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">actions</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">missingDataProbability</span><span class="p">:</span>
                    <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="n">NA</span>

        <span class="c1"># final storage</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">actions</span> <span class="o">=</span> <span class="n">actions</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">objectives</span> <span class="o">=</span> <span class="n">objectives</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">criteriaWeightMode</span> <span class="o">=</span> <span class="n">weightMode</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">criteria</span> <span class="o">=</span> <span class="n">criteria</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">evaluation</span> <span class="o">=</span> <span class="n">evaluation</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">NA</span> <span class="o">=</span> <span class="n">NA</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">weightPreorder</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">computeWeightPreorder</span><span class="p">()</span>

        <span class="c1"># compute discrimination thresholds from commonPercentiles</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actions</span><span class="p">)</span>
        <span class="n">n2</span> <span class="o">=</span> <span class="p">(</span><span class="n">n</span><span class="o">*</span><span class="n">n</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span>
        <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="mi">1000</span><span class="p">:</span>
            <span class="n">nbuf</span> <span class="o">=</span> <span class="mi">1000</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">nbuf</span> <span class="o">=</span> <span class="n">n</span>
        <span class="k">if</span> <span class="n">n2</span> <span class="o">&lt;</span> <span class="n">samplingSize</span><span class="p">:</span>
            <span class="n">samplingSize</span> <span class="o">=</span> <span class="n">n2</span>
        <span class="kn">from</span> <span class="nn">randomNumbers</span> <span class="kn">import</span> <span class="n">IncrementalQuantilesEstimator</span>
        <span class="n">est</span> <span class="o">=</span> <span class="n">IncrementalQuantilesEstimator</span><span class="p">(</span><span class="n">nbuf</span><span class="o">=</span><span class="n">nbuf</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">Debug</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;commonPercentiles=&#39;</span><span class="p">,</span> <span class="n">commonPercentiles</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">commonPercentiles</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">quantile</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">({</span><span class="s1">&#39;ind&#39;</span><span class="p">:</span><span class="mf">0.05</span><span class="p">,</span> <span class="s1">&#39;pref&#39;</span><span class="p">:</span><span class="mf">0.10</span> <span class="p">,</span> <span class="s1">&#39;veto&#39;</span><span class="p">:</span><span class="mf">0.95</span><span class="p">})</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">quantile</span> <span class="o">=</span> <span class="n">commonPercentiles</span>
        <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">criteria</span><span class="p">:</span>
            <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;thresholds&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;scaleType&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;cardinal&#39;</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">actions</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">est</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
                <span class="n">sample</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">actions</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="n">evx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">x</span><span class="p">]</span>
                    <span class="k">if</span> <span class="n">evx</span> <span class="o">!=</span> <span class="n">NA</span><span class="p">:</span>
                        <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">actions</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                            <span class="n">evy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">y</span><span class="p">]</span>
                            <span class="k">if</span> <span class="n">x</span> <span class="o">!=</span> <span class="n">y</span> <span class="ow">and</span> <span class="n">evy</span> <span class="o">!=</span> <span class="n">NA</span><span class="p">:</span>
                                <span class="n">est</span><span class="o">.</span><span class="n">add</span><span class="p">(</span> <span class="nb">float</span><span class="p">(</span> <span class="nb">abs</span><span class="p">(</span><span class="n">evx</span><span class="o">-</span><span class="n">evy</span><span class="p">)</span> <span class="p">)</span> <span class="p">)</span>
                                <span class="n">sample</span> <span class="o">+=</span> <span class="mi">1</span>
                                <span class="k">if</span> <span class="n">sample</span> <span class="o">&gt;</span> <span class="n">samplingSize</span><span class="p">:</span>
                                    <span class="k">break</span>
                <span class="n">est</span><span class="o">.</span><span class="n">_update</span><span class="p">()</span>
                <span class="k">for</span> <span class="n">q</span> <span class="ow">in</span> <span class="n">quantile</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">Comments</span><span class="p">:</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;--&gt;&#39;</span><span class="p">,</span> <span class="n">q</span><span class="p">,</span> <span class="n">quantile</span><span class="p">[</span><span class="n">q</span><span class="p">],</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
                    <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;thresholds&#39;</span><span class="p">][</span><span class="n">q</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">est</span><span class="o">.</span><span class="n">report</span><span class="p">(</span><span class="n">quantile</span><span class="p">[</span><span class="n">q</span><span class="p">]))),</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0&#39;</span><span class="p">))</span>
            
            <span class="k">if</span> <span class="n">Comments</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;criteria&#39;</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="s1">&#39; default thresholds:&#39;</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;thresholds&#39;</span><span class="p">])</span>
    
        <span class="c1"># update criteria</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">criteria</span> <span class="o">=</span> <span class="n">criteria</span>


<div class="viewcode-block" id="RandomCBPerformanceTableau.updateDiscriminationThresholds">
<a class="viewcode-back" href="../techDoc.html#randomPerfTabs.RandomCBPerformanceTableau.updateDiscriminationThresholds">[docs]</a>
    <span class="k">def</span> <span class="nf">updateDiscriminationThresholds</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">Comments</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">Debug</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Recomputes performance discrimination thresholds from commonPercentiles.</span>

<span class="sd">        .. note::</span>

<span class="sd">            Overwrites all previous criterion discrimination thresholds !</span>
<span class="sd">            </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">actions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">actions</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">actions</span><span class="p">)</span>
        <span class="n">n2</span> <span class="o">=</span> <span class="p">(</span><span class="n">n</span><span class="o">*</span><span class="n">n</span><span class="p">)</span> <span class="o">-</span> <span class="n">n</span>
        <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="mi">1000</span><span class="p">:</span>
            <span class="n">nbuf</span> <span class="o">=</span> <span class="mi">1000</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">nbuf</span> <span class="o">=</span> <span class="n">n</span>
        <span class="n">samplingSize</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">samplingSize</span>
        <span class="k">if</span> <span class="n">n2</span> <span class="o">&lt;</span> <span class="n">samplingSize</span><span class="p">:</span>
            <span class="n">samplingSize</span> <span class="o">=</span> <span class="n">n2</span>
        <span class="kn">from</span> <span class="nn">randomNumbers</span> <span class="kn">import</span> <span class="n">IncrementalQuantilesEstimator</span>
        <span class="n">est</span> <span class="o">=</span> <span class="n">IncrementalQuantilesEstimator</span><span class="p">(</span><span class="n">nbuf</span><span class="o">=</span><span class="n">nbuf</span><span class="p">)</span>
        <span class="n">commonPercentiles</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">commonPercentiles</span>
        <span class="k">if</span> <span class="n">Debug</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;commonPercentiles=&#39;</span><span class="p">,</span> <span class="n">commonPercentiles</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">commonPercentiles</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">quantile</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">({</span><span class="s1">&#39;ind&#39;</span><span class="p">:</span><span class="mf">0.05</span><span class="p">,</span> <span class="s1">&#39;pref&#39;</span><span class="p">:</span><span class="mf">0.10</span> <span class="p">,</span> <span class="s1">&#39;veto&#39;</span><span class="p">:</span><span class="mf">0.95</span><span class="p">})</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">quantile</span> <span class="o">=</span> <span class="n">commonPercentiles</span>
        <span class="n">criteria</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">criteria</span>
        <span class="n">evaluation</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">evaluation</span>
        <span class="n">NA</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">NA</span>
        <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">criteria</span><span class="p">:</span>
            <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;thresholds&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;scaleType&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;cardinal&#39;</span> <span class="ow">and</span> <span class="n">n</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">est</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
                <span class="n">sample</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">actions</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="n">evx</span> <span class="o">=</span> <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">x</span><span class="p">]</span>
                    <span class="k">if</span> <span class="n">evx</span> <span class="o">!=</span> <span class="n">NA</span><span class="p">:</span>
                        <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">actions</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                            <span class="n">evy</span> <span class="o">=</span> <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">y</span><span class="p">]</span>
                            <span class="k">if</span> <span class="n">x</span> <span class="o">!=</span> <span class="n">y</span> <span class="ow">and</span> <span class="n">evy</span> <span class="o">!=</span> <span class="n">NA</span><span class="p">:</span>
                                <span class="n">est</span><span class="o">.</span><span class="n">add</span><span class="p">(</span> <span class="nb">float</span><span class="p">(</span> <span class="nb">abs</span><span class="p">(</span><span class="n">evx</span><span class="o">-</span><span class="n">evy</span><span class="p">)</span> <span class="p">)</span> <span class="p">)</span>
                                <span class="n">sample</span> <span class="o">+=</span> <span class="mi">1</span>
                                <span class="k">if</span> <span class="n">sample</span> <span class="o">&gt;</span> <span class="n">samplingSize</span><span class="p">:</span>
                                    <span class="k">break</span>
                <span class="n">est</span><span class="o">.</span><span class="n">_update</span><span class="p">()</span>
                <span class="k">for</span> <span class="n">q</span> <span class="ow">in</span> <span class="n">quantile</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">Comments</span><span class="p">:</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;--&gt;&#39;</span><span class="p">,</span> <span class="n">q</span><span class="p">,</span> <span class="n">quantile</span><span class="p">[</span><span class="n">q</span><span class="p">],</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
                    <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;thresholds&#39;</span><span class="p">][</span><span class="n">q</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">est</span><span class="o">.</span><span class="n">report</span><span class="p">(</span><span class="n">quantile</span><span class="p">[</span><span class="n">q</span><span class="p">]))),</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0&#39;</span><span class="p">))</span>
            
            <span class="k">if</span> <span class="n">Comments</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;criteria&#39;</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="s1">&#39; default thresholds:&#39;</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;thresholds&#39;</span><span class="p">])</span></div>
</div>


<span class="k">class</span> <span class="nc">_RandomCBPerformanceGenerator</span><span class="p">(</span><span class="n">RandomPerformanceGenerator</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generator of new decision actions with random evaluations using</span>
<span class="sd">    the model parameters provided by a given RandomCBPerformanceTableau instance.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">argPerfTab</span><span class="p">,</span><span class="n">actionNamePrefix</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span>
                 <span class="n">instanceCounter</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the initial state of the random generator.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">import</span> <span class="nn">random</span>
        <span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">random</span> <span class="o">=</span> <span class="n">random</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">perfTab</span> <span class="o">=</span> <span class="n">argPerfTab</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">actionNamePrefix</span> <span class="o">=</span> <span class="n">actionNamePrefix</span>
        <span class="k">if</span> <span class="n">instanceCounter</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">counter</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">argPerfTab</span><span class="o">.</span><span class="n">actions</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">counter</span> <span class="o">=</span> <span class="n">instanceCounter</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nd</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">counter</span><span class="p">))</span>
       
    <span class="k">def</span> <span class="nf">_randomAction</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a dictionary with following content::</span>

<span class="sd">             { &#39;action&#39;: { &#39;key&#39;: actionKey, &#39;shortName&#39;: ..., &#39;name&#39;: ...,  </span>
<span class="sd">                      &#39;type&#39;: &#39;neutral&#39;|&#39;advantageous&#39;|&#39;cheap&#39;},</span>
<span class="sd">                      &#39;evaluation&#39;: {&#39;g1&#39;: Decimal(...), </span>
<span class="sd">                                     &#39;g2&#39;: Decimal(...), ... }}.</span>
<span class="sd">        </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># generate action key</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">counter</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">actionType</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">perfTab</span><span class="o">.</span><span class="n">actionsTypesList</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">perfTab</span><span class="o">.</span><span class="n">BigData</span><span class="p">:</span>
            <span class="n">actionName</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;</span><span class="si">%s%%</span><span class="s1">0</span><span class="si">%d</span><span class="s1">d&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionNamePrefix</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">nd</span><span class="p">))</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">counter</span><span class="p">)</span>
            <span class="n">actionKey</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">counter</span>
            <span class="n">action</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;shortName&#39;</span><span class="p">:</span> <span class="n">actionName</span><span class="o">+</span><span class="n">actionType</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                              <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="n">actionName</span><span class="o">+</span><span class="n">actionType</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                              <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="n">actionType</span><span class="p">,</span>
                              <span class="s1">&#39;key&#39;</span><span class="p">:</span> <span class="n">actionKey</span><span class="p">}</span>
        <span class="k">else</span><span class="p">:</span>   
            <span class="n">actionKey</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;</span><span class="si">%s%%</span><span class="s1">0</span><span class="si">%d</span><span class="s1">d&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionNamePrefix</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">nd</span><span class="p">))</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">counter</span><span class="p">)</span>
            <span class="n">action</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;shortName&#39;</span><span class="p">:</span><span class="n">actionKey</span><span class="o">+</span><span class="n">actionType</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                        <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;random </span><span class="si">%s</span><span class="s1"> decision action&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">actionType</span><span class="p">),</span>
                        <span class="s1">&#39;comment&#39;</span><span class="p">:</span> <span class="s1">&#39;Cost-Benefit&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="n">actionType</span><span class="p">,</span>
                        <span class="s1">&#39;key&#39;</span><span class="p">:</span> <span class="n">actionKey</span><span class="p">}</span>

        <span class="c1"># generate random evaluation</span>

        <span class="n">random</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">random</span>
        <span class="n">digits</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">perfTab</span><span class="o">.</span><span class="n">digits</span>
        <span class="n">criteria</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">perfTab</span><span class="o">.</span><span class="n">criteria</span>
        
        <span class="c1"># generate random evaluations</span>
        <span class="n">Debug</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">perfTab</span><span class="o">.</span><span class="n">Debug</span>
        <span class="n">evaluation</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">criteria</span><span class="p">:</span>
            <span class="n">criterionScale</span> <span class="o">=</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;scale&#39;</span><span class="p">]</span>
            <span class="n">amplitude</span> <span class="o">=</span> <span class="n">criterionScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">criterionScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">amplitude</span> <span class="o">&lt;</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;11.0&#39;</span><span class="p">):</span>
                <span class="n">digits</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">x30</span><span class="o">=</span><span class="n">criterionScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">amplitude</span><span class="o">*</span><span class="mf">0.3</span>
            <span class="n">x50</span><span class="o">=</span><span class="n">criterionScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">amplitude</span><span class="o">*</span><span class="mf">0.5</span>
            <span class="n">x70</span><span class="o">=</span><span class="n">criterionScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">amplitude</span><span class="o">*</span><span class="mf">0.7</span>
            <span class="k">if</span> <span class="n">Debug</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;g, criterionx30,x50,x70&#39;</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">],</span> <span class="n">x30</span><span class="p">,</span><span class="n">x50</span><span class="p">,</span><span class="n">x70</span><span class="p">)</span>
            <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">randomMode</span> <span class="o">=</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;randomMode&#39;</span><span class="p">]</span>
            <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="s1">&#39;uniform&#39;</span><span class="p">:</span>          
                <span class="n">randeval</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="n">criterionScale</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">criterionScale</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
                <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;preferenceDirection&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span>
                    <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0&#39;</span><span class="p">):</span>
                        <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="o">-</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>
                    <span class="c1">#evaluation[g] = Decimal(str(-round(randeval,digits)))</span>
            <span class="k">elif</span> <span class="nb">str</span><span class="p">(</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="s1">&#39;triangular&#39;</span><span class="p">:</span>
                <span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">sqrt</span>
                <span class="n">m</span> <span class="o">=</span> <span class="n">criterionScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">M</span> <span class="o">=</span> <span class="n">criterionScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                <span class="c1">#r  = randomMode[2]</span>
                <span class="c1">#xm = randomMode[1]</span>
                <span class="k">if</span> <span class="n">action</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;advantageous&#39;</span><span class="p">:</span>
                    <span class="n">xm</span> <span class="o">=</span> <span class="n">x70</span>
                    <span class="n">r</span> <span class="o">=</span> <span class="mf">0.50</span>
                <span class="k">elif</span> <span class="n">action</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;cheap&#39;</span><span class="p">:</span>
                    <span class="n">xm</span> <span class="o">=</span> <span class="n">x30</span>
                    <span class="n">r</span> <span class="o">=</span> <span class="mf">0.50</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">xm</span> <span class="o">=</span> <span class="n">x50</span>
                    <span class="n">r</span> <span class="o">=</span> <span class="mf">0.50</span>
                    
                <span class="n">deltaMinus</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">-</span> <span class="p">(</span><span class="n">criterionScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="n">xm</span><span class="p">)</span>
                <span class="n">deltaPlus</span>  <span class="o">=</span> <span class="p">(</span><span class="n">criterionScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">/</span><span class="n">xm</span><span class="p">)</span> <span class="o">-</span> <span class="mf">1.0</span>

                <span class="n">u</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>
                <span class="c1">#print &#39;m,xm,M,r,u&#39;, m,xm,M,r,u </span>
                <span class="k">if</span> <span class="n">u</span> <span class="o">&lt;</span> <span class="n">r</span><span class="p">:</span>
                    <span class="c1">#randeval = m + (math.sqrt(r*u*(m-xm)**2))/r</span>
                    <span class="n">randeval</span> <span class="o">=</span> <span class="n">m</span> <span class="o">+</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">u</span><span class="o">/</span><span class="n">r</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">xm</span><span class="o">-</span><span class="n">m</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c1">#randeval = (M*r - M + math.sqrt((-1+r)*(-1+u)*(M-xm)**2))/(-1+r)</span>
                    <span class="n">randeval</span> <span class="o">=</span> <span class="n">M</span> <span class="o">-</span> <span class="n">sqrt</span><span class="p">((</span><span class="mi">1</span><span class="o">-</span><span class="n">u</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">r</span><span class="p">))</span><span class="o">*</span><span class="p">(</span><span class="n">M</span><span class="o">-</span><span class="n">xm</span><span class="p">)</span>
                
                <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;preferenceDirection&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span>
                    <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0&#39;</span><span class="p">):</span>
                        <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="o">-</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>
                <span class="c1">#print randeval, criteria[g][&#39;preferenceDirection&#39;], evaluation[g][a]</span>
                        
            <span class="k">elif</span> <span class="nb">str</span><span class="p">(</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="s1">&#39;normal&#39;</span><span class="p">:</span>
                <span class="c1">## amplitude = criterionScale[1]-criterionScale[0]</span>
                <span class="c1">## x70 = criterionScale[0] + 0.7 * amplitude</span>
                <span class="c1">## x50 = criterionScale[0] + 0.5 * amplitude</span>
                <span class="c1">## x30 = criterionScale[0] + 0.3 * amplitude</span>
                
                <span class="k">if</span> <span class="n">action</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;advantageous&#39;</span><span class="p">:</span>
                    <span class="n">mu</span> <span class="o">=</span> <span class="n">x70</span>
                    <span class="n">sigma</span> <span class="o">=</span> <span class="mf">0.20</span> <span class="o">*</span> <span class="n">amplitude</span>
                <span class="k">elif</span> <span class="n">action</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;cheap&#39;</span><span class="p">:</span>
                    <span class="n">mu</span> <span class="o">=</span> <span class="n">x30</span>
                    <span class="n">sigma</span> <span class="o">=</span> <span class="mf">0.20</span> <span class="o">*</span> <span class="n">amplitude</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">mu</span> <span class="o">=</span> <span class="n">x50</span>
                    <span class="n">sigma</span> <span class="o">=</span> <span class="mf">0.25</span> <span class="o">*</span> <span class="n">amplitude</span>
                <span class="n">notfound</span> <span class="o">=</span> <span class="kc">True</span> 
                <span class="k">while</span> <span class="n">notfound</span><span class="p">:</span>
                    <span class="n">randeval</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">normalvariate</span><span class="p">(</span><span class="n">mu</span><span class="p">,</span><span class="n">sigma</span><span class="p">)</span>
                    <span class="c1">## if Debug:</span>
                    <span class="c1">##     print &#39;g,commonScale,randeval&#39;, g,commonScale,randeval</span>
                    <span class="k">if</span> <span class="n">randeval</span> <span class="o">&gt;=</span> <span class="n">criterionScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">and</span>  <span class="n">randeval</span> <span class="o">&lt;=</span> <span class="n">criterionScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
                        <span class="n">notfound</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;preferenceDirection&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span>
                    <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0&#39;</span><span class="p">):</span>
                        <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="o">-</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>
            <span class="k">elif</span> <span class="nb">str</span><span class="p">(</span><span class="n">randomMode</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="s1">&#39;beta&#39;</span><span class="p">:</span>
                <span class="n">m</span> <span class="o">=</span> <span class="n">criterionScale</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">M</span> <span class="o">=</span> <span class="n">criterionScale</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">action</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;advantageous&#39;</span><span class="p">:</span>
                    <span class="c1"># xm = 0.7 sdtdev = 0.15</span>
                    <span class="n">alpha</span> <span class="o">=</span> <span class="mf">5.8661</span>
                    <span class="n">beta</span> <span class="o">=</span> <span class="mf">2.62203</span>
                <span class="k">elif</span> <span class="n">action</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;cheap&#39;</span><span class="p">:</span>
                    <span class="c1"># xm = 0.3, stdev = 0.15</span>
                    <span class="n">alpha</span> <span class="o">=</span> <span class="mf">2.62203</span>
                    <span class="n">beta</span> <span class="o">=</span> <span class="mf">5.8661</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c1"># xm = 0.5, stdev = 0.15</span>
                    <span class="n">alpha</span> <span class="o">=</span> <span class="mf">5.05556</span>
                    <span class="n">beta</span> <span class="o">=</span> <span class="mf">5.05556</span>
                
                <span class="n">u</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">betavariate</span><span class="p">(</span><span class="n">alpha</span><span class="p">,</span><span class="n">beta</span><span class="p">)</span>
                <span class="n">randeval</span> <span class="o">=</span> <span class="p">(</span><span class="n">u</span> <span class="o">*</span> <span class="p">(</span><span class="n">M</span><span class="o">-</span><span class="n">m</span><span class="p">))</span> <span class="o">+</span> <span class="n">m</span>
                <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;preferenceDirection&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span>
                    <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">criteria</span><span class="p">[</span><span class="n">g</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0&#39;</span><span class="p">):</span>
                        <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="o">-</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">randeval</span><span class="p">,</span><span class="n">digits</span><span class="p">)))</span>
                <span class="k">if</span> <span class="n">Debug</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;alpha,beta,u,m,M,randeval&#39;</span><span class="p">,</span><span class="n">alpha</span><span class="p">,</span><span class="n">beta</span><span class="p">,</span><span class="n">u</span><span class="p">,</span><span class="n">m</span><span class="p">,</span><span class="n">M</span><span class="p">,</span><span class="n">randeval</span><span class="p">)</span>
                        
        <span class="k">if</span> <span class="n">Debug</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">evaluation</span><span class="p">)</span>

        <span class="c1"># randomly insert missing data</span>
        <span class="n">NA</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">perfTab</span><span class="o">.</span><span class="n">NA</span>
        <span class="n">missingDataProbability</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">perfTab</span><span class="o">.</span><span class="n">missingDataProbability</span>
        <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">criteria</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">missingDataProbability</span><span class="p">:</span>
                <span class="n">evaluation</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="n">NA</span>

        <span class="c1"># return a new random decision alternative</span>
        <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;action&#39;</span><span class="p">:</span> <span class="n">action</span><span class="p">,</span><span class="s1">&#39;evaluation&#39;</span><span class="p">:</span><span class="n">evaluation</span><span class="p">}</span>
    
<span class="c1">##    def randomUpdate(self,nbrOfRandomActions=1):</span>
<span class="c1">##        &quot;&quot;&quot;</span>
<span class="c1">##        Updates *self.perfTab* with *n* = *nbrOfActions* new random decision alternatives.</span>
<span class="c1">##</span>
<span class="c1">##        .. note::</span>
<span class="c1">##</span>
<span class="c1">##            The update will modify the generator&#39;s given performance tableau instance by,</span>
<span class="c1">##            either adding new actions with their random evaluations,</span>
<span class="c1">##            or updating the performances of already existing decision actions.</span>
<span class="c1">##        &quot;&quot;&quot;</span>
<span class="c1">##        actions = self.perfTab.actions</span>
<span class="c1">##        criteria = self.perfTab.criteria</span>
<span class="c1">##        evaluation = self.perfTab.evaluation</span>
<span class="c1">##        for i in range(nbrOfRandomActions):</span>
<span class="c1">##            newAction = self._randomAction()</span>
<span class="c1">##            newEvaluation = newAction[&#39;evaluation&#39;]</span>
<span class="c1">##            newKey = newAction[&#39;action&#39;].pop(&#39;key&#39;)</span>
<span class="c1">##            actions[newKey] = newAction[&#39;action&#39;]</span>
<span class="c1">##            for g in criteria:</span>
<span class="c1">##                evaluation[g][newKey] = newEvaluation[g]</span>

        

<span class="c1">##############################</span>
<span class="k">class</span> <span class="nc">_RandomS3PerformanceTableau</span><span class="p">(</span><span class="n">_RandomCoalitionsPerformanceTableau</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Obsolete dummy class for backports.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<span class="c1">#----------test Digraph class ----------------</span>
<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    ****************************************************</span>
<span class="s2">    * Digraph3 randomPerfTabs module                   *</span>
<span class="s2">    * depends on BipolarOutrankingDigraph and          *</span>
<span class="s2">    * Copyright (C) 2010-2021 Raymond Bisdorff         *</span>
<span class="s2">    * The module comes with ABSOLUTELY NO WARRANTY     *</span>
<span class="s2">    * to the extent permitted by the applicable law.   *</span>
<span class="s2">    * This is free software, and you are welcome to    *</span>
<span class="s2">    * redistribute it if it remains free software.     *</span>
<span class="s2">    ****************************************************</span>
<span class="s2">    &quot;&quot;&quot;</span><span class="p">)</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;*-------- Testing classes and methods -------&#39;</span><span class="p">)</span>

    <span class="kn">from</span> <span class="nn">digraphs</span> <span class="kn">import</span> <span class="o">*</span>
    <span class="kn">from</span> <span class="nn">outrankingDigraphs</span> <span class="kn">import</span> <span class="n">BipolarOutrankingDigraph</span>
    <span class="kn">from</span> <span class="nn">randomPerfTabs</span> <span class="kn">import</span> <span class="o">*</span>
    <span class="n">pt</span> <span class="o">=</span> <span class="n">RandomCBPerformanceTableau</span><span class="p">(</span><span class="n">numberOfActions</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span><span class="n">numberOfCriteria</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">pt</span><span class="p">)</span>
    <span class="n">pt</span><span class="o">.</span><span class="n">showObjectives</span><span class="p">()</span>
    <span class="n">pt</span><span class="o">.</span><span class="n">showCriteria</span><span class="p">()</span>
    <span class="n">pt</span><span class="o">.</span><span class="n">showActions</span><span class="p">()</span>
    <span class="n">pt</span><span class="o">.</span><span class="n">showPerformanceTableau</span><span class="p">()</span>
<span class="c1">##    t = RandomAcademicPerformanceTableau(numberOfStudents=10,numberOfCourses=5,</span>
<span class="c1">##                                         commonMode=(&#39;uniform&#39;,None,None),</span>
<span class="c1">##                                         missingDataProbability=0.01)</span>
<span class="c1">##    t = RandomAcademicPerformanceTableau(numberOfStudents=10,numberOfCourses=10,</span>
<span class="c1">##                                commonMode=(&#39;triangular&#39;,14,0.4),</span>
<span class="c1">##                                missingDataProbability=0.01,</span>
<span class="c1">##                                WithTypes=True,</span>
<span class="c1">##                                seed=1)</span>
<span class="c1">##    t.showStudents()</span>
<span class="c1">##    t.showCourses()</span>
     
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;*------------------*&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;If you see this line all tests were passed successfully :-)&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Enjoy !&#39;</span><span class="p">)</span>

<span class="c1">#############################</span>
</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2012-2025, Raymond Bisdorff.
      <span class="lastupdated">Last updated on Jun 16, 2025.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>