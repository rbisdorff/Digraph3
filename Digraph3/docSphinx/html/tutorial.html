<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Tutorial of the Digraph3 resources &mdash; Digraph3 3.4-769 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '3.4-769',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Digraph3 3.4-769 documentation" href="index.html" />
    <link rel="next" title="Technical Reference of the Digraph3 modules" href="techDoc.html" />
    <link rel="prev" title="Documentation of the Digraph3 resources" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="techDoc.html" title="Technical Reference of the Digraph3 modules"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Documentation of the Digraph3 resources"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Digraph3 3.4-769 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="tutorial-of-the-digraph3-resources">
<h1>Tutorial of the Digraph3 resources<a class="headerlink" href="#tutorial-of-the-digraph3-resources" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body"><p class="first">Raymond Bisdorff, University of Luxembourg FSTC/CSC</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Version:</th><td class="field-body"><p class="first">Revision: Python 3.4</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Copyright:</th><td class="field-body"><ol class="first last upperalpha simple" start="18">
<li>Bisdorff 2014</li>
</ol>
</td>
</tr>
</tbody>
</table>
<div class="section" id="content">
<span id="tutorial-label"></span><h2>Content<a class="headerlink" href="#content" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="#download-using-label"><em>Downloading and using the Digraph3 modules</em></a></li>
<li><a class="reference internal" href="#digraphs-tutorial-label"><em>Working with the digraphs module</em></a></li>
<li><a class="reference internal" href="#digraph-tools-label"><em>Tools for manipulating Digraph objects</em></a></li>
<li><a class="reference internal" href="#graphs-tutorial-label"><em>Working with the graphs module</em></a></li>
<li><a class="reference internal" href="#linearvoting-label"><em>Computing the winner of an election</em></a></li>
</ul>
</div>
<div class="section" id="downloading-and-using-the-digraph3-modules">
<span id="download-using-label"></span><h2>Downloading and using the Digraph3 modules<a class="headerlink" href="#downloading-and-using-the-digraph3-modules" title="Permalink to this headline">¶</a></h2>
<p>Using the Digraph3 modules is easy. You only need to have installed on your system the <cite>Python &lt;https://www.python.org/doc/&gt;</cite> programming language installed of version 3+ (readily available under Linux and Mac OS). Notice that, from Version 3.3 on, Python implements very efficiently the decimal class in C. Now, Decimal objects are mainly used in the Digraph3 characteristic valuation functions, which makes the recent python version much faster (more than twice as fast) when extensive digraph operations are performed.</p>
<p>Two downlaod options are given:</p>
<ol class="arabic">
<li><p class="first">Either (easiest under Linux or Mac OS-X), by using a subversion client:</p>
<div class="highlight-python"><div class="highlight"><pre>..$ svn co http://leopold-loewenheim.uni.lu/svn/repos/Digraph3
</pre></div>
</div>
</li>
<li><p class="first">Or, with a browser access, download and extract the latest distribution tar.gz archive from this page:</p>
<div class="highlight-python"><div class="highlight"><pre>http://leopold-loewenheim.uni.lu/Digraph3/dist/
</pre></div>
</div>
</li>
</ol>
<p>The basic idea of these Python3 modules is to make easy python interactive sessions or write short Python3 scripts for computing all kind of results from a bipolar valued digraph or graph. These include such features as maximal independent or irredundant choices, maximal dominant or absorbent choices, rankings, outrankins, linear ordering, etc. Most of the available computing ressources are meant to illustrate the <em>Algorithmic Decision Theory</em> course given in the University of Luxembourg Master in Information and Computer Science (MICS).</p>
<p>The Python development of these computing ressources offers the advantage of an easy to write and maintain OOP source code as expected from a performing scripting language without loosing on efficiency in execution times compared to compiled languages such as C++ or Java.</p>
<p>Back to <a class="reference internal" href="#tutorial-label"><em>Content</em></a></p>
</div>
<div class="section" id="working-with-the-digraphs-module">
<span id="digraphs-tutorial-label"></span><h2>Working with the <tt class="code docutils literal"><span class="pre">digraphs</span></tt> module<a class="headerlink" href="#working-with-the-digraphs-module" title="Permalink to this headline">¶</a></h2>
<p>You may start an interactive Python3 session in the <tt class="code docutils literal"><span class="pre">Digraph3</span></tt> directory for exploring the classes and methods provided by the <tt class="code docutils literal"><span class="pre">digraphs</span></tt> module. To do so, enter the Python3 commands following the session prompts marqued with &gt;&gt;&gt;. The lines without the prompt are output from the Python interpreter:</p>
<div class="highlight-python"><div class="highlight"><pre>[\$HOME/Digraph3]\$ python
Python 3.4.0 (default, Apr 11 2014, 13:05:11)
[GCC 4.8.2] on linux
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
&gt;&gt;&gt; from digraphs import Digraph
&gt;&gt;&gt; g = Digraph(&#39;test/testdigraph&#39;)
&gt;&gt;&gt; g.save(&#39;tutorialdigraph&#39;)
&gt;&gt;&gt; ...
</pre></div>
</div>
<p>All <tt class="code docutils literal"><span class="pre">Digraph</span></tt> object <em>g</em> contains at least the following subobjects:</p>
<ol class="arabic simple">
<li>the digraph nodes called <strong>actions</strong> (decision actions): a list, set or dictionary of nodes with &#8216;name&#8217; and &#8216;shortname&#8217; attributes,</li>
<li>the digraph <strong>valuationdomain</strong> , a dictionary with three decimal entries: the minimum (-1.0, means certainly false), the median (0.0, means missing information) and the maximum characteristic value (+1.0, means certainly true),</li>
<li>the graph <strong>relation</strong> : a double dictionary indexed by an oriented pair of actions (nodes) and carrying a characteristic value in the range of the previous valuation domain,</li>
<li>its associated <strong>gamma function</strong> : a dictionary containing the direct successors, respectively predecessors of each action, automatically added by the object constructor,</li>
<li>its associated <strong>notGamma function</strong> : a dictionary containing the actions that are not direct successors respectively predecessors of each action, automatically added by the object constructor. See the refrence manual of the <a class="reference internal" href="techDoc.html#digraphs-label"><em>digraphs module</em></a>.</li>
</ol>
<p>The <tt class="code docutils literal"><span class="pre">g.save('tutorialDigraph')</span></tt> command stores the digraph <em>g</em> in a file named <tt class="code docutils literal"><span class="pre">tutorialDigraph.py</span></tt> with the following content:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># automatically generated random irreflexive digraph</span>
<span class="n">actionset</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;1&#39;</span><span class="p">,</span><span class="s">&#39;2&#39;</span><span class="p">,</span><span class="s">&#39;3&#39;</span><span class="p">,</span><span class="s">&#39;4&#39;</span><span class="p">,</span><span class="s">&#39;5&#39;</span><span class="p">,]</span>
<span class="n">valuationdomain</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;min&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
                   <span class="s">&#39;med&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                   <span class="s">&#39;max&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
<span class="n">relation</span> <span class="o">=</span> <span class="p">{</span>
<span class="s">&#39;1&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;1&#39;</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="s">&#39;2&#39;</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="s">&#39;3&#39;</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="s">&#39;4&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s">&#39;5&#39;</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">},</span>
<span class="s">&#39;2&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;1&#39;</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="s">&#39;2&#39;</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="s">&#39;3&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s">&#39;4&#39;</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="s">&#39;5&#39;</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">},</span>
<span class="s">&#39;3&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;1&#39;</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="s">&#39;2&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s">&#39;3&#39;</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="s">&#39;4&#39;</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="s">&#39;5&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">},</span>
<span class="s">&#39;4&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;1&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s">&#39;2&#39;</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="s">&#39;3&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s">&#39;4&#39;</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="s">&#39;5&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">},</span>
<span class="s">&#39;5&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;1&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s">&#39;2&#39;</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="s">&#39;3&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s">&#39;4&#39;</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="s">&#39;5&#39;</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>The <tt class="code docutils literal"><span class="pre">Digraph.showAll()</span></tt> method output reveals us that the digraph object loaded from file <tt class="code docutils literal"><span class="pre">tutorialDigraph.py</span></tt> is a connected irreflexive digraph of order five evaluated in a valuation domain from -1 to 1.</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">Digraph</span><span class="p">(</span><span class="s">&#39;tutorialDigraph&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">showAll</span><span class="p">()</span>
<span class="go">*----- show details --------------*</span>
<span class="go">Digraph          : tutorialdigraph</span>
<span class="go">Actions          : [&#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;]</span>
<span class="go">Valuation domain : {&#39;med&#39;: Decimal(&#39;0&#39;),</span>
<span class="go">                    &#39;max&#39;: Decimal(&#39;1&#39;),</span>
<span class="go">                    &#39;min&#39;: Decimal(&#39;-1&#39;)}</span>
<span class="go">* ---- Relation Table -----</span>
<span class="go">  S   |  &#39;1&#39;      &#39;2&#39;     &#39;3&#39;     &#39;4&#39;     &#39;5&#39;</span>
<span class="go"> -----|------------------------------------------------------------</span>
<span class="go">  &#39;1&#39; |  -1.00   -1.00   -1.00   +1.00   -1.00</span>
<span class="go">  &#39;2&#39; |  -1.00   -1.00   +1.00   -1.00   -1.00</span>
<span class="go">  &#39;3&#39; |  -1.00   +1.00   -1.00   -1.00   +1.00</span>
<span class="go">  &#39;4&#39; |  +1.00   -1.00   +1.00   -1.00   +1.00</span>
<span class="go">  &#39;5&#39; |  +1.00   -1.00   +1.00   -1.00   -1.00</span>
<span class="go">*--- Connected Components ---*</span>
<span class="go">1: [&#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;]</span>
</pre></div>
</div>
</dd>
<dt>And the <tt class="code docutils literal"><span class="pre">Digraph.exportGraphViz()</span></tt> method generates in the current working directory a <tt class="code docutils literal"><span class="pre">tutorial.dot</span></tt> file and a <tt class="code docutils literal"><span class="pre">tutorialdigraph.png</span></tt> picture of the tutorial digraph <em>g</em>, if the <a class="reference external" href="http://graphviz.org/">graphviz</a> tools are installed on your system.:</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">(</span><span class="s">&#39;tutorialDigraph&#39;</span><span class="p">)</span>
<span class="go">*---- exporting a dot file dor GraphViz tools ---------*</span>
<span class="go">Exporting to tutorialDigraph.dot</span>
<span class="go">dot -Grankdir=BT -Tpng tutorialDigraph.dot -o tutorialDigraph.png</span>
</pre></div>
</div>
</dd>
</dl>
<a class="reference internal image-reference" href="_images/testdigraph.png"><img alt="_images/testdigraph.png" class="align-center" src="_images/testdigraph.png" style="width: 300px;" /></a>
<dl class="docutils">
<dt>Some simple methods are easily applicable to this instantiated Digraph object <em>g</em> , like the following <tt class="code docutils literal"><span class="pre">Digraph.showStatistics()</span></tt> method:</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">showStatistics</span><span class="p">()</span>
<span class="go">*----- general statistics -------------*</span>
<span class="go">for digraph             : &lt;testdigraph.py&gt;</span>
<span class="go">order                   :  5 nodes</span>
<span class="go">size                    :  9 arcs</span>
<span class="go"># undetermined          :  0 arcs</span>
<span class="go">arc density             : 45.00</span>
<span class="go"># components            :  1</span>
<span class="go">                        :  [0, 1, 2, 3, 4]</span>
<span class="go">outdegrees distribution :  [0, 2, 2, 1, 0]</span>
<span class="go">indegrees distribution  :  [0, 2, 2, 1, 0]</span>
<span class="go">degrees distribution    :  [0, 4, 4, 2, 0]</span>
<span class="go">mean degree : 1.80</span>
<span class="go">                                  :  [0, 1, 2, 3, 4, &#39;inf&#39;]</span>
<span class="go">neighbourhood-depths distribution :  [0, 0, 2, 2, 1, 0]</span>
<span class="go">mean neighbourhood depth : 2.80</span>
<span class="go">digraph diameter :  4</span>
<span class="go">agglomeration distribution :</span>
<span class="go">1 : 50.00</span>
<span class="go">2 : 0.00</span>
<span class="go">3 : 16.67</span>
<span class="go">4 : 50.00</span>
<span class="go">5 : 50.00</span>
<span class="go">agglomeration coefficient : 33.33</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">...</span>
</pre></div>
</div>
</dd>
<dt>Some special classes of digraphs, like the <tt class="code docutils literal"><span class="pre">CompleteDigraph</span></tt>, the <tt class="code docutils literal"><span class="pre">EmptyDigraph</span></tt> or the oriented <tt class="code docutils literal"><span class="pre">GridDigraph</span></tt> class for instance, are readily available:</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">digraphs</span> <span class="kn">import</span> <span class="n">GridDigraph</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grid</span> <span class="o">=</span> <span class="n">GridDigraph</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">m</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">hasMedianSplitOrientation</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grid</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">(</span><span class="s">&#39;tutorialGrid&#39;</span><span class="p">)</span>
<span class="go">*---- exporting a dot file dor GraphViz tools ---------*</span>
<span class="go">Exporting to tutorialGrid.dot</span>
<span class="go">dot -Grankdir=BT -Tpng TutorialGrid.dot -o tutorialGrid.png</span>
</pre></div>
</div>
</dd>
</dl>
<a class="reference internal image-reference" href="_images/tutorialGrid.png"><img alt="_images/tutorialGrid.png" class="align-center" src="_images/tutorialGrid.png" style="width: 200px;" /></a>
<p>For more information about its resources, see the technical documentation of the <a class="reference internal" href="techDoc.html#digraphs-label"><em>digraphs module</em></a> .</p>
<p>Back to <a class="reference internal" href="#tutorial-label"><em>Content</em></a></p>
</div>
<div class="section" id="tools-for-manipulating-digraph-objects">
<span id="digraph-tools-label"></span><h2>Tools for manipulating Digraph objects<a class="headerlink" href="#tools-for-manipulating-digraph-objects" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>We are starting this tutorial with generating a randomly [-1;1]-valued (<em>Normalized=True</em>) digraph of order 7, denoted <em>dg</em> and modelling a binary relation (<em>x S y</em>) defined on the set of nodes of <em>dg</em>. For this purpose, the <tt class="docutils literal"><span class="pre">digraphs</span></tt> module provides conveniently a specific <tt class="docutils literal"><span class="pre">RandomValuationDigraph</span></tt> constructor:</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">digraphs</span> <span class="kn">import</span> <span class="n">RandomValuationDigraph</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dg</span> <span class="o">=</span> <span class="n">RandomValuationDigraph</span><span class="p">(</span><span class="n">order</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span><span class="n">Normalized</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dg</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s">&#39;tutRandValDigraph&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
<dt>With the <tt class="docutils literal"><span class="pre">save()</span></tt> method we may keep a backup version for future use of <em>dg</em> which will be stored in a file called <em>tutRandValDigraph.py</em> in the current working directory. The <tt class="docutils literal"><span class="pre">Digraph</span></tt> class now provides some generic methods for exploring a given <tt class="docutils literal"><span class="pre">Digraph</span></tt> object, like the <tt class="docutils literal"><span class="pre">showShort()</span></tt>, <tt class="docutils literal"><span class="pre">showAll()</span></tt>, <tt class="docutils literal"><span class="pre">showRelationTable()</span></tt> and the <tt class="docutils literal"><span class="pre">showNeighborhoods()</span></tt> methods:</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">dg</span><span class="o">.</span><span class="n">showShort</span><span class="p">()</span>
<span class="go">*----- show summary -------------*</span>
<span class="go">Digraph          : randomValuationDigraph</span>
<span class="go">*---- Actions ----*</span>
<span class="go">[&#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;]</span>
<span class="go">*---- Characteristic valuation domain ----*</span>
<span class="go">{&#39;med&#39;: Decimal(&#39;0.0&#39;), &#39;hasIntegerValuation&#39;: False,</span>
<span class="go">&#39;min&#39;: Decimal(&#39;-1.0&#39;), &#39;max&#39;: Decimal(&#39;1.0&#39;)}</span>
<span class="go">*--- Connected Components ---*</span>
<span class="go">1: [&#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dg</span><span class="o">.</span><span class="n">showRelationTable</span><span class="p">(</span><span class="n">ReflexiveTerms</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">* ---- Relation Table -----</span>
<span class="go">r(xSy) |  &#39;1&#39;    &#39;2&#39;   &#39;3&#39;  &#39;4&#39;   &#39;5&#39;    &#39;6&#39;  &#39;7&#39;</span>
<span class="go">-------|------------------------------------------------------------</span>
<span class="go">&#39;1&#39;    |   -   -0.48  0.70  0.86  0.30  0.38  0.44</span>
<span class="go">&#39;2&#39;    | -0.22   -   -0.38  0.50  0.80 -0.54  0.02</span>
<span class="go">&#39;3&#39;    | -0.42  0.08   -    0.70 -0.56  0.84 -1.00</span>
<span class="go">&#39;4&#39;    |  0.44 -0.40 -0.62   -    0.04  0.66  0.76</span>
<span class="go">&#39;5&#39;    |  0.32 -0.48 -0.46  0.64   -   -0.22 -0.52</span>
<span class="go">&#39;6&#39;    | -0.84  0.00 -0.40 -0.96 -0.18   -   -0.22</span>
<span class="go">&#39;7&#39;    |  0.88  0.72  0.82  0.52 -0.84  0.04  -</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dg</span><span class="o">.</span><span class="n">showNeighborhoods</span><span class="p">()</span>
<span class="go">Neighborhoods osberved in digraph &#39;randomdomValuation&#39;</span>
<span class="go">Gamma     :</span>
<span class="go">&#39;1&#39;: in =&gt; {&#39;5&#39;, &#39;7&#39;, &#39;4&#39;}, out =&gt; {&#39;5&#39;, &#39;7&#39;, &#39;6&#39;, &#39;3&#39;, &#39;4&#39;}</span>
<span class="go">&#39;2&#39;: in =&gt; {&#39;7&#39;, &#39;3&#39;}, out =&gt; {&#39;5&#39;, &#39;7&#39;, &#39;4&#39;}</span>
<span class="go">&#39;3&#39;: in =&gt; {&#39;7&#39;, &#39;1&#39;}, out =&gt; {&#39;6&#39;, &#39;2&#39;, &#39;4&#39;}</span>
<span class="go">&#39;4&#39;: in =&gt; {&#39;5&#39;, &#39;7&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;}, out =&gt; {&#39;5&#39;, &#39;7&#39;, &#39;1&#39;, &#39;6&#39;}</span>
<span class="go">&#39;5&#39;: in =&gt; {&#39;1&#39;, &#39;2&#39;, &#39;4&#39;}, out =&gt; {&#39;1&#39;, &#39;4&#39;}</span>
<span class="go">&#39;6&#39;: in =&gt; {&#39;7&#39;, &#39;1&#39;, &#39;3&#39;, &#39;4&#39;}, out =&gt; set()</span>
<span class="go">&#39;7&#39;: in =&gt; {&#39;1&#39;, &#39;2&#39;, &#39;4&#39;}, out =&gt; {&#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;6&#39;}</span>
<span class="go"> Not Gamma :</span>
<span class="go">&#39;1&#39;: in =&gt; {&#39;6&#39;, &#39;2&#39;, &#39;3&#39;}, out =&gt; {&#39;2&#39;}</span>
<span class="go">&#39;2&#39;: in =&gt; {&#39;5&#39;, &#39;1&#39;, &#39;4&#39;}, out =&gt; {&#39;1&#39;, &#39;6&#39;, &#39;3&#39;}</span>
<span class="go">&#39;3&#39;: in =&gt; {&#39;5&#39;, &#39;6&#39;, &#39;2&#39;, &#39;4&#39;}, out =&gt; {&#39;5&#39;, &#39;7&#39;, &#39;1&#39;}</span>
<span class="go">&#39;4&#39;: in =&gt; {&#39;6&#39;}, out =&gt; {&#39;2&#39;, &#39;3&#39;}</span>
<span class="go">&#39;5&#39;: in =&gt; {&#39;7&#39;, &#39;6&#39;, &#39;3&#39;}, out =&gt; {&#39;7&#39;, &#39;6&#39;, &#39;2&#39;, &#39;3&#39;}</span>
<span class="go">&#39;6&#39;: in =&gt; {&#39;5&#39;, &#39;2&#39;}, out =&gt; {&#39;5&#39;, &#39;7&#39;, &#39;1&#39;, &#39;3&#39;, &#39;4&#39;}</span>
<span class="go">&#39;7&#39;: in =&gt; {&#39;5&#39;, &#39;6&#39;, &#39;3&#39;}, out =&gt; {&#39;5&#39;}</span>
</pre></div>
</div>
</dd>
</dl>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Notice that most Digraph class methods will ignore the reflexive couples by considering that the relation is indeterminate (the characteristic value <em>r(x S x)</em> for all action <em>x</em> is put to the median, i.e. indeterminate, value) in this case.</p>
</div>
<dl class="docutils">
<dt>We may have an even better insight into the <tt class="docutils literal"><span class="pre">Digraph</span></tt> object <em>dg</em> by looking at a <a class="reference external" href="http://graphviz.org/">graphviz</a> <a class="footnote-reference" href="#id7" id="id2">[1]</a> drawing:</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">dg</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">(</span><span class="s">&#39;tutRandValDigraph&#39;</span><span class="p">)</span>
<span class="go">*---- exporting a dot file dor GraphViz tools ---------*</span>
<span class="go">Exporting to tutRandValDigraph.dot</span>
<span class="go">dot -Grankdir=BT -Tpng tutRandValDigraph.dot -o tutRandValDigraph.png</span>
</pre></div>
</div>
</dd>
</dl>
<a class="reference internal image-reference" href="_images/tutRandValDigraph.png"><img alt="_images/tutRandValDigraph.png" class="align-center" src="_images/tutRandValDigraph.png" style="width: 300px;" /></a>
<dl class="docutils">
<dt>Double links are drawn in bold black with an arrowhead at each end, whereas single asymmetric links are drawn in black with an arrowhead showing the direction of the link. Notice the indeterminated relational situation (<em>r(6 S 2) = 0.00</em>) observed between nodes &#8216;6&#8217; and &#8216;2&#8217;. The corresponding link is marked in grey with an open arrowhead in the drawing. We may now extract both this symmetric as well as this asymetric part of digraph <em>dg</em> with the help of two corresponding constructors:</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">digraphs</span> <span class="kn">import</span> <span class="n">AsymmetricPartialDigraph</span><span class="p">,</span> <span class="n">SymmetricPartialDigraph</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">asymDg</span> <span class="o">=</span> <span class="n">AsymmetricPartialDigraph</span><span class="p">(</span><span class="n">dg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">asymDg</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">symDG</span> <span class="o">=</span> <span class="n">SymmetricPartialDigraph</span><span class="p">(</span><span class="n">dg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">symDg</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">()</span>
</pre></div>
</div>
</dd>
</dl>
<a class="reference internal image-reference" href="_images/asymSymParts.png"><img alt="_images/asymSymParts.png" class="align-center" src="_images/asymSymParts.png" style="width: 400px;" /></a>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Be aware that the partial objects <em>asymDg</em> and <em>symDg</em> put to the indeterminate characteristic value all not-asymmetric, respectively not-symmetric links between nodes.</p>
</div>
<dl class="docutils">
<dt>We may recover object <em>dg</em> from both partial objects <em>asymDg</em> and <em>symDg</em> with a <strong>bipolar fusion</strong> constructor, also called <strong>epistemic disjunction</strong>, available via the <tt class="docutils literal"><span class="pre">FusionDigraph</span></tt> class:</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">digraphs</span> <span class="kn">import</span> <span class="n">FusionDigraph</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fusDg</span> <span class="o">=</span> <span class="n">FusionDigraph</span><span class="p">(</span><span class="n">asymDg</span><span class="p">,</span><span class="n">symDg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fusDg</span><span class="o">.</span><span class="n">showRelationTable</span><span class="p">()</span>
<span class="go">* ---- Relation Table -----</span>
<span class="go">r(xSy) |  &#39;1&#39;    &#39;2&#39;   &#39;3&#39;  &#39;4&#39;   &#39;5&#39;    &#39;6&#39;  &#39;7&#39;</span>
<span class="go">-------|------------------------------------------------------------</span>
<span class="go">&#39;1&#39;    |  0.00 -0.48  0.70  0.86  0.30  0.38  0.44</span>
<span class="go">&#39;2&#39;    | -0.22  0.00 -0.38  0.50  0.80 -0.54  0.02</span>
<span class="go">&#39;3&#39;    | -0.42  0.08  0.00  0.70 -0.56  0.84 -1.00</span>
<span class="go">&#39;4&#39;    |  0.44 -0.40 -0.62  0.00  0.04  0.66  0.76</span>
<span class="go">&#39;5&#39;    |  0.32 -0.48 -0.46  0.64  0.00 -0.22 -0.52</span>
<span class="go">&#39;6&#39;    | -0.84  0.00 -0.40 -0.96 -0.18  0.00 -0.22</span>
<span class="go">&#39;7&#39;    |  0.88  0.72  0.82  0.52 -0.84  0.04  0.00</span>
</pre></div>
</div>
</dd>
<dt>We may as readily compute the <strong>dual</strong>, the <strong>converse</strong> and the <strong>codual</strong> (dual and converse) of dg:</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">digraphs</span> <span class="kn">import</span> <span class="n">DualDigraph</span><span class="p">,</span> <span class="n">ConverseDigraph</span><span class="p">,</span> <span class="n">CoDualDigraph</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ddg</span> <span class="o">=</span> <span class="n">DualDigraph</span><span class="p">(</span><span class="n">dg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ddg</span><span class="o">.</span><span class="n">showRelationTable</span><span class="p">()</span>
<span class="go">-r(xSy) |  &#39;1&#39;    &#39;2&#39;   &#39;3&#39;  &#39;4&#39;   &#39;5&#39;    &#39;6&#39;  &#39;7&#39;</span>
<span class="go">--------|------------------------------------------</span>
<span class="go">&#39;1 &#39;    |  0.00  0.48 -0.70 -0.86 -0.30 -0.38 -0.44</span>
<span class="go">&#39;2&#39;     |  0.22  0.00  0.38 -0.50  0.80  0.54 -0.02</span>
<span class="go">&#39;3&#39;     |  0.42  0.08  0.00 -0.70  0.56 -0.84  1.00</span>
<span class="go">&#39;4&#39;     | -0.44  0.40  0.62  0.00 -0.04 -0.66 -0.76</span>
<span class="go">&#39;5&#39;     | -0.32  0.48  0.46 -0.64  0.00  0.22  0.52</span>
<span class="go">&#39;6&#39;     |  0.84  0.00  0.40  0.96  0.18  0.00  0.22</span>
<span class="go">&#39;7&#39;     |  0.88 -0.72 -0.82 -0.52  0.84 -0.04  0.00</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cdg</span> <span class="o">=</span> <span class="n">ConverseDigraph</span><span class="p">(</span><span class="n">dg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cdg</span><span class="o">.</span><span class="n">showRelationTable</span><span class="p">()</span>
<span class="go">* ---- Relation Table -----</span>
<span class="go"> r(ySx) |  &#39;1&#39;    &#39;2&#39;   &#39;3&#39;   &#39;4&#39;   &#39;5&#39;   &#39;6&#39;   &#39;7&#39;</span>
<span class="go">--------|------------------------------------------</span>
<span class="go">&#39;1&#39;     |  0.00 -0.22 -0.42  0.44  0.32 -0.84  0.88</span>
<span class="go">&#39;2&#39;     | -0.48  0.00  0.08 -0.40 -0.48  0.00  0.72</span>
<span class="go">&#39;3&#39;     |  0.70 -0.38  0.00 -0.62 -0.46 -0.40  0.82</span>
<span class="go">&#39;4&#39;     |  0.86  0.50  0.70  0.00  0.64 -0.96  0.52</span>
<span class="go">&#39;5&#39;     |  0.30  0.80 -0.56  0.04  0.00 -0.18 -0.84</span>
<span class="go">&#39;6&#39;     |  0.38 -0.54  0.84  0.66 -0.22  0.00  0.04</span>
<span class="go">&#39;7&#39;     |  0.44  0.02 -1.00  0.76 -0.52 -0.22  0.00</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cddg</span> <span class="o">=</span> <span class="n">CoDualDigraph</span><span class="p">(</span><span class="n">dg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cddg</span><span class="o">.</span><span class="n">showRelationTable</span><span class="p">()</span>
<span class="go">* ---- Relation Table -----</span>
<span class="go">-r(ySx) |  &#39;1&#39;    &#39;2&#39;   &#39;3&#39;   &#39;4&#39;   &#39;5&#39;   &#39;6&#39;   &#39;7&#39;</span>
<span class="go">--------|------------------------------------------------------------</span>
<span class="go">&#39;1&#39;     |  0.00  0.22  0.42 -0.44 -0.32  0.84 -0.88</span>
<span class="go">&#39;2&#39;     |  0.48  0.00 -0.08  0.40  0.48  0.00 -0.72</span>
<span class="go">&#39;3&#39;     | -0.70  0.38  0.00  0.62  0.46  0.40 -0.82</span>
<span class="go">&#39;4&#39;     | -0.86 -0.50 -0.70  0.00 -0.64  0.96 -0.52</span>
<span class="go">&#39;5&#39;     | -0.30 -0.80  0.56 -0.04  0.00  0.18  0.84</span>
<span class="go">&#39;6&#39;     | -0.38  0.54 -0.84 -0.66  0.22  0.00 -0.04</span>
<span class="go">&#39;7&#39;     | -0.44 -0.02  1.00 -0.76  0.52  0.22  0.00</span>
</pre></div>
</div>
</dd>
<dt>Computing the dual, respectively the converse, may also be done with prefixing the <tt class="docutils literal"><span class="pre">__neg__</span> <span class="pre">(-)</span></tt> or the <tt class="docutils literal"><span class="pre">__invert__</span></tt> (~) operator. The codual of a Digraph object may, hence, as well be computed with a <strong>composition</strong> (in either order) of both operations:</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">ddg</span> <span class="o">=</span> <span class="o">-</span><span class="n">dg</span>   <span class="c"># dual of dg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cdg</span> <span class="o">=</span> <span class="o">~</span><span class="n">dg</span>   <span class="c"># converse of dg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cddg</span> <span class="o">=</span> <span class="o">-</span><span class="p">(</span><span class="o">~</span><span class="n">dg</span><span class="p">)</span> <span class="o">=</span> <span class="o">~</span><span class="p">(</span><span class="o">-</span><span class="n">dg</span><span class="p">)</span>  <span class="c"># codual of dg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cddg</span><span class="o">.</span><span class="n">showRelationTable</span><span class="p">()</span>
<span class="go">* ---- Relation Table -----</span>
<span class="go">-r(ySx) |  &#39;1&#39;    &#39;2&#39;   &#39;3&#39;   &#39;4&#39;   &#39;5&#39;   &#39;6&#39;   &#39;7&#39;</span>
<span class="go">--------|------------------------------------------------------------</span>
<span class="go">&#39;1&#39;     |  0.00  0.22  0.42 -0.44 -0.32  0.84 -0.88</span>
<span class="go">&#39;2&#39;     |  0.48  0.00 -0.08  0.40  0.48  0.00 -0.72</span>
<span class="go">&#39;3&#39;     | -0.70  0.38  0.00  0.62  0.46  0.40 -0.82</span>
<span class="go">&#39;4&#39;     | -0.86 -0.50 -0.70  0.00 -0.64  0.96 -0.52</span>
<span class="go">&#39;5&#39;     | -0.30 -0.80  0.56 -0.04  0.00  0.18  0.84</span>
<span class="go">&#39;6&#39;     | -0.38  0.54 -0.84 -0.66  0.22  0.00 -0.04</span>
<span class="go">&#39;7&#39;     | -0.44 -0.02  1.00 -0.76  0.52  0.22  0.00</span>
</pre></div>
</div>
</dd>
<dt>Symmetric and transtive closure in site constructors are also available, Note that it is a good idea,before going ahead with these in-site operations that irreversibly modify the original dg object, to previously make a backup version of <em>dg</em> :</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">dg</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s">&#39;tutRandValDigraph&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dg</span><span class="o">.</span><span class="n">closeSymmetric</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dg</span><span class="o">.</span><span class="n">closeTransitive</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dg</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">(</span><span class="s">&#39;strongComponents&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
<a class="reference internal image-reference" href="_images/strongComponents.png"><img alt="_images/strongComponents.png" class="align-center" src="_images/strongComponents.png" style="width: 200px;" /></a>
<dl class="docutils">
<dt>As the original digraph <em>dg</em> was connected (see above the result of the <tt class="docutils literal"><span class="pre">dg.showShort()</span></tt> command), both to the symmetric and transitive closures together, will necessarily produce a single strong commponent, i.e. a complete digraph. We may sometimes wish to collapse all strong components in a given digraph and construct the so reduced digraph. Using <tt class="docutils literal"><span class="pre">StrongComponentsCollapsedDigraph</span></tt> constructor here will render a single hyper-node gathering all the original nodes :</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">digraphs</span> <span class="kn">import</span> <span class="n">StrongComponentsCollapsedDigraph</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span> <span class="o">=</span> <span class="n">StrongComponentsCollapsedDigraph</span><span class="p">(</span><span class="n">dg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span><span class="o">.</span><span class="n">showAll</span><span class="p">()</span>
<span class="go">*----- show detail -----*</span>
<span class="go">Digraph          : tutRandValDigraph_Scc</span>
<span class="go">*---- Actions ----*</span>
<span class="go">[&#39;_7_1_2_6_5_3_4_&#39;]</span>
<span class="go">* ---- Relation Table -----</span>
<span class="go">  S     |  &#39;Scc_1&#39;</span>
<span class="go"> -------|---------</span>
<span class="go">&#39;Scc_1&#39; |  0.00</span>
<span class="go">short        content</span>
<span class="go">Scc_1        _7_1_2_6_5_3_4_</span>
<span class="go">Neighborhoods:</span>
<span class="go">  Gamma     :</span>
<span class="go">&#39;frozenset({&#39;7&#39;, &#39;1&#39;, &#39;2&#39;, &#39;6&#39;, &#39;5&#39;, &#39;3&#39;, &#39;4&#39;})&#39;: in =&gt; set(), out =&gt; set()</span>
<span class="go">  Not Gamma :</span>
<span class="go">&#39;frozenset({&#39;7&#39;, &#39;1&#39;, &#39;2&#39;, &#39;6&#39;, &#39;5&#39;, &#39;3&#39;, &#39;4&#39;})&#39;: in =&gt; set(), out =&gt; set()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">...</span>
</pre></div>
</div>
</dd>
</dl>
<p>Back to <a class="reference internal" href="#tutorial-label"><em>Content</em></a></p>
</div>
<div class="section" id="working-with-the-graphs-module">
<span id="graphs-tutorial-label"></span><h2>Working with the <tt class="code docutils literal"><span class="pre">graphs</span></tt> module<a class="headerlink" href="#working-with-the-graphs-module" title="Permalink to this headline">¶</a></h2>
<p>In this Digraph3 module, the main <tt class="code docutils literal"><span class="pre">Graph</span></tt> class provides a generic <strong>simple graph model</strong>, without loops and multiple links. A given object of this root class consists in:</p>
<ol class="arabic simple">
<li>the graph <strong>vertices</strong> : a dictionary of vertices with &#8216;name&#8217; and &#8216;shortname&#8217; attributes,</li>
<li>the graph <strong>valuationDomain</strong> , a dictionary with three entries: the minimum (-1, means certainly no link), the median (0, means missing information) and the maximum characteristic value (+1, means certainly a link),</li>
<li>the graph <strong>edges</strong> : a dictionary with frozensets of pairs of vertices as entries carrying a characteristic value in the range of the previous valuation domain,</li>
<li>and its associated <strong>gamma function</strong> : a dictionary containing the direct neighbors of each vertice, automatically added by the object constructor.</li>
</ol>
<p>See the technical documentation of the <a class="reference internal" href="techDoc.html#graphs-label"><em>graphs module</em></a>.</p>
<dl class="docutils">
<dt>Example Python3 session:</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">graphs</span> <span class="kn">import</span> <span class="n">Graph</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">Graph</span><span class="p">(</span><span class="n">numberOfVertices</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span><span class="n">edgeProbability</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">showShort</span><span class="p">()</span>
<span class="go">*----- show short --------------*</span>
<span class="go">Name             : &#39;randomGraph&#39;</span>
<span class="go">Vertices         :  [&#39;v1&#39;, &#39;v2&#39;, &#39;v3&#39;, &#39;v4&#39;, &#39;v5&#39;, &#39;v6&#39;, &#39;v7&#39;]</span>
<span class="go">Valuation domain :  {&#39;med&#39;: 0, &#39;max&#39;: 1, &#39;min&#39;: -1}</span>
<span class="go">Gamma function   :</span>
<span class="go">v1 -&gt; [&#39;v5&#39;]</span>
<span class="go">v2 -&gt; [&#39;v4&#39;, &#39;v6&#39;, &#39;v3&#39;]</span>
<span class="go">v3 -&gt; [&#39;v2&#39;]</span>
<span class="go">v4 -&gt; [&#39;v5&#39;, &#39;v2&#39;, &#39;v7&#39;]</span>
<span class="go">v5 -&gt; [&#39;v4&#39;, &#39;v6&#39;, &#39;v1&#39;]</span>
<span class="go">v6 -&gt; [&#39;v5&#39;, &#39;v2&#39;]</span>
<span class="go">v7 -&gt; [&#39;v4&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">fileName</span><span class="o">=</span><span class="s">&#39;tutorialGraph&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
<p>The saved Graph instance named <tt class="code docutils literal"><span class="pre">tutorialGraph.py</span></tt> is encoded in python3 as follows:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># Graph instance saved in Python format</span>
<span class="n">vertices</span> <span class="o">=</span> <span class="p">{</span>
<span class="s">&#39;v1&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;shortName&#39;</span><span class="p">:</span> <span class="s">&#39;v1&#39;</span><span class="p">,</span> <span class="s">&#39;name&#39;</span><span class="p">:</span> <span class="s">&#39;random vertex&#39;</span><span class="p">},</span>
<span class="s">&#39;v2&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;shortName&#39;</span><span class="p">:</span> <span class="s">&#39;v2&#39;</span><span class="p">,</span> <span class="s">&#39;name&#39;</span><span class="p">:</span> <span class="s">&#39;random vertex&#39;</span><span class="p">},</span>
<span class="s">&#39;v3&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;shortName&#39;</span><span class="p">:</span> <span class="s">&#39;v3&#39;</span><span class="p">,</span> <span class="s">&#39;name&#39;</span><span class="p">:</span> <span class="s">&#39;random vertex&#39;</span><span class="p">},</span>
<span class="s">&#39;v4&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;shortName&#39;</span><span class="p">:</span> <span class="s">&#39;v4&#39;</span><span class="p">,</span> <span class="s">&#39;name&#39;</span><span class="p">:</span> <span class="s">&#39;random vertex&#39;</span><span class="p">},</span>
<span class="s">&#39;v5&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;shortName&#39;</span><span class="p">:</span> <span class="s">&#39;v5&#39;</span><span class="p">,</span> <span class="s">&#39;name&#39;</span><span class="p">:</span> <span class="s">&#39;random vertex&#39;</span><span class="p">},</span>
<span class="s">&#39;v6&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;shortName&#39;</span><span class="p">:</span> <span class="s">&#39;v6&#39;</span><span class="p">,</span> <span class="s">&#39;name&#39;</span><span class="p">:</span> <span class="s">&#39;random vertex&#39;</span><span class="p">},</span>
<span class="s">&#39;v7&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;shortName&#39;</span><span class="p">:</span> <span class="s">&#39;v7&#39;</span><span class="p">,</span> <span class="s">&#39;name&#39;</span><span class="p">:</span> <span class="s">&#39;random vertex&#39;</span><span class="p">},</span>
<span class="p">}</span>
<span class="n">valuationDomain</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;min&#39;</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="s">&#39;med&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="s">&#39;max&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">}</span>
<span class="n">edges</span> <span class="o">=</span> <span class="p">{</span>
<span class="nb">frozenset</span><span class="p">([</span><span class="s">&#39;v1&#39;</span><span class="p">,</span><span class="s">&#39;v2&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
<span class="nb">frozenset</span><span class="p">([</span><span class="s">&#39;v1&#39;</span><span class="p">,</span><span class="s">&#39;v3&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
<span class="nb">frozenset</span><span class="p">([</span><span class="s">&#39;v1&#39;</span><span class="p">,</span><span class="s">&#39;v4&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
<span class="nb">frozenset</span><span class="p">([</span><span class="s">&#39;v1&#39;</span><span class="p">,</span><span class="s">&#39;v5&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="nb">frozenset</span><span class="p">([</span><span class="s">&#39;v1&#39;</span><span class="p">,</span><span class="s">&#39;v6&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
<span class="nb">frozenset</span><span class="p">([</span><span class="s">&#39;v1&#39;</span><span class="p">,</span><span class="s">&#39;v7&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
<span class="nb">frozenset</span><span class="p">([</span><span class="s">&#39;v2&#39;</span><span class="p">,</span><span class="s">&#39;v3&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="nb">frozenset</span><span class="p">([</span><span class="s">&#39;v2&#39;</span><span class="p">,</span><span class="s">&#39;v4&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="nb">frozenset</span><span class="p">([</span><span class="s">&#39;v2&#39;</span><span class="p">,</span><span class="s">&#39;v5&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
<span class="nb">frozenset</span><span class="p">([</span><span class="s">&#39;v2&#39;</span><span class="p">,</span><span class="s">&#39;v6&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="nb">frozenset</span><span class="p">([</span><span class="s">&#39;v2&#39;</span><span class="p">,</span><span class="s">&#39;v7&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
<span class="nb">frozenset</span><span class="p">([</span><span class="s">&#39;v3&#39;</span><span class="p">,</span><span class="s">&#39;v4&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
<span class="nb">frozenset</span><span class="p">([</span><span class="s">&#39;v3&#39;</span><span class="p">,</span><span class="s">&#39;v5&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
<span class="nb">frozenset</span><span class="p">([</span><span class="s">&#39;v3&#39;</span><span class="p">,</span><span class="s">&#39;v6&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
<span class="nb">frozenset</span><span class="p">([</span><span class="s">&#39;v3&#39;</span><span class="p">,</span><span class="s">&#39;v7&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
<span class="nb">frozenset</span><span class="p">([</span><span class="s">&#39;v4&#39;</span><span class="p">,</span><span class="s">&#39;v5&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="nb">frozenset</span><span class="p">([</span><span class="s">&#39;v4&#39;</span><span class="p">,</span><span class="s">&#39;v6&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
<span class="nb">frozenset</span><span class="p">([</span><span class="s">&#39;v4&#39;</span><span class="p">,</span><span class="s">&#39;v7&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="nb">frozenset</span><span class="p">([</span><span class="s">&#39;v5&#39;</span><span class="p">,</span><span class="s">&#39;v6&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="nb">frozenset</span><span class="p">([</span><span class="s">&#39;v5&#39;</span><span class="p">,</span><span class="s">&#39;v7&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
<span class="nb">frozenset</span><span class="p">([</span><span class="s">&#39;v6&#39;</span><span class="p">,</span><span class="s">&#39;v7&#39;</span><span class="p">])</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>The stored graph can be recalled and plotted with the generic <tt class="code docutils literal"><span class="pre">exportGraphViz</span></tt> <a class="footnote-reference" href="#id7" id="id3">[1]</a> method as follows:</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">Graph</span><span class="p">(</span><span class="s">&#39;tutorialGraph&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">()</span>
<span class="go">*---- exporting a dot file dor GraphViz tools ---------*</span>
<span class="go">Exporting to tutorialGraph.dot</span>
<span class="go">fdp -Tpng tutorialGraph.dot -o tutorialGraph.png</span>
</pre></div>
</div>
</dd>
</dl>
<a class="reference internal image-reference" href="_images/tutorialGraph.png"><img alt="_images/tutorialGraph.png" class="align-center" src="_images/tutorialGraph.png" style="width: 400px;" /></a>
<dl class="docutils">
<dt>Chordless cycles may be enumerated in the given graph like follows:</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">Graph</span><span class="p">(</span><span class="s">&#39;tutorialGraph&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">computeChordlessCycles</span><span class="p">()</span>
<span class="go">Chordless cycle certificate --&gt;&gt;&gt;  [&#39;v5&#39;, &#39;v4&#39;, &#39;v2&#39;, &#39;v6&#39;, &#39;v5&#39;]</span>
<span class="go">[([&#39;v5&#39;, &#39;v4&#39;, &#39;v2&#39;, &#39;v6&#39;, &#39;v5&#39;], frozenset({&#39;v5&#39;, &#39;v4&#39;, &#39;v2&#39;, &#39;v6&#39;}))]</span>
</pre></div>
</div>
</dd>
<dt>And, a 3-coloring of the tutorial graph may be computed and plotted as follows:</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">Graph</span><span class="p">(</span><span class="s">&#39;tutorialGrah&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qc</span> <span class="o">=</span> <span class="n">Q_Coloring</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">Running a Gibbs Sampler for 42 step !</span>
<span class="go">The q-coloring with 3 colors is feasible !!</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qc</span><span class="o">.</span><span class="n">showConfiguration</span><span class="p">()</span>
<span class="go">v5 lightblue</span>
<span class="go">v3 gold</span>
<span class="go">v7 gold</span>
<span class="go">v2 lightblue</span>
<span class="go">v4 lightcoral</span>
<span class="go">v1 gold</span>
<span class="go">v6 lightcoral</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qc</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">(</span><span class="s">&#39;tutorial-3-coloring&#39;</span><span class="p">)</span>
<span class="go">*---- exporting a dot file for GraphViz tools ---------*</span>
<span class="go">Exporting to tutorial-3-coloring.dot</span>
<span class="go">fdp -Tpng tutorial-3-coloring.dot -o tutorial-3-coloring.png</span>
</pre></div>
</div>
</dd>
</dl>
<a class="reference internal image-reference" href="_images/tutorial-3-coloring.png"><img alt="_images/tutorial-3-coloring.png" class="align-center" src="_images/tutorial-3-coloring.png" style="width: 400px;" /></a>
<dl class="docutils">
<dt>Actually, with the given tutorial graph instance, a 2-coloring is already feasible:</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">qc</span> <span class="o">=</span> <span class="n">Q_Coloring</span><span class="p">(</span><span class="n">g</span><span class="p">,</span><span class="n">colors</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;gold&#39;</span><span class="p">,</span><span class="s">&#39;coral&#39;</span><span class="p">])</span>
<span class="go">Running a Gibbs Sampler for 42 step !</span>
<span class="go">The q-coloring with 2 colors is feasible !!</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qc</span><span class="o">.</span><span class="n">showConfiguration</span><span class="p">()</span>
<span class="go">v5 gold</span>
<span class="go">v3 coral</span>
<span class="go">v7 gold</span>
<span class="go">v2 gold</span>
<span class="go">v4 coral</span>
<span class="go">v1 coral</span>
<span class="go">v6 coral</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qc</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">(</span><span class="s">&#39;tutorial-2-coloring&#39;</span><span class="p">)</span>
<span class="go">*---- exporting a dot file for GraphViz tools ---------*</span>
<span class="go">Exporting to tutorial-2-coloring.dot</span>
<span class="go">fdp -Tpng tutorial-2-coloring.dot -o tutorial-2-coloring.png</span>
</pre></div>
</div>
</dd>
</dl>
<a class="reference internal image-reference" href="_images/tutorial-2-coloring.png"><img alt="_images/tutorial-2-coloring.png" class="align-center" src="_images/tutorial-2-coloring.png" style="width: 400px;" /></a>
<dl class="docutils">
<dt>2-colorings define independent sets of vertices that are maximal in cardinality; for short called a <strong>MIS</strong>. Computing such MISs in a given <tt class="code docutils literal"><span class="pre">Graph</span></tt> instance may be achieved by converting the <tt class="code docutils literal"><span class="pre">Graph</span></tt> instance into a <tt class="code docutils literal"><span class="pre">Digraph</span></tt> instance. Here a <tt class="code docutils literal"><span class="pre">self.showMIS()</span></tt> method is proposed:</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">Graph</span><span class="p">(</span><span class="s">&#39;tutorialGrah&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dg</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">graph2Digraph</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dg</span><span class="o">.</span><span class="n">showMIS</span><span class="p">()</span>
<span class="go">*---  Maximal independent choices ---*</span>
<span class="go">[&#39;v5&#39;, &#39;v3&#39;, &#39;v7&#39;]</span>
<span class="go">[&#39;v5&#39;, &#39;v7&#39;, &#39;v2&#39;]</span>
<span class="go">[&#39;v6&#39;, &#39;v3&#39;, &#39;v4&#39;, &#39;v1&#39;]</span>
<span class="go">[&#39;v6&#39;, &#39;v3&#39;, &#39;v7&#39;, &#39;v1&#39;]</span>
<span class="go">[&#39;v7&#39;, &#39;v2&#39;, &#39;v1&#39;]</span>
<span class="go">number of solutions:  5</span>
<span class="go">cardinality distribution</span>
<span class="go">card.:  [0, 1, 2, 3, 4, 5, 6, 7]</span>
<span class="go">freq.:  [0, 0, 0, 3, 2, 0, 0, 0]</span>
<span class="go">execution time: 0.00050 sec.</span>
<span class="go">Results in self.misset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dg</span><span class="o">.</span><span class="n">misset</span>
<span class="go">{frozenset({&#39;v6&#39;, &#39;v3&#39;, &#39;v7&#39;, &#39;v1&#39;}),</span>
<span class="go"> frozenset({&#39;v5&#39;, &#39;v7&#39;, &#39;v2&#39;}),</span>
<span class="go"> frozenset({&#39;v6&#39;, &#39;v3&#39;, &#39;v4&#39;, &#39;v1&#39;}),</span>
<span class="go"> frozenset({&#39;v7&#39;, &#39;v2&#39;, &#39;v1&#39;}),</span>
<span class="go"> frozenset({&#39;v5&#39;, &#39;v3&#39;, &#39;v7&#39;})}</span>
</pre></div>
</div>
</dd>
<dt>Special classes of graphs, like <em>n</em> x <em>m</em> <strong>rectangular</strong> or <strong>triangular grids</strong> are available in the <tt class="code docutils literal"><span class="pre">graphs</span></tt> module. For instance, we may use a Gibbs sampler again for simulating an <strong>Ising Model</strong> on such a grid:</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">graphs</span> <span class="kn">import</span> <span class="n">GridGraph</span><span class="o">.</span> <span class="n">IsingModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">GridGraph</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span><span class="n">m</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">showShort</span><span class="p">()</span>
<span class="go">*----- show short --------------*</span>
<span class="go">Grid graph    :  grid-6-6</span>
<span class="go">n             :  6</span>
<span class="go">m             :  6</span>
<span class="go">order         :  36</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">im</span> <span class="o">=</span> <span class="n">IsingModel</span><span class="p">(</span><span class="n">g</span><span class="p">,</span><span class="n">beta</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span><span class="n">nSim</span><span class="o">=</span><span class="mi">100000</span><span class="p">,</span><span class="n">Debug</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">Running a Gibbs Sampler for 100000 step !</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">im</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">(</span><span class="n">colors</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;lightblue&#39;</span><span class="p">,</span><span class="s">&#39;lightcoral&#39;</span><span class="p">])</span>
<span class="go">*---- exporting a dot file for GraphViz tools ---------*</span>
<span class="go">Exporting to grid-15-15-ising.dot</span>
<span class="go">fdp -Tpng grid-15-15-ising.dot -o grid-15-15-ising.png</span>
</pre></div>
</div>
</dd>
</dl>
<a class="reference internal image-reference" href="_images/grid-15-15-ising.png"><img alt="_images/grid-15-15-ising.png" class="align-center" src="_images/grid-15-15-ising.png" style="width: 600px;" /></a>
<dl class="docutils">
<dt>Finally, we provide a specialisation of the <tt class="code docutils literal"><span class="pre">Graph</span></tt> class for implementing a generic <strong>Metropolis MCMC</strong> (Monte Carlo Markov Chain) sampler for simulating random walks on a given graph following a given probability  <tt class="code docutils literal"><span class="pre">probs</span> <span class="pre">=</span> <span class="pre">{‘v1’:</span> <span class="pre">x,</span> <span class="pre">‘v2’:</span> <span class="pre">y,</span> <span class="pre">...}</span></tt> for visiting each vertice.</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">graphs</span> <span class="kn">import</span> <span class="n">MetropolisChain</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">Graph</span><span class="p">(</span><span class="n">numberOfVertices</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">edgeProbability</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">showShort</span><span class="p">()</span>
<span class="go">*---- short description of the graph ----*</span>
<span class="go">Name             : &#39;randomGraph&#39;</span>
<span class="go">Vertices         :  [&#39;v1&#39;, &#39;v2&#39;, &#39;v3&#39;, &#39;v4&#39;, &#39;v5&#39;]</span>
<span class="go">Valuation domain :  {&#39;max&#39;: 1, &#39;med&#39;: 0, &#39;min&#39;: -1}</span>
<span class="go">Gamma function   :</span>
<span class="go">v1 -&gt; [&#39;v2&#39;, &#39;v3&#39;, &#39;v4&#39;]</span>
<span class="go">v2 -&gt; [&#39;v1&#39;, &#39;v4&#39;]</span>
<span class="go">v3 -&gt; [&#39;v5&#39;, &#39;v1&#39;]</span>
<span class="go">v4 -&gt; [&#39;v2&#39;, &#39;v5&#39;, &#39;v1&#39;]</span>
<span class="go">v5 -&gt; [&#39;v3&#39;, &#39;v4&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">probs</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c"># initialise a potential stationary probability vector</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">order</span> <span class="c"># for instance: probs[v_i] = n-i/Sum(1:n) for i in 1:n</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verticesList</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">g</span><span class="o">.</span><span class="n">vertices</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verticesList</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">verticesList</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">probs</span><span class="p">[</span><span class="n">v</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="n">i</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">n</span><span class="o">*</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">met</span> <span class="o">=</span> <span class="n">MetropolisChain</span><span class="p">(</span><span class="n">g</span><span class="p">,</span><span class="n">probs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">frequency</span> <span class="o">=</span> <span class="n">met</span><span class="o">.</span><span class="n">checkSampling</span><span class="p">(</span><span class="n">verticesList</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">nSim</span><span class="o">=</span><span class="mi">30000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">verticesList</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">print</span><span class="p">(</span><span class="n">v</span><span class="p">,</span><span class="n">probs</span><span class="p">[</span><span class="n">v</span><span class="p">],</span><span class="n">frequency</span><span class="p">[</span><span class="n">v</span><span class="p">])</span>
<span class="go">v1 0.3333 0.3343</span>
<span class="go">v2 0.2666 0.2680</span>
<span class="go">v3 0.2    0.2030</span>
<span class="go">v4 0.1333 0.1311</span>
<span class="go">v5 0.0666 0.0635</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">met</span><span class="o">.</span><span class="n">showTransitionMatrix</span><span class="p">()</span>
<span class="go">* ---- Transition Matrix -----</span>
<span class="go">  Pij  | &#39;v1&#39;    &#39;v2&#39;    &#39;v3&#39;    &#39;v4&#39;    &#39;v5&#39;</span>
<span class="go">  -----|-------------------------------------</span>
<span class="go">  &#39;v1&#39; |  0.23   0.33    0.30    0.13    0.00</span>
<span class="go">  &#39;v2&#39; |  0.42   0.42    0.00    0.17    0.00</span>
<span class="go">  &#39;v3&#39; |  0.50   0.00    0.33    0.00    0.17</span>
<span class="go">  &#39;v4&#39; |  0.33   0.33    0.00    0.08    0.25</span>
<span class="go">  &#39;v5&#39; |  0.00   0.00    0.50    0.50    0.00</span>
</pre></div>
</div>
</dd>
</dl>
<p>The <tt class="docutils literal"><span class="pre">checkSampling()</span></tt> method generates a randomwalk of <em>nSim=30000</em> steps on the given graph and records by the way the observed relative frequency with which each vertice is passed by. In this exmaple, the stationary transition probability distribution, shown by the <tt class="docutils literal"><span class="pre">showTransitionMatrix()</span></tt> method above, is quite adequately simulated.</p>
<p>For more technical information and more code examples, look into the technical documentation of the <a class="reference internal" href="techDoc.html#graphs-label"><em>graphs module</em></a>. For the readers interested in algorithmic applications of Markov Chains we may may recommend consulting O. Häggström&#8217;s 2002 book: <a class="reference internal" href="#fmcaa" id="id4">[FMCAA]</a>.</p>
<p>Back to <a class="reference internal" href="#tutorial-label"><em>Content</em></a></p>
</div>
<div class="section" id="computing-the-winner-of-an-election">
<span id="linearvoting-label"></span><h2>Computing the winner of an election<a class="headerlink" href="#computing-the-winner-of-an-election" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="techDoc.html#votingdigraphs-label"><em>votingDigraphs module</em></a> provides resources for handling election results <a class="reference internal" href="#adt-l2" id="id5">[ADT-L2]</a>, like the <tt class="docutils literal"><span class="pre">LinearVotingProfile</span></tt> class. We consider an election involving a finite set of candidates and finite set of weighted voters, who express their voting preferences in a complete linear ranking (without ties) of the candidates. The data is internally stored as two Python dicttionaries, one for the candidates and another one for the linear ballots:</p>
<div class="highlight-python"><div class="highlight"><pre>candidates = {&#39;a&#39;: ,&#39;b&#39;:  ,&#39;c&#39;, ..., ...}
voters = {&#39;1&#39;:{&#39;weight&#39;:1.0},&#39;2&#39;:{&#39;weight&#39;:1.0}, ...}
## each voter specifies a linearly ranked list of candidates
## from the best to the worst (without ties
linearBallot = {
&#39;1&#39; : [&#39;b&#39;,&#39;c&#39;,&#39;a&#39;, ...],
&#39;2&#39; : [&#39;a&#39;,&#39;b&#39;,&#39;c&#39;, ...],
...
}
</pre></div>
</div>
<dl class="docutils">
<dt>The module provides a class for generating random instances of the <tt class="docutils literal"><span class="pre">LinearVotingProfile</span></tt> class. In an interactive Python session we may obtain for the election of 3 candidates by 5 voters the following result:</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">votingDigraphs</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="n">RandomLinearVotingProfile</span><span class="p">(</span><span class="n">numberOfVoters</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">numberOfCandidates</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">candidates</span>
<span class="go">{&#39;a2&#39;: {&#39;name&#39;: &#39;a2&#39;}, &#39;a3&#39;: {&#39;name&#39;: &#39;a3&#39;}, &#39;a1&#39;: {&#39;name&#39;: &#39;a1&#39;}}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">voters</span>
<span class="go">{&#39;v4&#39;: {&#39;weight&#39;: 1.0}, &#39;v3&#39;: {&#39;weight&#39;: 1.0},</span>
<span class="go"> &#39;v1&#39;: {&#39;weight&#39;: 1.0}, &#39;v5&#39;: {&#39;weight&#39;: 1.0},</span>
<span class="go"> &#39;v2&#39;: {&#39;weight&#39;: 1.0}}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">linearBallot</span>
<span class="go">{&#39;v4&#39;: [&#39;a1&#39;, &#39;a3&#39;, &#39;a2&#39;], &#39;v3&#39;: [&#39;a1&#39;, &#39;a3&#39;, &#39;a2&#39;], &#39;v1&#39;: [&#39;a1&#39;, &#39;a2&#39;, &#39;a3&#39;],</span>
<span class="go"> &#39;v5&#39;: [&#39;a2&#39;, &#39;a3&#39;, &#39;a1&#39;], &#39;v2&#39;: [&#39;a3&#39;, &#39;a2&#39;, &#39;a1&#39;]}</span>
<span class="go"> &gt;&gt;&gt; ...</span>
</pre></div>
</div>
</dd>
<dt>Notice that in this example, all voters are considered to be equi-significant. Their linear ballots can be viewd with the <tt class="docutils literal"><span class="pre">showLinearBallots</span></tt> method:</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">showLinearBallots</span><span class="p">()</span>
<span class="go">voters(weight)       candidates rankings</span>
<span class="go">v4(1.0):     [&#39;a1&#39;, &#39;a2&#39;, &#39;a3&#39;]</span>
<span class="go">v3(1.0):     [&#39;a1&#39;, &#39;a3&#39;, &#39;a2&#39;]</span>
<span class="go">v1(1.0):     [&#39;a2&#39;, &#39;a1&#39;, &#39;a3&#39;]</span>
<span class="go">v5(1.0):     [&#39;a3&#39;, &#39;a1&#39;, &#39;a2&#39;]</span>
<span class="go">v2(1.0):     [&#39;a3&#39;, &#39;a1&#39;, &#39;a2&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">...</span>
</pre></div>
</div>
</dd>
<dt>Editing of the linear voting profile may be acheived by storing the data in a file, edit it, and reload it again:</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s">&#39;tutorialLinearVotingProfile&#39;</span><span class="p">)</span>
<span class="go">*--- Saving linear profile in file: &lt;tutorialLinearVotingProfile.py&gt; ---*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="n">LinearVotingProfile</span><span class="p">(</span><span class="s">&#39;tutorialLinearVotingProfile&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
<dt>We may easily compute <strong>uninominal votes</strong>, ie how many times a candidate was ranked first, and who is consequently the <strong>simple majority</strong> winner(s) in this election.</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">computeUninominalVotes</span><span class="p">()</span>
<span class="go">{&#39;a2&#39;: 1.0, &#39;a1&#39;: 2.0, &#39;a3&#39;: 2.0}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">computeSimpleMajorityWinner</span><span class="p">()</span>
<span class="go">[&#39;a1&#39;,&#39;a3&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">...</span>
</pre></div>
</div>
</dd>
<dt>As we observe no absolute majority (3/5) for any candidate, we may compute, for instance the <strong>instant runoff</strong> winner instead:</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">computeInstantRunoffWinner</span><span class="p">()</span>
<span class="go">[&#39;a1&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">...</span>
</pre></div>
</div>
</dd>
<dt>We may also follow the Chevalier Borda&#8217;s advice and, after a <strong>rank analysis</strong> of the linear ballots, compute the <strong>Borda score</strong> of each candidate and hence determine the <strong>Borda winner(s)</strong>:</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">computeRankAnalysis</span><span class="p">()</span>
<span class="go">{&#39;a2&#39;: [1.0, 1.0, 3.0], &#39;a1&#39;: [2.0, 3.0, 0], &#39;a3&#39;: [2.0, 1.0, 2.0]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">computeBordaScores</span><span class="p">()</span>
<span class="go">{&#39;a2&#39;: 12.0, &#39;a1&#39;: 8.0, &#39;a3&#39;: 10.0}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">computeBordaWinners</span><span class="p">()</span>
<span class="go">[&#39;a1&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">...</span>
</pre></div>
</div>
</dd>
<dt>In our randomly generated election results, we are lucky. The instant runoff winner and the Borda winner determine, both, candidate <em>a1</em>. However, we could also follow the Marquis de Condorcet&#8217;s advice, and compute the <strong>majority margins</strong> obtained by voting for each individual pair of candidates. For instance, candidate <em>a1</em> is ranked four times before and once behind candidate <em>a2</em>. Hence the majority margin <em>M(a1,a2)</em> is 4 - 1 = +3. These majority margins define on the set of candidates what we call the <strong>Condorcet digraph</strong>, a specialization of the <tt class="docutils literal"><span class="pre">Digraph</span></tt> class for handing such pairwise majority margins:</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">cdg</span> <span class="o">=</span> <span class="n">CondorcetDigraph</span><span class="p">(</span><span class="n">v</span><span class="p">,</span><span class="n">hasIntegerValuation</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cdg</span><span class="o">.</span><span class="n">showAll</span><span class="p">()</span>
<span class="go">*----- show detail -------------*</span>
<span class="go">Digraph          : rel_randLinearProfile</span>
<span class="go">*---- Actions ----*</span>
<span class="go">[&#39;a1&#39;, &#39;a2&#39;, &#39;a3&#39;]</span>
<span class="go">*---- Characteristic valuation domain ----*</span>
<span class="go">{&#39;hasIntegerValuation&#39;: True,</span>
<span class="go">&#39;max&#39;: Decimal(&#39;5.0&#39;),</span>
<span class="go">&#39;min&#39;: Decimal(&#39;-5.0&#39;),</span>
<span class="go">&#39;med&#39;: Decimal(&#39;0&#39;)}</span>
<span class="go">* ---- Relation Table ----</span>
<span class="go"> M(x,y) |  &#39;a1&#39; &#39;a2&#39; &#39;a3&#39;</span>
<span class="go"> -------|-----------------</span>
<span class="go">   &#39;a1&#39; |   -    3    1</span>
<span class="go">   &#39;a2&#39; |  -3    -   -1</span>
<span class="go">   &#39;a3&#39; |  -1    1    -</span>
</pre></div>
</div>
</dd>
<dt>A candidate <em>x</em>, showing a positive majority margin <em>M(x,y)</em>, is beating candidate <em>y</em>  with an absolute majority in a pairwise voting. Hence, a candidate showing only positive terms in her row in the Condorcet digraph relation table, beats all other candidates with absolute majority of votes. Condorcet recommended to declare this candidate (is always unique, why?) the winner of the election. Here we are lucky, it is again candidate <em>a1</em> who is hence the <strong>Condorcet winner</strong>:</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">cdg</span><span class="o">.</span><span class="n">computeCondorcetWinner</span><span class="p">()</span>
<span class="go">[&#39;a1&#39;]</span>
</pre></div>
</div>
</dd>
<dt>By seeing the majority margins like a bipolarly-valued characteristic function for a global preference relation defined on the set of canditates, we may use all operational resources of the generic <tt class="docutils literal"><span class="pre">Digraph</span></tt> class (see <a class="reference internal" href="#digraphs-tutorial-label"><em>Working with the digraphs module</em></a>), and especially its <tt class="docutils literal"><span class="pre">exportGraphViz</span></tt> method <a class="footnote-reference" href="#id7" id="id6">[1]</a>, for visualizing an election result:</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">cdg</span><span class="o">.</span><span class="n">exportGraphViz</span><span class="p">(</span><span class="s">&#39;tutorialLinearBallots&#39;</span><span class="p">)</span>
<span class="go">*---- exporting a dot file dor GraphViz tools ---------*</span>
<span class="go">Exporting to tutorialLinearBallots.dot</span>
<span class="go">dot -Grankdir=BT -Tpng tutorialLinearBallots.dot -o tutorialLinearBallots.png</span>
</pre></div>
</div>
</dd>
</dl>
<a class="reference internal image-reference" href="_images/tutorialLinearBallots.png"><img alt="_images/tutorialLinearBallots.png" class="align-center" src="_images/tutorialLinearBallots.png" style="width: 300px;" /></a>
<p>Many more tools for exploiting voting results are available, see the thechnical documentation of the <a class="reference internal" href="techDoc.html#votingdigraphs-label"><em>votingDigraphs module</em></a>.</p>
</div>
<div class="section" id="documents-indices-and-tables">
<h2>Documents, indices and tables<a class="headerlink" href="#documents-indices-and-tables" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="index.html">Introduction</a></li>
<li><a class="reference external" href="techDoc.html">Reference manual</a></li>
<li><a class="reference external" href="tutorial.html">Tutorial</a></li>
<li><a class="reference internal" href="genindex.html"><em>Index</em></a></li>
<li><a class="reference internal" href="py-modindex.html"><em>Module Index</em></a></li>
<li><a class="reference internal" href="search.html"><em>Search Page</em></a></li>
</ul>
</div>
<div class="section" id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<table class="docutils citation" frame="void" id="fmcaa" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id4">[FMCAA]</a></td><td>Häggström, Olle <em>Finite Markov Chians and Algorithmic Applications</em>. Cambridge University Press 2002.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="adt-l2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id5">[ADT-L2]</a></td><td>Bisdorff, Raymond <em>Who wins the election</em>. MICS Algorithmic Decision Theory course, Lecture 2. FSTC/ILIAS University of Luxembourg, Summer Semester 2014 ( <a class="reference external" href="_static/adtVoting-2x2.pdf">downloadable here</a> )</td></tr>
</tbody>
</table>
</div>
<div class="section" id="footnotes">
<h2>Footnotes<a class="headerlink" href="#footnotes" title="Permalink to this headline">¶</a></h2>
<table class="docutils footnote" frame="void" id="id7" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[1]</td><td><em>(<a class="fn-backref" href="#id2">1</a>, <a class="fn-backref" href="#id3">2</a>, <a class="fn-backref" href="#id6">3</a>)</em> The <tt class="docutils literal"><span class="pre">exportGraphViz</span></tt> method is depending on drawing tools from <a class="reference external" href="http://graphviz.org/">graphviz</a>. On Linux Ubuntu or Debian you may try <tt class="docutils literal"><span class="pre">sudo</span> <span class="pre">apt-get</span> <span class="pre">install</span> <span class="pre">graphviz</span></tt> to install them. There are ready <tt class="docutils literal"><span class="pre">dmg</span></tt> installers for Mac OS.</td></tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Tutorial of the Digraph3 resources</a><ul>
<li><a class="reference internal" href="#content">Content</a></li>
<li><a class="reference internal" href="#downloading-and-using-the-digraph3-modules">Downloading and using the Digraph3 modules</a></li>
<li><a class="reference internal" href="#working-with-the-digraphs-module">Working with the <tt class="code docutils literal"><span class="pre">digraphs</span></tt> module</a></li>
<li><a class="reference internal" href="#tools-for-manipulating-digraph-objects">Tools for manipulating Digraph objects</a></li>
<li><a class="reference internal" href="#working-with-the-graphs-module">Working with the <tt class="code docutils literal"><span class="pre">graphs</span></tt> module</a></li>
<li><a class="reference internal" href="#computing-the-winner-of-an-election">Computing the winner of an election</a></li>
<li><a class="reference internal" href="#documents-indices-and-tables">Documents, indices and tables</a></li>
<li><a class="reference internal" href="#references">References</a></li>
<li><a class="reference internal" href="#footnotes">Footnotes</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Documentation of the Digraph3 resources</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="techDoc.html"
                        title="next chapter">Technical Reference of the Digraph3 modules</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/tutorial.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="techDoc.html" title="Technical Reference of the Digraph3 modules"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Documentation of the Digraph3 resources"
             >previous</a> |</li>
        <li><a href="index.html">Digraph3 3.4-769 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012-2014, Raymond Bisdorff.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>